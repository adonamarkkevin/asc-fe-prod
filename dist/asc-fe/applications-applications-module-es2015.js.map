{"version":3,"sources":["./src/app/modules/pages/applications/schedule-of-fees/special-applications/special-applications.component.ts","./src/app/modules/pages/applications/schedule-of-fees/special-applications/special-applications.component.html","./src/app/core/models/multiple-application.model.ts","./src/app/core/models/comment.model.ts","./src/app/modules/pages/applications/preview-attachments/preview-attachments.component.ts","./src/app/modules/pages/applications/preview-attachments/preview-attachments.component.html","./src/app/modules/pages/applications/preview-application/preview-application.component.ts","./src/app/modules/pages/applications/preview-application/preview-application.component.html","./src/app/modules/pages/applications/schedule-of-fees/multiple-applications/modal-multiple-applications/modal-multiple-applications.component.ts","./src/app/modules/pages/applications/schedule-of-fees/multiple-applications/modal-multiple-applications/modal-multiple-applications.component.html","./src/app/modules/pages/applications/reassignment/reassignment.component.ts","./src/app/modules/pages/applications/reassignment/reassignment.component.html","./src/app/modules/pages/applications/applications.module.ts","./src/app/modules/fragments/update-multiple-application/update-multiple-application.component.ts","./src/app/modules/fragments/update-multiple-application/update-multiple-application.component.html","./src/app/modules/pages/company/company-routing.module.ts","./src/app/modules/pages/company/add-company/add-company-routing.module.ts","./src/app/modules/pages/applications/schedule-of-fees/single-application/single-application.component.ts","./src/app/modules/pages/applications/schedule-of-fees/single-application/single-application.component.html","./src/app/modules/pages/applications/schedule-of-fees/multiple-applications/multiple-applications.component.ts","./src/app/modules/pages/applications/schedule-of-fees/multiple-applications/multiple-applications.component.html","./src/app/modules/pages/applications/schedule-of-fees/special-applications/modal-special-applications/modal-special-applications.component.ts","./src/app/modules/pages/applications/schedule-of-fees/special-applications/modal-special-applications/modal-special-applications.component.html","./src/app/core/models/media-models/mulstimedia-static.const.ts","./src/app/modules/pages/accounting/index.ts","./src/app/modules/pages/applications/applications-routing.module.ts","./src/app/modules/pages/applications/s2-application/add-s2-application/add-s2-application.component.ts","./src/app/modules/pages/applications/s2-application/add-s2-application/add-s2-application.component.html","./src/app/modules/pages/applications/attachment-document/attachment-document.component.ts","./src/app/modules/pages/applications/attachment-document/attachment-document.component.html","./src/app/modules/pages/accounting/upload-payment/upload-payment.component.ts","./src/app/modules/pages/accounting/upload-payment/upload-payment.component.html","./src/app/modules/fragments/s1-form-type/s1-form-type.component.ts","./src/app/modules/fragments/s1-form-type/s1-form-type.component.html","./src/app/modules/pages/applications/reassignment/reassignment-routing.module.ts","./src/app/modules/pages/applications/comment/comment.component.ts","./src/app/modules/pages/applications/comment/comment.component.html","./src/app/core/models/comments.model.ts","./src/app/modules/pages/company/add-company/add-company.module.ts","./src/app/modules/pages/applications/s2-application/list-s2-application/list-s2-application.component.ts","./src/app/modules/pages/applications/s2-application/list-s2-application/list-s2-application.component.html","./src/app/modules/pages/applications/client-information/client-information.component.ts","./src/app/modules/pages/applications/client-information/client-information.component.html","./src/app/core/models/media-models/multimedia-moving.const.ts","./src/app/modules/pages/applications/index.ts","./src/app/modules/pages/applications/s1-application/add-s1-application/add-s1-application.component.ts","./src/app/modules/pages/applications/s1-application/add-s1-application/add-s1-application.component.html","./src/app/modules/fragments/update-special-application/update-special-application.component.ts","./src/app/modules/fragments/update-special-application/update-special-application.component.html","./src/app/modules/pages/applications/s1-application/list-s1-application/list-s1-application.component.ts","./src/app/modules/pages/applications/s1-application/list-s1-application/list-s1-application.component.html","./src/app/modules/pages/applications/s1-application/list-s1-application/list-s1-dialog.html","./src/app/modules/pages/maintenance/index.ts","./src/app/modules/pages/company/company.module.ts","./src/app/core/models/copy-claims.model.ts","./src/app/modules/pages/applications/material-information/material-information.component.ts","./src/app/modules/pages/applications/material-information/material-information.component.html","./src/app/modules/pages/applications/performance-metrics/performance-metrics.component.ts","./src/app/modules/pages/applications/performance-metrics/performance-metrics.component.html","./src/app/modules/pages/applications/reassignment/reassignment.module.ts","./src/app/modules/pages/company/index.ts"],"names":[],"mappings":"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","file":"applications-applications-module-es2015.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport { ModalSpecialApplicationsComponent } from './modal-special-applications/modal-special-applications.component';\r\n\r\n\r\n@Component({\r\n  selector: 'app-special-applications',\r\n  templateUrl: './special-applications.component.html',\r\n  styleUrls: ['./special-applications.component.scss']\r\n})\r\nexport class SpecialApplicationsComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<Object>;\r\n\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['referenceCode', 'typeOfApplication', 'brand', 'medium', 'applicantCompanyName', 'paymentStatus'];\r\n  paymentList = [];\r\n\r\n  currentUser: any;\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dialog: MatDialog,\r\n    private dataStorage: DataStorageService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getS2PaymentList();\r\n  }\r\n\r\n  getS2PaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.scheduleOfFeesS2Special).subscribe((res: any) => {\r\n      this.paymentList = res;\r\n\r\n      this.dataSource = new MatTableDataSource<any>(this.paymentList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    });\r\n  }\r\n\r\n  openModal(res) {\r\n\r\n    const dialogRef = this.dialog.open(ModalSpecialApplicationsComponent, {\r\n      width: '60%',\r\n      height: '85%',\r\n      data: res\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.ngOnInit();\r\n    });\r\n\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <mat-icon>view_list</mat-icon> Special Clearing - For Payment\r\n        </mat-label>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <br>\r\n    <div class=\"col-md-12\" fxLayout fxLayoutAlign=\"center center\">\r\n      <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n        <input matInput type=\"text\" placeholder=\"Company Name\">\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"mat-elevation-z8 fields\">\r\n      <table mat-table [dataSource]=\"dataSource\" matSort>\r\n        <ng-container matColumnDef=\"referenceCode\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\"> {{element?.applicationForm?.referenceCode | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"typeOfApplication\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.applicationType.description | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"brand\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.brand.description | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"medium\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> MEDIUM</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.typeOfMedium | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"applicantCompanyName\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICANT COMPANY NAME</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.company.companyName | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"paymentStatus\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> PAYMENT STATUS</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.paymentStatus?.replaceAll('_',' ') | uppercase}}</td>\r\n        </ng-container>\r\n\r\n\r\n\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n      </table>\r\n      <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n        No record found.\r\n      </div>\r\n      <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n    </div>\r\n    <br>\r\n  </div>\r\n</form>\r\n","import { Company } from './company.model';\r\nimport { Brand } from './brand.model';\r\nimport { ApplicationType } from './application-type.model';\r\nimport { UserAccount } from './user-account.model';\r\nimport { Product } from './product.model';\r\nimport { Category } from '@models';\r\n\r\nexport class MultipleApplication {\r\n    id: number;\r\n    actionBy: string;\r\n    actionDate: Date;\r\n    adTitle: string;\r\n    applicationOwner: UserAccount;\r\n    applicationType: ApplicationType;\r\n    brand: Brand;\r\n    company: Company;\r\n    dateOfSubmission: Date;\r\n    numberOfApplication: number;\r\n    status: string;\r\n    tagLine: string;\r\n\r\n    actionStatus: string;\r\n    submissionStatus: string;\r\n    assignedAdSpecialist: UserAccount;\r\n    assignedEncoder: UserAccount;\r\n    assignedScreener: UserAccount;\r\n    assignedReviewer: UserAccount;\r\n    actualNumberOfApplicationForm: number;\r\n    countVerifiedApplicationForm: number;\r\n\r\n    totalAmount: number;\r\n    paymentStatus: string;\r\n\r\n    product: Product;\r\n\r\n}\r\n\r\nexport class MultipleApplicationId {\r\n  id: number;\r\n}\r\n\r\n","import { S2Application } from './s2-application.model';\r\nimport { UserAccount } from './user-account.model';\r\n\r\nexport class Comment {\r\n    id: number;\r\n    comment: string;\r\n    revisionNo: number;\r\n    actionBy: UserAccount;\r\n    role: string;\r\n    actionDate: Date;\r\n    commentType: string; // INTERNAL, EXTERNAL, EMAIL, REJECT\r\n    applicationFormType: string; // S1, S2\r\n    appFormReference: string;\r\n    applicationFormS2: S2Application;\r\n    // modifiedBy: string;\r\n    // modifiedDate: Date;\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { MatPaginator } from \"@angular/material/paginator\";\r\nimport { MatSort } from \"@angular/material/sort\";\r\nimport { MatTable, MatTableDataSource } from \"@angular/material/table\";\r\n\r\n@Component({\r\n  selector: \"app-preview-attachments\",\r\n  templateUrl: \"./preview-attachments.component.html\",\r\n  styleUrls: [\"./preview-attachments.component.scss\"],\r\n})\r\nexport class PreviewAttachmentsComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<object>;\r\n  @Input() previewAttachmentsList = [];\r\n  @Input() dataSource: MatTableDataSource<object>;\r\n  @Input() displayedColumns = \"\";\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngAfterViewInit(): void {\r\n    console.log(this.dataSource);\r\n    if (this.dataSource) {\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    }\r\n  }\r\n\r\n  viewFormOrMaterial(attachmentUrl) {\r\n    if (attachmentUrl) {\r\n      window.open(attachmentUrl);\r\n    }\r\n  }\r\n}\r\n","<div class=\"mat-elevation-z8\">\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n\r\n        <ng-container matColumnDef=\"decisionFormFilename\">\r\n            <th mat-header-cell *matHeaderCellDef> Decision Form Filename </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.decisionFormFilename }} </td>\r\n        </ng-container>\r\n\r\n        <!-- VIEW ICON START -->\r\n        <ng-container matColumnDef=\"viewDecisionFormIcon\">\r\n            <th mat-header-cell *matHeaderCellDef> View Decision Form </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                <span class=\"material-icons\" *ngIf=\"element?.decisionFormFileURL\" matTooltip=\"View Decision Form\"\r\n                    (click)=\"viewFormOrMaterial(element?.decisionFormFileURL)\">open_in_new</span>\r\n            </td>\r\n        </ng-container>\r\n        <!-- VIEW ICON END -->\r\n\r\n        <ng-container matColumnDef=\"stampMaterialFilename\">\r\n            <th mat-header-cell *matHeaderCellDef> Stamp Material Filename </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.stampMaterialFilename }} </td>\r\n        </ng-container>\r\n\r\n        <!-- VIEW ICON START -->\r\n        <ng-container matColumnDef=\"viewStampMaterialIcon\">\r\n            <th mat-header-cell *matHeaderCellDef> View Stamp Material </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                <span class=\"material-icons\" *ngIf=\"element?.stampMaterialFileURL\" matTooltip=\"View Stamp Material\"\r\n                    (click)=\"viewFormOrMaterial(element?.stampMaterialFileURL)\">open_in_new</span>\r\n            </td>\r\n        </ng-container>\r\n        <!-- VIEW ICON END -->\r\n\r\n        <ng-container matColumnDef=\"clearanceToaFilename\">\r\n            <th mat-header-cell *matHeaderCellDef> Clearance TOA Filename </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.clearanceToaFilename }} </td>\r\n        </ng-container>\r\n\r\n        <!-- VIEW ICON START -->\r\n        <ng-container matColumnDef=\"viewClearanceToaIcon\">\r\n            <th mat-header-cell *matHeaderCellDef> View Clearance TOA </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                <span class=\"material-icons\" *ngIf=\"element?.clearanceToaFileUrl\" matTooltip=\"View Clearance TOA\"\r\n                    (click)=\"viewFormOrMaterial(element?.clearanceToaFileUrl)\">open_in_new</span>\r\n            </td>\r\n        </ng-container>\r\n        <!-- VIEW ICON END -->\r\n\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n    <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n        No record found.\r\n    </div>\r\n    <mat-paginator [pageSizeOptions]=\"[10, 20, 30]\" showFirstLastButtons></mat-paginator>\r\n\r\n</div>","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { S1Application } from '@models';\r\nimport { ApiService } from '@services';\r\nimport { APP_DECISION_STATUS, ATTACHMENT_TYPE, SUBMISSION_TYPE } from '@shared';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { ApplicationSingleMedia } from '../../../../core/models/application-single-media.model';\r\nimport { AttachmentDocumentComponent } from '../attachment-document/attachment-document.component';\r\n\r\n@Component({\r\n  selector: 'app-preview-application',\r\n  templateUrl: './preview-application.component.html',\r\n  styleUrls: ['./preview-application.component.scss']\r\n})\r\nexport class PreviewApplicationComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  dataSource: MatTableDataSource<any>;\r\n  displayedColumns: string[] = ['typeOfDocument', 'variant', 'expiresOn', 'basedOn', 'remarks'];\r\n  @ViewChild(AttachmentDocumentComponent, { static: false }) materialAttachmentDocument: AttachmentDocumentComponent\r\n    ;\r\n\r\n  @Input() previewS1Application: any;// = new S1Application();\r\n  attachmentDocuments = [];\r\n  @Input() originalAttachmentDocuments = [];\r\n  @Input() revisionAttachmentDocuments = [];\r\n  @Input() complianceAttachmentDocuments = [];\r\n  @Input() applicationSingleMedia = new ApplicationSingleMedia();\r\n  @Input() revisionLetterAttachment: any;\r\n  @Input() multimediaDTO: any = {};\r\n\r\n  supportiveDocumentList = [];\r\n  multimediaMovingList = [];\r\n  multimediaStaticList = [];\r\n\r\n  constructor(\r\n    private apiService: ApiService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // console.log('Preview..', this.previewS1Application);\r\n  }\r\n\r\n\r\n  viewDocument(typeOfDocument) {\r\n    if (this.previewS1Application.submissionType === SUBMISSION_TYPE.ORIGINAL) {\r\n      this.attachmentDocuments = this.originalAttachmentDocuments;\r\n    } else if (this.previewS1Application.submissionType === SUBMISSION_TYPE.REVISION) {\r\n      this.attachmentDocuments = this.revisionLetterAttachment;\r\n    } else if (this.previewS1Application.submissionType === SUBMISSION_TYPE.COMPLIANCE\r\n      || this.previewS1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE) {\r\n      this.attachmentDocuments = this.complianceAttachmentDocuments;\r\n    }\r\n\r\n    if (typeOfDocument === ATTACHMENT_TYPE.MAIN) {\r\n      const mainDoc = this.attachmentDocuments.filter(res => res.attachmentType === ATTACHMENT_TYPE.MAIN)[0];\r\n      window.open(this.attachmentDocuments[0].fileURL);\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n      const supportiveDoc = this.attachmentDocuments.filter(res => res.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE)[0];\r\n      window.open(supportiveDoc.fileURL);\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n      // this.attachmentDocuments.filter(res => res.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER)[0];\r\n      const revisionLetterDoc = this.revisionLetterAttachment;\r\n      window.open(revisionLetterDoc.fileURL);\r\n    }\r\n  }\r\n\r\n}\r\n","<!--  -->\r\n<div class=\"row fields\">\r\n  <h4>\r\n    <i class=\"material-icons\">preview</i> &nbsp;<b>CLIENT'S INFORMATION</b>\r\n    <hr>\r\n  </h4>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Company Name</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.company?.companyName\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Membership Affiliation</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.company?.membersAffiliation?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\"></div>\r\n  </div>\r\n\r\n  <div class=\"row\"><br></div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Brand</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.brand?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Product</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.product?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.product?.category?.description\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <br><br><br>\r\n</div>\r\n\r\n<!--  -->\r\n<div class=\"row fields\">\r\n  <h4>\r\n    <i class=\"material-icons\">preview</i> &nbsp;<b>MATERIAL INFORMATION</b>\r\n    <hr>\r\n  </h4>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\" appearance=\"outline\">\r\n      <mat-label>Ad Title</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.adTitle\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\"><br></div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Reference Code of Previously-Approved Material</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.previousRefCode\" disabled>\r\n    </div>\r\n    <div class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Tag line</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.tagLine\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"previewS1Application?.refTypeOfMedium\">\r\n    <div class=\"col-md-12\">\r\n      <hr>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" *ngIf=\"previewS1Application?.refTypeOfMedium\">\r\n    <div class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Media Type</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.refTypeOfMedium\" disabled>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\"><br></div>\r\n  <div class=\"row\" *ngIf=\"applicationSingleMedia\">\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.mediumExecution?.typeOfMedium?.description\">\r\n      <mat-label>Type of Medium</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.mediumExecution?.typeOfMedium?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.mediumExecution\">\r\n      <mat-label>Execution</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.mediumExecution?.typeOfExecution?.typeOfExecution\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.dialect\">\r\n      <mat-label>Language/Dialect</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.dialect?.dialect\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.others\">\r\n      <mat-label>Others</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.others\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.sizeLength\">\r\n      <mat-label>Size / Length</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.sizeLength\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.width\">\r\n      <mat-label>Width</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.width\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- TO BE DELETED ONCE VERIFIED -->\r\n  <!-- <div class=\"row\" *ngIf=\"multimediaMovingList?.length>0\">\r\n    <span *ngFor=\"let i of multimediaMovingList\">\r\n      <table>\r\n        <tr>\r\n          <td class=\"col-md-4\">\r\n            <mat-checkbox [checked]=\"true\" disabled>{{i?.typeOfMedium?.description}}</mat-checkbox>\r\n          </td>\r\n          <td class=\"col-md-1\">Length:</td>\r\n          <td class=\"col-md-2\">\r\n            <input matInput [value]=\"i?.multimediaSizeLength\" disabled>\r\n          </td>\r\n          <td class=\"col-md-5\"></td>\r\n        </tr>\r\n      </table>\r\n    </span>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"multimediaStaticList?.length>0\">\r\n    <span *ngFor=\"let i of multimediaStaticList\">\r\n      <table>\r\n        <tr>\r\n          <td class=\"col-md-4\">\r\n            <mat-checkbox [checked]=\"true\" disabled>{{i?.typeOfMedium?.description}}</mat-checkbox>\r\n          </td>\r\n          <td class=\"col-md-1\">Size</td>\r\n          <td class=\"col-md-2\">\r\n            <input matInput [value]=\"i?.multimediaSizeLength\" disabled>\r\n          </td>\r\n          <td class=\"col-md-5\"></td>\r\n        </tr>\r\n      </table>\r\n    </span>\r\n  </div> -->\r\n\r\n  <!-- New Multimedia List -->\r\n  <div class=\"row\" *ngIf=\"multimediaDTO\">\r\n    <table class=\"mx-3 mb-3\">\r\n      <ng-container *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC'\">\r\n        <ng-container *ngFor=\"let i of multimediaDTO.applicationMultimediaStaticList\">\r\n          <tr *ngIf=\"i?.hasSelected\" style=\"height: 30px;\">\r\n            <td class=\"col-md-4\">\r\n              <mat-checkbox [checked]=\"i?.hasSelected\" disabled>\r\n                {{i?.multimediaStaticMedium | uppercase}}\r\n              </mat-checkbox>\r\n            </td>\r\n            <td class=\"col-md-1\" \r\n              *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC' && i?.multimediaStaticMedium !== 'digital static'\">\r\n              Size\r\n            </td>\r\n            <td class=\"col-md-2\">\r\n              <input matInput \r\n                *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC' && i?.multimediaStaticMedium !== 'digital static'\" \r\n                [value]=\"i?.sizeLength\" disabled>\r\n            </td>\r\n            <td class=\"col-md-5\"></td>\r\n          </tr>\r\n        </ng-container>\r\n      </ng-container>\r\n\r\n      <ng-container *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING'\">\r\n        <ng-container *ngFor=\"let i of multimediaDTO.applicationMultimediaMovingList\" style=\"height: 30px;\">\r\n          <tr *ngIf=\"i?.hasSelected\">\r\n            <td class=\"col-md-4\">\r\n              <mat-checkbox [checked]=\"true\" disabled>\r\n                {{i?.multimediaMovingMedium | uppercase}}\r\n              </mat-checkbox>\r\n            </td>\r\n            <td class=\"col-md-1\" *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING'\">Length</td>\r\n            <td class=\"col-md-2\">\r\n              <input matInput *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING'\" [value]=\"multimediaDTO?.sizeLength\" disabled>\r\n            </td>\r\n            <td class=\"col-md-5\"></td>\r\n          </tr>\r\n        </ng-container>\r\n      </ng-container>\r\n    </table>\r\n  </div>\r\n\r\n  <app-attachment-document [s1Application]=\"previewS1Application\" [applicationStage]=\"'S1-Preview'\"\r\n  [isAscUser]=\"'true'\" [isDisableFieldOnUpdate]=\"'true'\"\r\n  [originalAttachmentDocuments]=\"originalAttachmentDocuments\" [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\" [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"></app-attachment-document>\r\n\r\n  <div class=\"row\" *ngIf=\"supportiveDocumentList.length>0\">\r\n    <div class=\"col-md-12\" appearance=\"outline\">\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"dataSource||supportiveDocumentList\" matSort>\r\n\r\n          <ng-container matColumnDef=\"typeOfDocument\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF DOCUMENT </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.typeOfDocument?.description }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"variant\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> VARIANT </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.variant==undefined ? 'N/A' : element?.variant }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"expiresOn\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> EXPIRES ON </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.expiresOn==undefined ? 'N/A' : element?.expiresOn | date:'yyyy-MM-dd' }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"basedOn\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> BASED ON </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.basedOn ==undefined ? 'N/A' : element?.basedOn | date:'yyyy-MM-dd' }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"remarks\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> REMARKS </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.remarks==undefined ? 'N/A' : element?.remarks }} </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n          *ngIf=\"supportiveDocumentList.length==0\">\r\n          No supporting document found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n      </div>\r\n      <div class=\"row\"><br></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!--  -->\r\n<div class=\"row fields\" *ngIf=\"previewS1Application.autoSubmit==true&&previewS1Application?.externalStatus!='SAVED'\">\r\n  <h4>\r\n    <i class=\"material-icons\">schedule_send</i> &nbsp;<b>AUTO-SUBMISSION DETAILS</b>\r\n    <hr>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Date</mat-label>\r\n        <input matInput [value]=\"previewS1Application.submissionDate\" disabled>\r\n      </div>\r\n      <!-- <div class=\"col-md-3\" appearance=\"outline\">\r\n        <mat-label>Time</mat-label>\r\n        <input matInput [value]=\"previewS1Application.autoSubmitTime+' AM'\" disabled>\r\n      </div> -->\r\n    </div>\r\n  </h4>\r\n</div>\r\n","import { Component, Inject, Input, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { AttachmentDocument, Payment, S1Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ATTACHMENT_TYPE, ENDPOINTS, ERROR_MESSAGES, PAYMENT_STATUS, SUBMISSION_TYPE, USER_ROLES } from '@shared';\r\nimport { ApplicationSingleMedia } from 'app/core/models/application-single-media.model';\r\nimport { MultipleApplication } from 'app/core/models/multiple-application.model';\r\nimport { FileStorageService } from 'app/core/services/file.storage.service';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport interface companyDetails {\r\n  referenceCode: string;\r\n  amount: number;\r\n}\r\n\r\nconst ELEMENT_DATA: companyDetails[] = [\r\n  { referenceCode: 'Company one ', amount: 3000, },\r\n  { referenceCode: 'Company two ', amount: 4000, },\r\n  { referenceCode: 'Company three ', amount: 5000, },\r\n  { referenceCode: 'Company two ', amount: 6000, },\r\n  { referenceCode: 'Company three ', amount: 7000, },\r\n];\r\n\r\n@Component({\r\n  selector: 'app-modal-multiple-applications',\r\n  templateUrl: './modal-multiple-applications.component.html',\r\n  styleUrls: ['./modal-multiple-applications.component.scss']\r\n})\r\nexport class ModalMultipleApplicationsComponent implements OnInit, OnDestroy {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<ModalMultipleApplicationsComponent>;\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['referenceCode', 'adTitle', 'mediumAndLength', 'amount'];\r\n  multipleApplicationList = [];\r\n\r\n  @Input() s1Application = new S1Application();\r\n  payment = new Payment();\r\n  safeURLProofOfPayment: any;\r\n  selectedFiles: any;\r\n  previewDocument = false;\r\n  attachmentDocument = new AttachmentDocument();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  currentUser: any;\r\n  attachmentDocuments = [];\r\n  isSubmitted = false;\r\n  paymentTypeList = [];\r\n  paymentType: any;\r\n  attachment: any;\r\n  multipleApplication = new MultipleApplication();\r\n  totalAmount: any;\r\n  paymentDetails: any;\r\n  isDisabled = false;\r\n  typeOfMediumDisplay = '';\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private apiService: ApiService,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    @Optional() public dialogRef: MatDialogRef<ModalMultipleApplicationsComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      this.multipleApplication = data;\r\n      if (this.multipleApplication.paymentStatus !== PAYMENT_STATUS.FOR_PAYMENT) {\r\n        this.isDisabled = true;\r\n      }\r\n      this.getPaymentDetails();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getMultipleApplicationList();\r\n    this.getPaymentList();\r\n  }\r\n\r\n  getPaymentDetails() {\r\n    this.apiService.findAll(ENDPOINTS.multiplePaymentDetails + this.multipleApplication.id).subscribe((res: any) => {\r\n      this.paymentDetails = res;\r\n    });\r\n  }\r\n\r\n\r\n  getMultipleApplicationList() {\r\n    this.apiService.findAll(ENDPOINTS.getMultipleAppFormsWithNoRejected + this.multipleApplication.id).subscribe((res: any) => {\r\n      this.multipleApplicationList = res.responseData.data;\r\n      console.log(this.multipleApplicationList);\r\n      // this.totalAmount = this.multipleApplicationList.map(mapped => mapped.amount).reduce((previousValue, currentValue) =>\r\n      //   previousValue + currentValue,\r\n      //   0);\r\n\r\n      this.multipleApplicationList.forEach((multipleApplication) => {\r\n        switch (multipleApplication?.refTypeOfMedium || multipleApplication?.applicationFormS2?.applicationForm?.refTypeOfMedium) {\r\n          case 'SINGLE MEDIA':\r\n            this.getApplicationSingleMedia(multipleApplication?.appFormReference);\r\n            break;\r\n          case 'MULTIMEDIA-MOVING':\r\n            this.getMultimediaMoving(multipleApplication?.appFormReference);\r\n            break;\r\n          case 'MULTIMEDIA-STATIC':\r\n            this.getMultimediaStatic(multipleApplication?.appFormReference);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n\r\n\r\n      this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n\r\n    }, (err: any) => {\r\n      err.error.message = ERROR_MESSAGES.under_maintenance;\r\n      this.sweetAlertService.error(err);\r\n    });\r\n  }\r\n\r\n  getPaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.paymentType).subscribe((res: any) => {\r\n      const currentUser = this.dataStorage.getUserAccount();\r\n      if (currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        const creditCardIndex = this.paymentTypeList\r\n          .findIndex((element) => element.paymentDescription === 'Credit Card');\r\n        this.paymentTypeList.splice(creditCardIndex, 1);\r\n      }\r\n      this.paymentTypeList = res.responseData.data;\r\n    });\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n\r\n        // env.showSpinner = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadDocument(multipleApplication) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this PROOF OF PAYMENT?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.PAYMENT + '&submissionType=' + SUBMISSION_TYPE.ORIGINAL;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n          .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            console.log(obj);\r\n            this.s1Application.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.amountDue = this.totalAmount;\r\n            this.payment.multipleApplication = multipleApplication;\r\n            this.payment.filename = obj.filename;\r\n            this.saveProofOfPayment();\r\n            this.selectedFiles = undefined;\r\n          }, (err: any) => {\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            // actions after subscription\r\n            this.dataStorage.setDisplayProgressbar(false);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  saveProofOfPayment() {\r\n    console.log('Saving payment...');\r\n    this.dataStorage.setDisplayProgressbar(true);\r\n    this.payment.paymentStatus = PAYMENT_STATUS.FOR_APPROVAL;\r\n    this.payment.id = 0;\r\n    this.payment.officialReceiptNo = '';\r\n    this.payment.paymentMethod = null;\r\n    this.payment.amountDue = this.multipleApplication.totalAmount;\r\n    console.log('PAYMENT : ', this.payment);\r\n    console.log(this.paymentType.id);\r\n\r\n\r\n    this.apiService.save(`${ENDPOINTS.applicationFormPresentor}payment-type-id/${this.paymentType.id}/payment-multiple/submit`, this.payment)\r\n      .subscribe((res: any) => {\r\n        console.log('SAVED STATUS: ', res.responseData.data);\r\n\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(res.responseData.data.fileURL);\r\n        this.isSubmitted = true;\r\n        this.sweetAlertService.customSuccessMessage('Proof of payment successfully submitted.');\r\n        this.closeModal();\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.sweetAlertService.error(err);\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      }, () => {\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      });\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.dialogRef.close();\r\n    this.router.navigate(['asc/page/application/multiple-applications']);\r\n  }\r\n  ngOnDestroy(): void {\r\n    // this.s1Application = null;\r\n  }\r\n\r\n  getApplicationSingleMedia(appFormReference = this.payment?.applicationForm?.appFormReference) {\r\n    if (this.payment?.applicationFormS2?.applicationForm?.refTypeOfMedium) {\r\n      appFormReference = this.payment?.applicationFormS2?.applicationForm?.appFormReference;\r\n    }\r\n    this.apiService.findByParam(ENDPOINTS.applicationSingleMedia,\r\n      `app-form-reference/${appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n\r\n            this.typeOfMediumDisplay = `${this.applicationSingleMedia?.mediumExecution?.typeOfMedium?.description} (${this.applicationSingleMedia?.sizeLength})`;\r\n            console.log('view applicationSingleMedia: ', this.typeOfMediumDisplay);\r\n\r\n            this.multipleApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleApplicationList[index] = {\r\n                  ...this.multipleApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaStatic(appFormReference = this.payment?.applicationForm?.appFormReference) {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleApplicationList.forEach((element, index) => {\r\n              console.log(element);\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleApplicationList[index] = {\r\n                  ...this.multipleApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaMoving(appFormReference = this.payment?.applicationForm?.appFormReference) {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleApplicationList.forEach((element, index) => {\r\n              console.log(element);\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleApplicationList[index] = {\r\n                  ...this.multipleApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n            <mat-label>\r\n                <mat-icon>view_list</mat-icon> Schedule of Fees - Multiple Applications\r\n            </mat-label>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <br>\r\n    <div class=\"row col-md-12\">\r\n        <div class=\"row col-md-6\">\r\n            <div>\r\n                <mat-label>Proof of Payment: &nbsp;&nbsp;&nbsp;<span>PDF file only!</span></mat-label><br>\r\n                <input class=\"file-upload\" type=\"file\" [(ngModel)]=\"attachment\" [ngModelOptions]=\"{standalone: true}\"\r\n                    accept=\".pdf\" (change)=\"selectFile($event)\" [disabled]=\"isDisabled\">\r\n            </div>\r\n            <div *ngIf=\"previewDocument===true && !isDisabled\">\r\n                <div class=\"file-upload\">\r\n                    <object [data]=\"safeURLProofOfPayment\" type=\"application/pdf\" width=\"100%\" height=\"500\">\r\n                        <iframe [src]=\"safeURLProofOfPayment\" width=\"100%\" height=\"500\">\r\n                            <p>This browser does not support PDF!</p>\r\n                        </iframe>\r\n                    </object>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row col-md-6\">\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>Advertiser</mat-label>\r\n            <input matInput name=\"companyName\" [value]=\"multipleApplication?.company?.companyName\" readonly>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>Vatable Sales</mat-label>\r\n            <input matInput class=\"numbers-input\" name=\"amount\" [value]=\"paymentDetails?.basicRate | number : '1.2-2'\" readonly>\r\n        </mat-form-field>\r\n\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>VAT</mat-label>\r\n            <input matInput class=\"numbers-input\" name=\"amount\" [value]=\"paymentDetails?.vat | number : '1.2-2'\" readonly>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>Total Sales (VAT Inclusive)</mat-label>\r\n            <input matInput class=\"numbers-input total\" name=\"amount\" [value]=\"paymentDetails?.amountDue | number : '1.2-2'\" readonly>\r\n        </mat-form-field>\r\n\r\n        <div>\r\n          <table mat-table [dataSource]=\"dataSource\" matSort>\r\n              <ng-container matColumnDef=\"referenceCode\">\r\n                  <th mat-header-cell *matHeaderCellDef> Reference Code </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\">{{element?.referenceCode}}</td>\r\n              </ng-container>\r\n              <ng-container matColumnDef=\"adTitle\">\r\n                  <th mat-header-cell *matHeaderCellDef> Ad Title </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\">{{element?.adTitle}}</td>\r\n              </ng-container>\r\n              <ng-container matColumnDef=\"mediumAndLength\">\r\n                <th mat-header-cell *matHeaderCellDef> Medium And Length</th>\r\n                <td mat-cell *matCellDef=\"let element; let i = index\">{{ element?.typeOfMediumDisplay }}</td>\r\n              </ng-container>\r\n              <ng-container matColumnDef=\"amount\">\r\n                  <th mat-header-cell *matHeaderCellDef> Amount</th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" class=\"numbers-input\">{{element?.amount | number : '1.2-2'}}</td>\r\n              </ng-container>\r\n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n          </table>\r\n          <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n              No record found.\r\n          </div>\r\n          <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n          <!-- <div class=\"grandTotal\">\r\n            <mat-label>TOTAL: &nbsp;&nbsp;&nbsp;<span>{{multipleApplication?.totalAmount | number : '1.2-2'}}</span></mat-label>\r\n          </div> -->\r\n        </div>\r\n\r\n        <div><br><hr><br></div>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Payment Mode</mat-label>\r\n                <mat-select [(ngModel)]=\"paymentType\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"multipleApplication?.paymentStatus !== 'FOR_PAYMENT'\">\r\n                    <mat-option *ngFor=\"let i of paymentTypeList\" [value]=\"i\" name=\"paymentType\">\r\n                        {{i?.paymentDescription | uppercase}}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Remarks</mat-label>\r\n                <textarea matInput name=\"remarks\" [(ngModel)]=\"payment.remarks\" [readonly]=\"multipleApplication?.paymentStatus !== 'FOR_PAYMENT'\"></textarea>\r\n            </mat-form-field>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\" *ngIf=\"!isDisabled || multipleApplication?.paymentStatus === undefined || multipleApplication?.totalAmount === 0\">\r\n        <div class=\"col-md-10\"><span *ngIf=\"multipleApplication && multipleApplication?.totalAmount === 0\">\r\n          <i>Please contact ASC admin to check the Maintenance of Fees.</i></span></div>\r\n        <div class=\"col-md-2\">\r\n            <button mat-raised-button class=\"button-red\" [disabled]=\"!paymentType || !previewDocument || multipleApplication?.totalAmount === 0\" (click)=\"uploadDocument(multipleApplication)\">\r\n                <i class=\"material-icons color__white\">task_alt</i> SUBMIT\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { FormListComponent } from '@fragments';\r\nimport { S1Application, S2Application } from '@models';\r\nimport { ApiService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS, USER_ROLES } from '@shared';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\n@Component({\r\n  selector: 'app-reassignment',\r\n  templateUrl: './reassignment.component.html',\r\n  styleUrls: ['./reassignment.component.scss']\r\n})\r\nexport class ReassignmentComponent implements OnInit {\r\n  @ViewChild(FormListComponent) formListComponent: FormListComponent;\r\n\r\n  // ojects\r\n  s1Application = new S1Application();\r\n  s2Application = new S2Application();\r\n\r\n  // lists\r\n  userList = [];\r\n\r\n  // for displayed list\r\n  // s1\r\n  s1ApplicationList = [];\r\n  s1ApplicationDataSource: MatTableDataSource<S1Application>;\r\n  s1ApplicationDisplayedColumns = [\r\n    'referenceCode',\r\n    'adTitle',\r\n    'applicationOwner',\r\n    'assignedEncoder',\r\n    'assignedAdSpecialist',\r\n    'assignedScreener',\r\n    'assignedReviewer',\r\n    'assignedUser',\r\n  ];\r\n\r\n  // s2\r\n  // TODO update when endpoint is available\r\n  s2ApplicationList = [];\r\n  s2ApplicationDataSource: MatTableDataSource<S2Application>;\r\n  s2ApplicationDisplayedColumns = [\r\n    'referenceCode',\r\n    'adTitle',\r\n    'applicationOwner',\r\n    'assignedEncoder',\r\n    'assignedAdSpecialist',\r\n    // 'assignedScreener',\r\n    // 'assignedReviewer',\r\n    'assignedUser',\r\n  ];\r\n\r\n  // form\r\n  s1ApplicationForm: FormGroup;\r\n\r\n  // others\r\n  applicationOwnerName = '';\r\n  displayedContent = 'S1';\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService,\r\n    private spinner: NgxSpinnerService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getS1ApplicationList();\r\n    this.setFormValidator();\r\n    this.getUserList();\r\n  }\r\n\r\n  getS1ApplicationList(applicationType = 'S1'): void {\r\n    this.spinner.show();\r\n    if (applicationType === 'S1') {\r\n      this.apiService.findAll(ENDPOINTS.admin).subscribe((res: any) => {\r\n        this.s1ApplicationList = res.responseData.data;\r\n        this.s1ApplicationList = this.s1ApplicationList.filter(filteredS1List => !filteredS1List.appliedS2);\r\n\r\n        this.s1ApplicationDataSource = new MatTableDataSource<S1Application>(this.s1ApplicationList);\r\n        this.s1ApplicationDataSource.paginator = this.formListComponent.paginator;\r\n        this.s1ApplicationDataSource.sort = this.formListComponent.sort;\r\n      }, (err) => {\r\n        console.error(err);\r\n        this.spinner.hide();\r\n      }, () => {\r\n        this.spinner.hide();\r\n      });\r\n    } else if (applicationType === 'S2') {\r\n      this.apiService.findAll(ENDPOINTS.s2Application).subscribe((res: any) => {\r\n        this.s2ApplicationList = res.responseData.data;\r\n\r\n        this.s2ApplicationDataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n        this.s2ApplicationDataSource.paginator = this.formListComponent.paginator;\r\n        this.s2ApplicationDataSource.sort = this.formListComponent.sort;\r\n      }, (err) => {\r\n        console.error(err);\r\n        this.spinner.hide();\r\n      }, () => {\r\n        this.spinner.hide();\r\n      });\r\n    }\r\n  }\r\n\r\n  getS1Application(): void {\r\n    this.apiService.findById(ENDPOINTS.applicationForm, this.formListComponent.idForUpdate).subscribe((res: any) => {\r\n      if (res) {\r\n        this.s1Application = res.responseData.data;\r\n        this.applicationOwnerName = this.s1Application.applicationOwner\r\n          ? this.s1Application.applicationOwner.lastName + ', ' + this.s1Application.applicationOwner.firstName\r\n          : '';\r\n        if (this.s1Application.assignedUser) {\r\n          this.getUserList(this.s1Application.assignedUser.userRole.name);\r\n        } else {\r\n          this.getUserList('N/A');\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  getS2Application(): void {\r\n    this.apiService.findById(ENDPOINTS.applicationFormS2, this.formListComponent.idForUpdate).subscribe((res: any) => {\r\n      if (res) {\r\n\r\n        this.s2Application = res.responseData.data;\r\n        if (this.s2Application.applicationForm) {\r\n          this.applicationOwnerName = this.s2Application.applicationForm.applicationOwner\r\n            ? this.s2Application.applicationForm.applicationOwner.lastName + ', '\r\n            + this.s2Application.applicationForm.applicationOwner.firstName\r\n            : '';\r\n        }\r\n        if (this.s2Application.assignedUser) {\r\n          this.getUserList(this.s2Application.assignedUser.userRole.name);\r\n        } else {\r\n          this.getUserList('N/A');\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  update(): void {\r\n    this.spinner.show();\r\n\r\n    let endpoint = '';\r\n    let currentObj: any;\r\n    if (this.displayedContent === 'S1') {\r\n      endpoint = ENDPOINTS.applicationReassignment\r\n      currentObj = this.s1Application;\r\n    } else if (this.displayedContent === 'S2') {\r\n      endpoint = ENDPOINTS.s2ApplicationReassignment;\r\n      // endpoint = ENDPOINTS.applicationFormS2;\r\n      if (this.s2Application.actionStatus === 'ASSIGN_TO_ENCODER') {\r\n        this.s2Application.assignedEncoder = this.s2Application.assignedUser;\r\n      } else if (this.s2Application.actionStatus === 'ASSIGN_TO_ADSPE') {\r\n        this.s2Application.assignedAdSpecialist = this.s2Application.assignedUser;\r\n      }\r\n\r\n      currentObj = this.s2Application;\r\n    }\r\n\r\n    this.apiService.save(endpoint, currentObj).subscribe(\r\n      (res: any) => {\r\n        if (res) {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.success(res);\r\n        }\r\n      }, (err: any) => {\r\n        this.spinner.hide();\r\n        this.sweetAlertService.error(err);\r\n      }, () => {\r\n        // actions after subscription\r\n        this.spinner.hide();\r\n        this.getUserList();\r\n        this.resetFormValidator();\r\n        if (this.displayedContent === 'S1') {\r\n          this.getS1ApplicationList();\r\n        } else if (this.displayedContent === 'S2') {\r\n          this.getS1ApplicationList('S2');\r\n        }\r\n      });\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.s1ApplicationForm = this.formBuilder.group({\r\n      referenceCode: [''],\r\n      adTitle: [''],\r\n      applicationOwner: [''],\r\n      assignedAdSpecialist: [''],\r\n      assignedEncoder: [''],\r\n      assignedReviewer: [''],\r\n      assignedScreener: [''],\r\n      assignedUser: [''],\r\n    });\r\n  }\r\n\r\n  resetFormValidator(): void {\r\n    this.s1Application = new S1Application();\r\n    this.s2Application = new S2Application();\r\n    this.s1ApplicationForm.markAsUntouched();\r\n    this.s1ApplicationForm.markAsPristine();\r\n  }\r\n\r\n\r\n  getUserList(userRole = '') {\r\n    this.apiService.findAll(ENDPOINTS.userAccount).subscribe(\r\n      (res: any) => {\r\n        this.userList = res.responseData.data;\r\n        this.userList = this.userList.filter(\r\n          filteredUsers => filteredUsers?.userRole?.name !== USER_ROLES.ROLE_APPLICANT);\r\n        if (userRole) {\r\n          this.userList = this.userList.filter(\r\n            filteredUsers => filteredUsers?.userRole?.name === userRole);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  compareAssignedUser(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.id === selected.id;\r\n    }\r\n  }\r\n\r\n  changeTab(evt) {\r\n    if (evt.tab) {\r\n      this.displayedContent = evt.tab.textLabel;\r\n    }\r\n\r\n    if (evt.index === 0) {\r\n      this.getS1ApplicationList();\r\n    } else if (evt.index === 1) {\r\n      this.getS1ApplicationList('S2');\r\n    }\r\n  }\r\n\r\n}\r\n","<form>\r\n    <!-- <div class=\"spinner\">\r\n        <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"large\" color=\"#fff\" type=\"line-spin-fade\" [fullScreen]=\"false\">\r\n            <p> Loading list of Applications </p>\r\n        </ngx-spinner>\r\n    </div> -->\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 title\">\r\n                <mat-label>\r\n                    <mat-icon>view_list</mat-icon> Application Reassignment\r\n                </mat-label>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n            <mat-tab label=\"S1\">\r\n                <ng-container *ngTemplateOutlet=\"s1ApplicationFormDisplay\"></ng-container>\r\n            </mat-tab>\r\n            <mat-tab label=\"S2\">\r\n                <ng-container *ngTemplateOutlet=\"s2ApplicationFormDisplay\"></ng-container>\r\n            </mat-tab>\r\n        </mat-tab-group>\r\n\r\n        <span *ngIf=\"displayedContent === 'S1' \">\r\n            <ng-container *ngTemplateOutlet=\"s1ApplicationList\"></ng-container>\r\n        </span>\r\n        <span *ngIf=\"displayedContent === 'S2' \">\r\n            <ng-container *ngTemplateOutlet=\"s2ApplicationList\"></ng-container>\r\n        </span>\r\n\r\n    </div>\r\n</form>\r\n\r\n\r\n<!-- ****************************** FORM ****************************** -->\r\n\r\n<ng-template #s1ApplicationFormDisplay>\r\n    <form [formGroup]=\"s1ApplicationForm\" *ngIf=\"s1Application?.id\">\r\n        <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Reference Code</mat-label>\r\n                <input matInput [(ngModel)]=\"s1Application.referenceCode\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s1Application?.internalStatus!=='S1_APPLICATION_REJECTED'\">\r\n                <input matInput [(ngModel)]=\"s1Application.referenceCodeRejected\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s1Application?.internalStatus==='S1_APPLICATION_REJECTED'\">\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Application Owner</mat-label>\r\n                <input matInput [(ngModel)]=\"applicationOwnerName \" name=\"applicationOwner\"\r\n                    formControlName=\"applicationOwner\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>AD Title</mat-label>\r\n                <input matInput [(ngModel)]=\"s1Application.adTitle\" name=\"adTitle\" formControlName=\"adTitle\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Assigned User</mat-label>\r\n                <mat-select [(ngModel)]=\"s1Application.assignedUser\" name=\"assignedUser\" formControlName=\"assignedUser\"\r\n                    [compareWith]=\"compareAssignedUser\">\r\n                    <mat-option *ngFor=\"let i of userList\" [value]=\"i\">\r\n                        {{ i?.firstName }} {{ i?.lastName }}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n        </div>\r\n        <app-form-action-buttons [childObject]=\"s1Application\" [childForm]=\"s1ApplicationForm\"\r\n            (updateFunction)=\"update()\" (cancelFunction)=\"resetFormValidator()\"></app-form-action-buttons>\r\n    </form>\r\n</ng-template>\r\n\r\n<ng-template #s2ApplicationFormDisplay>\r\n    <form [formGroup]=\"s1ApplicationForm\" *ngIf=\"s2Application?.id\">\r\n        <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Reference Code</mat-label>\r\n                <input matInput [(ngModel)]=\"s2Application.applicationForm.referenceCode\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s2Application?.internalStatus!=='S1_APPLICATION_REJECTED'\">\r\n                <input matInput [(ngModel)]=\"s1Application.referenceCodeRejected\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s2Application?.internalStatus==='S1_APPLICATION_REJECTED'\">\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Application Owner</mat-label>\r\n                <input matInput [(ngModel)]=\"applicationOwnerName\" name=\"applicationOwner\"\r\n                    formControlName=\"applicationOwner\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>AD Title</mat-label>\r\n                <input matInput [(ngModel)]=\"s2Application.applicationForm.adTitle\" name=\"adTitle\" formControlName=\"adTitle\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Assigned User</mat-label>\r\n                <mat-select [(ngModel)]=\"s2Application.assignedUser\" name=\"assignedUser\" formControlName=\"assignedUser\"\r\n                    [compareWith]=\"compareAssignedUser\">\r\n                    <mat-option *ngFor=\"let i of userList\" [value]=\"i\">\r\n                        {{ i?.firstName }} {{ i?.lastName }}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n        </div>\r\n        <app-form-action-buttons [childObject]=\"s2Application\" [childForm]=\"s1ApplicationForm\"\r\n            (updateFunction)=\"update()\" (cancelFunction)=\"resetFormValidator()\"></app-form-action-buttons>\r\n    </form>\r\n</ng-template>\r\n\r\n\r\n\r\n\r\n<!-- ****************************** LISTING ****************************** -->\r\n\r\n<ng-template #s1ApplicationList>\r\n    <br>\r\n    <app-form-list [dataSource]=\"s1ApplicationDataSource\" [displayedColumns]=\"s1ApplicationDisplayedColumns\"\r\n        (selectInListFunction)=\"getS1Application()\"></app-form-list>\r\n</ng-template>\r\n\r\n<ng-template #s2ApplicationList>\r\n    <br>\r\n    <app-form-list [dataSource]=\"s2ApplicationDataSource\" [displayedColumns]=\"s2ApplicationDisplayedColumns\"\r\n        (selectInListFunction)=\"getS2Application()\"></app-form-list>\r\n</ng-template>\r\n","import { CustomAngularEditorModule } from './editor/lib/angular-editor.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ApplicationsRoutingModule } from './applications-routing.module';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { CommentComponent } from './comment/comment.component';\r\nimport { ClientInformationComponent, MaterialInformationComponent, PreviewApplicationComponent } from '@applications';\r\nimport { UploadPaymentComponent } from '../accounting/upload-payment/upload-payment.component';\r\nimport { AddPaymentModule } from '@accounting';\r\nimport { SingleApplicationComponent } from './schedule-of-fees/single-application/single-application.component';\r\nimport { MultipleApplicationsComponent } from './schedule-of-fees/multiple-applications/multiple-applications.component';\r\nimport { ReassignmentModule } from './reassignment/reassignment.module';\r\nimport { PerformanceMetricsComponent } from './performance-metrics/performance-metrics.component';\r\nimport { SpecialApplicationsComponent } from './schedule-of-fees/special-applications/special-applications.component';\r\nimport { AttachmentDocumentComponent } from './attachment-document/attachment-document.component';\r\nimport { PreviewAttachmentsComponent } from './preview-attachments/preview-attachments.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PreviewApplicationComponent,\r\n    ClientInformationComponent,\r\n    MaterialInformationComponent,\r\n    CommentComponent,\r\n    UploadPaymentComponent,\r\n    SingleApplicationComponent,\r\n    MultipleApplicationsComponent,\r\n    PerformanceMetricsComponent,\r\n    SpecialApplicationsComponent,\r\n    AttachmentDocumentComponent,\r\n    PreviewAttachmentsComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ApplicationsRoutingModule,\r\n    AngularMaterialModule,\r\n    AddPaymentModule,\r\n    ReassignmentModule,\r\n    CustomAngularEditorModule\r\n  ],\r\n  exports: [\r\n    PreviewApplicationComponent,\r\n    ClientInformationComponent,\r\n    MaterialInformationComponent,\r\n    CommentComponent,\r\n    UploadPaymentComponent,\r\n    PerformanceMetricsComponent,\r\n    AttachmentDocumentComponent,\r\n    PreviewAttachmentsComponent,\r\n  ]\r\n})\r\nexport class ApplicationsModule { }\r\n","import { DatePipe } from \"@angular/common\";\r\nimport { Component, Inject, OnInit, Optional, ViewChild } from \"@angular/core\";\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\r\nimport { MatPaginator } from \"@angular/material/paginator\";\r\nimport { MatSort } from \"@angular/material/sort\";\r\nimport { MatTableDataSource } from \"@angular/material/table\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Company, S1Application } from \"@models\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport {\r\n  APPFORM_TYPE,\r\n  ENDPOINTS,\r\n  ERROR_MESSAGES,\r\n  FORM_TYPE,\r\n  ROLES,\r\n  USER_ROLES,\r\n} from \"@shared\";\r\nimport { ApplicationSingleMedia } from \"app/core/models/application-single-media.model\";\r\nimport { MultipleApplication } from \"app/core/models/multiple-application.model\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n@Component({\r\n  selector: \"app-update-multiple-application\",\r\n  templateUrl: \"./update-multiple-application.component.html\",\r\n  styleUrls: [\"./update-multiple-application.component.scss\"],\r\n})\r\nexport class UpdateMultipleApplicationComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n\r\n  company = new Company();\r\n  s1Application = new S1Application();\r\n  multipleS1Application = new MultipleApplication();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  multipleS1ApplicationList = [];\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  displayedColumns: string[] = [\r\n    \"referenceCode\",\r\n    \"typeOfMediumDisplay\",\r\n    \"mainAttachmentReference\",\r\n    \"supportingAttachmentReference\",\r\n    \"brand\",\r\n    \"status\",\r\n    \"decisionStatus\",\r\n  ];\r\n\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n\r\n  isAscUser = false;\r\n  isDisableFieldOnUpdate = true;\r\n  isDisabledSubmitButton = true;\r\n  canForwardMultipleApp = false;\r\n  isAllApplicationsHasMainDoc = false;\r\n  warningNote =\r\n    \"Note: To submit multiple application, please make sure that every application has complete details and has necessary attachments.\";\r\n  typeOfMediumDisplay = \"\";\r\n\r\n  formType = APPFORM_TYPE.MULTIPLE;\r\n\r\n  ascUserRoleList = [\r\n    ...ROLES.filter((role: any) => role.ascUser === true).map(\r\n      (role: any) => role.role\r\n    ),\r\n  ];\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private router: Router,\r\n    private spinner: NgxSpinnerService,\r\n    private datepipe: DatePipe,\r\n    @Optional()\r\n    public dialogRef: MatDialogRef<UpdateMultipleApplicationComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      this.multipleS1Application = data;\r\n      this.s1Application.formType = this.formType;\r\n\r\n      // Client Info\r\n      this.s1Application.company = this.multipleS1Application.company;\r\n      this.company = this.multipleS1Application.company;\r\n      // this.s1Application.membersAffiliation = this.multipleS1Application.membersAffiliation;\r\n      this.s1Application.brand = this.multipleS1Application.brand;\r\n      this.s1Application.product = this.multipleS1Application.product;\r\n      // this.s1Application.category = this.multipleS1Application.category;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.isAscUser = this.ascUserRoleList.includes(\r\n      this.dataStorage.getUserRole()\r\n    );\r\n    this.getS1FormsByMultipleApplication();\r\n    if (this.currentUserRole !== USER_ROLES.ROLE_APPLICANT) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfMediumDisplay\",\r\n        \"mainAttachmentReference\",\r\n        \"supportingAttachmentReference\",\r\n        \"brand\",\r\n        \"status\",\r\n        \"ASCstatus\",\r\n        \"decisionStatus\",\r\n      ];\r\n    }\r\n  }\r\n\r\n  getS1FormsByMultipleApplication() {\r\n    let endpoint = \"\";\r\n    if (\r\n      this.currentUserRole === USER_ROLES.ROLE_APPLICANT ||\r\n      this.currentUserRole === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUserRole === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      endpoint = ENDPOINTS.getMultipleAppForms + this.multipleS1Application.id;\r\n    } else {\r\n      endpoint =\r\n        ENDPOINTS.getMultipleAppFormsWithNoRejected +\r\n        this.multipleS1Application.id;\r\n    }\r\n    // this.apiService.findAll(ENDPOINTS.applicationFormPresentor + `multiple-application/${this.multipleS1Application.id}/applications`)\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.multipleS1ApplicationList = res.responseData.data;\r\n\r\n        this.isAllApplicationsHasMainDoc = this.multipleS1ApplicationList.filter(\r\n          (filteredList) => !filteredList.mainAttachmentReference\r\n        ).length\r\n          ? false\r\n          : true;\r\n\r\n        this.multipleS1ApplicationList.forEach((value, index) => {\r\n          this.s1Application = value;\r\n          this.multipleS1ApplicationList[index] = value;\r\n          switch (\r\n            value?.refTypeOfMedium ||\r\n            value?.applicationFormS2?.applicationForm?.refTypeOfMedium\r\n          ) {\r\n            case \"SINGLE MEDIA\":\r\n              this.getApplicationSingleMedia();\r\n              break;\r\n            case \"MULTIMEDIA-MOVING\":\r\n              this.getMultimediaMoving();\r\n              break;\r\n            case \"MULTIMEDIA-STATIC\":\r\n              this.getMultimediaStatic();\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        });\r\n\r\n        this.dataSource = new MatTableDataSource<S1Application>(\r\n          this.multipleS1ApplicationList\r\n        );\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n\r\n        // will be disabled if there's an application without main doc uploaded\r\n        this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n          (filteredList) => !filteredList.mainAttachmentReference\r\n        ).length\r\n          ? true\r\n          : false;\r\n\r\n        this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n          (filteredList) =>\r\n            !filteredList.supportingAttachmentReference &&\r\n            !filteredList.hasNoSupportingDocs\r\n        ).length\r\n          ? true\r\n          : false;\r\n\r\n        // if earlier or later than the approved date\r\n\r\n        const today = this.datepipe.transform(new Date(), \"yyyy-MM-dd\");\r\n        const approvedDate = this.datepipe.transform(\r\n          this.multipleS1Application.dateOfSubmission,\r\n          \"yyyy-MM-dd\"\r\n        );\r\n\r\n        if (\r\n          this.multipleS1Application.submissionStatus !== \"PROCESSED\" &&\r\n          approvedDate !== today &&\r\n          this.multipleS1Application.status !== \"DISAPPROVED\"\r\n        ) {\r\n          this.isDisabledSubmitButton = true;\r\n          this.warningNote =\r\n            \"Note: Applicant can only submit multiple application on approved date.\";\r\n        }\r\n\r\n        this.checkForwardStatus();\r\n      },\r\n      (err: any) => {\r\n        err.error.message = ERROR_MESSAGES.under_maintenance;\r\n        this.sweetAlertService.error(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  checkForwardStatus() {\r\n    if (\r\n      this.multipleS1Application.countVerifiedApplicationForm ===\r\n      this.multipleS1Application.actualNumberOfApplicationForm\r\n    ) {\r\n      this.canForwardMultipleApp = true;\r\n    }\r\n  }\r\n\r\n  viewApplication(data) {\r\n    this.dialogRef.close();\r\n    this.router.navigate([`asc/page/application/s1/update/${data.id}`]);\r\n  }\r\n\r\n  onApproveOrDisapprove(status = \"APPROVED\"): void {\r\n    const displayStatus = status === \"APPROVED\" ? \"approve\" : \"disapprove\";\r\n    Swal.fire({\r\n      text: `Are you sure you want to ${displayStatus} this application?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        const endpointExtension =\r\n          status === \"APPROVED\" ? \"/approve\" : \"/disapprove\";\r\n        this.multipleS1Application.actionDate = new Date();\r\n        this.multipleS1Application.actionBy = this.currentUser.username;\r\n        this.apiService\r\n          .update(\r\n            `${ENDPOINTS.multipleApplication}${endpointExtension}`,\r\n            this.multipleS1Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Multiple application submission request has been \" +\r\n                  displayStatus +\r\n                  \"d.\"\r\n              );\r\n            },\r\n            (err: any) => {\r\n              err.error.message = ERROR_MESSAGES.under_maintenance;\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              this.dialogRef.close(this.multipleS1Application);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateMultipleApplications(multipleId): void {\r\n    // TO DO\r\n    // will only redirect to add new S1 application\r\n    // saving or updating is in add-s1-application.component.ts\r\n    const ctr =\r\n      this.multipleS1ApplicationList.length === 0\r\n        ? 1\r\n        : this.multipleS1ApplicationList.length + 1;\r\n\r\n    this.dialogRef.close();\r\n    this.router.navigate([\r\n      `asc/page/application/s1/add/multiple/${multipleId}/${ctr}`,\r\n    ]);\r\n  }\r\n\r\n  compareProduct(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  // compareCategory(value: any, selected: any): boolean {\r\n  //   if (value && selected) {\r\n  //     return value.description === selected.description;\r\n  //   }\r\n  // }\r\n\r\n  submitMultiple() {\r\n    Swal.fire({\r\n      text: `Are you sure you want to submit this multiple application?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        if (\r\n          this.multipleS1Application.numberOfApplication >\r\n          this.multipleS1ApplicationList.length\r\n        ) {\r\n          Swal.fire({\r\n            text: `Are you sure you want to submit ${this.multipleS1ApplicationList.length} out ${this.multipleS1Application.numberOfApplication} applications only?`,\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Confirm\",\r\n          }).then((result2) => {\r\n            if (result2.value) {\r\n              const endpoint = `${ENDPOINTS.applicationFormPresentor}group-id/${this.multipleS1Application.id}/application-type-id/\r\n                ${this.multipleS1Application.applicationType.id}/batch-multiple-app-form/submit`;\r\n              this.apiService.save(endpoint, null).subscribe(\r\n                (res: any) => {\r\n                  this.sweetAlertService.customSuccessMessage(\r\n                    \"Multiple application successfully submitted.\"\r\n                  );\r\n                  this.getS1FormsByMultipleApplication();\r\n                },\r\n                (err: any) => {\r\n                  err.error.message = ERROR_MESSAGES.under_maintenance;\r\n                  this.sweetAlertService.error(err);\r\n                },\r\n                () => {\r\n                  this.dialogRef.close(this.multipleS1Application);\r\n                }\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          const endpoint = `${ENDPOINTS.applicationFormPresentor}group-id/${this.multipleS1Application.id}/application-type-id/\r\n        ${this.multipleS1Application.applicationType.id}/batch-multiple-app-form/submit`;\r\n          this.apiService.save(endpoint, null).subscribe(\r\n            (res: any) => {\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Multiple application successfully submitted.\"\r\n              );\r\n              this.getS1FormsByMultipleApplication();\r\n            },\r\n            (err: any) => {\r\n              err.error.message = ERROR_MESSAGES.under_maintenance;\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              this.dialogRef.close(this.multipleS1Application);\r\n            }\r\n          );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  forwardMultipleAppsTo(user) {\r\n    Swal.fire({\r\n      text: `Are you sure you want to forward this multiple application?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n\r\n        if (user === \"encoder\") {\r\n          this.multipleS1Application.assignedEncoder = this.multipleS1ApplicationList[0].assignedEncoder;\r\n          // endpoint = ENDPOINTS.forwardMultipleAppFormToAdSpe;\r\n          endpoint = `${ENDPOINTS.s1ApplicationForm}encoder/group-id/${this.multipleS1Application.id}/forward-multiple-app-form`;\r\n        } else if (user === \"ad-specialist\") {\r\n          this.multipleS1Application.assignedAdSpecialist = this.multipleS1ApplicationList[0].assignedAdSpecialist;\r\n          this.multipleS1Application.assignedScreener = this.multipleS1ApplicationList[0].assignedScreener;\r\n          endpoint = ENDPOINTS.forwardMultipleAppFormToScreener;\r\n        } else if (user === \"screener\") {\r\n          this.multipleS1Application.assignedReviewer = this.multipleS1ApplicationList[0].assignedReviewer;\r\n          endpoint = ENDPOINTS.forwardMultipleAppFormToReviewer;\r\n        }\r\n\r\n        this.apiService.save(endpoint, this.multipleS1Application).subscribe(\r\n          (res: any) => {\r\n            console.log(res);\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage(\r\n              \"Multiple application successfully forwarded to the next user.\"\r\n            );\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n            err.error.message = ERROR_MESSAGES.under_maintenance;\r\n            this.sweetAlertService.error(err);\r\n          },\r\n          () => {\r\n            this.spinner.hide();\r\n            this.dialogRef.close(this.multipleS1Application);\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  getApplicationSingleMedia(\r\n    appFormReference = this.s1Application?.appFormReference\r\n  ) {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationSingleMedia,\r\n        `app-form-reference/${appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n\r\n            this.typeOfMediumDisplay = `${this.applicationSingleMedia?.mediumExecution?.typeOfMedium?.description} (${this.applicationSingleMedia?.sizeLength})`;\r\n\r\n            this.multipleS1ApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleS1ApplicationList[index] = {\r\n                  ...this.multipleS1ApplicationList[index],\r\n                  typeOfMediumDisplay:\r\n                    this.typeOfMediumDisplay === \"undefined (0)\"\r\n                      ? \"\"\r\n                      : this.typeOfMediumDisplay,\r\n                };\r\n              }\r\n            });\r\n\r\n            this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n              (filteredS1App) => filteredS1App.typeOfMediumDisplay === \"\"\r\n            ).length\r\n              ? true\r\n              : false;\r\n\r\n            this.dataSource = new MatTableDataSource<any>(\r\n              this.multipleS1ApplicationList\r\n            );\r\n            this.dataSource.paginator = this.paginator;\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n            this.typeOfMediumDisplay = \"\";\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          this.typeOfMediumDisplay = \"\";\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaStatic(appFormReference = this.s1Application?.appFormReference) {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(\r\n              res.responseData.data.map(\r\n                (mappedList) =>\r\n                  `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`\r\n              )\r\n            );\r\n\r\n            this.typeOfMediumDisplay = \"\";\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleS1ApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleS1ApplicationList[index] = {\r\n                  ...this.multipleS1ApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay,\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(\r\n              this.multipleS1ApplicationList\r\n            );\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n            this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n              (filteredList) => !filteredList.typeOfMediumDisplay\r\n            ).length\r\n              ? true\r\n              : false;\r\n          } else {\r\n            this.typeOfMediumDisplay = \"\";\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.typeOfMediumDisplay = \"\";\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaMoving(appFormReference = this.s1Application?.appFormReference) {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(\r\n              res.responseData.data.map(\r\n                (mappedList) =>\r\n                  `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`\r\n              )\r\n            );\r\n\r\n            this.typeOfMediumDisplay = \"\";\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleS1ApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleS1ApplicationList[index] = {\r\n                  ...this.multipleS1ApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay,\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(\r\n              this.multipleS1ApplicationList\r\n            );\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n            this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n              (filteredList) => !filteredList.typeOfMediumDisplay\r\n            ).length\r\n              ? true\r\n              : false;\r\n          } else {\r\n            this.typeOfMediumDisplay = \"\";\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.typeOfMediumDisplay = \"\";\r\n        }\r\n      );\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row title\">\r\n      <div class=\"col-md-12\">\r\n\r\n        <table class=\"application-details\">\r\n          <tr>\r\n            <td *ngIf=\"multipleS1Application?.status\">\r\n              <span>\r\n                Status:\r\n              </span>\r\n            </td>\r\n            <td *ngIf=\"multipleS1Application?.status\">\r\n              <span>\r\n                <b>{{multipleS1Application?.status?.replaceAll('_',' ') | uppercase}}</b>\r\n              </span>\r\n            </td>\r\n            <!-- <td class=\"no-border\">\r\n                        <button class=\"button-right button-red\" mat-raised-button\r\n                        (click)=\"dialogRef.close()\">\r\n                          <i class=\"material-icons color__white\">list</i> VIEW APPLICATIONS\r\n                        </button>\r\n                      </td> -->\r\n          <tr>\r\n            <td class=\"no-border\">\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td *ngIf=\"multipleS1Application?.numberOfApplication\">\r\n              <span>\r\n                Number of Applications:\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span>\r\n                <b *ngIf=\"(multipleS1Application?.status === 'FOR_APPROVAL' || multipleS1Application?.submissionStatus==='PROCESSED' || multipleS1Application?.status === 'DISAPPROVED') &&\r\n                (currentUser.userRole.name==='ROLE_ADMIN' || currentUser.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser.userRole.name === 'ROLE_APPLICANT')\">\r\n                  {{multipleS1Application?.submissionStatus==='PROCESSED' && multipleS1Application?.status !== 'DISAPPROVED' && multipleS1Application?.status !== 'FOR_APPROVAL'\r\n                  ? multipleS1Application.actualNumberOfApplicationForm\r\n                  : multipleS1Application?.numberOfApplication}}</b>\r\n\r\n                  <b *ngIf=\"multipleS1Application?.submissionStatus==='PROCESSED'\">\r\n                    {{currentUser.userRole.name !== 'ROLE_APPLICANT' && currentUser.userRole.name!=='ROLE_ADMIN' && currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' ? multipleS1Application?.countVerifiedApplicationForm : ''}}\r\n                     of {{multipleS1Application?.actualNumberOfApplicationForm}}</b>\r\n\r\n                <b *ngIf=\"multipleS1Application?.status === 'APPROVED' && (currentUser.userRole.name==='ROLE_ADMIN' || currentUser.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser.userRole.name === 'ROLE_APPLICANT') && multipleS1Application?.submissionStatus!=='PROCESSED'\">\r\n                  {{multipleS1ApplicationList.length}} of {{multipleS1Application?.numberOfApplication}}</b>\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\"\r\n              *ngIf=\"multipleS1Application?.status==='APPROVED'&&currentUser.userRole.name==='ROLE_APPLICANT'\"\r\n              [hidden]=\"multipleS1Application?.submissionStatus==='PROCESSED'\">\r\n              <button class=\"button-right button-red\" mat-raised-button\r\n              [disabled]=\"multipleS1Application?.actualNumberOfApplicationForm === multipleS1Application?.numberOfApplication\"\r\n                (click)=\"updateMultipleApplications(multipleS1Application?.id)\">\r\n                <i class=\"material-icons color__white\">add</i> ADD APPLICATION\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n\r\n        <hr>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\"><br></div>\r\n    <div class=\"row\">\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Form Type</mat-label>\r\n        <input matInput [value]=\"formType\" readonly>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <input matInput [value]=\"multipleS1Application?.applicationType?.description\" readonly>\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel [expanded]=\"\r\n                  ((currentUser?.userRole?.name=='ROLE_APPLICANT'&&s1Application?.internalStatus!='SAVED')\r\n                  ||(s1Application?.internalStatus==undefined))\r\n                  &&((multipleS1Application?.status !== 'APPROVED')\r\n                  ||(multipleS1Application?.status === 'APPROVED' && multipleS1ApplicationList.length==0))\" *ngIf=\"\r\n                  (currentUser?.userRole?.name=='ROLE_APPLICANT'&&s1Application?.internalStatus=='SAVED')\r\n                  ||(currentUser?.userRole?.name!='ROLE_APPLICANT')\r\n                  ||(s1Application?.internalStatus==undefined)\">\r\n\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Initial Information\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <br>\r\n\r\n          <app-client-information [multipleApplication]=\"multipleS1Application\" [s1Application]=\"s1Application\" [isAscUser]=\"isAscUser\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\" [company]=\"company\"></app-client-information>\r\n\r\n          <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Ad Title</mat-label>\r\n              <input matInput [value]=\"multipleS1Application?.adTitle\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Tag Line</mat-label>\r\n              <input matInput [value]=\"multipleS1Application?.tagLine\" readonly>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <mat-form-field appearance=\"outline\" class=\"col-md-6\">\r\n              <mat-label>Date of Submission</mat-label>\r\n                <input matInput placeholder=\"Date\" readonly\r\n                  [value]=\"multipleS1Application?.dateOfSubmission | date: 'MMMM d, y'\"\r\n                  name=\"dateOfSubmission\" *ngIf=\"multipleS1Application?.status !== 'DISAPPROVED'\"/>\r\n                <input matInput placeholder=\"Date\" readonly\r\n                  value=\"N/A - Request was disapproved\"\r\n                  name=\"dateOfSubmission\" *ngIf=\"multipleS1Application?.status === 'DISAPPROVED'\"/>\r\n            </mat-form-field>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <!-- FOR Admin Users only -->\r\n        <mat-expansion-panel *ngIf=\"currentUser?.userRole?.name === 'ROLE_ADMIN' || currentUser?.userRole?.name === 'ROLE_SUPER_ADMIN' \">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Presentor Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Personal Details\r\n              <i class=\"material-icons\">person</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n                <mat-label>Company Name</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.company?.companyName\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-11\" appearance=\"outline\">\r\n                <mat-label>Address</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.company?.completeAddress\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-8\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.applicationOwner?.firstName+' '+multipleS1Application?.applicationOwner?.lastName\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Mobile Number</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.applicationOwner?.mobileNumber\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-3\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Telephone Number</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.company?.companyTelephoneNo\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Email Address</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.applicationOwner?.username\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n      </mat-accordion>\r\n      <!-- </form> -->\r\n\r\n      <div class=\"row\"><br></div>\r\n      <!-- ADD TABLE HERE -->\r\n      <div class=\"mat-elevation-z8 fields\" *ngIf=\"multipleS1Application?.status==='APPROVED'\">\r\n        <table mat-table [dataSource]=\"dataSource||multipleS1ApplicationList\" matSort>\r\n\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              {{ element?.referenceCode ? element?.referenceCode : '-' | uppercase}} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfMediumDisplay\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> MEDIUM (Length) </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"> {{ element?.typeOfMediumDisplay }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"mainAttachmentReference\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> HAS MAIN DOC </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              <i *ngIf=\"element?.mainAttachmentReference\" class=\"material-icons\">check_circle</i>\r\n              <i *ngIf=\"!element?.mainAttachmentReference\" class=\"material-icons cancel\">cancel</i>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"supportingAttachmentReference\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> HAS SUPPORT DOC </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              <i *ngIf=\"element?.supportingAttachmentReference\" class=\"material-icons\">check_circle</i>\r\n              <i *ngIf=\"!element?.supportingAttachmentReference && !element?.hasNoSupportingDocs\" class=\"material-icons cancel\">cancel</i>\r\n              <i *ngIf=\"element?.hasNoSupportingDocs\" class=\"material-icons\">cancel</i>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> BRAND </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              {{ element?.brand?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> APPLICATION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"\r\n            [ngStyle]=\"{'background-color': element?.internalStatus === 'S1_APPLICATION_REJECTED' ? 'lightpink' : '' }\">\r\n              {{ element?.externalStatus?.replaceAll('_',' ') | uppercase }}\r\n          </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"ASCstatus\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> INTERNAL STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"\r\n            [ngStyle]=\"{'background-color': element?.internalStatus === 'S1_APPLICATION_REJECTED' ? 'lightpink' : '' }\"> {{\r\n              element?.internalStatus?.replaceAll('_',' ') | uppercase }}</td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"decisionStatus\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> DECISION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"\r\n            [ngStyle]=\"{'background-color': element?.internalStatus === 'S1_APPLICATION_REJECTED' ? 'lightpink' : '' }\">\r\n              {{ element?.decisionStatus ? element?.decisionStatus : '-' | uppercase }}\r\n          </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n          *ngIf=\"multipleS1ApplicationList.length==0\">\r\n          No results found.\r\n        </div>\r\n        <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n        <div class=\"row\"><br></div>\r\n      </div>\r\n      <hr>\r\n\r\n      <div class=\"row\"><br>\r\n      <b *ngIf=\"isDisabledSubmitButton && currentUser.userRole.name==='ROLE_APPLICANT'\"><b class=\"material-icons\">error_outline</b> {{warningNote}}</b>\r\n      </div>\r\n\r\n      <div class=\"row\"><br></div>\r\n      <div class=\"no-border\" [hidden]=\"multipleS1Application?.submissionStatus==='PROCESSED'\"\r\n      *ngIf=\"multipleS1ApplicationList.length>0 && currentUser.userRole.name==='ROLE_APPLICANT' &&\r\n            multipleS1Application?.status !== 'FOR_APPROVAL' && isAllApplicationsHasMainDoc\">\r\n        <button class=\"button-right button-red\" mat-raised-button [disabled]=\"isDisabledSubmitButton\"\r\n          (click)=\"submitMultiple()\">\r\n          <i class=\"material-icons color__white\">send</i> SUBMIT\r\n          <br>\r\n        </button>\r\n      </div>\r\n      <br>\r\n      <!-- //////////////////////////////////////// ACTION BUTTONS //////////////////////////////////////////////////////////// -->\r\n      <div class=\"row\" *ngIf=\"multipleS1Application?.status === 'FOR_APPROVAL' && isAscUser && !multipleS1Application?.assignedReviewer\">\r\n        <div mat-dialog-actions>\r\n          <div class=\"dialog-button-content\" align=\"end\">\r\n            <button class=\"confirm\" (click)=\"onApproveOrDisapprove()\"><i\r\n                class=\"material-icons\">thumb_up_alt</i>Approve</button>\r\n            <button class=\"warn\" (click)=\"onApproveOrDisapprove('DISAPPROVED')\"><i\r\n                class=\"material-icons\">thumb_down_alt</i>Disapprove</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <!-- //////////////////////////////////////// ASC USERS //////////////////////////////////////////////////////////// -->\r\n      <!-- <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_ENCODER'&&canForwardMultipleApp && !multipleS1Application?.assignedReviewer\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('encoder')\">\r\n          <i class=\"material-icons color__white\">verified</i> FORWARD TO AD SPECIALIST\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_AD_SPECIALIST'&&canForwardMultipleApp && !multipleS1Application?.assignedReviewer\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('ad-specialist')\">\r\n          <i class=\"material-icons color__white\">verified</i> FORWARD TO SCREENER\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_SCREENER'&&canForwardMultipleApp && !multipleS1Application?.assignedReviewer\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('screener')\">\r\n          <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n        </button>\r\n      </div> -->\r\n\r\n      <!-- <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_REVIEWER'&&canForwardMultipleApp\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('reviewer')\">\r\n          <i class=\"material-icons color__white\">assignment_turned_in</i> REVIEWED\r\n        </button>\r\n      </div> -->\r\n\r\n      <br>\r\n    </div>\r\n  </div>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { URL_PATHS } from '@shared';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: URL_PATHS.LIST_COMPANY,\r\n        loadChildren: () => import('./list-company/list-company.module')\r\n          .then(m => m.ListCompanyModule)\r\n      },\r\n      {\r\n        path: URL_PATHS.ADD_COMPANY,\r\n        loadChildren: () => import('./add-company/add-company.module')\r\n          .then(m => m.AddCompanyModule)\r\n      },\r\n      {\r\n        path: URL_PATHS.UPDATE_COMPANY + '/:id',\r\n        loadChildren: () => import('./add-company/add-company.module')\r\n          .then(m => m.AddCompanyModule)\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CompanyRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AddCompanyComponent } from './add-company.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddCompanyComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AddCompanyRoutingModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport { ModalSingleApplicationComponent } from './modal-single-application/modal-single-application.component';\r\n\r\n@Component({\r\n  selector: 'app-single-application',\r\n  templateUrl: './single-application.component.html',\r\n  styleUrls: ['./single-application.component.scss']\r\n})\r\nexport class SingleApplicationComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<Object>;\r\n\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['referenceCode', 'typeOfApplication', 'brand', 'medium', 'applicantCompanyName', 'paymentStatus'];\r\n  paymentList = [];\r\n\r\n  currentUser: any;\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dialog: MatDialog,\r\n    private dataStorage: DataStorageService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getS1PaymentList();\r\n  }\r\n\r\n  getS1PaymentList() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationFormPresentor + this.currentUser.id,\r\n      'payment-status/FOR_PAYMENT/schedule-of-fees').subscribe((res: any) => {\r\n        this.paymentList = res.responseData.data;\r\n        this.dataSource = new MatTableDataSource<any>(this.paymentList);\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n      });\r\n  }\r\n\r\n  openModal(res) {\r\n\r\n    const dialogRef = this.dialog.open(ModalSingleApplicationComponent, {\r\n      width: '80%',\r\n      height: 'fit-content',\r\n      maxHeight: '85vh',\r\n      data: res\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.ngOnInit();\r\n    });\r\n\r\n  }\r\n}\r\n","<form>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n          <mat-label>\r\n            <mat-icon>view_list</mat-icon> Individual Applications - For Payment\r\n          </mat-label>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <br>\r\n      <div class=\"col-md-12\" fxLayout fxLayoutAlign=\"center center\">\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n          <input matInput type=\"text\" placeholder=\"Company Name\">\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"dataSource\" matSort>\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\"> {{element?.referenceCode | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationType.description | uppercase}} - {{element?.formType?.replaceAll('_',' ') | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.brand.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"medium\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> MEDIUM</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.typeOfMedium | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"applicantCompanyName\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICANT COMPANY NAME</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.company.companyName | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"paymentStatus\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> PAYMENT STATUS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.paymentStatus?.replaceAll('_',' ') | uppercase}}</td>\r\n          </ng-container>\r\n\r\n\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n      </div>\r\n      <br>\r\n    </div>\r\n  </form>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ApiService, DataStorageService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport { ModalMultipleApplicationsComponent } from './modal-multiple-applications/modal-multiple-applications.component';\r\n\r\n\r\nexport interface companyDetails {\r\n  referenceCode: string;\r\n  amount: number;\r\n}\r\n\r\nconst ELEMENT_DATA: companyDetails[] = [\r\n  { referenceCode: 'Company one ', amount: 3000, },\r\n  { referenceCode: 'Company two ', amount: 4000, },\r\n  { referenceCode: 'Company three ', amount: 5000, },\r\n  { referenceCode: 'Company two ', amount: 6000, },\r\n  { referenceCode: 'Company three ', amount: 7000, },\r\n];\r\n\r\n@Component({\r\n  selector: 'app-multiple-applications',\r\n  templateUrl: './multiple-applications.component.html',\r\n  styleUrls: ['./multiple-applications.component.scss']\r\n})\r\nexport class MultipleApplicationsComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<Object>;\r\n\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['adTitle', 'typeOfApplication', 'brand', 'product', 'applicantCompanyName', 'paymentStatus'];\r\n  paymentList = [];\r\n  currentUser: any;\r\n\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dialog: MatDialog,\r\n    private dataStorage: DataStorageService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getS1MultiplePaymentList();\r\n  }\r\n\r\n  getS1MultiplePaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.applicationFormPresentor + `${this.currentUser.id}/multiple-application?paymentStatus=FOR_PAYMENT`)\r\n    .subscribe((res: any) => {\r\n      this.paymentList = res.responseData.data;\r\n\r\n      this.dataSource = new MatTableDataSource<any>(this.paymentList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  openModal(res) {\r\n    const dialogRef = this.dialog.open(ModalMultipleApplicationsComponent, {\r\n      width: '60%',\r\n      height: '85%',\r\n      data: res\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        console.log(result);\r\n        this.getS1MultiplePaymentList();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n}\r\n","<form>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n          <mat-label>\r\n            <mat-icon>view_list</mat-icon> Multiple Applications - For Payment\r\n          </mat-label>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <br>\r\n      <div class=\"col-md-12\" fxLayout fxLayoutAlign=\"center center\">\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n          <input matInput type=\"text\" placeholder=\"Company Name\">\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"dataSource\" matSort>\r\n          <ng-container matColumnDef=\"adTitle\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\"> {{element?.adTitle | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationType?.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.brand?.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"product\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> PRODUCT</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.product?.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"applicantCompanyName\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICANT COMPANY NAME</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.company.companyName | uppercase}}</td>\r\n          </ng-container>\r\n          <!-- <ng-container matColumnDef=\"countVerifiedApplicationForm\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> NUMBER OF VERIFIED APPLICATIONS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.countVerifiedApplicationForm}}</td>\r\n          </ng-container> -->\r\n          <ng-container matColumnDef=\"paymentStatus\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> PAYMENT STATUS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.paymentStatus?.replaceAll('_',' ') | uppercase}}</td>\r\n          </ng-container>\r\n\r\n\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n      </div>\r\n      <br>\r\n    </div>\r\n  </form>\r\n","import { USER_ROLES } from './../../../../../../shared/utils/constants';\r\nimport { Component, Inject, Input, OnDestroy, OnInit, Optional } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { AttachmentDocument, Payment, S2Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ATTACHMENT_TYPE, ENDPOINTS, PAYMENT_STATUS } from '@shared';\r\nimport { ApplicationSingleMedia } from 'app/core/models/application-single-media.model';\r\nimport { FileStorageService } from 'app/core/services/file.storage.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-modal-special-applications',\r\n  templateUrl: './modal-special-applications.component.html',\r\n  styleUrls: ['./modal-special-applications.component.scss']\r\n})\r\nexport class ModalSpecialApplicationsComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() s2Application = new S2Application();\r\n  attachmentDocument = new AttachmentDocument();\r\n  payment = new Payment();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n\r\n\r\n  paymentTypeList = [];\r\n  attachmentDocuments = [];\r\n\r\n\r\n  paymentType: any;\r\n  safeURLProofOfPayment: any;\r\n  selectedFiles: any;\r\n  currentUser: any;\r\n  attachment: any;\r\n  previewDocument = false;\r\n  isSubmitted = false;\r\n  paymentDetails: any;\r\n  typeOfMediumDisplay = '';\r\n\r\n  paymentForm: FormGroup;\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private apiService: ApiService,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    private spinner: NgxSpinnerService,\r\n    @Optional() public dialogRef: MatDialogRef<ModalSpecialApplicationsComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      if (data) {\r\n        this.s2Application = data;\r\n        console.log('S2', this.s2Application);\r\n        switch (this.s2Application?.applicationForm?.refTypeOfMedium || this.payment?.applicationFormS2?.applicationForm?.refTypeOfMedium) {\r\n          case 'SINGLE MEDIA':\r\n            this.getApplicationSingleMedia();\r\n            break;\r\n          case 'MULTIMEDIA-MOVING':\r\n            this.getMultimediaMoving();\r\n            break;\r\n          case 'MULTIMEDIA-STATIC':\r\n            this.getMultimediaStatic();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        this.getPaymentDetails();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getPaymentList();\r\n  }\r\n\r\n  getPaymentDetails() {\r\n    this.apiService.findAll(ENDPOINTS.specialPaymentDetails + this.s2Application.id).subscribe((res: any) => {\r\n      this.paymentDetails = res;\r\n      this.paymentDetails.vat = this.paymentDetails.vat.toFixed(2);\r\n    });\r\n  }\r\n\r\n  getPaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.paymentType).subscribe((res: any) => {\r\n      this.paymentTypeList = res.responseData.data;\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        const creditCardIndex = this.paymentTypeList\r\n          .findIndex((element) => element.paymentDescription === 'Credit Card');\r\n        this.paymentTypeList.splice(creditCardIndex, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n        // env.showSpinner = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadDocument(s2Application) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this PROOF OF PAYMENT?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.PAYMENT + '&submissionType=' + s2Application.submissionType;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n          .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            console.log(obj);\r\n            this.s2Application.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.amountDue = s2Application.amount;\r\n            this.payment.applicationFormS2 = s2Application;\r\n            this.payment.appFormReference = s2Application.appFormReference;\r\n            this.payment.filename = obj.filename;\r\n            this.saveProofOfPayment();\r\n            // this.previewDocument = true;\r\n            this.selectedFiles = undefined;\r\n            this.spinner.hide();\r\n            this.router.navigateByUrl('asc/page/application/special-applications');\r\n          }, (err: any) => {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            // actions after subscription\r\n            this.spinner.hide();\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  saveProofOfPayment() {\r\n    console.log('Saving payment...');\r\n    this.dataStorage.setDisplayProgressbar(true);\r\n    this.payment.paymentStatus = PAYMENT_STATUS.UNPAID;\r\n    this.payment.id = 0;\r\n    this.payment.officialReceiptNo = '';\r\n    this.payment.paymentMethod = null;\r\n    console.log('PAYMENT : ', this.payment);\r\n\r\n    this.apiService.save(`${ENDPOINTS.s2ApplicationFormPresentor}payment-type-id/${this.paymentType.id}\r\n    /payment-special-clearing/submit`, this.payment).subscribe((res: any) => {\r\n      console.log('SAVED STATUS: ', res.responseData.data);\r\n\r\n      this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(res.responseData.data.fileURL);\r\n      this.isSubmitted = true;\r\n      this.sweetAlertService.customSuccessMessage('Proof of payment successfully submitted.');\r\n      this.closeModal();\r\n    }, (err) => {\r\n      console.log(err);\r\n      this.sweetAlertService.error(err);\r\n      this.dataStorage.setDisplayProgressbar(false);\r\n    }, () => {\r\n      this.dataStorage.setDisplayProgressbar(false);\r\n    });\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.dialogRef.close();\r\n    this.router.navigate(['asc/page/application/special-applications']);\r\n  }\r\n  ngOnDestroy(): void {\r\n    // this.s2Application = null;\r\n  }\r\n\r\n  getApplicationSingleMedia() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationSingleMedia,\r\n      `app-form-reference/${this.s2Application?.applicationForm?.appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n            this.typeOfMediumDisplay = `${this.applicationSingleMedia?.mediumExecution?.typeOfMedium?.description} (${this.applicationSingleMedia?.sizeLength})`;\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaStatic() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${this.s2Application?.applicationForm?.appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaMoving() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${this.s2Application?.applicationForm?.appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n            <mat-label>\r\n                <mat-icon>view_list</mat-icon> <b>Schedule of Fees - Special Application</b>\r\n            </mat-label>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <br>\r\n    <div class=\"row col-md-12\">\r\n        <div class=\"row col-md-6\">\r\n            <div>\r\n                <mat-label>Proof of Payment: &nbsp;&nbsp;&nbsp;<span>PDF file only!</span></mat-label><br>\r\n                <input class=\"file-upload\" type=\"file\" [(ngModel)]=\"attachment\" [ngModelOptions]=\"{standalone: true}\"\r\n                    accept=\".pdf\" (change)=\"selectFile($event)\">\r\n            </div>\r\n            <div *ngIf=\"previewDocument===true\">\r\n                <div class=\"file-upload\">\r\n                    <object [data]=\"safeURLProofOfPayment\" type=\"application/pdf\" width=\"100%\" height=\"500\">\r\n                        <iframe [src]=\"safeURLProofOfPayment\" width=\"100%\" height=\"500\">\r\n                            <p>This browser does not support PDF!</p>\r\n                        </iframe>\r\n                    </object>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row col-md-6\">\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Reference Code</mat-label>\r\n                <input matInput [value]=\"s2Application?.applicationForm?.referenceCode\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Advertiser</mat-label>\r\n                <input matInput name=\"companyName\" [value]=\"s2Application?.applicationForm?.company?.companyName\"\r\n                    readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Ad Title - Medium (Length)</mat-label>\r\n                <input matInput name=\"refTypeOfMedium\"\r\n                    [value]=\"s2Application?.applicationForm?.adTitle + ' - ' + typeOfMediumDisplay\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Vatable Sales</mat-label>\r\n                <input matInput class=\"numbers-input\" name=\"amount\"\r\n                    [value]=\"paymentDetails?.basicRate | number : '1.2-2'\" readonly>\r\n            </mat-form-field>\r\n\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>VAT</mat-label>\r\n                <input matInput class=\"numbers-input\" name=\"amount\" [value]=\"paymentDetails?.vat | number : '1.2-2'\"\r\n                    readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Total Sales (VAT Inclusive)</mat-label>\r\n                <input matInput class=\"numbers-input total\" name=\"amount\"\r\n                    [value]=\"paymentDetails?.amountDue | number : '1.2-2'\" readonly>\r\n            </mat-form-field>\r\n\r\n            <hr>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Payment Mode <span class=\"required-field\">\r\n                        <mat-icon>notification_important</mat-icon>\r\n                    </span></mat-label>\r\n                <mat-select [(ngModel)]=\"paymentType\" [ngModelOptions]=\"{standalone: true}\">\r\n                    <mat-option *ngFor=\"let i of paymentTypeList\" [value]=\"i\" name=\"paymentType\">\r\n                        {{i?.paymentDescription | uppercase}}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Remarks</mat-label>\r\n                <textarea matInput name=\"remarks\" [(ngModel)]=\"payment.remarks\"></textarea>\r\n            </mat-form-field>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-10\"><span *ngIf=\"paymentType && paymentDetails?.amountDue === 0\">\r\n                <i>Please contact ASC admin to check the Maintenance of Fees.</i></span></div>\r\n        <div class=\"col-md-2\">\r\n            <button mat-raised-button class=\"button-red\"\r\n                [disabled]=\"!paymentType || !previewDocument || paymentDetails?.amountDue === 0\"\r\n                (click)=\"uploadDocument(s2Application)\">\r\n                <i class=\"material-icons color__white\">task_alt</i> SUBMIT\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { MultiMediaStatic } from './multimedia-static.model';\r\nexport class MultiMediaStaticConst{\r\n    data: Array<MultiMediaStatic> = new Array<MultiMediaStatic>();\r\n    constructor(){\r\n        this.data = [\r\n            {\r\n                id: 0,\r\n                multimediaStaticMedium: 'collaterals',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              },\r\n              {\r\n                id: 1,\r\n                multimediaStaticMedium: 'digital static',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              },\r\n              {\r\n                id: 2,\r\n                multimediaStaticMedium: 'ooh',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              },\r\n              {\r\n                id: 3,\r\n                multimediaStaticMedium: 'print',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              }\r\n        ]\r\n    }\r\n}","export * from './accounting.module';\r\nexport * from './add-payment/add-payment.component';\r\nexport * from './add-payment/add-payment.module';\r\nexport * from './list-payment/list-payment.component';\r\nexport * from './list-payment/list-payment.module';","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { URL_PATHS } from '@shared';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: URL_PATHS.S1_APPLICATION,\r\n    loadChildren: () => import('./s1-application/s1-application.module')\r\n      .then(m => m.S1ApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.S2_APPLICATION,\r\n    loadChildren: () => import('./s2-application/s2-application.module')\r\n      .then(m => m.S2ApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SINGLE_APPLICATION,\r\n    loadChildren: () => import('./schedule-of-fees/single-application/single-application.module')\r\n      .then(m => m.SingleApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SINGLE_APPLICATION + '/:id',\r\n    loadChildren: () => import('./schedule-of-fees/single-application/single-application.module')\r\n      .then(m => m.SingleApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_MULTIPLE_APPLICATIONS,\r\n    loadChildren: () => import('./schedule-of-fees/multiple-applications/multiple-applications.module')\r\n      .then(m => m.MultipleApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_MULTIPLE_APPLICATIONS + '/:id',\r\n    loadChildren: () => import('./schedule-of-fees/multiple-applications/multiple-applications.module')\r\n      .then(m => m.MultipleApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SPECIAL_APPLICATIONS,\r\n    loadChildren: () => import('./schedule-of-fees/special-applications/special-applications.module')\r\n      .then(m => m.SpecialApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.ACCOUNTS_PAYABLE,\r\n    loadChildren: () => import('./schedule-of-fees/accounts-payable/accounts-payable.module')\r\n      .then(m => m.AccountsPayableModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SPECIAL_APPLICATIONS + '/:id',\r\n    loadChildren: () => import('./schedule-of-fees/special-applications/special-applications.module')\r\n      .then(m => m.SpecialApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.APPLICATION_REASSIGNMENT,\r\n    loadChildren: () => import('./reassignment/reassignment.module')\r\n      .then(m => m.ReassignmentModule)\r\n  }\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ApplicationsRoutingModule { }\r\n","import { Observable, Subject } from \"rxjs\";\r\nimport { AttachmentDocumentComponent } from \"./../../attachment-document/attachment-document.component\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n  SimpleChanges,\r\n  OnChanges,\r\n} from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { MatAccordion } from \"@angular/material/expansion\";\r\nimport { MatTableDataSource } from \"@angular/material/table\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport {\r\n  AttachmentDocument,\r\n  Company,\r\n  S1Application,\r\n  S2Application,\r\n} from \"@models\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport {\r\n  APPLICATION_STAGE,\r\n  APPLICATION_STATUS_S2,\r\n  ENDPOINTS,\r\n  USER_ROLES,\r\n  ATTACHMENT_TYPE,\r\n  TYPE_OF_MEDIUM,\r\n  APPLICATION_STATUS,\r\n  APP_DECISION_STATUS,\r\n  APPLICATION_STATUS_FOR_COMPLIANCE,\r\n  SUBMISSION_TYPE,\r\n  ROLES,\r\n} from \"@shared\";\r\nimport { ApplicationSingleMedia } from \"app/core/models/application-single-media.model\";\r\nimport { RationaleS2 } from \"app/core/models/rationale-s2.model\";\r\nimport { Report } from \"app/core/models/report.model\";\r\nimport { CommonServices } from \"app/core/services/common-services.service\";\r\nimport { FileStorageService } from \"app/core/services/file.storage.service\";\r\nimport { IncompleteDisapprovedRationaleComponent } from \"app/modules/fragments/incomplete-disapproved-rationale/incomplete-disapproved-rationale.component\";\r\nimport { RejectDisapprovedReasonComponent } from \"app/modules/fragments/reject-disapproved-reason/reject-disapproved-reason.component\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport Swal from \"sweetalert2\";\r\nimport { ClientInformationComponent } from \"../../client-information/client-information.component\";\r\nimport { CommentComponent } from \"../../comment/comment.component\";\r\nimport { MaterialInformationComponent } from \"../../material-information/material-information.component\";\r\n\r\n@Component({\r\n  selector: \"app-add-s2-application\",\r\n  templateUrl: \"./add-s2-application.component.html\",\r\n  styleUrls: [\"./add-s2-application.component.scss\"],\r\n})\r\nexport class AddS2ApplicationComponent implements OnInit, OnChanges {\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  @ViewChild(ClientInformationComponent, { static: false })\r\n  clientInformation: ClientInformationComponent;\r\n  @ViewChild(MaterialInformationComponent, { static: false })\r\n  materialInformation: MaterialInformationComponent;\r\n  @ViewChild(CommentComponent, { static: false }) comment: CommentComponent;\r\n  // @ViewChild(LayoutComponent, { static: false }) layoutComponent: LayoutComponent;\r\n\r\n  @ViewChild(\"finalMaterialFileInput\") myFinalMaterialFileInput: ElementRef;\r\n  @ViewChild(\"finalMaterialFile\") myFinalMaterialFile: ElementRef;\r\n\r\n  @ViewChild(\"finalMaterialFileInputC\") myFinalMaterialFileInputC: ElementRef;\r\n  @ViewChild(\"finalMaterialFileC\") myFinalMaterialFileC: ElementRef;\r\n\r\n  @ViewChild(AttachmentDocumentComponent, { static: false })\r\n  attachmentComponent: AttachmentDocumentComponent;\r\n\r\n  @Output() spinnerMessageEmitter = new EventEmitter<string>();\r\n\r\n  title = \"ASC Online System\";\r\n  s2Application = new S2Application();\r\n  s1Application = new S1Application();\r\n  company = new Company();\r\n  rationaleS2 = new RationaleS2();\r\n  attachmentDocument = new AttachmentDocument();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  report = new Report();\r\n  attachmentDocuments: any = {};\r\n  originalAttachmentDocuments = [];\r\n  revisionAttachmentDocuments = [];\r\n  complianceAttachmentDocuments = [];\r\n  s2OriginalAttachmentDocuments = [];\r\n  s2OriginalAttachmentObservable: Subject<any> = new Subject();\r\n  s2ComplianceAttachmentDocuments = [];\r\n  supportiveDocumentList = [];\r\n  affiliationList = [];\r\n  companyList = [];\r\n  multimediaStaticList = [];\r\n  multimediaMovingList = [];\r\n  selectedMultimediaList = [];\r\n  rationaleOthersList = [];\r\n  rationaleLists = [];\r\n  isNewCompany = false;\r\n  showCompanyAddress = false;\r\n  id: number;\r\n  spinnerMessage = \"\";\r\n  todayDate: Date = new Date();\r\n  s2ApplicationForm: FormGroup;\r\n  selectedFile: File;\r\n  tempCompliance = new AttachmentDocument();\r\n\r\n  selected: any; // in html but not existing in component -- encountered during 'ng serve --aot'\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n  decisionStatus = \"\";\r\n  audioVideo = \"Video\";\r\n  isAudioVideo = false;\r\n  isShowUploadButton = false;\r\n  rationaleDisplay = false;\r\n  fileSize: number;\r\n  safeURLFile: any;\r\n  uploadedFinalMaterialFile: any;\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isEvaluator = false;\r\n  isAdSpecialist = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n\r\n  previewAttachmentsList = [];\r\n  previewAttachmentsDisplayedColumns: string[] = [\r\n    \"clearanceToaFilename\",\r\n    \"viewClearanceToaIcon\",\r\n  ];\r\n  previewAttachmentsListDataSource: MatTableDataSource<object>;\r\n  isAscUser: boolean = false;\r\n  ascUserRoleList = [\r\n    ...ROLES.filter((role: any) => role.ascUser === true).map(\r\n      (role: any) => role.role\r\n    ),\r\n  ];\r\n  applicationStage: string = \"S2-APPLICATION\";\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private fileStorageService: FileStorageService,\r\n    private dialog: MatDialog\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormValidator();\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.isAscUser = this.ascUserRoleList.includes(\r\n      this.dataStorage.getUserRole()\r\n    );\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.id = Number(this.route.snapshot.paramMap.get(\"id\"));\r\n    this.initUserRole();\r\n    this.getAffiliationList();\r\n    this.getCompanyList();\r\n    if (this.id) {\r\n      this.viewS2Application();\r\n    }\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    console.log(changes);\r\n  }\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n  viewS2Application(): void {\r\n    this.spinner.show();\r\n    this.spinnerMessage = \"Loading S2 Application\";\r\n    this.apiService.findById(ENDPOINTS.applicationFormS2, this.id).subscribe(\r\n      (res: any) => {\r\n        console.log(\"s2 = \");\r\n        this.s2Application = res.responseData.data;\r\n        console.log(\"S2 Form: \", this.s2Application);\r\n\r\n        this.s1Application = this.s2Application.applicationForm;\r\n        this.clientInformation.s1Application = this.s2Application.applicationForm;\r\n        this.materialInformation.s1Application = this.s2Application.applicationForm;\r\n\r\n        if (this.s2Application.finalMaterialAttachmentReference) {\r\n          this.isShowUploadButton = true;\r\n          this.getS2AttachmentDocument();\r\n        }\r\n\r\n        this.setApplicationStage(this.s2Application);\r\n        this.hideSpinner();\r\n        if (\r\n          this.s2Application.applicationForm.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n        ) {\r\n          this.getApplicationSingleMedia();\r\n        } else if (\r\n          this.s2Application.applicationForm.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n        ) {\r\n          this.getMultimediaMoving();\r\n        } else if (\r\n          this.s2Application.applicationForm.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_STATIC\r\n        ) {\r\n          this.getMultimediaStatic();\r\n        }\r\n        this.getAttachmentDocuments();\r\n        // this.getSupportiveDocuments();\r\n\r\n        if (\r\n          (this.s2Application.decisionStatus ===\r\n            APP_DECISION_STATUS.INCOMPLETE ||\r\n            this.s2Application.decisionStatus ===\r\n              APP_DECISION_STATUS.DISAPPROVED) &&\r\n          this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST\r\n        ) {\r\n          if (\r\n            this.s2Application.internalStatus ===\r\n              \"RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER\" &&\r\n            this.s2Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n          ) {\r\n            this.getRationaleList();\r\n          }\r\n        }\r\n\r\n        if (\r\n          this.isAdmin ||\r\n          this.isSuperAdmin ||\r\n          this.isApplicant ||\r\n          this.isAdSpecialist\r\n        ) {\r\n          console.log(\r\n            ENDPOINTS.clearanceAndToa + this.s2Application?.appFormReference\r\n          );\r\n          this.apiService\r\n            .findByParam(\r\n              ENDPOINTS.clearanceAndToa,\r\n              this.s2Application?.appFormReference\r\n            )\r\n            .subscribe((previewAttachmentsData) => {\r\n              console.log(previewAttachmentsData);\r\n\r\n              this.previewAttachmentsList =\r\n                previewAttachmentsData.responseData.data;\r\n              this.previewAttachmentsListDataSource = new MatTableDataSource<object>(\r\n                this.previewAttachmentsList\r\n              );\r\n            });\r\n        }\r\n      },\r\n      (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    );\r\n  }\r\n\r\n  setApplicationStage(data): void {\r\n    this.clientInformation.applicationStage = APPLICATION_STAGE.S2_APPLICATION;\r\n    this.materialInformation.applicationStage =\r\n      APPLICATION_STAGE.S2_APPLICATION;\r\n    if (this.currentUserRole !== USER_ROLES.ROLE_APPLICANT) {\r\n      this.comment.applicationStage = APPLICATION_STAGE.S2_APPLICATION;\r\n      this.comment.getCommentsS2(data);\r\n    }\r\n  }\r\n\r\n  saveStatus(): void {\r\n    if (\r\n      this.s2Application.appFormReference &&\r\n      this.s2Application.appFormReference !== \"\" &&\r\n      this.s2Application.appFormReference !== undefined\r\n    ) {\r\n      let endpoint;\r\n      let swalMessage;\r\n\r\n      if (this.currentUserRole === USER_ROLES.ROLE_APPLICANT) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormPresentorSubmit;\r\n        swalMessage = \"S2 application has been submitted.\";\r\n      } else if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormEncoderVerify;\r\n        swalMessage = \"S2 application has been verified.\";\r\n        this.s2Application.assignedUser = this.s2Application.applicationForm.assignedAdSpecialist;\r\n      } else if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n        if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n          endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"incomplete\";\r\n          swalMessage = \"S2 Application Incomplete\";\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n          endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"disapproved\";\r\n          swalMessage = \"S2 Application Disapproved\";\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n          endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"approved\";\r\n          swalMessage = \"S2 Application Approved!\";\r\n        }\r\n      }\r\n\r\n      // this.s2Application.modifiedBy = this.currentUser;\r\n      // this.s2Application.modifiedDate = this.todayDate;\r\n\r\n      Swal.fire({\r\n        text: \"Are you sure you want to submit the application?\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Confirm\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n            this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n            this.s2Application.decisionStatus =\r\n              APPLICATION_STATUS_S2.INCOMPLETE;\r\n          } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n            this.s2Application.decisionStatus = APPLICATION_STATUS_S2.APPROVED;\r\n          } else if (\r\n            this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED\r\n          ) {\r\n            this.s2Application.decisionStatus =\r\n              APPLICATION_STATUS_S2.DISAPPROVED;\r\n          }\r\n          this.apiService.save(endpoint, this.s2Application).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(swalMessage);\r\n              this.navigateToS2List();\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n        }\r\n      });\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Missing application form reference.\"\r\n      );\r\n    }\r\n  } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  saveStatusForCompliance(): void {\r\n    let endpoint;\r\n    let swalMessage;\r\n\r\n    if (this.currentUserRole === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"compliance/presentor/submit\";\r\n      swalMessage = \"S2 Application has been re-submitted successfully\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"compliance/encoder/verify\";\r\n      swalMessage =\r\n        \"S2 Application has been re-submitted successfully verified by ENCODER\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"incomplete\";\r\n        swalMessage = \"S2 Application Incomplete\";\r\n      } else if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"disapproved\";\r\n        swalMessage = \"S2 Application Disapproved\";\r\n      } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n        endpoint =\r\n          ENDPOINTS.s2ApplicationForm + \"compliance/ad-specialist/verify\";\r\n        swalMessage = \"S2 Application has been verified by AD-SPECIALIST\";\r\n        // this.s2Application.decisionStatus = APPLICATION_STATUS_S2.APPROVED;\r\n      }\r\n    }\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to re-submit this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n          this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.INCOMPLETE;\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.APPROVED;\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.DISAPPROVED;\r\n        }\r\n        this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n        this.apiService.save(endpoint, this.s2Application).subscribe(\r\n          (res: any) => {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage(swalMessage);\r\n            this.navigateToS2List();\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  saveStatusForClearance(): void {\r\n    let endpoint;\r\n    let swalMessage;\r\n\r\n    if (this.currentUserRole === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"clearance/presentor/submit\";\r\n      swalMessage = \"S2 Application clearance has been submitted successfully\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"clearance/encoder/verify\";\r\n      swalMessage =\r\n        \"S2 Application clearance has been verified successfully by ENCODER\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"disapproved\";\r\n        swalMessage = \"S2 Application clearance Disapproved\";\r\n      } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n        endpoint =\r\n          ENDPOINTS.s2ApplicationForm + \"clearance/ad-specialist/verify\";\r\n        swalMessage =\r\n          \"S2 Application clearance has been approved by AD-SPECIALIST\";\r\n        this.s2Application.internalStatus = APPLICATION_STATUS_S2.APPROVED;\r\n        this.s2Application.externalStatus = APPLICATION_STATUS_S2.APPROVED;\r\n      }\r\n    }\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to submit this application clearance?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.DISAPPROVED;\r\n        }\r\n        this.spinner.show();\r\n        this.apiService.save(endpoint, this.s2Application).subscribe(\r\n          (res: any) => {\r\n            this.hideSpinner();\r\n            this.sweetAlertService.customSuccessMessage(swalMessage);\r\n            this.navigateToS2List();\r\n          },\r\n          (err: any) => {\r\n            this.hideSpinner();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  applyApplicationForClearance(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to apply this application to Clearance?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.s2ApplicationForm + \"clearance/presentor/submit\",\r\n            this.s2Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              this.hideSpinner();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Application with reference no is applied for Clearance successfully.\"\r\n                )\r\n              );\r\n              this.navigateToS2List();\r\n            },\r\n            (err: any) => {\r\n              this.hideSpinner();\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  rejectDisapprovedModal(ascUser = \"\", action = \"\", status = \"\"): void {\r\n    // Swal.fire({\r\n    //   text: 'Are you sure you want to REJECT this application?',\r\n    //   icon: 'question',\r\n    //   showCancelButton: true,\r\n    //   confirmButtonColor: '#3085d6',\r\n    //   cancelButtonColor: '#d33',\r\n    //   confirmButtonText: 'Confirm'\r\n    // }).then((result) => {\r\n    //   if (result.value) {\r\n    //     this.apiService.save(ENDPOINTS.s2ApplicationFormEncoderReject, this.s2Application).subscribe(\r\n    //       (res: any) => {\r\n    //         this.sweetAlertService.customSuccessMessage('Application has been rejected successfully');\r\n    //         this.router.navigateByUrl('asc/page/application/s2/lists');\r\n    //       }\r\n    //     );\r\n    //   }\r\n    // })\r\n    const dialogRef = this.dialog.open(RejectDisapprovedReasonComponent, {\r\n      width: \"40%\",\r\n      height: \"45%\",\r\n      data: {\r\n        s2Application: this.s2Application,\r\n        ascUser: ascUser,\r\n        action: action,\r\n        status: status,\r\n        applicationStage: \"s2\",\r\n      },\r\n    });\r\n  }\r\n\r\n  incompleteDisapprovedRationale(ascUser = \"\", action = \"\", status = \"\"): void {\r\n    const dialogRef = this.dialog.open(\r\n      IncompleteDisapprovedRationaleComponent,\r\n      {\r\n        width: \"40%\",\r\n        height: \"65%\",\r\n        disableClose: true,\r\n        data: {\r\n          s2Application: this.s2Application,\r\n          ascUser: ascUser,\r\n          action: action,\r\n          status: status,\r\n          applicationStage: \"s2\",\r\n        },\r\n      }\r\n    );\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(\"The dialog was closed\", result);\r\n      if (result) {\r\n        this.getRationaleList();\r\n      }\r\n    });\r\n  }\r\n\r\n  getApplicationSingleMedia() {\r\n    this.spinner.show();\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationSingleMedia,\r\n        `app-form-reference/${this.s2Application.applicationForm.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          }\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          this.hideSpinner();\r\n        }\r\n      );\r\n  }\r\n\r\n  getAttachmentDocuments() {\r\n    console.log(\r\n      \"apForm\",\r\n      this.s2Application.applicationForm,\r\n      ENDPOINTS.attachmentDocumentByAppFormReference +\r\n        this.s2Application.applicationForm.appFormReference\r\n    );\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.attachmentDocumentByAppFormReference +\r\n          this.s2Application.applicationForm.appFormReference\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.attachmentDocuments = res.responseData.data;\r\n\r\n        this.originalAttachmentDocuments = JSON.parse(\r\n          JSON.stringify(res.responseData.data.originalAttachmentDocuments)\r\n        );\r\n        this.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n        this.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n\r\n        console.log(this.originalAttachmentDocuments);\r\n\r\n        if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n          this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n        ) {\r\n          this.materialInformation.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n          this.materialInformation.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n          this.materialInformation.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n        }\r\n        console.log(\"view S2 attachmentDocuments: \", this.attachmentDocuments);\r\n        // this.s2OriginalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n        this.s2OriginalAttachmentObservable.next({\r\n          type: \"document\",\r\n          value: JSON.parse(JSON.stringify(this.originalAttachmentDocuments)),\r\n        });\r\n        this.s2OriginalAttachmentObservable.next({\r\n          type: \"application\",\r\n          value: this.s2Application,\r\n        });\r\n      });\r\n  }\r\n\r\n  getSupportiveDocuments() {\r\n    this.spinner.show();\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.supportiveDocument,\r\n        `application-form-id/${this.s2Application.applicationForm.id}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log(\"getSupportiveDocuments() \", res);\r\n          if (res.responseData.data.length > 0) {\r\n            this.supportiveDocumentList = res.responseData.data;\r\n          }\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.hideSpinner();\r\n          this.supportiveDocumentList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaStatic() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s2Application.applicationForm.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaStaticList = res.responseData.data;\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s2Application.applicationForm.externalStatus ===\r\n                APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaStaticList;\r\n            }\r\n\r\n            this.selectedMultimediaList = this.multimediaStaticList;\r\n          } else {\r\n            this.multimediaStaticList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          // this.multimediaStaticList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaMoving() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s2Application.applicationForm.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaMovingList = res.responseData.data;\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s2Application.applicationForm.externalStatus ===\r\n                APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaMovingList;\r\n            }\r\n            this.selectedMultimediaList = this.multimediaMovingList;\r\n          } else {\r\n            this.multimediaMovingList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.multimediaMovingList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  setDecisionStatus(i) {\r\n    this.decisionStatus = i;\r\n    // if (e === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n    //   this.incompleteDisapprovedRationale('ad-specialist', 'disapproved', 'S2 APPLICATION DISAPPROVED');\r\n    // }else if(e === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n    //   this.incompleteDisapprovedRationale('ad-specialist', 'incomplete', 'INCOMPLETE');\r\n    // }\r\n\r\n    if (\r\n      (i === APP_DECISION_STATUS.INCOMPLETE ||\r\n        i === APP_DECISION_STATUS.DISAPPROVED) &&\r\n      this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      if (\r\n        this.s2Application.internalStatus ===\r\n          \"RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER\" &&\r\n        this.s2Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n      ) {\r\n        this.s2Application.validityDate = null;\r\n        // this.s2Application.decisionStatus = i;\r\n        this.incompleteDisapprovedRationale();\r\n      }\r\n    }\r\n  }\r\n\r\n  getAffiliationList() {\r\n    this.spinner.show();\r\n    this.apiService.findAll(ENDPOINTS.activeMembersAffiliation).subscribe(\r\n      (res: any) => {\r\n        this.affiliationList = res.responseData.data;\r\n        this.hideSpinner();\r\n      },\r\n      (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCompanyList() {\r\n    this.spinner.show();\r\n    this.apiService.findAll(ENDPOINTS.activeCompanies).subscribe(\r\n      (res: any) => {\r\n        this.companyList = res.responseData.data;\r\n        this.hideSpinner();\r\n      },\r\n      (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCompanyAddress(companyName) {\r\n    this.spinner.show();\r\n    this.showCompanyAddress = true;\r\n    this.isNewCompany = false;\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.company,\r\n        `/custom/search?companyName=` + companyName\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.company = res.responseData.data;\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.hideSpinner();\r\n        }\r\n      );\r\n  }\r\n\r\n  clear(): void {\r\n    this.s2Application = new S2Application();\r\n    this.s1Application = new S1Application();\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.s2ApplicationForm = this.formBuilder.group({\r\n      affiliation: [\"\", Validators.required],\r\n      validityDate: [\"\", Validators.required],\r\n      company: [\"\"],\r\n      decisionStatus: [\"\", Validators.required],\r\n    });\r\n  }\r\n\r\n  resetFormValidator(): void {\r\n    this.s2Application = new S2Application();\r\n    this.s1Application = new S1Application();\r\n    this.s2ApplicationForm.markAsUntouched();\r\n    this.s2ApplicationForm.markAsPristine();\r\n  }\r\n\r\n  showAudioVideo() {\r\n    this.isAudioVideo = !this.isAudioVideo;\r\n    this.audioVideo = this.isAudioVideo ? \"Audio\" : \"Video\";\r\n  }\r\n\r\n  selectFile(event, typeOfDocument) {\r\n    this.attachmentComponent.selectFile(event, typeOfDocument);\r\n  }\r\n\r\n  onAddFile(eventParam) {\r\n    const byteToMegaByte = 1000000; // 1 million byte = 1 mega byte\r\n\r\n    let finalMaterialType = \"\"; // temporary variable; TODO: remove\r\n    finalMaterialType = \"video\";\r\n    const maxFileSize =\r\n      finalMaterialType === \"video\"\r\n        ? 50\r\n        : finalMaterialType === \"audio\"\r\n        ? 20\r\n        : finalMaterialType === \"layout\"\r\n        ? 10\r\n        : 0;\r\n\r\n    if (eventParam.target.files) {\r\n      this.isShowUploadButton = false;\r\n      this.fileSize = eventParam.target.files[0].size;\r\n\r\n      // TODO validation of file size\r\n      if (\r\n        (this.fileSize > 50 * byteToMegaByte &&\r\n          finalMaterialType.toLowerCase() === \"video\") ||\r\n        (this.fileSize > 20 * byteToMegaByte &&\r\n          finalMaterialType.toLowerCase() === \"audio\") ||\r\n        (this.fileSize > 10 * byteToMegaByte &&\r\n          finalMaterialType.toLowerCase() === \"layout\")\r\n      ) {\r\n        this.sweetAlertService.customErrorMessage(\r\n          `Attachments total file size should not exceed ${maxFileSize}MB.`\r\n        );\r\n        eventParam.target.value = \"\";\r\n        return;\r\n      } else {\r\n        this.isShowUploadButton = true;\r\n        const fileURL = URL.createObjectURL(eventParam.target.files[0]);\r\n        this.safeURLFile = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          fileURL\r\n        );\r\n\r\n        const reader = new FileReader();\r\n        const [file] = eventParam.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {};\r\n\r\n        this.selectedFile = eventParam.target.files[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  uploadAudioOrVideo() {\r\n    Swal.fire({\r\n      text: `Are you sure you want to upload this Final Material?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let params = \"\";\r\n        let appFormRef = \"\";\r\n\r\n        if (this.s2Application.appFormReference) {\r\n          appFormRef = `&appFormReference=${this.s2Application.appFormReference}`;\r\n        }\r\n\r\n        if (\r\n          this.s2Application.internalStatus ===\r\n            APPLICATION_STATUS_FOR_COMPLIANCE.INCOMPLETE ||\r\n          this.s2Application.internalStatus === \"S2_APPLICATION_REJECTED\"\r\n        ) {\r\n          this.s2Application.submissionType = SUBMISSION_TYPE.COMPLIANCE;\r\n        }\r\n\r\n        params =\r\n          \"?&attachmentType=\" +\r\n          ATTACHMENT_TYPE.FINAL_MATERIAL +\r\n          \"&submissionType=\" +\r\n          this.s2Application.submissionType +\r\n          appFormRef;\r\n        this.fileStorageService\r\n          .pushFileToStorage(\r\n            ENDPOINTS.attachmentDocument,\r\n            this.selectedFile,\r\n            params\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(res);\r\n\r\n              if (\r\n                !this.s2Application.appFormReference ||\r\n                this.s2Application.appFormReference === \"\"\r\n              ) {\r\n                this.s2Application.appFormReference =\r\n                  res.responseData.data.appFormReference;\r\n              }\r\n\r\n              if (\r\n                this.s2Application.submissionType === SUBMISSION_TYPE.COMPLIANCE\r\n              ) {\r\n                this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n                this.tempCompliance = res.responseData.data;\r\n                this.s2Application.finalMaterialAttachmentReference = this.tempCompliance?.finalMaterialAttachmentReference;\r\n              } else {\r\n                this.uploadedFinalMaterialFile = res.responseData.data;\r\n                this.addToAttachmentDocuments(this.uploadedFinalMaterialFile);\r\n                this.s2Application.finalMaterialAttachmentReference = this.uploadedFinalMaterialFile?.finalMaterialAttachmentReference;\r\n\r\n                if (this.s2Application.finalMaterialAttachmentReference) {\r\n                  this.getS2AttachmentDocument();\r\n                }\r\n              }\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Attachment successfully uploaded.\"\r\n              );\r\n              this.selectedFile = null;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              // actions after subscription\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      } else {\r\n        this.selectedFile = null;\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUploadedFile2(obj) {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.tempCompliance = null;\r\n        this.isShowUploadButton = false;\r\n        this.safeURLFile = null;\r\n        this.apiService\r\n          .save(ENDPOINTS.attachmentDocument + `/id/${obj.id}`, null)\r\n          .subscribe(\r\n            (res) => {\r\n              this.spinner.hide();\r\n              if (\r\n                obj.submissionType === SUBMISSION_TYPE.COMPLIANCE ||\r\n                obj.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n              ) {\r\n                this.s2ComplianceAttachmentDocuments = this.s2ComplianceAttachmentDocuments.filter(\r\n                  (data) => data?.id !== obj.id\r\n                );\r\n                this.myFinalMaterialFileInputC.nativeElement.value = \"\";\r\n                this.myFinalMaterialFileC.nativeElement.value = \"\";\r\n                this.tempCompliance = null;\r\n              } else {\r\n                this.s2OriginalAttachmentDocuments = this.s2OriginalAttachmentDocuments.filter(\r\n                  (data) => data?.id !== obj.id\r\n                );\r\n                this.myFinalMaterialFileInput.nativeElement.value = \"\";\r\n                this.myFinalMaterialFile.nativeElement.value = \"\";\r\n                console.log(\r\n                  \"s2 orig => \",\r\n                  this.s2ComplianceAttachmentDocuments\r\n                );\r\n              }\r\n              console.log(\"Attachment successfully deleted.\");\r\n\r\n              this.s2Application.finalMaterialAttachmentReference = null;\r\n              this.isShowUploadButton = false;\r\n              this.selectedFile = null;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUploadedFile() {\r\n    if (\r\n      this.s2Application.internalStatus === APPLICATION_STATUS.INCOMPLETE ||\r\n      this.s2Application.internalStatus === \"S2_APPLICATION_REJECTED\"\r\n    ) {\r\n      this.tempCompliance = null;\r\n      this.myFinalMaterialFileInputC.nativeElement.value = \"\";\r\n      this.myFinalMaterialFileC.nativeElement.value = \"\";\r\n    } else {\r\n      this.s2OriginalAttachmentDocuments[0] = null;\r\n      this.myFinalMaterialFileInput.nativeElement.value = \"\";\r\n      this.myFinalMaterialFile.nativeElement.value = \"\";\r\n    }\r\n    this.s2Application.finalMaterialAttachmentReference = null;\r\n    this.isShowUploadButton = false;\r\n    this.selectedFile = null;\r\n  }\r\n\r\n  addToAttachmentDocuments(obj: any) {\r\n    if (obj) {\r\n      this.attachmentDocument.finalMaterialAttachmentReference =\r\n        obj.finalMaterialAttachmentReference;\r\n      this.attachmentDocument.id = obj.id;\r\n      this.attachmentDocument.originalFilename = obj.originalFilename;\r\n      this.attachmentDocument.filename = obj.filename;\r\n      this.attachmentDocument.fileExtension = obj.fileExtension;\r\n      this.attachmentDocument.fileURL = obj.fileURL;\r\n      this.attachmentDocument.attachmentType = obj.attachmentType;\r\n      this.attachmentDocument.documentFormat = obj.documentFormat;\r\n      this.attachmentDocument.createdBy = this.currentUser.username;\r\n      this.attachmentDocument.createdDate = this.todayDate;\r\n\r\n      // if (this.s2Application.submissionType === SUBMISSION_TYPE.COMPLIANCE) {\r\n      //   this.tempCompliance = res.responseData.data;\r\n      //   this.addToAttachmentDocuments(this.tempCompliance);\r\n      // } else {\r\n      // }\r\n    } else {\r\n      this.spinner.hide();\r\n      console.log(\"Null attachment.\");\r\n      this.myFinalMaterialFile.nativeElement.value = \"\";\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment cannot be uploaded.\"\r\n      );\r\n    }\r\n  }\r\n\r\n  getS2AttachmentDocument() {\r\n    this.spinner.show();\r\n    // TODO: Fetch list of existing compliance attachments\r\n    console.log(\r\n      ENDPOINTS.attachmentDocumentByS2AppFormReference +\r\n        this.s2Application.appFormReference\r\n    );\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.attachmentDocumentByS2AppFormReference +\r\n          this.s2Application.appFormReference\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data) {\r\n            console.log(\r\n              \"S2 attachments: \",\r\n              res.responseData.data.originalAttachmentDocuments\r\n            );\r\n\r\n            this.attachmentDocuments = res.responseData.data;\r\n            this.s2OriginalAttachmentDocuments =\r\n              res.responseData.data.originalAttachmentDocuments;\r\n            // this.s2OriginalAttachmentObservable.next(this.s2OriginalAttachmentDocuments);\r\n            this.s2ComplianceAttachmentDocuments =\r\n              res.responseData.data.complianceAttachmentDocuments;\r\n            this.s2ComplianceAttachmentDocuments = this.s2ComplianceAttachmentDocuments?.filter(\r\n              (data) => data?.status !== \"UNPROCESSED\"\r\n            );\r\n            console.log(\"s2 Original => \", this.attachmentDocuments);\r\n            if (this.attachmentDocument.filename) {\r\n              this.isAudioVideo = this.attachmentDocument.documentFormat.includes(\r\n                \"audio\"\r\n              )\r\n                ? false\r\n                : true;\r\n            }\r\n          }\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.hideSpinner();\r\n          console.error(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  viewFinalMedia(obj) {\r\n    window.open(obj.fileURL);\r\n  }\r\n\r\n  hideSpinner() {\r\n    setTimeout(() => {\r\n      this.spinner.hide();\r\n    }, 1);\r\n  }\r\n\r\n  navigateToS2List() {\r\n    setTimeout(() => {\r\n      this.router.navigateByUrl(\"asc/page/application/s2/lists\");\r\n    }, 2000);\r\n  }\r\n\r\n  getRationaleList(): void {\r\n    // Rationale Object\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationRationaleS2,\r\n        `application-form-id/${this.s2Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleOthersList = res.responseData.data;\r\n        this.rationaleOthersList = this.rationaleOthersList.filter(\r\n          (data) => data.others !== \"\"\r\n        );\r\n        console.log(\"RATIONALE LIST\", this.rationaleOthersList);\r\n      });\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.rationaleListS2,\r\n        `application-s2/${this.s2Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleLists = res;\r\n        console.log(\"APPLICATION RATIONALE\", this.rationaleLists);\r\n      });\r\n  }\r\n\r\n  viewReport(id, filename) {\r\n    this.report.filename = filename;\r\n    this.report.format = \"pdf\";\r\n    (this.report.module = \"Form\"),\r\n      (this.report.params = { applicationFormS2Id: id });\r\n    console.log(this.report);\r\n    this.spinner.show();\r\n    this.apiService\r\n      .printReport(ENDPOINTS.generateReports, this.report)\r\n      .subscribe(\r\n        (data: any) => {\r\n          const newBlob = new Blob([data], { type: \"application/pdf\" });\r\n          const downloadURL = URL.createObjectURL(newBlob);\r\n          this.spinner.hide();\r\n          window.open(downloadURL);\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n  }\r\n\r\n  submitAppeal() {\r\n    let endpoint;\r\n    if (this.isAdmin) {\r\n      endpoint = ENDPOINTS.admin + `/s2/verify/appeal`;\r\n    } else if (this.isAdSpecialist) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdSpe + `verify/appeal`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    this.apiService.save(endpoint, this.s2Application).subscribe(\r\n      (res: any) => {\r\n        this.spinner.hide();\r\n        this.sweetAlertService.success(res);\r\n        console.log(\"submitAppeal : \", res.responseData.data);\r\n        this.navigateToS2List();\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  sendDecisionOrStampMaterialManual(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to send this application form?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.s2ManualRelease + `/${this.s2Application.id}`,\r\n            this.s2Application\r\n          )\r\n          .subscribe((res: any) => {\r\n            this.sweetAlertService.customSuccessMessage(res.message);\r\n          });\r\n      }\r\n    });\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <!-- <div class=\"spinner\">\r\n      <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"large\" color=\"#fff\" type=\"line-spin-fade\" [fullScreen]=\"false\">\r\n        <p> {{spinnerMessage}} </p>\r\n      </ngx-spinner>\r\n    </div> -->\r\n    <!-- <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <mat-icon>list_alt</mat-icon> S2 APPLICATION\r\n        </mat-label>\r\n      </div>\r\n    </div> -->\r\n    <table>\r\n      <tr>\r\n        <td class=\"details-title\">Reference Code:</td>\r\n        <td class=\"details\">\r\n          <span>{{\r\n            s2Application?.externalStatus == \"S2_APPLICATION_REJECTED\"\r\n              ? s2Application?.referenceCodeRejected\r\n              : (s2Application?.applicationForm?.referenceCode | uppercase)\r\n          }}</span>\r\n        </td>\r\n        <td>\r\n          <div class=\"action-buttons\">\r\n            <button mat-button class=\"button-red\" (click)=\"accordion.openAll()\">\r\n              <mat-icon>open_in_full</mat-icon>\r\n            </button>\r\n            &nbsp;\r\n            <button\r\n              mat-button\r\n              class=\"button-red\"\r\n              (click)=\"accordion.closeAll()\"\r\n            >\r\n              <mat-icon>close_fullscreen</mat-icon>\r\n            </button>\r\n          </div>\r\n          <button\r\n            class=\"button-right button-red\"\r\n            mat-raised-button\r\n            [routerLink]=\"['/asc/page/application/s2/lists']\"\r\n          >\r\n            <mat-icon>list</mat-icon> VIEW APPLICATIONS\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"details-title\">Status:</td>\r\n        <td class=\"details\">\r\n          <span>{{\r\n            s2Application?.externalStatus?.replaceAll(\"_\", \" \") | uppercase\r\n          }}</span>\r\n        </td>\r\n        <!-- <td class=\"action-buttons\" *ngIf=\"s2Application?.internalStatus=='APPROVED' || s2Application?.internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || s2Application?.internalStatus=='FOR_CLEARANCE_S2_APPLICATION' ||\r\n        s2Application?.internalStatus=='FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER'\"><span\r\n            class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">domain_verification</i> APPLICATION FOR TOA/CLEARANCE</span></td> -->\r\n        <td\r\n          class=\"action-buttons\"\r\n          *ngIf=\"\r\n            s2Application?.amount &&\r\n            s2Application?.submissionType === 'ORIGINAL'\r\n          \"\r\n        >\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">paid</i>\r\n            {{ s2Application?.paymentStatus?.replaceAll(\"_\", \" \") }} : ₱\r\n            {{ s2Application?.amount }}\r\n          </span>\r\n        </td>\r\n        <td class=\"action-buttons\" *ngIf=\"s2Application?.specialClearing\">\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">domain_verification</i> SPECIAL\r\n            CLEARING</span\r\n          >\r\n        </td>\r\n        <td class=\"action-buttons\" *ngIf=\"s2Application?.hasToa\">\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">domain_verification</i> Apply for\r\n            TOA</span\r\n          >\r\n        </td>\r\n        <td\r\n          class=\"action-buttons\"\r\n          *ngIf=\"s2Application?.decisionStatus === 'APPROVED'\"\r\n        >\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">check</i> Valid Until:\r\n            {{ s2Application?.validityDate | date: \"MM/dd/yyyy\" }}</span\r\n          >\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <hr />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (isAdmin || isSuperAdmin || isAdSpecialist) &&\r\n            s2Application?.internalStatus === 'APPROVED'\r\n          \"\r\n          (click)=\"viewReport(s2Application.id, 'S2_Clearance')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> CLEARANCE\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (isAdmin || isSuperAdmin || isAdSpecialist) &&\r\n            s2Application?.internalStatus ===\r\n              'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER'\r\n          \"\r\n          (click)=\"viewReport(s2Application.id, 'S2_Clearance')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> PENDING FORM\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_ADMIN') &&\r\n            (s2Application?.releaseStatus === 'FOR_RELEASE' ||\r\n              s2Application?.releaseStatus === 'RELEASED')\r\n          \"\r\n          (click)=\"sendDecisionOrStampMaterialManual()\"\r\n        >\r\n          <i class=\"material-icons color__white\">send</i> SEND CLEARANCE OR TOA\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <form>\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel>\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Client Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Affiliation and Company details\r\n              <mat-icon>perm_contact_calendar</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-client-information [s2Application]=\"s2Application\">\r\n          </app-client-information>\r\n        </mat-expansion-panel>\r\n\r\n        <mat-expansion-panel>\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Material Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Ads Details\r\n              <mat-icon>ads_click</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n          <app-material-information\r\n            [s1Application]=\"s1Application\"\r\n            [s2Application]=\"s2Application\"\r\n            [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n            [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n            [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"\r\n            [selectedMultimediaList]=\"selectedMultimediaList\"\r\n            [applicationSingleMedia]=\"applicationSingleMedia\"\r\n          >\r\n          </app-material-information>\r\n        </mat-expansion-panel>\r\n\r\n        <!-- PREVIEW -->\r\n        <mat-expansion-panel [expanded]=\"true\">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Final Material\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Audio, Video, or Layout\r\n              <mat-icon>upload</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\" appearance=\"outline\">\r\n              <div class=\"row fields\">\r\n                <h4>\r\n                  <i class=\"material-icons\">upload</i> &nbsp;Final Material\r\n                </h4>\r\n                <br />\r\n\r\n                <!-- FOR COMPLIANCE -->\r\n                <div\r\n                  *ngIf=\"\r\n                    s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                    s2Application?.internalStatus === 'S2_APPLICATION_REJECTED'\r\n                  \"\r\n                >\r\n                  <div class=\"col-md-12\" appearance=\"outline\">\r\n                    <b>FOR COMPLIANCE</b><br />\r\n                    <mat-label *ngIf=\"tempCompliance?.originalFilename\"\r\n                      >Filename:\r\n                    </mat-label>\r\n\r\n                    <input\r\n                      #finalMaterialFileInputC\r\n                      matInput\r\n                      [value]=\"tempCompliance?.originalFilename\"\r\n                      *ngIf=\"tempCompliance?.originalFilename\"\r\n                      disabled\r\n                    />\r\n\r\n                    <input\r\n                      #finalMaterialFileC\r\n                      class=\"file-upload\"\r\n                      *ngIf=\"\r\n                        isApplicant &&\r\n                        (s2Application?.decisionStatus === 'INCOMPLETE' ||\r\n                          s2Application?.internalStatus ===\r\n                            'S2_APPLICATION_REJECTED')\r\n                      \"\r\n                      type=\"file\"\r\n                      accept=\"video/mp4, audio/mp3, image/jpg, image/jpeg, application/pdf, image/gif, image/pdf, image/png\"\r\n                      (change)=\"onAddFile($event)\"\r\n                      [hidden]=\"\r\n                        tempCompliance?.finalMaterialAttachmentReference\r\n                      \"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-md-12\"><br /></div>\r\n                  <div class=\"col-md-12\" appearance=\"outline\">\r\n                    <button\r\n                      mat-raised-button\r\n                      *ngIf=\"tempCompliance?.finalMaterialAttachmentReference\"\r\n                      class=\"button-red button-right\"\r\n                      (click)=\"viewFinalMedia(tempCompliance)\"\r\n                    >\r\n                      <i class=\"material-icons color__white\">open_in_new</i>\r\n                      VIEW MATERIAL\r\n                    </button>\r\n                    &nbsp; &nbsp;\r\n                    <button\r\n                      mat-raised-button\r\n                      class=\"button-red button-right\"\r\n                      (click)=\"deleteUploadedFile2(tempCompliance)\"\r\n                      *ngIf=\"\r\n                        isApplicant &&\r\n                        (s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                          s2Application?.internalStatus ===\r\n                            'S2_APPLICATION_REJECTED') &&\r\n                        tempCompliance?.finalMaterialAttachmentReference\r\n                      \"\r\n                    >\r\n                      <i class=\"material-icons color__white\">delete</i> DELETE\r\n                      ATTACHMENT\r\n                    </button>\r\n                    &nbsp; &nbsp;\r\n                    <button\r\n                      mat-raised-button\r\n                      class=\"button-red button-right\"\r\n                      (click)=\"uploadAudioOrVideo()\"\r\n                      *ngIf=\"isApplicant && safeURLFile\"\r\n                      [hidden]=\"\r\n                        tempCompliance?.finalMaterialAttachmentReference\r\n                      \"\r\n                    >\r\n                      <i class=\"material-icons color__white\">upload</i> UPLOAD\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"row\"><br /><br /></div>\r\n                  <div class=\"row\"><hr /></div>\r\n                </div>\r\n                <!-- END OF FOR COMPLIANCE -->\r\n\r\n                <!-- FOR ORIGINAL ONLY -->\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <!-- <b>{{s2OriginalAttachmentDocuments[0]?.submissionType | uppercase}}</b><br> -->\r\n                  <mat-label\r\n                    *ngIf=\"s2OriginalAttachmentDocuments[0]?.originalFilename\"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #finalMaterialFileInput\r\n                    matInput\r\n                    [value]=\"s2OriginalAttachmentDocuments[0]?.originalFilename\"\r\n                    *ngIf=\"s2OriginalAttachmentDocuments[0]?.originalFilename\"\r\n                    disabled\r\n                  />\r\n\r\n                  <input\r\n                    #finalMaterialFile\r\n                    class=\"file-upload\"\r\n                    *ngIf=\"\r\n                      isApplicant &&\r\n                      (s2Application?.internalStatus === 'SAVED' ||\r\n                        s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                        s2Application?.internalStatus ===\r\n                          'S2_APPLICATION_REJECTED')\r\n                    \"\r\n                    type=\"file\"\r\n                    accept=\"video/mp4, audio/mp3, image/jpg, image/jpeg, application/pdf, image/gif\"\r\n                    (change)=\"onAddFile($event)\"\r\n                    [hidden]=\"\r\n                      s2Application?.decisionStatus === 'INCOMPLETE' ||\r\n                      s2Application?.finalMaterialAttachmentReference\r\n                    \"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-12\"><br /></div>\r\n                <div\r\n                  class=\"col-md-12\"\r\n                  appearance=\"outline\"\r\n                  *ngIf=\"\r\n                    isShowUploadButton ||\r\n                    s2Application?.decisionStatus === 'INCOMPLETE'\r\n                  \"\r\n                >\r\n                  <button\r\n                    mat-raised-button\r\n                    *ngIf=\"\r\n                      s2Application?.finalMaterialAttachmentReference ||\r\n                      s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                      s2Application?.internalStatus ===\r\n                        'S2_APPLICATION_REJECTED'\r\n                    \"\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewFinalMedia(s2OriginalAttachmentDocuments[0])\"\r\n                  >\r\n                    <i class=\"material-icons color__white\">open_in_new</i> VIEW\r\n                    MATERIAL\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"\r\n                      deleteUploadedFile2(s2OriginalAttachmentDocuments[0])\r\n                    \"\r\n                    *ngIf=\"\r\n                      isApplicant &&\r\n                      (s2Application?.internalStatus === 'SAVED' ||\r\n                        s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                        s2Application?.internalStatus ===\r\n                          'S2_APPLICATION_REJECTED') &&\r\n                      s2Application?.finalMaterialAttachmentReference\r\n                    \"\r\n                    [hidden]=\"s2Application?.decisionStatus === 'INCOMPLETE'\"\r\n                  >\r\n                    <i class=\"material-icons color__white\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadAudioOrVideo()\"\r\n                    *ngIf=\"\r\n                      isApplicant &&\r\n                      (s2Application?.internalStatus === 'SAVED' ||\r\n                        s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                        s2Application?.internalStatus ===\r\n                          'S2_APPLICATION_REJECTED') &&\r\n                      !s2Application?.finalMaterialAttachmentReference\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons color__white\">upload</i> UPLOAD\r\n                  </button>\r\n                </div>\r\n                <!-- END OF ORIGINAL ONLY -->\r\n\r\n                <div class=\"col-md-12\"><br /></div>\r\n\r\n                <!---------- EXISTING COMPLIANCE ---------->\r\n                <div *ngIf=\"s2Application?.decisionStatus === 'INCOMPLETE'\">\r\n                  <div class=\"row\"><hr /></div>\r\n                  <h4>\r\n                    <i class=\"material-icons\">bookmark</i> &nbsp;ATTACHMENTS FOR\r\n                    COMPLIANCE\r\n                  </h4>\r\n                  <br />\r\n                  <div\r\n                    class=\"row\"\r\n                    *ngFor=\"\r\n                      let i of s2ComplianceAttachmentDocuments;\r\n                      let index = index\r\n                    \"\r\n                  >\r\n                    <div *ngIf=\"i !== null\">\r\n                      <div class=\"col-md-12\" appearance=\"outline\">\r\n                        <mat-label *ngIf=\"i?.originalFilename\"\r\n                          >Filename:\r\n                        </mat-label>\r\n                        <input\r\n                          #mainInput\r\n                          matInput\r\n                          [value]=\"i?.originalFilename\"\r\n                          disabled\r\n                          *ngIf=\"i?.originalFilename\"\r\n                        /><br />\r\n                      </div>\r\n\r\n                      <div class=\"row\"><br /></div>\r\n                      <div class=\"col-md-12\" appearance=\"outline\">\r\n                        <button\r\n                          mat-raised-button\r\n                          class=\"button-red button-right\"\r\n                          (click)=\"viewFinalMedia(i)\"\r\n                        >\r\n                          <i class=\"material-icons add-document\">open_in_new</i>\r\n                          VIEW DOCUMENT\r\n                        </button>\r\n                        &nbsp; &nbsp;\r\n                        <button\r\n                          mat-raised-button\r\n                          class=\"button-red button-right\"\r\n                          (click)=\"deleteUploadedFile2(i)\"\r\n                          *ngIf=\"i?.status === 'UNPROCESSED'\"\r\n                        >\r\n                          <i class=\"material-icons add-document\">delete</i>\r\n                          DELETE ATTACHMENT\r\n                        </button>\r\n                        &nbsp; &nbsp;\r\n                      </div>\r\n                      <div class=\"col-md-12\"><br /></div>\r\n                      <div class=\"col-md-12\">\r\n                        <hr />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    class=\"no-record\"\r\n                    *ngIf=\"\r\n                      (s2ComplianceAttachmentDocuments?.length === 0 &&\r\n                        s2ComplianceAttachmentDocuments[0]?.originalFilename ===\r\n                          undefined) ||\r\n                      s2ComplianceAttachmentDocuments?.length === null\r\n                    \"\r\n                  >\r\n                    No existing attachments for compliance.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- /////////////////////////////// -->\r\n\r\n              <!-- FOR AD SPE - S2 APP -->\r\n              <!-- <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Valid Until</mat-label>\r\n                <input type=\"tel\" matInput placeholder=\"Search\">\r\n                <mat-icon matSuffix>calendar_today</mat-icon>\r\n              </mat-form-field> -->\r\n            </div>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <!--\r\n\r\n          SUPPORT DOCUMENT\r\n          -->\r\n        <mat-expansion-panel [expanded]=\"true\">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Support Document\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              PDF\r\n              <mat-icon>upload</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n          <app-attachment-document\r\n            [s1Application]=\"s1Application\"\r\n            [labelMainDocument]=\"'Support Document'\"\r\n            [isAscUser]=\"isAscUser\"\r\n            [s2Appplication]=\"s2Application\"\r\n            [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"\r\n            [(s2SupportAttchmentDocuments)]=\"originalAttachmentDocuments\"\r\n            [(sSupportAttchmentDocuments)]=\"originalAttachmentDocuments\"\r\n            [s2DocObservable]=\"s2OriginalAttachmentObservable\"\r\n            [applicationStage]=\"applicationStage\"\r\n            [S2SupportDoc]=\"true\"\r\n          ></app-attachment-document>\r\n\r\n          <!-- \r\n    \r\n                        START UPLOAD SUPPORTING\r\n    \r\n    \r\n                       -->\r\n        </mat-expansion-panel>\r\n        <!-- END SUPPORT -->\r\n\r\n        <app-comment\r\n          *ngIf=\"!isApplicant\"\r\n          [commentS2Application]=\"s2Application\"\r\n        >\r\n        </app-comment>\r\n      </mat-accordion>\r\n\r\n      <!-- ATTACHMENTS FOR STAMPED MATERIAL AND DECISION FORM -->\r\n      <div\r\n        *ngIf=\"\r\n          (isAdmin || isSuperAdmin || isApplicant || isAdSpecialist) &&\r\n          previewAttachmentsList.length\r\n        \"\r\n      >\r\n        <br />\r\n        <div class=\"row fields\">\r\n          <h4>\r\n            <i class=\"material-icons\">label_important</i> &nbsp;Clearance and\r\n            TOA\r\n          </h4>\r\n          <br />\r\n          <app-preview-attachments\r\n            [previewAttachmentsList]=\"previewAttachmentsList\"\r\n            [displayedColumns]=\"previewAttachmentsDisplayedColumns\"\r\n            [dataSource]=\"previewAttachmentsListDataSource\"\r\n          ></app-preview-attachments>\r\n          <div class=\"row\"><br /></div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <hr />\r\n\r\n    <!-- For adSpe only -->\r\n    <div\r\n      class=\"row\"\r\n      [hidden]=\"\r\n        s2Application?.internalStatus ===\r\n          'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n        s2Application?.internalStatus === 'S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n      \"\r\n      [formGroup]=\"s2ApplicationForm\"\r\n    >\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"\r\n          isAdSpecialist || (isAdSpecialist && s2Application?.hasOngoingAppeal)\r\n        \"\r\n      >\r\n        <mat-label>Decision:</mat-label>\r\n        <mat-select\r\n          (selectionChange)=\"setDecisionStatus($event.value)\"\r\n          name=\"decisionStatus\"\r\n          formControlName=\"decisionStatus\"\r\n        >\r\n          <mat-option value=\"APPROVED\">APPROVED</mat-option>\r\n          <mat-option\r\n            *ngIf=\"\r\n              s2Application?.internalStatus !=\r\n              'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER'\r\n            \"\r\n            value=\"INCOMPLETE\"\r\n            >INCOMPLETE</mat-option\r\n          >\r\n          <mat-option value=\"DISAPPROVED\">DISAPPROVED</mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          s2Application?.internalStatus !=\r\n            'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER' &&\r\n          decisionStatus === 'APPROVED'\r\n        \"\r\n      >\r\n        <mat-label>Choose validity date</mat-label>\r\n        <input\r\n          matInput\r\n          placeholder=\"Date\"\r\n          [matDatepicker]=\"validityDate\"\r\n          readonly\r\n          [min]=\"todayDate\"\r\n          [(ngModel)]=\"s2Application.validityDate\"\r\n          name=\"expiresOn\"\r\n          formControlName=\"validityDate\"\r\n          [readonly]=\"true\"\r\n        />\r\n        <mat-datepicker-toggle matSuffix [for]=\"validityDate\">\r\n          <mat-datepicker color=\"warn\" #validityDate></mat-datepicker>\r\n        </mat-datepicker-toggle>\r\n      </mat-form-field>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"rationaleLists?.length > 0 || rationaleOthersList?.length > 0\"\r\n        [hidden]=\"\r\n          rationaleLists?.length === 0 && rationaleOthersList.length === 0\r\n        \"\r\n      >\r\n        <div class=\"col-md-6 rationale\">\r\n          <label>RATIONALE</label>\r\n          <div class=\"rationale-list\" *ngIf=\"rationaleLists.length > 0\">\r\n            <label>Rationale List:</label>\r\n            <div *ngFor=\"let i of rationaleLists\">\r\n              <p>\r\n                <span class=\"material-icons\">help</span>\r\n                {{ i?.typeOfRationale?.rationale }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            class=\"rational-other-comment\"\r\n            *ngIf=\"rationaleOthersList?.length > 0\"\r\n          >\r\n            <label>Other comments:</label>\r\n            <div *ngFor=\"let i of rationaleOthersList\">\r\n              <p><span class=\"material-icons\">help</span> {{ i?.others }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <br />\r\n    <div class=\"row\">\r\n      <b\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          s2Application?.decisionStatus === 'APPROVED' &&\r\n          s2Application?.validityDate === null\r\n        \"\r\n        ><b class=\"material-icons\">error_outline</b> Note: To submit approve\r\n        application, please add validity date.</b\r\n      ><br />\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <!-- ORIGINAL -->\r\n        <button\r\n          *ngIf=\"\r\n            s2Application?.decisionStatus !== 'INCOMPLETE' &&\r\n            s2Application?.internalStatus !== 'S2_APPLICATION_REJECTED'\r\n          \"\r\n          mat-raised-button\r\n          class=\"button-red\"\r\n          (click)=\"saveStatus()\"\r\n          [hidden]=\"\r\n            s2Application?.internalStatus ===\r\n              'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s2Application?.internalStatus ===\r\n              'S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s2Application?.internalStatus === 'APPROVED' ||\r\n            s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION' ||\r\n            s2Application?.internalStatus ==\r\n              'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s2Application?.internalStatus ==\r\n              'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s2Application?.hasOngoingAppeal\r\n          \"\r\n          [disabled]=\"\r\n            s2Application?.finalMaterialAttachmentReference === null ||\r\n            (isAdSpecialist &&\r\n              s2Application?.decisionStatus === 'APPROVED' &&\r\n              s2Application?.validityDate === null)\r\n          \"\r\n        >\r\n          <div *ngIf=\"isApplicant && s2Application?.internalStatus === 'SAVED'\">\r\n            <i class=\"material-icons\">verified</i> SUBMIT\r\n          </div>\r\n          <div *ngIf=\"isEvaluator\">\r\n            <i class=\"material-icons\">verified</i> FORWARD TO AD SPECIALIST\r\n          </div>\r\n          <div *ngIf=\"isAdSpecialist\">\r\n            <i class=\"material-icons\">check</i> SUBMIT\r\n          </div>\r\n        </button>\r\n\r\n        <!-- INCOMPLETE -->\r\n        <button\r\n          mat-raised-button\r\n          *ngIf=\"\r\n            s2Application?.decisionStatus === 'INCOMPLETE' ||\r\n            s2Application?.decisionStatus === 'S2_APPLICATION_REJECTED'\r\n          \"\r\n          class=\"button-red\"\r\n          (click)=\"saveStatusForCompliance()\"\r\n          [disabled]=\"\r\n            !s2Application?.decisionStatus ||\r\n            (isAdSpecialist && decisionStatus === '') ||\r\n            (isAdSpecialist &&\r\n              decisionStatus === 'APPROVED' &&\r\n              s2Application?.validityDate === null) ||\r\n            (isAdSpecialist &&\r\n              (decisionStatus === 'INCOMPLETE' ||\r\n                decisionStatus === 'DISAPPROVED') &&\r\n              rationaleLists.length === 0 &&\r\n              rationaleOthersList.length === 0)\r\n          \"\r\n        >\r\n          <div\r\n            *ngIf=\"isApplicant\"\r\n            [hidden]=\"\r\n              s2Application?.decisionStatus !== 'INCOMPLETE' ||\r\n              s2Application?.internalStatus === 'RE_SUBMITTED_S2_APPLICATION' ||\r\n              s2Application?.internalStatus ===\r\n                'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER'\r\n            \"\r\n          >\r\n            <i class=\"material-icons\">fact_check</i> SUBMIT FOR COMPLIANCE\r\n          </div>\r\n          <div *ngIf=\"isEvaluator\">\r\n            <i class=\"material-icons\">fact_check</i> FORWARD TO AD SPECIALIST\r\n            FOR COMPLIANCE\r\n          </div>\r\n          <div *ngIf=\"isAdSpecialist\">\r\n            <i class=\"material-icons\">fact_check</i> SUBMIT COMPLIANCE\r\n          </div>\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          *ngIf=\"\r\n            isEvaluator &&\r\n            s2Application?.internalStatus != 'FOR_CLEARANCE_S2_APPLICATION'\r\n          \"\r\n          class=\"button-red\"\r\n          (click)=\"\r\n            rejectDisapprovedModal(\r\n              'encoder',\r\n              'reject',\r\n              'S2 APPLICATION REJECTED'\r\n            )\r\n          \"\r\n        >\r\n          <i class=\"material-icons color__white\">cancel</i> REJECT\r\n        </button>\r\n\r\n        <!-- ADMIN / SUPERADMIN - RELEASED -->\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-red\"\r\n          (click)=\"submitAppeal()\"\r\n          *ngIf=\"\r\n            (isAdmin || isSuperAdmin) &&\r\n            s2Application?.externalStatus === 'APPROVED' &&\r\n            s1Application?.releaseStatus === 'RELEASED' &&\r\n            !s1Application?.hasOngoingCompliance &&\r\n            !s1Application?.hasOngoingAppeal\r\n          \"\r\n        >\r\n          <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n          &nbsp;RETURN TO ADSPE FOR APPEAL\r\n        </button>\r\n\r\n        <!-- APPEAL - ADSPE -->\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-red\"\r\n          (click)=\"submitAppeal()\"\r\n          *ngIf=\"isAdSpecialist && s2Application?.hasOngoingAppeal\"\r\n        >\r\n          <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n          &nbsp;VERIFY APPEAL\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"row\">\r\n      <div class=\"col\">\r\n        <button mat-raised-button *ngIf=\"s2Application?.internalStatus == 'APPROVED' ||\r\n         s2Application?.internalStatus == 'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n         s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION' ||\r\n         s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER' \" class=\"button-red\"\r\n          (click)=\"saveStatusForClearance()\" [hidden]=\"\">\r\n          <div *ngIf=\"isApplicant\"><i class=\"material-icons\">fact_check</i> SUBMIT\r\n            APPLICATION FOR CLEARANCE</div>\r\n          <div *ngIf=\"isEvaluator\"><i class=\"material-icons\">fact_check</i> FORWARD\r\n            TO AD SPECIALIST FOR CLEARANCE</div>\r\n          <div *ngIf=\"isAdSpecialist\"><i class=\"material-icons\">fact_check</i>\r\n            SUBMIT CLEARANCE</div>\r\n        </button>\r\n        <button mat-raised-button\r\n          *ngIf=\"isEvaluator && s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION'\"\r\n          class=\"button-red\" (click)=\"rejectApplication()\">\r\n          <i class=\"material-icons color__white\">cancel</i> REJECT\r\n        </button>\r\n      </div>\r\n    </div> -->\r\n\r\n    <!-- <div class=\"row\">\r\n      <div class=\"col\">\r\n        <button mat-raised-button\r\n          *ngIf=\"isApplicant && s2Application?.internalStatus == 'APPROVED' || s2Application?.internalStatus == 'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE'\"\r\n          [hidden]=\"isAdSpecialist\" class=\"button-red\"\r\n          (click)=\"applyApplicationForClearance()\">\r\n          <i class=\"material-icons color__white\">fact_check</i> APPLY FOR TOA\r\n        </button>\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n</form>\r\n","import { Observable, Subject } from \"rxjs\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  Input,\r\n  OnInit,\r\n  ViewChild,\r\n  OnChanges,\r\n  SimpleChanges,\r\n} from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport {\r\n  ATTACHMENT_TYPE,\r\n  APP_DECISION_STATUS,\r\n  SUBMISSION_TYPE,\r\n  APPLICATION_STATUS,\r\n  APPLICATION_STATUS_REVISION,\r\n  APPLICATION_STATUS_FOR_COMPLIANCE,\r\n} from \"@shared\";\r\nimport {\r\n  AttachmentDocument,\r\n  S1Application,\r\n  S2Application,\r\n  UserAccount,\r\n} from \"@models\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport { ENDPOINTS } from \"@shared\";\r\nimport Swal from \"sweetalert2\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n} from \"@angular/material/dialog\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { FileStorageService } from \"app/core/services/file.storage.service\";\r\n\r\n@Component({\r\n  selector: \"app-attachment-document\",\r\n  templateUrl: \"./attachment-document.component.html\",\r\n  styleUrls: [\"./attachment-document.component.scss\"],\r\n})\r\nexport class AttachmentDocumentComponent implements OnInit, OnChanges {\r\n  attachmentDocuments = [];\r\n  @Input() originalAttachmentDocuments = [];\r\n  @Input() revisionAttachmentDocuments = [];\r\n  @Input() complianceAttachmentDocuments = [];\r\n  @Input() s2SupportAttchmentDocuments = [];\r\n  @Input() sSupportAttchmentDocuments = [];\r\n  @Input() s2DocObservable: Subject<any> = new Subject();\r\n  s2SupportDocument: any = {};\r\n  @Input() S2SupportDoc: Boolean = false;\r\n\r\n  tempRevisionAttachmentDocuments = [];\r\n  tempComplianceAttachmentDocuments = [];\r\n\r\n  tabLabel: string = SUBMISSION_TYPE.ORIGINAL;\r\n\r\n  @Input() s2Appplication = new S2Application();\r\n  @Input() s1Application = new S1Application();\r\n  @Input() labelMainDocument = \"\";\r\n  @Input() isAscUser = false;\r\n  @Input() isDisableFieldOnUpdate = false;\r\n  @Input() applicationStage = \"\";\r\n\r\n  showMainDocumentUploadButton = false;\r\n  showMainDocumentUploadButtonR = false;\r\n  showMainDocumentUploadButtonC = false;\r\n\r\n  showMainDocumentViewButton = false;\r\n  showMainDocumentViewButtonR = false;\r\n  showMainDocumentViewButtonC = false;\r\n\r\n  safeURLMainDoc: any;\r\n  safeURLMainDocR: any;\r\n  safeURLMainDocC: any;\r\n\r\n  uploadedFileMain: any;\r\n  @ViewChild(\"mainFile\")\r\n  myMainFile: ElementRef;\r\n  @ViewChild(\"mainInput\")\r\n  myMainInput: ElementRef;\r\n\r\n  showSupportDocumentFrame = false;\r\n  showSupportDocumentFrameR = false;\r\n  showSupportDocumentFrameC = false;\r\n\r\n  showSupportiveDocumentUploadButton = false;\r\n  showSupportiveDocumentUploadButtonR = false;\r\n  showSupportiveDocumentUploadButtonC = false;\r\n\r\n  showSupportiveDocumentViewButton = false;\r\n  showSupportiveDocumentViewButtonR = false;\r\n  showSupportiveDocumentViewButtonC = false;\r\n\r\n  safeURLSupportDoc: any;\r\n  safeURLSupportDocR: any;\r\n  safeURLSupportDocC: any;\r\n\r\n  uploadedFileSupportive: any;\r\n  @ViewChild(\"supportiveFile\")\r\n  mySupportiveFile: ElementRef;\r\n  @ViewChild(\"supportiveInput\")\r\n  mySupportiveInput: ElementRef;\r\n\r\n  revisionLetterAttachment: any;\r\n  showRevisionLetterViewButton = false;\r\n  showRevisionLetterUploadButton = false;\r\n  safeURLRevisionLetter: any;\r\n  uploadedFileRevision: any;\r\n\r\n  @ViewChild(\"revisionLetterFile\")\r\n  myRevisionLetterFile: ElementRef;\r\n  @ViewChild(\"revisionLetterInput\")\r\n  myRevisionLetterInput: ElementRef;\r\n\r\n  todayDate: Date = new Date();\r\n  attachmentType = ATTACHMENT_TYPE.MAIN;\r\n  submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n  mainDocAttachmentSize = 0;\r\n  supportDocAttachmentSize = 0;\r\n  revisionDocAttachmentSize = 0;\r\n  attachmentSizeForUpload: number;\r\n  selectedFiles: FileList;\r\n  currentFileUpload: File;\r\n  progress: { percentage: number } = { percentage: 0 };\r\n\r\n  attachmentDocumentForm: FormGroup;\r\n  id: any;\r\n  currentUser: UserAccount;\r\n  attachmentDocument = new AttachmentDocument();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private dataStorageService: DataStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private apiService: ApiService,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private dialog: MatDialog,\r\n    private sanitizer: DomSanitizer,\r\n    private fileStorageService: FileStorageService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (this.s2SupportAttchmentDocuments.length && this.S2SupportDoc) {\r\n      const s2SupportDocs = this.s2SupportAttchmentDocuments.filter(\r\n        (r) => r.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n      );\r\n\r\n      this.s2SupportDocument =\r\n        s2SupportDocs[this.s1Application.hasNoSupportingDocs ? 0 : 1] ||\r\n        s2SupportDocs[0];\r\n      console.log(\r\n        \"here\",\r\n        this.s2SupportAttchmentDocuments,\r\n        this.s2SupportDocument\r\n      );\r\n    }\r\n  }\r\n\r\n  get submitComplianceEnabled() {\r\n    const hasMain = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.MAIN\r\n      )\r\n    );\r\n    const hasSupportive = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n      )\r\n    );\r\n\r\n    return (\r\n      (hasMain && hasSupportive) ||\r\n      (hasMain && this.s1Application.hasNoSupportingDocs)\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.sSupportAttchmentDocuments);\r\n    this.id = Number(this.route.snapshot.paramMap.get(\"id\"));\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.setFormValidator();\r\n    console.log(\"----1 => \", this.s2Appplication);\r\n    this.s2DocObservable.subscribe((res) => {\r\n      console.log(res, this.s2SupportAttchmentDocuments);\r\n      if (this.s2SupportAttchmentDocuments) {\r\n        if (res.type === \"application\") {\r\n          this.s2Appplication = res.value;\r\n        } else if (res.type === \"document\") {\r\n          console.log(\"s2 document\", res.value);\r\n          this.s2SupportDocument = this.s2SupportAttchmentDocuments.filter(\r\n            (r) => r.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n          )[this.s1Application.hasNoSupportingDocs ? 0 : 1];\r\n        }\r\n      }\r\n    });\r\n\r\n    setTimeout(() => {\r\n      console.log(\"S2222 => \", this.s2SupportAttchmentDocuments);\r\n    }, 5000);\r\n  }\r\n\r\n  validateDeleteBtn(): boolean {\r\n    if (\r\n      this.currentUser.accountType === \"APPLICANT\" &&\r\n      this.s2Appplication.internalStatus &&\r\n      this.s2SupportDocument &&\r\n      this.s2SupportAttchmentDocuments.filter(\r\n        (r) => r.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n      )[this.s1Application.hasNoSupportingDocs ? 0 : 1]\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  changeTab(evt) {\r\n    if (evt.tab) {\r\n      const label = evt.tab.textLabel;\r\n      this.tabLabel = label;\r\n      if (label === \"REVISION\" || label === \"COMPLIANCE\") {\r\n        this.s1Application.hasNoSupportingDocs = false;\r\n      }\r\n    }\r\n  }\r\n  selectS2SupprtDoc(event) {\r\n    console.log(\"================= \", this.s2SupportAttchmentDocuments);\r\n    // checking of file type;\r\n    if (event.target.files[0].type !== \"application/pdf\") {\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment should be in PDF format only.\"\r\n      );\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n\r\n    // getting the file size.\r\n    this.attachmentType = ATTACHMENT_TYPE.SUPPORTIVE;\r\n    console.log(\"S2 Support Doc =>\", event.target.files);\r\n    this.supportDocAttachmentSize = event.target.files[0].size;\r\n\r\n    let attachmentSize =\r\n      this.mainDocAttachmentSize +\r\n      this.supportDocAttachmentSize +\r\n      this.revisionDocAttachmentSize;\r\n\r\n    // file size checking and validation\r\n    if (attachmentSize > 15000000) {\r\n      // 1MB = 1M : FOR INTEGRATION\r\n      this.sweetAlertService.customErrorMessage(\r\n        `Attachments' total file size should not exceed 15MB.`\r\n      );\r\n      event.target.value = \"\";\r\n      return;\r\n    } else {\r\n      // creating document object url\r\n      const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n      this.attachmentSizeForUpload = event.target.files[0].size;\r\n      this.safeURLSupportDoc = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n        pdfURL\r\n      );\r\n      this.showSupportiveDocumentUploadButton = true;\r\n\r\n      const reader = new FileReader();\r\n      const [file] = event.target.files;\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {};\r\n    }\r\n    this.selectedFiles = event.target.files;\r\n  }\r\n  selectFile(event, typeOfDocument) {\r\n    this.attachmentType = typeOfDocument;\r\n    if (event.target.files[0].type === \"application/pdf\") {\r\n      if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n        this.mainDocAttachmentSize = event.target.files[0].size;\r\n      } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n        this.supportDocAttachmentSize = event.target.files[0].size;\r\n      } else if (this.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n        this.revisionDocAttachmentSize = event.target.files[0].size;\r\n      }\r\n      let attachmentSize =\r\n        this.mainDocAttachmentSize +\r\n        this.supportDocAttachmentSize +\r\n        this.revisionDocAttachmentSize;\r\n\r\n      if (attachmentSize > 15000000) {\r\n        // 1MB = 1M : FOR INTEGRATION\r\n        this.sweetAlertService.customErrorMessage(\r\n          `Attachments' total file size should not exceed 15MB.`\r\n        );\r\n        event.target.value = \"\";\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n\r\n        this.attachmentSizeForUpload = event.target.files[0].size;\r\n\r\n        if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n          this.safeURLMainDoc = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n            pdfURL\r\n          );\r\n          this.showMainDocumentUploadButton = true;\r\n        } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n          this.safeURLSupportDoc = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n            pdfURL\r\n          );\r\n          this.showSupportiveDocumentUploadButton = true;\r\n        } else if (this.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n          this.safeURLRevisionLetter = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n            pdfURL\r\n          );\r\n          this.showRevisionLetterUploadButton = true;\r\n        }\r\n\r\n        // original-approved - for revision\r\n        // revision\r\n        if (\r\n          (this.submissionType === SUBMISSION_TYPE.REVISION &&\r\n            this.s1Application.decisionStatus !==\r\n              APP_DECISION_STATUS.INCOMPLETE) ||\r\n          ((this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n            (this.s1Application.decisionStatus ===\r\n              APPLICATION_STATUS.APPROVED ||\r\n              this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\"))\r\n        ) {\r\n          this.safeURLMainDocR = this.safeURLMainDoc;\r\n          this.safeURLSupportDocR = this.safeURLSupportDoc;\r\n\r\n          this.showMainDocumentUploadButtonR = this.showMainDocumentUploadButton;\r\n          this.showSupportiveDocumentUploadButtonR = this.showSupportiveDocumentUploadButton;\r\n\r\n          if (this.tempRevisionAttachmentDocuments.length === 0) {\r\n            this.s1Application.mainAttachmentReference = null;\r\n            this.s1Application.supportingAttachmentReference = null;\r\n            this.s1Application.revisionLetterAttachmentReference = null;\r\n          }\r\n        }\r\n\r\n        // original-incomplete - original\r\n        // revision-incomplete\r\n        // for compliance\r\n        else if (\r\n          this.submissionType === SUBMISSION_TYPE.COMPLIANCE ||\r\n          (this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED &&\r\n            this.s1Application.decisionStatus ===\r\n              APPLICATION_STATUS.INCOMPLETE) ||\r\n          (this.submissionType === SUBMISSION_TYPE.REVISION &&\r\n            this.s1Application.decisionStatus ===\r\n              APP_DECISION_STATUS.INCOMPLETE)\r\n        ) {\r\n          this.safeURLMainDocC = this.safeURLMainDoc;\r\n          this.safeURLSupportDocC = this.safeURLSupportDoc;\r\n\r\n          this.showMainDocumentUploadButtonC = this.showMainDocumentUploadButton;\r\n          this.showSupportiveDocumentUploadButtonC = this.showSupportiveDocumentUploadButton;\r\n\r\n          if (this.tempComplianceAttachmentDocuments.length === 0) {\r\n            this.s1Application.mainAttachmentReference = null;\r\n            this.s1Application.supportingAttachmentReference = null;\r\n            this.s1Application.revisionLetterAttachmentReference = null;\r\n          }\r\n        }\r\n\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {};\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment should be in PDF format only.\"\r\n      );\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadS2SupportDoc() {\r\n    let attachmentType;\r\n    let appFormReference = \"\";\r\n    attachmentType = \"SUPPORTING\";\r\n    this.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to upload the \" +\r\n        attachmentType.replaceAll(\"_\", \" \") +\r\n        \" DOCUMENT?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n\r\n        this.progress.percentage = 0;\r\n        this.currentFileUpload = this.selectedFiles.item(0);\r\n        let params = \"\";\r\n        let appFormRef = \"\";\r\n\r\n        // set appFormReference\r\n        if (this.s2Appplication.appFormReference) {\r\n          console.log(\"------------------------------\");\r\n          appFormRef = `&appFormReference=${this.s2Appplication.appFormReference}`;\r\n        }\r\n\r\n        params = `?&attachmentType=${this.attachmentType}&submissionType=${this.submissionType}${appFormReference}&fileSize=${this.attachmentSizeForUpload}${appFormRef}`;\r\n        this.fileStorageService\r\n          .pushFileToStorage(\r\n            ENDPOINTS.attachmentDocument,\r\n            this.currentFileUpload,\r\n            params\r\n          )\r\n          .subscribe(\r\n            (res) => {\r\n              console.log(this.attachmentType, \" \", res.responseData.data);\r\n\r\n              if (\r\n                !this.s2Appplication.appFormReference ||\r\n                this.s2Appplication.appFormReference === \"\"\r\n              ) {\r\n                this.s2Appplication.appFormReference =\r\n                  res.responseData.data.appFormReference;\r\n                console.log(\r\n                  \"SET APPFORMREF: \",\r\n                  this.s1Application.appFormReference\r\n                );\r\n              }\r\n\r\n              this.uploadedFileSupportive = res.responseData.data;\r\n              this.s2SupportDocAddToAttachmentDocument(\r\n                this.uploadedFileSupportive\r\n              );\r\n              this.showSupportiveDocumentUploadButton = false;\r\n              this.showSupportiveDocumentViewButton = true;\r\n              this.s2Appplication.supportingAttachmentReference = this.uploadedFileSupportive.supportingAttachmentReference;\r\n\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Attachment successfully uploaded.\"\r\n              );\r\n              this.selectedFiles = undefined;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              // actions after subscription\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      } else {\r\n        this.currentFileUpload = null;\r\n      }\r\n    });\r\n    console.log(\"uploaded =======> \", this.s2SupportAttchmentDocuments);\r\n  }\r\n\r\n  uploadDocument() {\r\n    console.log(\"type: \", this.attachmentType);\r\n    let attachmentType;\r\n    let appFormReference = \"\";\r\n    if (\r\n      this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE ||\r\n      this.S2SupportDoc\r\n    ) {\r\n      attachmentType = \"SUPPORTING\";\r\n    } else {\r\n      attachmentType = this.attachmentType;\r\n    }\r\n\r\n    if (!this.S2SupportDoc) {\r\n      // set submission type and appFormReference\r\n      if (\r\n        attachmentType === ATTACHMENT_TYPE.REVISION_LETTER ||\r\n        (this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.decisionStatus === APPLICATION_STATUS.APPROVED ||\r\n            this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\"))\r\n      ) {\r\n        this.submissionType = SUBMISSION_TYPE.REVISION;\r\n        // appFormReference = `&appFormReference=${this.s1Application.appFormReference}`;\r\n      } else if (\r\n        this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n      ) {\r\n        this.submissionType = SUBMISSION_TYPE.COMPLIANCE;\r\n        // appFormReference = `&appFormReference=${this.s1Application.appFormReference}&applicationFormId=${this.s1Application.id}`;\r\n        appFormReference = `&applicationFormId=${this.s1Application.id}`;\r\n      } else {\r\n        this.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n      }\r\n    } else {\r\n      this.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    }\r\n\r\n    console.log(\"NEW SUTYPE: \", this.submissionType);\r\n\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to upload the \" +\r\n        attachmentType.replaceAll(\"_\", \" \") +\r\n        \" DOCUMENT?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n\r\n        this.progress.percentage = 0;\r\n        this.currentFileUpload = this.selectedFiles.item(0);\r\n        let params = \"\";\r\n        let appFormRef = \"\";\r\n\r\n        // set appFormReference\r\n        if (this.s1Application.appFormReference) {\r\n          appFormRef = `&appFormReference=${this.s1Application.appFormReference}`;\r\n        }\r\n        if (this.s2Appplication.appFormReference) {\r\n          appFormRef = `&appFormReference=${this.s2Appplication.appFormReference}`;\r\n        }\r\n\r\n        params = `?&attachmentType=${this.attachmentType}&submissionType=${this.submissionType}${appFormReference}&fileSize=${this.attachmentSizeForUpload}${appFormRef}`;\r\n        this.fileStorageService\r\n          .pushFileToStorage(\r\n            ENDPOINTS.attachmentDocument,\r\n            this.currentFileUpload,\r\n            params\r\n          )\r\n          .subscribe(\r\n            (res) => {\r\n              console.log(this.attachmentType, \" \", res.responseData.data);\r\n\r\n              if (\r\n                !this.s1Application.appFormReference ||\r\n                this.s1Application.appFormReference === \"\"\r\n              ) {\r\n                this.s1Application.appFormReference =\r\n                  res.responseData.data.appFormReference;\r\n                console.log(\r\n                  \"SET APPFORMREF: \",\r\n                  this.s1Application.appFormReference\r\n                );\r\n              }\r\n\r\n              if (!this.S2SupportDoc) {\r\n                if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n                  this.uploadedFileMain = res.responseData.data;\r\n                  this.addToAttachmentDocuments(this.uploadedFileMain);\r\n                  this.showMainDocumentUploadButton = false;\r\n                  this.showMainDocumentViewButton = true;\r\n                  this.showSupportDocumentFrame = true;\r\n                  this.s1Application.mainAttachmentReference = this.uploadedFileMain.mainAttachmentReference;\r\n                } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n                  this.uploadedFileSupportive = res.responseData.data;\r\n                  this.addToAttachmentDocuments(this.uploadedFileSupportive);\r\n                  this.showSupportiveDocumentUploadButton = false;\r\n                  this.showSupportiveDocumentViewButton = true;\r\n                  this.s1Application.supportingAttachmentReference = this.uploadedFileSupportive.supportingAttachmentReference;\r\n                } else if (\r\n                  this.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER\r\n                ) {\r\n                  this.uploadedFileRevision = res.responseData.data;\r\n                  this.addToAttachmentDocuments(this.uploadedFileRevision);\r\n                  this.showRevisionLetterViewButton = true;\r\n                  this.showRevisionLetterUploadButton = false;\r\n                  this.s1Application.revisionLetterAttachmentReference = this.uploadedFileRevision.revisionLetterAttachmentReference;\r\n                  this.revisionLetterAttachment = this.attachmentDocuments.filter(\r\n                    (data) =>\r\n                      data?.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER\r\n                  )[0];\r\n                }\r\n              } else {\r\n                this.uploadedFileSupportive = res.responseData.data;\r\n                this.s2SupportDocAddToAttachmentDocument(\r\n                  this.uploadedFileSupportive\r\n                );\r\n                this.showSupportiveDocumentUploadButton = false;\r\n                this.showSupportiveDocumentViewButton = true;\r\n                this.s2Appplication.supportingAttachmentReference = this.uploadedFileSupportive.supportingAttachmentReference;\r\n              }\r\n\r\n              if (\r\n                (this.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n                  (this.s1Application.decisionStatus ===\r\n                    APPLICATION_STATUS.APPROVED ||\r\n                    this.s1Application.decisionStatus ===\r\n                      \"APPROVED W/ CAUTION\")) ||\r\n                this.submissionType === SUBMISSION_TYPE.REVISION\r\n              ) {\r\n                if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n                  this.showMainDocumentUploadButtonR = this.showMainDocumentUploadButton;\r\n                  this.showMainDocumentViewButtonR = this.showMainDocumentViewButton;\r\n                } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n                  this.showSupportDocumentFrameR = this.showSupportDocumentFrame;\r\n                  this.showSupportiveDocumentUploadButtonR = this.showSupportiveDocumentUploadButton;\r\n                  this.showSupportiveDocumentViewButtonR = this.showSupportiveDocumentViewButton;\r\n                }\r\n              } else if (\r\n                (this.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n                  this.s1Application.decisionStatus ===\r\n                    APP_DECISION_STATUS.INCOMPLETE) ||\r\n                (this.submissionType === SUBMISSION_TYPE.REVISION &&\r\n                  this.s1Application.decisionStatus ===\r\n                    APP_DECISION_STATUS.INCOMPLETE) ||\r\n                this.submissionType === SUBMISSION_TYPE.COMPLIANCE\r\n              ) {\r\n                if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n                  this.showMainDocumentUploadButtonC = this.showMainDocumentUploadButton;\r\n                  this.showMainDocumentViewButtonC = this.showMainDocumentViewButton;\r\n                } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n                  this.showSupportDocumentFrameC = this.showSupportDocumentFrame;\r\n                  this.showSupportiveDocumentUploadButtonC = this.showSupportiveDocumentUploadButton;\r\n                  this.showSupportiveDocumentViewButtonC = this.showSupportiveDocumentViewButton;\r\n                }\r\n              }\r\n\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Attachment successfully uploaded.\"\r\n              );\r\n              this.selectedFiles = undefined;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              // actions after subscription\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      } else {\r\n        this.currentFileUpload = null;\r\n      }\r\n    });\r\n  }\r\n  s2SupportDocAddToAttachmentDocument(obj: any) {\r\n    if (obj.supportingAttachmentReference) {\r\n      this.attachmentDocument.mainAttachmentReference =\r\n        obj.mainAttachmentReference;\r\n      this.attachmentDocument.supportingAttachmentReference =\r\n        obj.supportingAttachmentReference;\r\n      this.attachmentDocument.revisionLetterAttachmentReference =\r\n        obj.revisionLetterAttachmentReference;\r\n      this.attachmentDocument.id = obj.id;\r\n      this.attachmentDocument.originalFilename = obj.originalFilename;\r\n      this.attachmentDocument.filename = obj.filename;\r\n      this.attachmentDocument.fileSize = obj.fileSize;\r\n      this.attachmentDocument.fileExtension = obj.fileExtension;\r\n      this.attachmentDocument.fileURL = obj.fileURL;\r\n      this.attachmentDocument.attachmentType = obj.attachmentType;\r\n      this.attachmentDocument.documentFormat = obj.documentFormat;\r\n      this.attachmentDocument.createdBy = this.currentUser.username;\r\n      this.attachmentDocument.createdDate = this.todayDate;\r\n      console.log(this.attachmentDocuments);\r\n      this.attachmentDocuments[0] = this.attachmentDocument;\r\n      this.s2SupportAttchmentDocuments = this.attachmentDocuments;\r\n      this.s2SupportDocument = obj;\r\n      this.s2SupportAttchmentDocuments.push(obj);\r\n      console.log(\"s2support => \", obj);\r\n\r\n      console.log(this.s2Appplication);\r\n      console.log(\"s2 app\", this.attachmentDocuments);\r\n    }\r\n  }\r\n\r\n  addToAttachmentDocuments(obj: any) {\r\n    if (obj) {\r\n      console.log(\"addToAttachmentDocuments\");\r\n\r\n      if (\r\n        this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n        (this.s1Application.internalStatus === APPLICATION_STATUS.SAVED ||\r\n          this.s1Application.internalStatus === \"\" ||\r\n          this.s1Application.internalStatus === undefined)\r\n      ) {\r\n        this.attachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.originalAttachmentDocuments)\r\n        );\r\n      }\r\n\r\n      this.attachmentDocument.mainAttachmentReference =\r\n        obj.mainAttachmentReference;\r\n      this.attachmentDocument.supportingAttachmentReference =\r\n        obj.supportingAttachmentReference;\r\n      this.attachmentDocument.revisionLetterAttachmentReference =\r\n        obj.revisionLetterAttachmentReference;\r\n      this.attachmentDocument.id = obj.id;\r\n      this.attachmentDocument.originalFilename = obj.originalFilename;\r\n      this.attachmentDocument.filename = obj.filename;\r\n      this.attachmentDocument.fileSize = obj.fileSize;\r\n      this.attachmentDocument.fileExtension = obj.fileExtension;\r\n      this.attachmentDocument.fileURL = obj.fileURL;\r\n      this.attachmentDocument.attachmentType = obj.attachmentType;\r\n      this.attachmentDocument.documentFormat = obj.documentFormat;\r\n      this.attachmentDocument.createdBy = this.currentUser.username;\r\n      this.attachmentDocument.createdDate = this.todayDate;\r\n      console.log(this.attachmentDocuments);\r\n\r\n      if (this.attachmentDocument.attachmentType === \"MAIN\") {\r\n        this.attachmentDocuments[0] = this.attachmentDocument;\r\n      } else if (this.attachmentDocument.attachmentType === \"SUPPORTIVE\") {\r\n        this.attachmentDocuments[1] = this.attachmentDocument;\r\n      } else if (this.attachmentDocument.attachmentType === \"REVISION_LETTER\") {\r\n        this.attachmentDocuments[2] = this.attachmentDocument;\r\n      }\r\n\r\n      if (\r\n        (this.s1Application.submissionType === SUBMISSION_TYPE.REVISION &&\r\n          this.s1Application.decisionStatus !==\r\n            APP_DECISION_STATUS.INCOMPLETE) ||\r\n        (this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.decisionStatus === APPLICATION_STATUS.APPROVED ||\r\n            this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\"))\r\n      ) {\r\n        // this.revisionAttachmentDocuments = this.attachmentDocuments;\r\n        this.tempRevisionAttachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.attachmentDocuments)\r\n        );\r\n      } else if (\r\n        this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n      ) {\r\n        this.complianceAttachmentDocuments = this.attachmentDocuments;\r\n        this.tempComplianceAttachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.attachmentDocuments)\r\n        );\r\n      } else {\r\n        this.originalAttachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.attachmentDocuments)\r\n        );\r\n      }\r\n\r\n      console.log(this.attachmentDocuments);\r\n      this.attachmentDocument = new AttachmentDocument();\r\n    } else {\r\n      this.spinner.hide();\r\n      console.log(\"Null attachment.\");\r\n      this.myMainFile.nativeElement.value = null;\r\n      this.myMainInput.nativeElement.value = null;\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment cannot be uploaded.\"\r\n      );\r\n    }\r\n  }\r\n\r\n  viewS2SupportDoc() {\r\n    console.log(\"uploaded\", this.uploadedFileSupportive);\r\n    console.log(\"uploaded\", this.attachmentDocuments);\r\n    console.log(\"s2Upport\", this.s2SupportAttchmentDocuments);\r\n    console.log(\"s2\", this.s2Appplication);\r\n    console.log(\"s1\", this.s1Application);\r\n    // console.log(\"S2 SUPPORTIVE\", );\r\n    console.log(\"S2 SUPPORTIVE!! \", this.s2SupportDocument);\r\n    let fileURL: string = this.s2SupportDocument.fileURL;\r\n    window.open(fileURL);\r\n  }\r\n\r\n  openDocument() {}\r\n\r\n  viewDocument(typeOfDocument, isOriginal = true) {\r\n    console.log(this.s1Application.submissionType, typeOfDocument);\r\n\r\n    if (this.tabLabel === SUBMISSION_TYPE.ORIGINAL) {\r\n      this.attachmentDocuments = JSON.parse(\r\n        JSON.stringify(this.originalAttachmentDocuments)\r\n      );\r\n\r\n      console.log(this.attachmentDocuments);\r\n    } else if (\r\n      this.tabLabel === SUBMISSION_TYPE.REVISION &&\r\n      this.s1Application.decisionStatus !== APP_DECISION_STATUS.INCOMPLETE\r\n    ) {\r\n      this.attachmentDocuments = JSON.parse(\r\n        JSON.stringify(this.revisionAttachmentDocuments)\r\n      );\r\n    } else if (\r\n      this.tabLabel === SUBMISSION_TYPE.COMPLIANCE ||\r\n      this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n    ) {\r\n      this.attachmentDocuments = JSON.parse(\r\n        JSON.stringify(this.complianceAttachmentDocuments)\r\n      );\r\n    }\r\n\r\n    if (typeOfDocument === ATTACHMENT_TYPE.MAIN) {\r\n      console.log(isOriginal, this.uploadedFileMain);\r\n      if (this.uploadedFileMain && !isOriginal) {\r\n        window.open(this.uploadedFileMain.fileURL);\r\n      } else {\r\n        window.open(this.attachmentDocuments[0].fileURL);\r\n      }\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n      if (this.uploadedFileSupportive && !isOriginal) {\r\n        window.open(this.uploadedFileSupportive.fileURL);\r\n      } else {\r\n        const supportiveDoc = this.attachmentDocuments.filter(\r\n          (res) => res.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n        )[0];\r\n        window.open(supportiveDoc.fileURL);\r\n      }\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n      if (this.uploadedFileRevision && !isOriginal) {\r\n        window.open(this.uploadedFileRevision.fileURL);\r\n      } else {\r\n        // const revisionLetterDoc = this.revisionLetterAttachment;\r\n        const revisionLetterDoc = this.attachmentDocuments.filter(\r\n          (res) => res.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER\r\n        )[0];\r\n        window.open(revisionLetterDoc.fileURL);\r\n      }\r\n    }\r\n  }\r\n\r\n  viewDocument2(i) {\r\n    console.log(i);\r\n    window.open(i?.fileURL);\r\n  }\r\n\r\n  deleteUploadedFile2(obj) {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        if (\r\n          obj.submissionType === SUBMISSION_TYPE.REVISION &&\r\n          obj.decisionStatus !== APP_DECISION_STATUS.INCOMPLETE\r\n        ) {\r\n          this.revisionAttachmentDocuments = this.revisionAttachmentDocuments.filter(\r\n            (data) => data?.id !== obj.id\r\n          );\r\n        } else if (\r\n          obj.submissionType === SUBMISSION_TYPE.COMPLIANCE ||\r\n          obj.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n        ) {\r\n          this.complianceAttachmentDocuments = this.complianceAttachmentDocuments.filter(\r\n            (data) => data?.id !== obj.id\r\n          );\r\n        }\r\n        this.apiService\r\n          .save(ENDPOINTS.attachmentDocument + `/id/${obj.id}`, null)\r\n          .subscribe(\r\n            (res) => {\r\n              this.spinner.hide();\r\n              console.log(\"Attachment successfully deleted.\");\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteS2SupportDoc() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        if (\r\n          this.s2Appplication.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s2Appplication.internalStatus === APPLICATION_STATUS.SAVED ||\r\n            this.s2Appplication.internalStatus === \"\" ||\r\n            this.s2Appplication.internalStatus === undefined)\r\n        ) {\r\n          this.attachmentDocuments = this.s2SupportAttchmentDocuments;\r\n        }\r\n        let id = this.s2SupportAttchmentDocuments.filter(\r\n          (r) => r.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n        )[this.s1Application.hasNoSupportingDocs ? 0 : 1].id;\r\n        this.supportDocAttachmentSize = 0;\r\n        // this.attachmentDocuments[this.s1Application.hasNoSupportingDocs? 0 : 1] = null;\r\n        this.s2SupportDocument = null;\r\n        this.s2Appplication.supportingAttachmentReference = null;\r\n\r\n        // this.showSupportiveDocumentViewButton = false;\r\n        // this.showSupportiveDocumentUploadButton = false;\r\n        // this.mySupportiveFile.nativeElement.value = null;\r\n        // this.mySupportiveInput.nativeElement.value = null;\r\n        // this.s1Application.supportingAttachmentReference = null;\r\n        console.log(\"result\", result, id);\r\n\r\n        this.apiService\r\n          .save(ENDPOINTS.attachmentDocument + `/id/${id}`, null)\r\n          .subscribe(\r\n            (res) => {\r\n              this.spinner.hide();\r\n              console.log(\"Attachment successfully deleted.\");\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUploadedFile(documentType) {\r\n    console.log(\"DELETE...\");\r\n\r\n    let currentSubType = SUBMISSION_TYPE.ORIGINAL;\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let id = \"\";\r\n        // this.spinner.show();\r\n\r\n        // new appform - original\r\n        if (\r\n          this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.internalStatus === APPLICATION_STATUS.SAVED ||\r\n            this.s1Application.internalStatus === \"\" ||\r\n            this.s1Application.internalStatus === undefined)\r\n        ) {\r\n          this.attachmentDocuments = this.originalAttachmentDocuments;\r\n        }\r\n\r\n        // approved - original = for revision\r\n        else if (\r\n          this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n          (this.s1Application.decisionStatus === APPLICATION_STATUS.APPROVED ||\r\n            this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\")\r\n        ) {\r\n          this.attachmentDocuments = this.tempRevisionAttachmentDocuments;\r\n          currentSubType = SUBMISSION_TYPE.REVISION;\r\n        }\r\n\r\n        // incomplete - original = for compliance\r\n        // incomplete - compliance = for compliance\r\n        // incomplete - revision = for compliance\r\n        else if (\r\n          this.s1Application.decisionStatus === APPLICATION_STATUS.INCOMPLETE &&\r\n          (this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_REVISION.REVISION_SCREENED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS.S1_APPLICATION_REJECTED)\r\n        ) {\r\n          this.attachmentDocuments = this.tempComplianceAttachmentDocuments;\r\n          currentSubType = SUBMISSION_TYPE.COMPLIANCE;\r\n        }\r\n        console.log(this.attachmentDocuments);\r\n        console.log(\"currentSubType \", currentSubType);\r\n\r\n        if (documentType === ATTACHMENT_TYPE.MAIN) {\r\n          id = this.attachmentDocuments[0].id;\r\n          this.mainDocAttachmentSize = 0;\r\n          this.attachmentDocuments[0] = null;\r\n          this.s1Application.mainAttachmentReference = null;\r\n          this.showMainDocumentViewButton = false;\r\n          this.myMainFile.nativeElement.value = null;\r\n          this.myMainInput.nativeElement.value = null;\r\n          this.showSupportDocumentFrame = false;\r\n          this.showMainDocumentUploadButton = false;\r\n          this.s1Application.mainAttachmentReference = null;\r\n        } else if (documentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n          id = this.attachmentDocuments[1].id;\r\n          this.supportDocAttachmentSize = 0;\r\n          this.attachmentDocuments[1] = null;\r\n          // this.attachmentDocuments[1].originalFilename = null;\r\n          this.s1Application.supportingAttachmentReference = null;\r\n          this.showSupportiveDocumentViewButton = false;\r\n          this.showSupportiveDocumentUploadButton = false;\r\n          this.mySupportiveFile.nativeElement.value = null;\r\n          this.mySupportiveInput.nativeElement.value = null;\r\n          this.s1Application.supportingAttachmentReference = null;\r\n        } else {\r\n          id = this.attachmentDocuments[2].id;\r\n          this.revisionDocAttachmentSize = 0;\r\n          this.attachmentDocuments[2] = null;\r\n          // this.attachmentDocuments[2].originalFilename = null;\r\n          this.revisionLetterAttachment = null;\r\n          this.s1Application.revisionLetterAttachmentReference = null;\r\n          this.showRevisionLetterViewButton = false;\r\n          this.showRevisionLetterUploadButton = false;\r\n          this.myRevisionLetterFile.nativeElement.value = null;\r\n          // this.myRevisionLetterInput.nativeElement.value = null;\r\n          // this.attachmentDocuments = this.attachmentDocuments.filter((doc) =>\r\n          //   !doc.attachmentType.includes(ATTACHMENT_TYPE.REVISION_LETTER));\r\n        }\r\n\r\n        console.log(this.attachmentDocuments);\r\n\r\n        if (currentSubType === SUBMISSION_TYPE.REVISION) {\r\n          this.tempRevisionAttachmentDocuments = this.attachmentDocuments;\r\n        } else if (currentSubType === SUBMISSION_TYPE.COMPLIANCE) {\r\n          this.tempComplianceAttachmentDocuments = this.attachmentDocuments;\r\n        } else {\r\n          this.originalAttachmentDocuments = this.attachmentDocuments;\r\n        }\r\n\r\n        if (\r\n          // new - original\r\n          this.s1Application.internalStatus === undefined ||\r\n          this.s1Application.internalStatus === APPLICATION_STATUS.SAVED ||\r\n          // reviewed - approved - for revision\r\n          ((this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n            (this.s1Application.decisionStatus ===\r\n              APPLICATION_STATUS.APPROVED ||\r\n              this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\")) ||\r\n          // reviewed - incomplete - for compliance\r\n          // incomplete - incomplete - for compliance\r\n          ((this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n            this.s1Application.decisionStatus === APPLICATION_STATUS.INCOMPLETE)\r\n        ) {\r\n          console.log(\"Trigger delete...\");\r\n\r\n          this.apiService\r\n            .save(ENDPOINTS.attachmentDocument + `/id/${id}`, null)\r\n            .subscribe(\r\n              (res) => {\r\n                this.spinner.hide();\r\n                console.log(\"Attachment successfully deleted.\");\r\n              },\r\n              (err: any) => {\r\n                this.spinner.hide();\r\n                this.sweetAlertService.error(err);\r\n              }\r\n            );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  verifyNoDocumentAttached() {\r\n    this.s1Application.supportingAttachmentReference =\r\n      this.s1Application.supportingAttachmentReference === null ? \"\" : null;\r\n    this.safeURLSupportDoc = null;\r\n  }\r\n\r\n  setFormValidator() {\r\n    this.attachmentDocumentForm = this.formBuilder.group({\r\n      attachmentReference: [\"\"],\r\n      hasNoSupportingDocs: [\"\"],\r\n      typeOfMedium: [\"\"],\r\n      mediumExecution: [\"\"],\r\n      language: [\"\"],\r\n      dialect: [\"\"],\r\n      others: [\"\"],\r\n      sizeLength: [\"\"],\r\n      width: [\"\"],\r\n\r\n      multimediaLength: [\"\"],\r\n      multimediaSize: [\"\"],\r\n      applicationSingleMedia: [\"\"],\r\n      applicationMultimediaStatic: [\"\"],\r\n      applicationMultimediaMoving: [\"\"],\r\n    });\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <b\r\n    *ngIf=\"\r\n      currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n      applicationStage === 'S1-APPLICATION'\r\n    \"\r\n    ><b class=\"material-icons\">error_outline</b> Attachments' total file size\r\n    should not exceed 15MB.</b\r\n  >\r\n\r\n  <form [formGroup]=\"attachmentDocumentForm\">\r\n    <mat-tab-group\r\n      mat-align-tabs=\"center\"\r\n      class=\"mat-tab-group\"\r\n      (selectedTabChange)=\"changeTab($event)\"\r\n    >\r\n      <mat-tab label=\"SUPPORT DOCUMENT\" *ngIf=\"S2SupportDoc\">\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>SUPPORT DOCUMENT</label>\r\n            <div class=\"row\">\r\n              <!-- <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;{{labelMainDocument}}\r\n              </h4> -->\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label *ngIf=\"s2SupportDocument\">Filename: </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  [value]=\"s2SupportDocument?.originalFilename\"\r\n                  disabled\r\n                  *ngIf=\"s2SupportDocument\"\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectS2SupprtDoc($event)\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    s2SupportDocument?.originalFilename != null\r\n                  \"\r\n                  *ngIf=\"\r\n                    s2SupportAttchmentDocuments?.length >= 0 ||\r\n                    (originalAttachmentDocuments?.length >= 1 &&\r\n                      originalAttachmentDocuments[0] === null) ||\r\n                    s1Application?.internalStatus == 'SAVED' ||\r\n                    originalAttachmentDocuments[0]?.originalFilename != null\r\n                  \"\r\n                />\r\n              </div>\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewS2SupportDoc()\"\r\n                  *ngIf=\"validateDeleteBtn() || s2SupportDocument\"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteS2SupportDoc()\"\r\n                  *ngIf=\"validateDeleteBtn()\"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                <!-- [hidden]=\"(!showMainDocumentViewButton) ||\r\n                  (currentUser?.userRole?.name!='ROLE_APPLICANT' && currentUser?.userRole?.name!='ROLE_ENCODER') ||\r\n                  (currentUser.userRole.name=='ROLE_ENCODER' && s1Application?.internalStatus !== undefined ) ||\r\n                  applicationStage === 'S2-APPLICATION' || applicationStage === 'S1-Preview' || s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'\" -->\r\n\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"!safeURLSupportDoc\"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"safeURLSupportDoc\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- TAB FOR ORIGINAL -->\r\n      <mat-tab label=\"ORIGINAL\" *ngIf=\"!S2SupportDoc\">\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>ORIGINAL</label>\r\n            <!-- MAIN DOCUMENT -->\r\n            <div class=\"row\">\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                  labelMainDocument ? labelMainDocument : \"MAIN DOCUMENT\"\r\n                }}\r\n              </h4>\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"originalAttachmentDocuments[0]?.originalFilename\"\r\n                  >Filename:\r\n                </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  [value]=\"originalAttachmentDocuments[0]?.originalFilename\"\r\n                  disabled\r\n                  *ngIf=\"originalAttachmentDocuments[0]?.originalFilename\"\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'MAIN')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    originalAttachmentDocuments[0]?.originalFilename != null\r\n                  \"\r\n                  *ngIf=\"\r\n                    originalAttachmentDocuments?.length == 0 ||\r\n                    (originalAttachmentDocuments?.length >= 1 &&\r\n                      originalAttachmentDocuments[0] === null) ||\r\n                    s1Application?.internalStatus == 'SAVED' ||\r\n                    originalAttachmentDocuments[0]?.originalFilename != null\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('MAIN')\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    originalAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('MAIN')\"\r\n                  [hidden]=\"\r\n                    (currentUser?.userRole?.name != 'ROLE_APPLICANT' &&\r\n                      currentUser?.userRole?.name != 'ROLE_ENCODER') ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus !== undefined) ||\r\n                    applicationStage === 'S2-APPLICATION' ||\r\n                    applicationStage === 'S1-Preview' ||\r\n                    s1Application?.decisionStatus == 'APPROVED' ||\r\n                    s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                    s1Application?.decisionStatus == 'INCOMPLETE'\r\n                  \"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    originalAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                <!-- [hidden]=\"(!showMainDocumentViewButton) ||\r\n                  (currentUser?.userRole?.name!='ROLE_APPLICANT' && currentUser?.userRole?.name!='ROLE_ENCODER') ||\r\n                  (currentUser.userRole.name=='ROLE_ENCODER' && s1Application?.internalStatus !== undefined ) ||\r\n                  applicationStage === 'S2-APPLICATION' || applicationStage === 'S1-Preview' || s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'\" -->\r\n\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"!safeURLMainDoc || !showMainDocumentUploadButton\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    (s1Application?.submissionType === 'ORIGINAL' &&\r\n                      (s1Application?.decisionStatus == 'APPROVED' ||\r\n                        s1Application?.decisionStatus ==\r\n                          'APPROVED W/ CAUTION' ||\r\n                        s1Application?.decisionStatus == 'INCOMPLETE'))\r\n                  \"\r\n                  *ngIf=\"\r\n                    originalAttachmentDocuments[0]?.originalFilename == null ||\r\n                    showMainDocumentUploadButton\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- SUPPORTING DOC -->\r\n            <div\r\n              class=\"row\"\r\n              *ngIf=\"\r\n                showSupportDocumentFrame == true ||\r\n                originalAttachmentDocuments?.length > 0\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n              </h4>\r\n\r\n              <!-- Display if no support document was attached -->\r\n              <div\r\n                class=\"col-md-12\"\r\n                appearance=\"outline\"\r\n                [hidden]=\"\r\n                  (isAscUser && isDisableFieldOnUpdate) ||\r\n                  applicationStage === 'S2-APPLICATION'\r\n                \"\r\n                *ngIf=\"\r\n                  ((s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_REVIEWED' ||\r\n                    s1Application?.internalStatus ===\r\n                      'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                    (s1Application?.decisionStatus == 'APPROVED' ||\r\n                      s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                      s1Application?.decisionStatus === 'INCOMPLETE')) ||\r\n                  originalAttachmentDocuments?.length > 0\r\n                \"\r\n              >\r\n                <mat-checkbox\r\n                  (click)=\"verifyNoDocumentAttached()\"\r\n                  [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n                  (checked)=\"(s1Application.hasNoSupportingDocs)\"\r\n                  formControlName=\"hasNoSupportingDocs\"\r\n                  [hidden]=\"\r\n                    originalAttachmentDocuments[1]?.originalFilename ||\r\n                    s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                    s1Application?.internalStatus ===\r\n                      'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                    s1Application?.internalStatus === 'REVISION_SCREENED' ||\r\n                    (s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REJECTED' &&\r\n                      (s1Application?.decisionStatus == 'APPROVED' ||\r\n                        s1Application?.decisionStatus ==\r\n                          'APPROVED W/ CAUTION' ||\r\n                        s1Application?.decisionStatus == 'INCOMPLETE'))\r\n                  \"\r\n                  *ngIf=\"\r\n                    (currentUser.userRole.name == 'ROLE_APPLICANT' &&\r\n                      originalAttachmentDocuments?.length > 0) ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus === undefined)\r\n                  \"\r\n                >\r\n                  I certify that no supporting document is attached to this S1\r\n                  application.</mat-checkbox\r\n                >\r\n                <br />\r\n              </div>\r\n\r\n              <p\r\n                [hidden]=\"\r\n                  originalAttachmentDocuments[1]?.originalFilename ||\r\n                  (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                    s1Application?.internalStatus === undefined)\r\n                \"\r\n                *ngIf=\"\r\n                  isAscUser ||\r\n                  currentUser.userRole.name == 'ROLE_ADMIN' ||\r\n                  currentUser.userRole.name == 'ROLE_SUPER_ADMIN' ||\r\n                  applicationStage === 'S2-APPLICATION' ||\r\n                  applicationStage === 'S1-Preview' ||\r\n                  (s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_REVIEWED' &&\r\n                    (s1Application?.decisionStatus == 'APPROVED' ||\r\n                      s1Application?.decisionStatus ==\r\n                        'APPROVED W/ CAUTION')) ||\r\n                  (s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE') ||\r\n                  (s1Application?.internalStatus === 'REVISION_SCREENED' &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE') ||\r\n                  (currentUser.userRole.name == 'ROLE_APPLICANT' &&\r\n                    s1Application?.hasNoSupportingDocs &&\r\n                    s1Application?.internalStatus !== 'SAVED' &&\r\n                    s1Application?.internalStatus !== undefined)\r\n                \"\r\n              >\r\n                Supporting Document was not submitted.\r\n              </p>\r\n              <div class=\"col-md-12\"><br /></div>\r\n\r\n              <div\r\n                *ngIf=\"\r\n                  !s1Application.hasNoSupportingDocs ||\r\n                  originalAttachmentDocuments[1]?.originalFilename === null\r\n                \"\r\n              >\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label\r\n                    *ngIf=\"originalAttachmentDocuments[1]?.originalFilename\"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #supportiveInput\r\n                    matInput\r\n                    [value]=\"originalAttachmentDocuments[1]?.originalFilename\"\r\n                    disabled\r\n                    *ngIf=\"originalAttachmentDocuments[1]?.originalFilename\"\r\n                  /><br />\r\n\r\n                  <input\r\n                    #supportiveFile\r\n                    class=\"file-upload\"\r\n                    type=\"file\"\r\n                    accept=\".pdf\"\r\n                    (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      s1Application.hasNoSupportingDocs ||\r\n                      originalAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      s1Application?.internalStatus ===\r\n                        'S1_APPLICATION_REVIEWED' ||\r\n                      (s1Application?.internalStatus ===\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' &&\r\n                        (s1Application?.decisionStatus === 'APPROVED' ||\r\n                          s1Application?.decisionStatus ===\r\n                            'APPROVED W/ CAUTION' ||\r\n                          s1Application?.decisionStatus === 'INCOMPLETE')) ||\r\n                      (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                        s1Application?.internalStatus !== undefined) ||\r\n                      s1Application?.submissionType === 'REVISION' ||\r\n                      s1Application?.submissionType === 'COMPLIANCE'\r\n                    \"\r\n                    *ngIf=\"\r\n                      originalAttachmentDocuments?.length == 1 ||\r\n                      (originalAttachmentDocuments?.length > 1 &&\r\n                        originalAttachmentDocuments[1] === null) ||\r\n                      originalAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      !safeURLSupportDoc ||\r\n                      !showSupportiveDocumentUploadButton\r\n                    \"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument('SUPPORTIVE')\"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      originalAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (currentUser?.userRole?.name != 'ROLE_APPLICANT' &&\r\n                        currentUser?.userRole?.name != 'ROLE_ENCODER') ||\r\n                      (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                        s1Application?.internalStatus !== undefined) ||\r\n                      applicationStage === 'S2-APPLICATION' ||\r\n                      applicationStage === 'S1-Preview' ||\r\n                      s1Application?.decisionStatus == 'APPROVED' ||\r\n                      s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                      s1Application?.decisionStatus == 'INCOMPLETE'\r\n                    \"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      originalAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadDocument()\"\r\n                    [disabled]=\"\r\n                      !safeURLSupportDoc || !showSupportiveDocumentUploadButton\r\n                    \"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      (s1Application?.submissionType === 'ORIGINAL' &&\r\n                        (s1Application?.decisionStatus == 'APPROVED' ||\r\n                          s1Application?.decisionStatus ==\r\n                            'APPROVED W/ CAUTION' ||\r\n                          s1Application?.decisionStatus == 'INCOMPLETE'))\r\n                    \"\r\n                    *ngIf=\"showSupportiveDocumentUploadButton\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                  </button>\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <br />\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"no-record\"\r\n              *ngIf=\"\r\n                originalAttachmentDocuments?.length === 0 &&\r\n                originalAttachmentDocuments[0]?.originalFilename === undefined\r\n              \"\r\n            >\r\n              No results found.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n      <!-- END OF TAB FOR ORIGINAL -->\r\n\r\n      <!-- ////////////////////////////////////////// DYNAMIC ////////////////////////////////////////// -->\r\n\r\n      <!-- TAB FOR REVISION -->\r\n      <mat-tab\r\n        label=\"REVISION\"\r\n        *ngIf=\"\r\n          revisionAttachmentDocuments?.length > 0 ||\r\n          ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n            (s1Application?.decisionStatus == 'APPROVED' ||\r\n              s1Application?.decisionStatus === 'APPROVED W/ CAUTION') &&\r\n            applicationStage !== 'S2-APPLICATION')\r\n        \"\r\n      >\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>REVISION</label>\r\n            <!---------- NEW ATTACHMENTS ---------->\r\n\r\n            <!-- MAIN DOCUMENT -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                showSupportDocumentFrameR ||\r\n                tempRevisionAttachmentDocuments?.length > 0 ||\r\n                ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                  (s1Application?.decisionStatus === 'APPROVED' ||\r\n                    s1Application?.decisionStatus === 'APPROVED W/ CAUTION'))\r\n              \"\r\n            >\r\n              <!-- <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;ss{{\r\n                  labelMainDocument ? labelMainDocument : \"MAIN DOCUMENTSS\"\r\n                }}\r\n              </h4> -->\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"\r\n                    tempRevisionAttachmentDocuments?.length > 0 &&\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  >Filename:\r\n                </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  *ngIf=\"!s1Application?.hasOngoingRevision\"\r\n                  [value]=\"tempRevisionAttachmentDocuments[0]?.originalFilename\"\r\n                  disabled\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'MAIN')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    (s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                      s1Application?.internalStatus ===\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                    (s1Application?.decisionStatus === 'APPROVED' ||\r\n                      s1Application?.decisionStatus === 'APPROVED W/ CAUTION')\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('MAIN', false)\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('MAIN')\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"\r\n                    !safeURLMainDocR || !showMainDocumentUploadButtonR\r\n                  \"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"showMainDocumentUploadButtonR\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- SUPPORTING DOC -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                showSupportDocumentFrameR ||\r\n                tempRevisionAttachmentDocuments?.length > 0 ||\r\n                ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                  (s1Application?.decisionStatus === 'APPROVED' ||\r\n                    s1Application?.decisionStatus === 'APPROVED W/ CAUTION'))\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n              </h4>\r\n\r\n              <!-- Display if no support document was attached -->\r\n              <div\r\n                class=\"col-md-12\"\r\n                appearance=\"outline\"\r\n                [hidden]=\"\r\n                  (isAscUser && isDisableFieldOnUpdate) ||\r\n                  applicationStage === 'S2-APPLICATION'\r\n                \"\r\n                *ngIf=\"\r\n                  tempRevisionAttachmentDocuments?.length < 2 ||\r\n                  tempRevisionAttachmentDocuments?.length != 2 ||\r\n                  ((s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_REVIEWED' ||\r\n                    s1Application?.internalStatus ===\r\n                      'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE')\r\n                \"\r\n              >\r\n                <mat-checkbox\r\n                  (click)=\"verifyNoDocumentAttached()\"\r\n                  [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n                  (checked)=\"(s1Application.hasNoSupportingDocs)\"\r\n                  formControlName=\"hasNoSupportingDocs\"\r\n                  [hidden]=\"\r\n                    tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    currentUser.userRole.name == 'ROLE_APPLICANT' ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus === undefined)\r\n                  \"\r\n                >\r\n                  I certify that no supporting document is attached to this S1\r\n                  application.</mat-checkbox\r\n                >\r\n                <br />\r\n              </div>\r\n\r\n              <p\r\n                *ngIf=\"\r\n                  (s1Application?.submissionType === 'REVISION' &&\r\n                    s1Application?.hasNoSupportingDocs &&\r\n                    s1Application?.internalStatus !== undefined &&\r\n                    s1Application?.internalStatus !==\r\n                      'S1_APPLICATION_REVIEWED' &&\r\n                    s1Application?.decisionStatus !== 'INCOMPLETE') ||\r\n                  (s1Application?.hasNoSupportingDocs &&\r\n                    applicationStage === 'S1-Preview')\r\n                \"\r\n              >\r\n                Supporting Document was not submitted.\r\n              </p>\r\n              <div class=\"col-md-12\"><br /></div>\r\n\r\n              <div *ngIf=\"!s1Application?.hasNoSupportingDocs\">\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label\r\n                    *ngIf=\"\r\n                      tempRevisionAttachmentDocuments?.length > 0 &&\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #supportiveInput\r\n                    matInput\r\n                    [value]=\"\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    disabled\r\n                    *ngIf=\"\r\n                      tempRevisionAttachmentDocuments?.length > 0 &&\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  /><br />\r\n\r\n                  <input\r\n                    #supportiveFile\r\n                    class=\"file-upload\"\r\n                    type=\"file\"\r\n                    accept=\".pdf\"\r\n                    (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    *ngIf=\"\r\n                      tempRevisionAttachmentDocuments?.length <= 2 ||\r\n                      (tempRevisionAttachmentDocuments?.length == 2 &&\r\n                        tempRevisionAttachmentDocuments[1] === null) ||\r\n                      s1Application?.internalStatus == 'SAVED' ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      ((s1Application?.internalStatus ==\r\n                        'S1_APPLICATION_REVIEWED' ||\r\n                        s1Application?.internalStatus ==\r\n                          'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                        (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n                          s1Application?.decisionStatus == 'APPROVED' ||\r\n                          s1Application?.decisionStatus ==\r\n                            'APPROVED W/ CAUTION'))\r\n                    \"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument('SUPPORTIVE', false)\"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadDocument()\"\r\n                    [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                    *ngIf=\"showSupportiveDocumentUploadButton\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                  </button>\r\n                  <!-- [disabled]=\"!safeURLSupportDocR||!showSupportiveDocumentUploadButtonR\" -->\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <br />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- FOR REVISION - REVISION LETTER -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                (s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                (s1Application?.decisionStatus == 'APPROVED' ||\r\n                  s1Application?.decisionStatus == 'APPROVED W/ CAUTION')\r\n              \"\r\n              [hidden]=\"\r\n                s1Application?.appliedS2 || applicationStage === 'S1-Preview'\r\n              \"\r\n            >\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;REVISION LETTER\r\n              </h4>\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"\r\n                    revisionLetterAttachment?.originalFilename ||\r\n                    (tempRevisionAttachmentDocuments?.length > 0 &&\r\n                      tempRevisionAttachmentDocuments[1]\r\n                        ?.revisionLetterAttachmentReference)\r\n                  \"\r\n                >\r\n                  Filename:\r\n                </mat-label>\r\n                <input\r\n                  #revisionLetterInput\r\n                  matInput\r\n                  [value]=\"\r\n                    revisionLetterAttachment?.originalFilename ||\r\n                    tempRevisionAttachmentDocuments[1]\r\n                      ?.revisionLetterAttachmentReference ||\r\n                    tempRevisionAttachmentDocuments[2]\r\n                      ?.revisionLetterAttachmentReference\r\n                  \"\r\n                  disabled\r\n                  *ngIf=\"revisionLetterAttachment?.originalFilename\"\r\n                /><br />\r\n\r\n                <input\r\n                  #revisionLetterFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'REVISION_LETTER')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    revisionLetterAttachment?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    tempRevisionAttachmentDocuments?.length == 0 ||\r\n                    s1Application?.internalStatus == 'SAVED' ||\r\n                    ((s1Application?.internalStatus ==\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                      s1Application?.internalStatus ==\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                      (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n                        s1Application?.decisionStatus == 'APPROVED' ||\r\n                        s1Application?.decisionStatus == 'APPROVED W/ CAUTION'))\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('REVISION_LETTER', false)\"\r\n                  *ngIf=\"showRevisionLetterViewButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('REVISION_LETTER')\"\r\n                  [hidden]=\"\r\n                    (currentUser?.userRole?.name != 'ROLE_APPLICANT' &&\r\n                      currentUser?.userRole?.name != 'ROLE_ENCODER') ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus !== undefined) ||\r\n                    applicationStage === 'S2-APPLICATION' ||\r\n                    applicationStage === 'S1-Preview'\r\n                  \"\r\n                  *ngIf=\"showRevisionLetterViewButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"\r\n                    !safeURLRevisionLetter || !showRevisionLetterUploadButton\r\n                  \"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"showRevisionLetterUploadButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"row\"><br /></div>\r\n              <br />\r\n              <br />\r\n            </div>\r\n\r\n            <div class=\"row\"><hr /></div>\r\n\r\n            <!---------- EXISTING ---------->\r\n            <div\r\n              class=\"row\"\r\n              *ngFor=\"let i of revisionAttachmentDocuments; let index = index\"\r\n            >\r\n              <div *ngIf=\"i !== null\">\r\n                <h4>\r\n                  <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                    i?.attachmentType\r\n                      ?.replaceAll(\"SUPPORTIVE\", \"SUPPORTING\")\r\n                      ?.replaceAll(\"_\", \" \")\r\n                  }}\r\n                  DOCUMENT\r\n                </h4>\r\n                <br />\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label *ngIf=\"i?.originalFilename\">Filename: </mat-label>\r\n                  <input\r\n                    #mainInput\r\n                    matInput\r\n                    [value]=\"i?.originalFilename\"\r\n                    disabled\r\n                    *ngIf=\"i?.originalFilename\"\r\n                  /><br />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div\r\n                  class=\"col-md-12\"\r\n                  appearance=\"outline\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    i?.mainAttachmentReference ||\r\n                    i?.supportingAttachmentReference ||\r\n                    i?.revisionLetterAttachmentReference\r\n                  \"\r\n                >\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument2(i)\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile2(i)\"\r\n                    *ngIf=\"i?.status === 'UNPROCESSED'\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\">\r\n                  <hr />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"no-record\"\r\n              *ngIf=\"\r\n                (revisionAttachmentDocuments?.length === 0 &&\r\n                  revisionAttachmentDocuments[0]?.originalFilename ===\r\n                    undefined) ||\r\n                revisionAttachmentDocuments?.length === null\r\n              \"\r\n            >\r\n              No existing attachments for revision.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- TAB FOR COMPLIANCE -->\r\n      <mat-tab\r\n        label=\"COMPLIANCE\"\r\n        *ngIf=\"\r\n          complianceAttachmentDocuments?.length > 0 ||\r\n          ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n            s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n            s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n            s1Application?.decisionStatus == 'INCOMPLETE' &&\r\n            applicationStage !== 'S2-APPLICATION')\r\n        \"\r\n      >\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>COMPLIANCE</label>\r\n            <!---------- NEW ATTACHMENTS ---------->\r\n\r\n            <!-- MAIN DOCUMENT -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                (s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                  s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                  s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n                s1Application?.decisionStatus == 'INCOMPLETE'\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                  labelMainDocument ? labelMainDocument : \"MAIN DOCUMENT\"\r\n                }}\r\n              </h4>\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"\r\n                    tempComplianceAttachmentDocuments?.length > 0 &&\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  >Filename:\r\n                </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  *ngIf=\"\r\n                    !s1Application?.hasOngoingRevision ||\r\n                    tempComplianceAttachmentDocuments?.length == 0\r\n                  \"\r\n                  [value]=\"\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  disabled\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'MAIN')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    (s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                      s1Application?.internalStatus ===\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                      s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                      s1Application?.internalStatus ==\r\n                        'S1_APPLICATION_REJECTED') &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE'\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('MAIN', false)\"\r\n                  [hidden]=\"\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename ===\r\n                    null\r\n                  \"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButtonC ||\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('MAIN')\"\r\n                  [hidden]=\"\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename ===\r\n                    null\r\n                  \"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButtonC ||\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"!safeURLMainDoc || !showMainDocumentUploadButton\"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"showMainDocumentUploadButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- SUPPORTING DOC -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                showSupportDocumentFrameC ||\r\n                tempComplianceAttachmentDocuments?.length > 0 ||\r\n                ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                  s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                  s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n                  s1Application?.decisionStatus == 'INCOMPLETE')\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n              </h4>\r\n\r\n              <!-- Display if no support document was attached -->\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-checkbox\r\n                  (click)=\"verifyNoDocumentAttached()\"\r\n                  [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n                  (checked)=\"(s1Application.hasNoSupportingDocs)\"\r\n                  formControlName=\"hasNoSupportingDocs\"\r\n                  [hidden]=\"\r\n                    tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    currentUser.userRole.name == 'ROLE_APPLICANT' ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus === undefined)\r\n                  \"\r\n                >\r\n                  I certify that no supporting document is attached to this S1\r\n                  application.</mat-checkbox\r\n                >\r\n                <br />\r\n              </div>\r\n\r\n              <p\r\n                *ngIf=\"\r\n                  (s1Application?.submissionType === 'COMPLIANCE' &&\r\n                    s1Application?.hasNoSupportingDocs &&\r\n                    s1Application?.internalStatus !== undefined &&\r\n                    s1Application?.internalStatus !==\r\n                      'S1_APPLICATION_REVIEWED' &&\r\n                    s1Application?.decisionStatus !== 'INCOMPLETE') ||\r\n                  (s1Application?.hasNoSupportingDocs &&\r\n                    applicationStage === 'S1-Preview')\r\n                \"\r\n              >\r\n                Supporting Document was not submitted.\r\n              </p>\r\n              <div class=\"col-md-12\"><br /></div>\r\n\r\n              <div *ngIf=\"!s1Application?.hasNoSupportingDocs\">\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label\r\n                    *ngIf=\"\r\n                      tempComplianceAttachmentDocuments?.length > 0 &&\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #supportiveInput\r\n                    matInput\r\n                    [value]=\"\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    disabled\r\n                    *ngIf=\"\r\n                      tempComplianceAttachmentDocuments?.length > 0 &&\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  /><br />\r\n\r\n                  <input\r\n                    #supportiveFile\r\n                    class=\"file-upload\"\r\n                    type=\"file\"\r\n                    accept=\".pdf\"\r\n                    (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    *ngIf=\"\r\n                      tempComplianceAttachmentDocuments?.length <= 2 ||\r\n                      (tempComplianceAttachmentDocuments?.length == 2 &&\r\n                        tempComplianceAttachmentDocuments[1] === null) ||\r\n                      s1Application?.internalStatus == 'SAVED' ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      ((s1Application?.internalStatus ==\r\n                        'S1_APPLICATION_REVIEWED' ||\r\n                        s1Application?.internalStatus ==\r\n                          'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                        s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                        s1Application?.internalStatus ==\r\n                          'S1_APPLICATION_REJECTED') &&\r\n                        s1Application?.decisionStatus == 'INCOMPLETE')\r\n                    \"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument('SUPPORTIVE', false)\"\r\n                    [hidden]=\"\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename ===\r\n                      null\r\n                    \"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButtonC ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename ===\r\n                      null\r\n                    \"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButtonC ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadDocument()\"\r\n                    [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                    *ngIf=\"showSupportiveDocumentUploadButton\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                  </button>\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <br />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\"><hr /></div>\r\n\r\n            <!---------- EXISTING ---------->\r\n            <div\r\n              class=\"row\"\r\n              *ngFor=\"let i of complianceAttachmentDocuments; let index = index\"\r\n            >\r\n              <div *ngIf=\"i !== null\">\r\n                <h4>\r\n                  <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                    i?.attachmentType\r\n                      ?.replaceAll(\"SUPPORTIVE\", \"SUPPORTING\")\r\n                      ?.replaceAll(\"_\", \" \")\r\n                  }}\r\n                  DOCUMENT\r\n                </h4>\r\n                <br />\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label *ngIf=\"i?.originalFilename\">Filename: </mat-label>\r\n                  <input\r\n                    #mainInput\r\n                    matInput\r\n                    [value]=\"i?.originalFilename\"\r\n                    disabled\r\n                    *ngIf=\"i?.originalFilename\"\r\n                  /><br />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div\r\n                  class=\"col-md-12\"\r\n                  appearance=\"outline\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    i?.mainAttachmentReference ||\r\n                    i?.supportingAttachmentReference ||\r\n                    i?.revisionLetterAttachmentReference\r\n                  \"\r\n                >\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument(i.attachmentType)\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile2(i)\"\r\n                    *ngIf=\"i?.status === 'UNPROCESSED'\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                </div>\r\n                <div class=\"col-md-12\"><br /></div>\r\n                <div class=\"col-md-12\">\r\n                  <hr />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"no-record\"\r\n              *ngIf=\"complianceAttachmentDocuments?.length === 0\"\r\n            >\r\n              No existing attachments for compliance.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n      <!-- END OF TAB FOR COMPLIANCE -->\r\n    </mat-tab-group>\r\n  </form>\r\n</div>\r\n","import { USER_ROLES } from './../../../../shared/utils/constants';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\nimport { S1Application, AttachmentDocument, Payment, PaymentType } from '@models';\r\nimport { ATTACHMENT_TYPE, ENDPOINTS, PAYMENT_STATUS, SUBMISSION_TYPE } from '@shared';\r\nimport { SweetAlertService, DataStorageService, ApiService } from '@services';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport Swal from 'sweetalert2';\r\nimport { FileStorageService } from '../../../../core/services/file.storage.service';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-upload-payment',\r\n  templateUrl: './upload-payment.component.html',\r\n  styleUrls: ['./upload-payment.component.scss']\r\n})\r\nexport class UploadPaymentComponent implements OnInit {\r\n  @Input() s1Application = new S1Application();\r\n  payment = new Payment();\r\n  safeURLProofOfPayment: any;\r\n  selectedFiles: any;\r\n  previewDocument = false;\r\n  attachmentDocument = new AttachmentDocument();\r\n  currentUser: any;\r\n  attachmentDocuments = [];\r\n  isSubmitted = false;\r\n  paymentTypeList = [];\r\n  paymentType : any;\r\n  paymentForm: FormGroup;\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private apiService: ApiService,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log('Upload Payment');\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getPaymentList();\r\n    this.setFormValidator();\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.paymentForm = this.formBuilder.group({\r\n      remarks: ['']\r\n    });\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n\r\n        // env.showSpinner = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadDocument(s1Application) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this PROOF OF PAYMENT?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.PAYMENT + '&submissionType=' + SUBMISSION_TYPE.ORIGINAL;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n        .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            console.log(obj);\r\n            this.s1Application.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.amountDue = s1Application.amount;\r\n            this.payment.applicationForm = s1Application;\r\n            this.payment.appFormReference = s1Application.appFormReference;\r\n            this.payment.filename = obj.filename;\r\n            this.saveProofOfPayment();\r\n            // this.previewDocument = true;\r\n            this.selectedFiles = undefined;\r\n          }, (err: any) => {\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            // actions after subscription\r\n            this.dataStorage.setDisplayProgressbar(false);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  saveProofOfPayment() {\r\n    console.log('Saving payment...');\r\n    this.dataStorage.setDisplayProgressbar(true);\r\n    this.payment.paymentStatus = PAYMENT_STATUS.UNPAID;\r\n    this.s1Application.paymentStatus = PAYMENT_STATUS.UNPAID;\r\n    this.payment.id = 0;\r\n    this.payment.officialReceiptNo = '';\r\n    this.payment.paymentMethod = null;\r\n    console.log('PAYMENT : ', this.payment);\r\n    console.log('S1 ',this.s1Application);\r\n\r\nreturn false\r\n    this.apiService.save(`${ENDPOINTS.applicationFormPresentor}payment-type-id/${this.paymentType.id}/payment/submit`, this.payment)\r\n    .subscribe((res: any) => {\r\n        console.log('SAVED STATUS: ', res.responseData.data);\r\n\r\n      this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(res.responseData.data.fileURL);\r\n      this.router.navigate(['asc/page/application/s1/lists']);\r\n        this.isSubmitted = true;\r\n        this.sweetAlertService.customSuccessMessage('Proof of payment successfully submitted.');\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.sweetAlertService.error(err);\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      }, () => {\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      });\r\n  }\r\n\r\n  getPaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.paymentType).subscribe((res: any) => {\r\n      this.paymentTypeList = res.responseData.data;\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        const creditCardIndex = this.paymentTypeList\r\n          .findIndex((element) => element.paymentDescription === 'Credit Card');\r\n        this.paymentTypeList.splice(creditCardIndex, 1);\r\n      }\r\n    });\r\n  }\r\n  selectedPaymentType(res){\r\n    let pt = new PaymentType();\r\n    pt  = res;\r\n    this.paymentType = pt;\r\n  }\r\n\r\n}\r\n","\r\n  <div class=\"row fields\">\r\n    <h4>\r\n      <i class=\"material-icons\">label_important</i> &nbsp;Proof of Payment\r\n    </h4>\r\n    <br>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Filename: </mat-label><br>\r\n      <input class=\"file-upload\" type=\"file\" accept=\".pdf\" (change)=\"selectFile($event)\" [hidden]=\"isSubmitted==true\"><br><br>\r\n\r\n      <div class=\"col-md-10\">\r\n        <div class=\"col-md-5\" appearance=\"outline\">\r\n          <mat-label>Amount Due:</mat-label>\r\n            <input type=\"text\" [(ngModel)]=\"s1Application.amount\" class=\"form-control amountDue\" [disabled]=\"true\" name=\"amountDue\">\r\n        </div>\r\n        <br>\r\n        <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n          <mat-label>Payment Mode<span class=\"required-field\"> <mat-icon>notification_important</mat-icon>\r\n          </span></mat-label>\r\n          <mat-select [(ngModel)]=\"payment.paymentMethod\" name=\"paymentMethod\">\r\n            <mat-option *ngFor=\"let i of paymentTypeList\" [value]=\"i\" (click)=\"selectedPaymentType(i)\">\r\n              {{i.paymentDescription}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <br>\r\n        <form [formGroup]=\"paymentForm\">\r\n        <div class=\"col-md-12\" appearance=\"outline\">\r\n          <mat-label>Remarks:</mat-label>\r\n          <textarea width=\"20\"  height=\"20\" [(ngModel)]=\"payment.remarks\" class=\"form-control\" name=\"remarks\" formControlName=\"remarks\"></textarea>\r\n        </div>\r\n\r\n</form>\r\n\r\n      </div>\r\n      <br><br>\r\n      <!-- <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\" *ngIf=\"enableUploadButton==true\">\r\n        <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n      </button> -->\r\n    </div>\r\n    <div class=\"col-md-8\" appearance=\"outline\" *ngIf=\"previewDocument==true\">\r\n      <div class=\"file-upload\">\r\n        <object [data]=\"safeURLProofOfPayment\" type=\"application/pdf\" width=\"100%\" height=\"400\">\r\n          <iframe [src]=\"safeURLProofOfPayment\" width=\"100%\" height=\"400\">\r\n            <p>This browser does not support PDF!</p>\r\n          </iframe>\r\n        </object>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\"><br></div>\r\n    <div class=\"col-md-12\" appearance=\"outline\" [hidden]=\"isSubmitted==true\">\r\n        <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument(s1Application)\" *ngIf=\"previewDocument==true\" [disabled]=\"!paymentType\">\r\n            <i class=\"material-icons add-document\">save</i> SUBMIT\r\n        </button>\r\n    </div>\r\n    <div class=\"row\"><br></div>\r\n  </div>\r\n","import { Component, ElementRef, Inject, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { S1Application } from '@models';\r\nimport { ApiService, DataStorageService } from '@services';\r\nimport { APPFORM_TYPE, ENDPOINTS, FORM_TYPE } from '@shared';\r\nimport { NumberOfMultipleApplicationAllowed } from 'app/core/models/numberOfMultipleApplicationAllowed.model';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-s1-form-type',\r\n  templateUrl: './s1-form-type.component.html',\r\n  styleUrls: ['./s1-form-type.component.scss']\r\n})\r\nexport class S1FormTypeComponent implements OnInit {\r\n\r\n  s1Application = new S1Application();\r\n  numberOfMultipleApplicationAllowed = new NumberOfMultipleApplicationAllowed();\r\n  applicationTypeList = [];\r\n  formTypeList = [...FORM_TYPE];\r\n\r\n  s1ApplicationForm: FormGroup;\r\n\r\n  numberOfApplications: number;\r\n  showNumberOfApplications = false;\r\n  isMultiple = false;\r\n  isSpecial = false;\r\n  isPresentation = false;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private dataStorage: DataStorageService,\r\n    private dialog: MatDialog,\r\n    @Optional() public dialogRef: MatDialogRef<S1FormTypeComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.setFormValidator('');\r\n    this.getApplicationTypeList();\r\n    this.s1Application.formType = 'INDIVIDUAL';\r\n    this.getNoOfMultipleApplicationsAllowed();\r\n  }\r\n\r\n  getNoOfMultipleApplicationsAllowed(): void {\r\n    this.apiService.findAll(ENDPOINTS.noOfMultipleApplicationAllowed).subscribe((res: any) => {\r\n      this.numberOfMultipleApplicationAllowed = res.responseData.data[0];\r\n    });\r\n  }\r\n\r\n  getApplicationTypeList() {\r\n    this.s1Application.applicationType = null;\r\n    this.applicationTypeList = [];\r\n    this.apiService.findAll(ENDPOINTS.applicationType).subscribe((res: any) => {\r\n      this.applicationTypeList = res.responseData.data;\r\n    });\r\n  }\r\n\r\n  setAsMultiple() {\r\n    this.isMultiple = !this.isMultiple;\r\n    this.showNumberOfApplications = !this.showNumberOfApplications;\r\n    if (this.isMultiple) {\r\n      this.s1Application.formType = APPFORM_TYPE.MULTIPLE;\r\n      this.setFormValidator('multiple')\r\n    } else {\r\n      this.setFormValidator('');\r\n      this.s1Application.formType = APPFORM_TYPE.INDIVIDUAL;\r\n    }\r\n  }\r\n\r\n  checkType() {\r\n    if (this.s1Application.applicationType.description.toLocaleLowerCase().includes('special')) {\r\n      this.isSpecial = true;\r\n    } else {\r\n      this.isSpecial = false;\r\n    }\r\n\r\n    if (this.isMultiple) {\r\n      this.setFormValidator('multiple');\r\n    }\r\n\r\n  }\r\n\r\n  setFormValidator(apptype): void {\r\n    let formtype;\r\n    if (this.s1Application.formType) {\r\n      formtype = this.s1Application.formType;\r\n    }\r\n\r\n    if (apptype === 'multiple') {\r\n      this.s1ApplicationForm = this.formBuilder.group({\r\n        formType: [formtype, Validators.required],\r\n        applicationType: [this.s1Application.applicationType, Validators.required],\r\n        numberOfApplications: [\r\n          '', [\r\n            Validators.required,\r\n            Validators.min(parseInt(this.numberOfMultipleApplicationAllowed.minimum.toString(), null)),\r\n            Validators.max(parseInt(this.numberOfMultipleApplicationAllowed.maximum.toString(), null))\r\n          ]\r\n        ],\r\n      });\r\n    } else {\r\n      this.s1ApplicationForm = this.formBuilder.group({\r\n        applicationType: [this.s1Application.applicationType, Validators.required],\r\n      });\r\n      this.showNumberOfApplications = false;\r\n    }\r\n  }\r\n\r\n  proceedS1Application(): void {\r\n    if (!this.isMultiple) {\r\n      Swal.fire({\r\n        text: 'Note: The application to be created is an individual application',\r\n        icon: 'info',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'PROCEED'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.navigateToS1Application();\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.navigateToS1Application();\r\n  }\r\n\r\n  navigateToS1Application(): void {\r\n    this.router.navigate(['/asc/page/application/s1/add']);\r\n    const formAndAppType = {\r\n      formType: this.s1Application.formType,\r\n      appType: this.s1Application.applicationType\r\n    }\r\n\r\n    this.dataStorage.setS1FormAndAppType(formAndAppType);\r\n    this.dataStorage.setNumberOfApplications(this.numberOfApplications);\r\n    this.closeModal();\r\n  }\r\n\r\n  setAsForPresentation() {\r\n    this.isPresentation = !this.isPresentation;\r\n    if (this.isPresentation) {\r\n      Swal.fire({\r\n        text: 'Note: Please be present or available during presentation period.',\r\n        icon: 'info',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'PROCEED'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.s1Application.formType = APPFORM_TYPE.FOR_PRESENTATION;\r\n          this.proceedS1Application();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<div id=\"form-type-modal\" class=\"row\" [formGroup]=\"s1ApplicationForm\">\r\n    <h1>New S1 Application</h1>\r\n    <hr>\r\n    <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <mat-select [(ngModel)]=\"s1Application.applicationType\" name=\"applicationType\" formControlName=\"applicationType\"\r\n            [disabled]=\"s1Application?.internalStatus!='SAVED'&&s1Application?.internalStatus!=undefined\" (selectionChange)=\"checkType()\">\r\n            <mat-option *ngFor=\"let i of applicationTypeList\" [value]=\"i\">\r\n                {{i?.description | uppercase}}\r\n            </mat-option>\r\n        </mat-select>\r\n    </mat-form-field>\r\n\r\n    <div class=\"col-md-6\">\r\n      <mat-checkbox (click)=\"setAsMultiple()\" [disabled]=\"isPresentation || s1Application.applicationType === null || s1Application.applicationType === undefined\"\r\n      [ngStyle]=\"{'pointer-events': (isPresentation || s1Application.applicationType === null || s1Application.applicationType === undefined) ? 'none' : ''}\">\r\n      Multiple Application</mat-checkbox>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <mat-checkbox  (click)=\"setAsForPresentation()\" [disabled]=\"isMultiple || (s1Application.applicationType === null || s1Application.applicationType === undefined)\"\r\n      [ngStyle]=\"{'pointer-events': (isMultiple || (s1Application.applicationType === null || s1Application.applicationType === undefined ) ) ? 'none' : ''}\"\r\n      >For Presentation</mat-checkbox>\r\n    </div>\r\n\r\n    <!-- <mat-form-field class=\"col-md-12\" appearance=\"outline\" *ngIf=\"isMultiple\">\r\n      <mat-label>Form Type</mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.formType\" name=\"formType\" formControlName=\"formType\"\r\n      [disabled]=\"s1Application?.internalStatus!='SAVED'&&s1Application?.internalStatus!=undefined\">\r\n      <mat-option *ngFor=\"let i of formTypeList\" [value]=\"i.description\" (click)=\"getApplicationTypeList()\">\r\n        {{i?.description | uppercase}}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field> -->\r\n\r\n  <mat-form-field class=\"col-md-12\" appearance=\"outline\" *ngIf=\"showNumberOfApplications && s1Application?.applicationType?.description\">\r\n    <mat-label>Number of Applications</mat-label>\r\n    <input matInput [(ngModel)]=\"numberOfApplications\" formControlName=\"numberOfApplications\">\r\n    <mat-hint>{{numberOfMultipleApplicationAllowed.minimum}} - {{numberOfMultipleApplicationAllowed.maximum}} only</mat-hint>\r\n  </mat-form-field>\r\n\r\n  <div class=\"col-md-12 mt-2\" *ngIf=\"isMultiple||isSpecial\">\r\n    <i>Note: This application type needs Request for Approval.</i>\r\n  </div>\r\n\r\n  <div class=\"col-md-12\"><br></div>\r\n\r\n  <div class=\"col-md-12 action_items\">\r\n    <button class=\"button-red col-md-5\" mat-raised-button\r\n            (click)=\"proceedS1Application()\" [disabled]=\"!s1ApplicationForm.valid||!s1Application.applicationType\">\r\n            <i class=\"material-icons color__white\">send</i> Proceed\r\n        </button>\r\n\r\n        <button class=\"button-red col-md-5\" mat-raised-button (click)=\"closeModal()\">\r\n            <i class=\"material-icons color__white\">cancel</i> Cancel\r\n        </button>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ReassignmentComponent } from './reassignment.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReassignmentComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ReassignmentRoutingModule { }\r\n","import { AngularEditorConfig } from './../editor/lib/config';\r\nimport { CommentThread } from './../../../../core/models/comments.model';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Component, Inject, Input, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { COMMENT_TYPE, APPFORM_TYPE, APPLICATION_STAGE, APPLICATION_STATUS_FOR_COMPLIANCE, APPLICATION_STATUS } from '@shared';\r\nimport { S1Application, S2Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport Swal from 'sweetalert2';\r\nimport { Comment } from '../../../../core/models/comment.model';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CopyClaims } from 'app/core/models/copy-claims.model';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-comment',\r\n  templateUrl: './comment.component.html',\r\n  styleUrls: ['./comment.component.scss']\r\n})\r\nexport class CommentComponent implements OnInit {\r\n  @Input() commentS1Application = new S1Application();\r\n  @Input() commentS2Application = new S2Application();\r\n  @Input() sampleDataTransfer;\r\n\r\n\r\n  comment = new Comment();\r\n  internalComment:CommentThread = new CommentThread();\r\n  externalComment:CommentThread = new CommentThread();\r\n  copyClaims = new CopyClaims();\r\n  commentForm: FormGroup;\r\n  todayDate: Date = new Date();\r\n  commentList = [];\r\n  internalCommentList:Array<CommentThread> = new Array<CommentThread>();\r\n  externalCommentList:Array<CommentThread> = new Array<CommentThread>();\r\n  replyInternalComment:CommentThread = new CommentThread();\r\n  copyClaimsList = [];\r\n  commentId: number = 0;\r\n  commentTypeList = [...COMMENT_TYPE];\r\n  commentType = '';\r\n  applicationStage: string;\r\n  internalCommentProcess = 'Save';\r\n  externalCommentProcess = 'Save';\r\n  copyClaimesProcess = 'Save';\r\n  id: any;\r\n  commentHtmlOutput: string;\r\n  disabledComment = false;\r\n\r\n  currentUser: any;\r\n  editCopyClaimsComment = false;\r\n  editExternalComment = false;\r\n\r\n  replyEditorConfig: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '13m',\r\n    minHeight: '0',\r\n    maxHeight: 'auto',\r\n    width: 'auto',\r\n    minWidth: '0',\r\n    translate: 'no',\r\n    enableToolbar: true,\r\n    showToolbar: true,\r\n    placeholder: 'Enter reply here...',\r\n    defaultParagraphSeparator: 'p',\r\n    defaultFontName: 'Calibri',\r\n    defaultFontSize: '3',\r\n    fonts: [\r\n      { class: 'arial', name: 'Arial' },\r\n      { class: 'times-new-roman', name: 'Times New Roman' },\r\n      { class: 'calibri', name: 'Calibri' },\r\n      { class: 'comic-sans-ms', name: 'Comic Sans MS' }\r\n    ],\r\n\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    uploadUrl: 'v1/image',\r\n    // upload: (file: File) => { ... }\r\n    uploadWithCredentials: false,\r\n    sanitize: true,\r\n    toolbarPosition: 'top',\r\n    toolbarHiddenButtons: [\r\n      ['link',\r\n        'unlink',\r\n        'insertImage',\r\n        'insertVideo',],\r\n    ]\r\n  }\r\n\r\n  editorConfig: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '15em',\r\n    minHeight: '0',\r\n    maxHeight: 'auto',\r\n    width: 'auto',\r\n    minWidth: '0',\r\n    translate: 'no',\r\n    enableToolbar: true,\r\n    showToolbar: true,\r\n    placeholder: 'Enter text here...',\r\n    defaultParagraphSeparator: 'p',\r\n    defaultFontName: 'Calibri',\r\n    defaultFontSize: '3',\r\n    fonts: [\r\n      { class: 'arial', name: 'Arial' },\r\n      { class: 'times-new-roman', name: 'Times New Roman' },\r\n      { class: 'calibri', name: 'Calibri' },\r\n      { class: 'comic-sans-ms', name: 'Comic Sans MS' }\r\n    ],\r\n\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    uploadUrl: 'v1/image',\r\n    // upload: (file: File) => { ... }\r\n    uploadWithCredentials: false,\r\n    sanitize: true,\r\n    toolbarPosition: 'top',\r\n    toolbarHiddenButtons: [\r\n      ['link',\r\n        'unlink',\r\n        'insertImage',\r\n        'insertVideo',],\r\n    ]\r\n  };\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private dataStorageService: DataStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private apiService: ApiService,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private dialog: MatDialog,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.setFormValidator();\r\n    this.id = Number(this.route.snapshot.paramMap.get('id'));\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    console.log(this.applicationStage);\r\n\r\n    if ((!this.commentS1Application.screenerDecisionComment && !this.commentS1Application.reviewerDecisionComment &&\r\n      (this.commentS1Application.releaseStatus === 'FOR_RELEASE' || this.commentS1Application.releaseStatus === 'RELEASED') &&\r\n      this.currentUser.userRole.name !== 'ROLE_REVIEWER')\r\n      || this.commentS1Application.internalStatus === APPLICATION_STATUS.S1_APPLICATION_REJECTED) {\r\n      this.disabledComment = true;\r\n    }\r\n\r\n\r\n    // if(this.applicationStage != APPLICATION_STAGE.S2_APPLICATION){\r\n    //     this.getComments('');\r\n    // }\r\n    this.getComments();\r\n    this.getCopyClaims();\r\n  }\r\n\r\n  addInternalComment(comment: CommentThread): void {\r\n    let endpoint;\r\n    if (this.applicationStage === APPLICATION_STAGE.S2_APPLICATION) {\r\n      endpoint = ENDPOINTS.commentS2\r\n      this.internalComment.applicationFormType = APPFORM_TYPE.S2;\r\n      this.internalComment.applicationFormS2 = this.commentS2Application;\r\n      console.log('S2 Comment Object', this.internalComment);\r\n    } else {\r\n      endpoint = ENDPOINTS.comment\r\n      this.internalComment.applicationFormType = APPFORM_TYPE.S1;\r\n      this.internalComment.appFormReference = this.commentS1Application.appFormReference;\r\n      console.log('S1 Comment Object', this.internalComment);\r\n    }\r\n\r\n    if (this.internalCommentProcess === 'Save') {\r\n      this.spinner.show();\r\n      comment.actionBy = this.currentUser;\r\n      comment.role = this.dataStorageService.getUserRole();\r\n      comment.actionDate = new Date();\r\n      comment.commentType = 'INTERNAL';\r\n      comment.comment = this.setHtml5Value(comment.comment);\r\n      this.internalCommentList.push(comment);\r\n\r\n      this.apiService.save(endpoint, comment).subscribe(\r\n        (res: any) => {\r\n          console.log('RES', res);\r\n          if (res !== undefined) {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('Internal Comment has been added!');\r\n            this.internalComment = new CommentThread();\r\n            this.getComments();\r\n            this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n          }\r\n        }, (err: any) => {\r\n          this.spinner.hide();\r\n          console.log('errrrrrrrr:::', err);\r\n\r\n          this.sweetAlertService.error(err);\r\n        }, () => {\r\n          this.spinner.hide();\r\n          this.comment = new Comment();\r\n        })\r\n\r\n    } else {\r\n      let dateTransformed = this.datepipe.transform(new Date(), 'yyyy-MM-dd')\r\n\r\n      Swal.fire({\r\n        text: 'Are you sure you want to update this comment?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          // this.internalComment.modifiedBy = this.currentUser.username\r\n          // this.internalComment.modifiedDate = new Date();\r\n          this.internalComment.comment = this.setHtml5Value(this.internalComment.comment);\r\n          this.apiService.update(endpoint, this.internalComment).subscribe(\r\n            (res: any) => {\r\n              // this.internalCommentList = res.responseData.data;\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage('Internal Comment has been Updated!');\r\n              this.internalComment = new CommentThread();\r\n              this.internalCommentProcess = 'Save';\r\n              this.getComments();\r\n              this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  sendReply(comment: CommentThread){\r\n    \r\n    console.log(this.replyInternalComment)\r\n    // this.replyInternalComment.parent = comment;\r\n    this.replyInternalComment.isReply = true;\r\n    this.replyInternalComment.parentId = comment.id;\r\n    this.addInternalComment(this.replyInternalComment);\r\n\r\n  }\r\n  cancelReply(comment: CommentThread){\r\n    comment = new CommentThread();\r\n    comment.replyEditorIsEnabled = false;\r\n  }\r\n\r\n  addExternalComment(): void {\r\n    let endpoint;\r\n    if (this.applicationStage === APPLICATION_STAGE.S2_APPLICATION) {\r\n      endpoint = ENDPOINTS.commentS2\r\n      this.externalComment.applicationFormType = APPFORM_TYPE.S2;\r\n      this.externalComment.applicationFormS2 = this.commentS2Application;\r\n    } else {\r\n      endpoint = ENDPOINTS.comment\r\n      this.externalComment.applicationFormType = APPFORM_TYPE.S1;\r\n      this.externalComment.appFormReference = this.commentS1Application.appFormReference;\r\n    }\r\n\r\n    if (this.externalCommentProcess === 'Save') {\r\n      this.spinner.show();\r\n      this.externalComment.actionBy = this.currentUser;\r\n      this.externalComment.role = this.dataStorageService.getUserRole();\r\n      this.externalComment.actionDate = new Date();\r\n      this.externalComment.commentType = 'EXTERNAL';\r\n      this.externalComment.comment = this.setHtml5Value(this.externalComment.comment);\r\n      this.externalCommentList.push(this.externalComment);\r\n\r\n      this.apiService.save(endpoint, this.externalComment).subscribe(\r\n        (res: any) => {\r\n          if (res !== undefined) {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('External Comment has been added!');\r\n            this.externalComment = new CommentThread();\r\n            this.editExternalComment = false;\r\n            this.getComments();\r\n            this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n          }\r\n        }, (err: any) => {\r\n          this.spinner.hide();\r\n          console.log('errrrrrrrr:::', err);\r\n\r\n          this.sweetAlertService.error(err);\r\n        }, () => {\r\n          this.spinner.hide();\r\n          this.comment = new Comment();\r\n        })\r\n\r\n    } else {\r\n      let dateTransformed = this.datepipe.transform(new Date(), 'yyyy-MM-dd')\r\n\r\n      Swal.fire({\r\n        text: 'Are you sure you want to update this comment?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          // this.externalComment.modifiedBy = this.currentUser.username;\r\n          // this.externalComment.modifiedDate = new Date();\r\n          this.externalComment.comment = this.setHtml5Value(this.externalComment.comment);\r\n          this.apiService.update(endpoint, this.externalComment).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              // this.externalCommentList = res.responseData.data;\r\n              this.sweetAlertService.customSuccessMessage('External Comment has been Updated!');\r\n              this.externalComment = new CommentThread();\r\n              this.externalCommentProcess = 'Save'\r\n              this.editExternalComment = false;\r\n              this.getComments();\r\n              this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  addCopyClaims(): void {\r\n    if (this.copyClaimesProcess === 'Save') {\r\n      this.spinner.show();\r\n      this.copyClaims.actionBy = this.currentUser;\r\n      this.copyClaims.role = this.dataStorageService.getUserRole();\r\n      this.copyClaims.actionDate = new Date();\r\n      this.copyClaims.appFormReference = this.commentS1Application.appFormReference;\r\n      this.copyClaims.description = this.setHtml5Value(this.copyClaims.description);\r\n\r\n      this.apiService.save(ENDPOINTS.copyClaims, this.copyClaims).subscribe(\r\n        (res: any) => {\r\n          if (res !== undefined) {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('Copy claims description has been added!');\r\n            this.copyClaims = new CopyClaims();\r\n            this.getCopyClaims();\r\n            this.editCopyClaimsComment = false;\r\n          }\r\n        }, (err: any) => {\r\n          this.spinner.hide();\r\n          // console.log('errrrrrrrr:::', err);\r\n\r\n          this.sweetAlertService.error(err);\r\n        }, () => {\r\n          this.spinner.hide();\r\n          this.copyClaims = new CopyClaims();\r\n        })\r\n    } else {\r\n      Swal.fire({\r\n        text: 'Are you sure you want to update copy claim?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          this.copyClaims.description = this.setHtml5Value(this.copyClaims.description);\r\n          this.apiService.update(ENDPOINTS.copyClaims, this.copyClaims).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage('Copy claims description has been Updated!');\r\n              this.copyClaims = new CopyClaims();\r\n              this.copyClaimesProcess = 'Save'\r\n              this.editCopyClaimsComment = false;\r\n              this.getCopyClaims();\r\n\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  getComments(): void { // comments for S1\r\n    if (this.commentS1Application) {\r\n      this.apiService.findByParam(ENDPOINTS.comment + '/app-form-reference', this.commentS1Application.appFormReference).subscribe(\r\n        (res: any) => {\r\n          this.commentList = res.responseData.data;\r\n          // get internal comments\r\n          this.internalCommentList = this.commentList.filter(internalComment => internalComment.commentType === 'INTERNAL');\r\n          console.log('INTERNAL', this.internalCommentList);\r\n          // get external comments\r\n          this.externalCommentList = this.commentList.filter(externalComment => externalComment.commentType === 'EXTERNAL');\r\n          console.log('EXTERNAL', this.externalCommentList);\r\n          this.spinner.hide();\r\n        }, (err: any) => {\r\n        });\r\n    }\r\n  }\r\n\r\n  getCommentsS2(data): void { // comments for S2\r\n    if (data) {\r\n      this.apiService.findByParam(ENDPOINTS.commentS2 + '/application-form-s2', data.id).subscribe(\r\n        (res: any) => {\r\n          this.commentList = res.responseData.data;\r\n          // get internal comments\r\n          this.internalCommentList = this.commentList.filter(internalComment => internalComment.commentType === 'INTERNAL');\r\n          // get external comments\r\n          this.externalCommentList = this.commentList.filter(externalComment => externalComment.commentType === 'EXTERNAL');\r\n        }, (err: any) => {\r\n        });\r\n    }\r\n  }\r\n\r\n  getCopyClaims(): void {\r\n    this.apiService.findByParam(ENDPOINTS.copyClaims + '/app-form-reference', this.commentS1Application.appFormReference).subscribe(\r\n      (res: any) => {\r\n        this.copyClaimsList = res.responseData.data;\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n  modifyCopyClaims(data) {\r\n    this.copyClaimesProcess = 'Update';\r\n    this.copyClaims = data;\r\n    this.editCopyClaimsComment = true;\r\n    this.getCopyClaims();\r\n  }\r\n\r\n  modifyInternalComment(data): void {\r\n    this.internalCommentProcess = 'Update';\r\n    this.internalComment = data;\r\n    this.getComments();\r\n    this.getCommentsS2(data);\r\n  }\r\n\r\n  deleteComment(data): void {\r\n    let endpoint;\r\n    if (this.applicationStage === APPLICATION_STAGE.S2_APPLICATION) {\r\n      endpoint = ENDPOINTS.commentS2\r\n    } else {\r\n      endpoint = ENDPOINTS.comment\r\n    }\r\n    Swal.fire({\r\n      text: 'Are you sure you want to delete this comment?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService.deleteById(endpoint, data.id).subscribe(\r\n          (res: any) => {\r\n            if (data?.applicationFormType === 'S1') {\r\n              this.getComments();\r\n            } else {\r\n              this.getCommentsS2(data);\r\n            }\r\n            this.sweetAlertService.customSuccessMessage('Comment has been Deleted!');\r\n          }, (err: any) => {\r\n            this.spinner.hide()\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteCopyClaims(data): void {\r\n\r\n    Swal.fire({\r\n      text: 'Are you sure you want to delete this copy claims?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.apiService.deleteById(ENDPOINTS.copyClaims, data.id).subscribe(\r\n          (res: any) => {\r\n            this.sweetAlertService.customSuccessMessage('Copy claim has been Deleted!');\r\n            this.getCopyClaims();\r\n          }, (err: any) => {\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  modifyExternalComment(data): void {\r\n    this.externalCommentProcess = 'Update';\r\n    this.externalComment = data;\r\n    this.editExternalComment = true;\r\n    this.getComments();\r\n    this.getCommentsS2(data);\r\n  }\r\n\r\n  cancel(): void {\r\n    this.internalComment = new CommentThread();\r\n    this.externalComment = new CommentThread();\r\n    this.copyClaims = new CopyClaims();\r\n    this.internalCommentProcess = 'Save';\r\n    this.externalCommentProcess = 'Save';\r\n    this.copyClaimesProcess = 'Save';\r\n    this.editCopyClaimsComment = false;\r\n    this.editExternalComment = false;\r\n    this.getComments();\r\n    this.getCopyClaims();\r\n\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.commentForm = this.formBuilder.group({\r\n      internalComments: [''],\r\n      externalComments: [''],\r\n      commentType: [''],\r\n      description: [''],\r\n    });\r\n  }\r\n\r\n  setHtml5Value(commentBody: any) {\r\n    this.commentHtmlOutput = \"<!DOCTYPE html><html lang=\" + \"en\" + \"><meta charset=\" + \"utf-8\" + \"><body>\" + commentBody + \"</body></html>\"\r\n    return this.commentHtmlOutput;\r\n  }\r\n\r\n}\r\n","<form [formGroup]=\"commentForm\">\r\n  <mat-tab-group mat-align-tabs=\"center\" class=\"mat-tab-group\">\r\n    <!-- TAB FOR INTERNAL COMMENTS -->\r\n    <mat-tab label=\"Internal Comments Tab\">\r\n      <div class=\"mat-tab\">\r\n        <div class=\"col comment\">\r\n          <label>INTERNAL</label>\r\n          <angular-editor #editorToolBar [(ngModel)]=\"internalComment.comment\" [config]=\"editorConfig\" name=\"internalComments\"\r\n          formControlName=\"internalComments\"\r\n          [hidden]=\"disabledComment\"></angular-editor><br>\r\n\r\n          <div class=\"\">\r\n            <button mat-raised-button color=\"primary\" (click)=\"addInternalComment(internalComment)\" [disabled]=\"!internalComment.comment\"\r\n            [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">comment_bank</i> &nbsp;{{internalCommentProcess}}\r\n            </button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"cancel()\" [disabled]=\"!internalComment.comment\"\r\n            [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">cancel</i> &nbsp;Cancel\r\n            </button>\r\n            <div >\r\n              <!-- CURRENT COMMENT -->\r\n              <div class=\"comment-list\">\r\n                <form class=\"comments\" *ngFor=\"let comment of internalCommentList\">\r\n                  <div class=\"row username-content\">\r\n                    <p> <i class=\"material-icons\">comment</i> {{comment?.actionBy?.firstName}}\r\n                      {{comment.actionBy.lastName}}<b> ({{comment.role.replaceAll('_', ' ').replaceAll('ROLE' , '')}}) |\r\n                        {{comment.actionDate | date:'fullDate'}} | {{comment.actionDate | date:'hh:mm:ss aa'}} </b>\r\n  \r\n                      <b *ngIf=\"comment?.modifiedBy != undefined && comment?.modifiedDate != undefined\"> | Modified by:\r\n                        {{comment.modifiedBy}} ({{comment.modifiedDate}}) </b>\r\n  \r\n                      <span class=\"a-icon\" *ngIf=\"comment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                      [hidden]=\"disabledComment\">\r\n                        <i class=\"material-icons\" (click)=\"deleteComment(comment)\" matTooltip=\"Delete\">delete</i>\r\n                      </span>\r\n                      <span class=\"a-icon\" *ngIf=\"comment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                        [hidden]=\"disabledComment\">\r\n                        <i class=\"material-icons\" style=\"color:blue\" (click)=\"modifyInternalComment(comment)\" matTooltip=\"Edit\">edit</i>\r\n                      </span>\r\n  \r\n                    </p>\r\n                  </div>\r\n                  <div class=\"comment-content\">\r\n                    <div [innerHTML]=\"comment.comment\"></div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n\r\n\r\n              <!-- CURRENT COMMENT END -->\r\n\r\n              <!-- NEW COMMENT IMPL -->\r\n              \r\n              <!-- NEW COMMENT IMPL END -->\r\n              <div class=\"no-record\" *ngIf=\"internalCommentList.length==0 && disabledComment\">\r\n                No results found.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n    <!-- END OF TAB FOR INTERNAL COMMENTS -->\r\n\r\n    <!-- TAB FOR COPY CLAIMS -->\r\n    <mat-tab label=\"Copy Claims Tab\"\r\n      *ngIf=\"currentUser?.userRole?.name != 'ROLE_ENCODER' && commentS1Application.appliedS2 === false\">\r\n      <div class=\"col comment\">\r\n        <label>COPY/CLAIMS</label>\r\n        <div class=\"\">\r\n          <ng-container *ngIf=\"editCopyClaimsComment || (!editCopyClaimsComment && copyClaimsList?.length === 0)\">\r\n            <angular-editor [(ngModel)]=\"copyClaims.description\" [config]=\"editorConfig\" name=\"description\"\r\n              formControlName=\"description\"\r\n              [hidden]=\"disabledComment\">\r\n            </angular-editor><br>\r\n            <button mat-raised-button color=\"primary\" (click)=\"addCopyClaims()\" [disabled]=\"!copyClaims.description\"\r\n              [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">comment_bank</i> &nbsp;{{copyClaimesProcess}}\r\n            </button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"cancel()\" [disabled]=\"!copyClaims.description\"\r\n              [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">cancel</i> &nbsp;Cancel\r\n            </button>\r\n          </ng-container>\r\n          <div class=\"comment-list\">\r\n            <form class=\"comments\" *ngFor=\"let copyClaims of copyClaimsList\">\r\n              <div class=\"row username-content\">\r\n                <p> <i class=\"material-icons color__white\">comment</i> {{copyClaims?.actionBy?.firstName}}\r\n                  {{copyClaims.actionBy.lastName}}<b> ({{copyClaims.role.replaceAll('_', ' ').replaceAll('ROLE', '')}})\r\n                    | {{copyClaims.actionDate | date:'fullDate'}} | {{copyClaims.actionDate | date:'hh:mm:ss aa'}} </b>\r\n\r\n                    <b *ngIf=\"copyClaims?.modifiedBy != undefined && copyClaims?.modifiedDate != undefined\"> | Modified by:\r\n                      {{copyClaims.modifiedBy}} ({{copyClaims.modifiedDate}}) </b>\r\n\r\n                    <!-- <span class=\"a-icon\" *ngIf=\"copyClaims?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                    [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" (click)=\"deleteCopyClaims(copyClaims)\" matTooltip=\"Delete\">delete</i>\r\n                    </span> -->\r\n                    <span class=\"a-icon\" *ngIf=\"copyClaims?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                      [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" style=\"color:blue\" (click)=\"modifyCopyClaims(copyClaims)\" matTooltip=\"Edit\">edit</i>\r\n                    </span>\r\n              </div>\r\n              <div class=\"comment-content\">\r\n                <div [innerHTML]=\"copyClaims.description\"></div>\r\n              </div>\r\n            </form>\r\n            <div class=\"no-record\"\r\n              *ngIf=\"copyClaimsList.length==0 && disabledComment\">\r\n              No results found.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n    <!-- END OF TAB FOR COPY CLAIMS -->\r\n\r\n    <!-- TAB FOR EXTERNAL COMMENTS -->\r\n    <mat-tab label=\"External Comments Tab\">\r\n      <div class=\"col comment\">\r\n        <label>EXTERNAL</label>\r\n        <div class=\"\">\r\n          <ng-container *ngIf=\"editExternalComment || (!editExternalComment && externalCommentList?.length === 0)\">\r\n            <angular-editor [(ngModel)]=\"externalComment.comment\" [config]=\"editorConfig\" name=\"externalComments\"\r\n              formControlName=\"externalComments\"\r\n              [hidden]=\"commentS2Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              (disabledComment)\">\r\n            </angular-editor><br>\r\n            <button mat-raised-button color=\"primary\" (click)=\"addExternalComment()\" [disabled]=\"!externalComment.comment\"\r\n              [hidden]=\"commentS2Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              (disabledComment)\">\r\n              <i class=\"material-icons\">comment_bank</i> &nbsp;{{externalCommentProcess}}\r\n            </button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"cancel()\" [disabled]=\"!externalComment.comment\"\r\n              [hidden]=\"commentS2Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              (disabledComment)\">\r\n              <i class=\"material-icons\">cancel</i> &nbsp;Cancel\r\n            </button>\r\n          </ng-container>\r\n          <div class=\"comment-list\">\r\n            <form class=\"comments\" *ngFor=\"let excomment of externalCommentList\">\r\n              <div class=\"row username-content\">\r\n                <p> <i class=\"material-icons\">comment</i> {{excomment?.actionBy?.firstName}}\r\n                  {{excomment.actionBy.lastName}}<b> ({{excomment.role.replaceAll('_', ' ').replaceAll('ROLE' , '')}}) |\r\n                    {{excomment.actionDate | date:'fullDate'}} | {{excomment.actionDate | date:'hh:mm:ss aa'}} </b>\r\n\r\n                    <b *ngIf=\"excomment?.modifiedBy != undefined && excomment?.modifiedDate != undefined\"> | Modified by:\r\n                      {{excomment.modifiedBy}} ({{excomment.modifiedDate}}) </b>\r\n\r\n                    <!-- <span class=\"a-icon\" *ngIf=\"excomment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                    [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" (click)=\"deleteComment(excomment)\" matTooltip=\"Delete\">delete</i>\r\n                    </span> -->\r\n                    <span class=\"a-icon\" *ngIf=\"excomment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                      [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" style=\"color:blue\" (click)=\"modifyExternalComment(excomment)\" matTooltip=\"Edit\">edit</i>\r\n                    </span>\r\n                  </p>\r\n              </div>\r\n              <div class=\"comment-content\">\r\n                <div class=\"inner-html\" [innerHTML]=\"excomment.comment\"></div>\r\n              </div>\r\n            </form>\r\n            <div class=\"no-record\"\r\n              *ngIf=\"externalCommentList.length==0 && disabledComment\">\r\n              No results found.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n    <!-- END OF TAB FOR EXTERNAL COMMENTS -->\r\n  </mat-tab-group>\r\n</form>\r\n","import { S2Application, UserAccount } from '@models';\r\nexport class CommentThread {\r\n    id:                  number;\r\n    appFormReference:    string;\r\n    applicationFormType: string;\r\n    comment:             string;\r\n    actionBy:            UserAccount;\r\n    commentType:         string;\r\n    role:                string;\r\n    actionDate:          Date;\r\n    isReply:             boolean;\r\n    replies:             Array<CommentThread>;\r\n    parentId:            number;\r\n    parent:              any;\r\n    replyEditorIsEnabled: boolean;\r\n    applicationFormS2: S2Application;\r\n    constructor(){\r\n        this.parent = {};\r\n        this.replyEditorIsEnabled = false;\r\n        this.isReply = false;\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AddCompanyRoutingModule } from './add-company-routing.module';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { AddCompanyComponent } from './add-company.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ AddCompanyComponent ],\r\n  imports: [\r\n    CommonModule,\r\n    AddCompanyRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    AngularMaterialModule,\r\n  ]\r\n})\r\nexport class AddCompanyModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { S2Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { APPLICATION_STATUS, ENDPOINTS, FORM_STATUS, ROLES, SUBMISSION_TYPE, USER_ROLES } from '@shared';\r\nimport { ApplicationRequest } from 'app/core/models/application-request.model';\r\nimport { ApplicationCountS2 } from 'app/core/models/applicationCountS2.model';\r\nimport { MultipleApplication } from 'app/core/models/multiple-application.model';\r\nimport { CommonServices } from 'app/core/services/common-services.service';\r\nimport { RequestForSpecialClearingComponent } from 'app/modules/fragments/request-for-special-clearing/request-for-special-clearing.component';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-list-s2-application',\r\n  templateUrl: './list-s2-application.component.html',\r\n  styleUrls: ['./list-s2-application.component.scss']\r\n})\r\nexport class ListS2ApplicationComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginatorFalse: MatPaginator;\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n  pageSize = 10;\r\n  pageNo = 0;\r\n  pageSizeOptions: number[] = [10, 20, 50];\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<S2Application>;\r\n  dataSource: MatTableDataSource<S2Application>; // in html but not existing in component -- encountered during 'ng serve --aot'\r\n  displayedColumns = ['referenceCode', 'typeOfApplication', 'companyName', 'brand', 'typeOfMedium', 'status', 'internalStatus', 'icon'];\r\n  s2ApplicationList = [];\r\n  s2TotalItems = 0;\r\n  isAscUser: boolean = false\r\n\r\n  // For clearance list\r\n  forClearanceDataSource: MatTableDataSource<S2Application>;\r\n  s2ApplicationListForClearance = [];\r\n  forClearanceDisplayedColumns = ['referenceCode', 'typeOfApplication', 'companyName', 'brand', 'typeOfMedium', 'status', 'icon'];\r\n  s2SpecialTotalItems = 0;\r\n\r\n  s2SpecialApplicationDataSource: MatTableDataSource<MultipleApplication>;\r\n  s2SpecialApplicationList = []\r\n  s2SpecialApplicationDisplayedColumns = ['adTitle', 'typeOfApplication', 'companyName', 'brand', 'status'];\r\n\r\n  applicationRequest = new ApplicationRequest();\r\n\r\n  currentUser: any;\r\n  viewApplicationType: string;\r\n  applicationTypeTitle: string;\r\n  currentPage = 1;\r\n  // currentSize = 100;\r\n  originalTabDataCount = 0;\r\n  complianceTabDataCount = 0;\r\n  releasedAppealTabDataCount = 0;\r\n  toaTabDataCount = 0;\r\n  click = 0;\r\n  timeLeft: number = 60;\r\n  interval: any;\r\n  refreshButtonEnabled = true;\r\n  timerDisplay: any;\r\n  isTimerValueDisplay = false;\r\n  s2ApplicationCountList = [];\r\n\r\n  displayedContent = 'ORIGINAL';\r\n\r\n  s2Application = new S2Application();\r\n  applicationCountS2 = new ApplicationCountS2();\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n  isAdSpecialist = false;\r\n  isEvaluator = false;\r\n  ascUserRoleList = [...ROLES.filter((role: any) => role.ascUser === true).map((role: any) => role.role)];\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dataStorage: DataStorageService,\r\n    private router: Router,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dialog: MatDialog,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private commonService: CommonServices\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isAscUser = this.ascUserRoleList.includes(this.dataStorage.getUserRole());\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.viewApplicationType = this.route.parent.snapshot.url[0].path;\r\n    this.getListCount();\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.displayedColumns = ['referenceCode', 'typeOfApplication', 'companyName', 'brand', 'typeOfMedium', 'status', 'icon'];\r\n    }\r\n\r\n    if (this.viewApplicationType === 'special') {\r\n      this.applicationTypeTitle = 'SPECIAL CLEARING';\r\n      this.getSpecialS2ApplicationList();\r\n    } else {\r\n      this.applicationTypeTitle = 'INDIVIDUAL';\r\n      this.getList();\r\n    }\r\n\r\n    this.initUserRole();\r\n  }\r\n\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n\r\n  getListCount(): void {\r\n    let endpoint;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.badgeCountByApplicationOwnerS2;\r\n    } else {\r\n      endpoint = ENDPOINTS.badgeCountByAscUserS2;\r\n    }\r\n    this.apiService.findAll(endpoint + this.currentUser.id).subscribe(\r\n      (res: any) => {\r\n        this.applicationCountS2 = res;\r\n      })\r\n  }\r\n\r\n  getList(submissionType = 'ORIGINAL'): void {\r\n\r\n    this.currentPage = this.pageNo;\r\n    this.currentPage++;\r\n    if (this.currentPage === 0) this.currentPage++;\r\n    let param = submissionType.toUpperCase();\r\n\r\n    if (param === SUBMISSION_TYPE.COMPLIANCE && this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      param = `&complianceForm=true`;\r\n    } else if (param === SUBMISSION_TYPE.COMPLIANCE && this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT) {\r\n      param = `&complianceForm=true`;\r\n    } else if (param === SUBMISSION_TYPE.TOA) {\r\n      param = `&hasToa=true`;\r\n    } else {\r\n      param = `&submissionType=${param}&complianceForm=false`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    let endpoint = `custom/search?page=${this.currentPage}&size=${this.pageSize}${param}`;\r\n\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormPresentor + endpoint + `&applicationOwnerId=${this.currentUser.id}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormEncoder + endpoint + `&assignedEncoderId=${this.currentUser.id}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdSpe + endpoint + `&assignedAdSpecialistId=${this.currentUser.id}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN || this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdmin + endpoint;\r\n    } else {\r\n      endpoint = ENDPOINTS.s2Application + endpoint + `&applicationOwnerId=${this.currentUser.id}`;\r\n    }\r\n\r\n    // console.log(endpoint);\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.s2ApplicationList = res.data;\r\n\r\n        this.s2TotalItems = res.totalItems;\r\n        console.log('s2ApplicationList: ', res);\r\n        this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n        this.hideSpinner();\r\n      }, (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    )\r\n  }\r\n\r\n  hideSpinner() {\r\n    setTimeout(() => {\r\n      this.spinner.hide();\r\n    }, 1);\r\n  }\r\n\r\n  getSpecialS2ApplicationList(): void {\r\n    let endpoint = ''; let obj;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN || this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      obj = {\r\n        statuses: ['FOR_APPROVAL', 'APPROVED', 'DISAPPROVED']\r\n      }\r\n      endpoint = ENDPOINTS.s2SpecialClearingApplicationRequestsAdmin;\r\n    } else {\r\n      obj = {\r\n        applicationOwnerId: this.currentUser.id,\r\n        statuses: ['FOR_APPROVAL', 'APPROVED', 'DISAPPROVED']\r\n      }\r\n      endpoint = ENDPOINTS.s2SpecialClearingApplicationRequests;\r\n    }\r\n\r\n    this.currentPage = this.pageNo;\r\n    this.currentPage++;\r\n    if (this.currentPage === 0) this.currentPage++;\r\n\r\n    this.apiService.save(`${endpoint}?page=${this.currentPage}&size=${this.pageSize}`, obj)\r\n      .subscribe((res: any) => {\r\n        this.s2SpecialApplicationList = res.data;\r\n\r\n        console.log('s2SpecialApplicationList: ', res);\r\n        this.s2SpecialTotalItems = res.totalItems;\r\n        this.s2SpecialApplicationDataSource = new MatTableDataSource<MultipleApplication>(this.s2SpecialApplicationList);\r\n        this.s2SpecialApplicationDataSource.paginator = this.paginator;\r\n        this.s2SpecialApplicationDataSource.sort = this.sort;\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }, (err: any) => {\r\n        this.spinner.hide();\r\n      });\r\n  }\r\n\r\n\r\n  pageEvents(event: any) {\r\n    this.pageSize = event.pageSize;\r\n\r\n    if (event.pageIndex > this.pageNo) {\r\n      this.pageNo++;\r\n    } else {\r\n      this.pageNo--;\r\n    }\r\n\r\n    if (event.pageSize > event.length) {\r\n      this.pageNo = 0;\r\n    }\r\n\r\n    this.getList();\r\n  }\r\n\r\n  setPageSizeOptions(setPageSizeOptionsInput: string) {\r\n    if (setPageSizeOptionsInput) {\r\n      this.pageSizeOptions = setPageSizeOptionsInput.split(',').map(str => +str);\r\n    }\r\n  }\r\n\r\n  viewApplication(data: any): void {\r\n    this.s2Application = data;\r\n    console.log('S2 FORM: ', this.s2Application);\r\n\r\n    if (data.formStatus === FORM_STATUS.OPEN && this.s2Application.internalStatus !== APPLICATION_STATUS.S1_APPLICATION_REJECTED\r\n      && (this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT && this.currentUser.userRole.name !== USER_ROLES.ROLE_ADMIN\r\n        && this.currentUser.userRole.name !== USER_ROLES.ROLE_SUPER_ADMIN\r\n        && this.currentUser.userRole.name !== USER_ROLES.ROLE_AD_SPECIALIST) // s2form will be assigned to s1form adspe\r\n    ) {\r\n      Swal.fire({\r\n        text: 'Are you sure you want to open this application? This application will be LOCKED on your account.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          this.s2Application.assignedEncoder = this.currentUser;\r\n          // wait for BE\r\n          this.apiService.save(ENDPOINTS.s2ApplicationFormEncoder + ENDPOINTS.takeApplication, this.s2Application).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage('Application successfully assigned to you.', 3);\r\n              this.router.navigate(['asc/page/application/s2/update/', data.id]);\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n      });\r\n    } else {\r\n      this.router.navigate(['asc/page/application/s2/update/', data.id]);\r\n    }\r\n\r\n  }\r\n\r\n  applyApplicationForToa(data: any): void {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to apply this application to TOA?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService.save(ENDPOINTS.s2ApplicationForm + 'clearance/presentor/submit', data).subscribe(\r\n          (res: any) => {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('Application is applied for TOA successfully');\r\n            this.router.navigateByUrl('asc/page/application/s2/lists');\r\n          }, (err: any) => {\r\n            this.spinner.hide();\r\n          });\r\n      }\r\n    })\r\n  }\r\n\r\n  viewSpecialApplication(data: any): void {\r\n    this.applicationRequest = data;\r\n    this.s2Application = new S2Application();\r\n    this.s2Application.specialClearing = true;\r\n    this.s2Application.applicationForm = data;\r\n\r\n    let dialogRef;\r\n    dialogRef = this.dialog.open(RequestForSpecialClearingComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        applicationRequest: this.applicationRequest,\r\n        applicationType: 'Request for Special Clearing'\r\n      }\r\n    });\r\n  }\r\n\r\n  doFilterS1MultipleApplicationList(event) { } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  getCompany(elementId) { } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  doFilter(event) { } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  changeTab(evt) {\r\n    if (evt.tab) {\r\n      this.displayedContent = evt.tab.textLabel;\r\n      if (this.displayedContent === 'For Appeal') {\r\n        this.getForDecisionAndComment();\r\n      } else {\r\n        this.getList(this.displayedContent);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  getForDecisionAndComment() {\r\n    let endpoint = '';\r\n\r\n    // APPEAL\r\n    if (this.isAdSpecialist) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdSpe + `custom/search?assignedAdSpecialistId=${this.currentUser.id}&hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}&submissionType=ORIGINAL`;\r\n    }\r\n    else if (this.isAdmin || this.isSuperAdmin) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdmin + `custom/search?hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}`;\r\n    }\r\n\r\n    this.apiService.findAll(endpoint)\r\n      .subscribe((res: any) => {\r\n        if (res) {\r\n          this.s2ApplicationList = res?.data;\r\n          console.log('Appeal: ', this.s2ApplicationList);\r\n\r\n          this.s2TotalItems = res.totalItems;\r\n          this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n          this.dataSource.paginator = this.paginatorFalse;\r\n          this.dataSource.sort = this.sort;\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        } else {\r\n          this.s2ApplicationList = [];\r\n        }\r\n      }, (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      });\r\n  }\r\n\r\n  sortEvent() {\r\n    this.click++;\r\n    if (this.click % 2 === 0) {\r\n      this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.sort((a, b) => a.id - b.id);\r\n    } else {\r\n      this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.reverse();\r\n    }\r\n    // for random sort\r\n    // this.dataSource.data.sort(() => Math.random() - 0.5)\r\n  }\r\n\r\n  refresh() {\r\n    this.commonService.sendClickEvent();\r\n    this.startTimer();\r\n  }\r\n\r\n  startTimer() {\r\n    this.interval = setInterval(() => {\r\n      this.timeLeft--;\r\n      if(this.timeLeft > 0){\r\n        this.refreshButtonEnabled = false;\r\n        this.isTimerValueDisplay = true;\r\n      }else{\r\n        this.refreshButtonEnabled = true;\r\n        this.isTimerValueDisplay = false;\r\n        this.timeLeft = 60;\r\n        clearInterval(this.interval)\r\n      }\r\n      this.timerDisplay=this.transform(this.timeLeft)\r\n    },1000)\r\n  }\r\n\r\n  transform(value: number): string {\r\n    const minutes: number = Math.floor(value / 60);\r\n    return minutes + ':' + (value - minutes * 60);\r\n  }\r\n\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <i class=\"material-icons\">file_copy</i> S2 APPLICATION - <b>{{applicationTypeTitle}}</b>\r\n        </mat-label>\r\n        <button class=\"button-right\" type=\"submit\" mat-raised-button color=\"primary\" (click)=\"refresh()\" [disabled]=\"!refreshButtonEnabled\">\r\n          <span class=\"material-icons\">sync</span>\r\n          <label *ngIf=\"isTimerValueDisplay\"> &nbsp;{{timerDisplay}}</label>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n\r\n    <div *ngIf=\"applicationTypeTitle === 'INDIVIDUAL'\">\r\n      <ng-container *ngTemplateOutlet=\"individualS2ApplicationList\"></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"(currentUser.userRole.name === 'ROLE_APPLICANT' || currentUser.userRole.name === 'ROLE_ADMIN' || currentUser.userRole.name === 'ROLE_SUPER_ADMIN') && viewApplicationType === 'special'\">\r\n      <ng-container *ngTemplateOutlet=\"specialS1ApplicationList\"></ng-container>\r\n    </div>\r\n\r\n    <ng-template #individualS2ApplicationList>\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-9\">\r\n          <div class=\" search\" fxLayout fxLayoutAlign=\"center center\">\r\n            <mat-form-field class=\"col-md-9\" appearance=\"outline\">\r\n              <input matInput type=\"text\" (keyup)=\"doFilter($event.target.value)\" placeholder=\"Search\">\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <div class=\"col\">\r\n          <div class=\"legend-content\">\r\n            <table class=\"legend-table\">\r\n              <tr>\r\n                <td><div class=\"legend-box legend-blue\"></div> ORIGINAL</td>\r\n              </tr>\r\n              <tr>\r\n                <td><div class=\"legend-box legend-green\"></div> REVISION</td>\r\n              </tr>\r\n              <tr>\r\n                <td><div class=\"legend-box legend-orange\"></div> FOR COMPLIANCE</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div> -->\r\n\r\n\r\n      </div><br>\r\n\r\n      <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n        <mat-tab label=\"Original\">\r\n          <ng-template mat-tab-label>\r\n            Original\r\n            <div matBadge={{applicationCountS2.countOriginal}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n        <mat-tab label=\"Compliance\">\r\n          <ng-template mat-tab-label>\r\n            Compliance\r\n            <div matBadge={{applicationCountS2.countCompliance}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n        <mat-tab label=\"TOA\">\r\n          <ng-template mat-tab-label>\r\n            TOA\r\n            <div matBadge={{applicationCountS2.countToa}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n        <mat-tab label=\"For Appeal\" *ngIf=\"isAdSpecialist || isAdmin || isSuperAdmin\">\r\n          <ng-template mat-tab-label>\r\n            Released Appeal\r\n            <div matBadge={{releasedAppealTabDataCount}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n\r\n      <div class=\"mat-elevation-z8 fields main-table \" fxLayout fxLayoutAlign=\"center center\">\r\n        <table mat-table [dataSource]=\"dataSource\" matSort>\r\n\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef > REFERENCE CODE <mat-icon class=\"cursor\" (click)=\"sortEvent()\" style=\"color:black\">swap_vert</mat-icon></th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n             [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color':\r\n                  ((element?.submissionType=='ORIGINAL'&&element.decisionStatus!='INCOMPLETE') ? 'lightblue' :\r\n                  ((element?.submissionType=='FOR COMPLIANCE'||element.decisionStatus=='INCOMPLETE'||element.submissionType=='COMPLIANCE') ? '#ebd79b' :\r\n                  (element?.submissionType=='REVISION' ? '#8fcf8f' : '' )))}\">\r\n              {{ element?.submissionType === 'ORIGINAL' && element?.internalStatus=='S2_APPLICATION_REJECTED' ? element?.referenceCodeRejected : element?.applicationForm?.referenceCode | uppercase}}\r\n            </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef > TYPE OF APPLICATION </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name  === 'ROLE_ENCODER' && i > 0 ? '#beb8b8' : ''))}\">\r\n              <!--  'background-color':\r\n                  ((element?.applicationForm?.applicationType.description=='Regular') ? 'lightblue' :\r\n                  (element?.applicationForm?.applicationType.description=='Batch') ? '#8fcf8f' :\r\n                  (element?.applicationForm?.applicationType.description=='Special Screening') ? '#fca402' :\r\n                  (element?.applicationForm?.applicationType.description=='Special Clearing') ? '#ff8a7b' :\r\n                  (element?.applicationForm?.applicationType.description=='Special Screening and Clearing') ? 'violet' :\r\n                  (element?.applicationForm?.applicationType.description=='For Presentation') ? 'yellow' :\r\n                  (currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> -->\r\n              {{ element?.applicationForm?.applicationType.description.replaceAll('_',' ') | uppercase }}\r\n              {{ element?.specialClearing ? '- SPECIAL CLEARING' : '' }}\r\n              {{ element?.hasToa ? '- TOA' : '' }}\r\n            </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"companyName\">\r\n            <th mat-header-cell *matHeaderCellDef > COMPANY NAME </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.applicationForm?.company.companyName }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef > BRAND </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.applicationForm?.brand.description }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfMedium\">\r\n            <th mat-header-cell *matHeaderCellDef > TYPE OF MEDIUM </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.applicationForm?.typeOfMedium }} </td>\r\n          </ng-container>\r\n\r\n          <!-- [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\" -->\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell *matHeaderCellDef > APPLICATION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.externalStatus?.replaceAll('_',' ') | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"internalStatus\">\r\n            <th mat-header-cell *matHeaderCellDef > INTERNAL STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" class=\"applicantStatus\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.internalStatus?.replaceAll('_',' ') | uppercase }} </td>\r\n          </ng-container>\r\n          <!-- For ASC Users only -->\r\n          <!-- <ng-container matColumnDef=\"ascStatus\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> ASC STATUS </th>\r\n                  <td mat-cell *matCellDef=\"let element\" (click)=\"getCompany(element?.id)\"> {{ element?.ascStatus }} </td>\r\n                </ng-container> -->\r\n\r\n          <ng-container matColumnDef=\"icon\">\r\n            <th mat-header-cell *matHeaderCellDef > </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" class=\"icon\"\r\n              [hidden]=\"currentUser?.userRole?.name != 'ROLE_APPLICANT'\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name != 'ROLE_APPLICANT'&&currentUser.userRole.name != 'ROLE_AD_SPECIALIST'&&i>0 ? '#beb8b8' : ''))}\">\r\n\r\n                  <!-- <button mat-raised-button class=\"button-red\" matTooltip=\"Submit S2 for Clearance \"\r\n                    (click)=\"applyApplicationForToa(element)\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                        internalStatus=='APPROVED' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                        || element?.internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE'\">\r\n                    <i class=\"material-icons color__white\">queue_play_next</i>\r\n                  </button> -->\r\n\r\n                  <button mat-raised-button class=\"button-red\" matTooltip=\"Submit For Compliance\"\r\n                  (click)=\"viewApplication(element)\"\r\n                  *ngIf=\"(currentUser?.userRole?.name=='ROLE_APPLICANT' && element?.decisionStatus=='INCOMPLETE' &&\r\n                          (element?.internalStatus=='INCOMPLETE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n                          element?.internalStatus=='S2_APPLICATION_REJECTED'))\">\r\n                  <i class=\"material-icons\">warning_amber</i>\r\n                </button>\r\n\r\n              <!--  <button mat-raised-button class=\"button-red\" matTooltip=\"Submit For Compliance\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                    internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                    || element?.internalStatus=='APPROVED'\">\r\n                    <i class=\"material-icons color__white\">warning_amber</i>\r\n                    </button>-->\r\n            </td>\r\n          </ng-container>\r\n\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n        <mat-paginator [pageSize]=\"pageSize\" [pageIndex]=\"pageNo\" [length]=\"s2TotalItems\"\r\n          [pageSizeOptions]=\"pageSizeOptions\" (page)=\"pageEvents($event)\">\r\n        </mat-paginator>\r\n\r\n      </div>\r\n      <!-- </mat-tab> -->\r\n    </ng-template>\r\n\r\n\r\n\r\n\r\n\r\n    <ng-template #specialS1ApplicationList>\r\n        <b *ngIf=\"currentUser.userRole.name === 'ROLE_APPLICANT'\"><b class=\"material-icons info-msg\">error_outline</b> This\r\n          page contain list of Request for Approval and allows you to create S2 application from approved request only.</b>\r\n        <b *ngIf=\"currentUser.userRole.name === 'ROLE_ADMIN' || currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' \"><b\r\n            class=\"material-icons info-msg\">error_outline</b> This page\r\n            contain list of Request for Approval and allows you to approve or disapprove request.</b>\r\n      <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n        <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n          <mat-label><i class=\"material-icons\">search</i> Search Applications</mat-label>\r\n          <input matInput type=\"text\" (keyup)=\"doFilterS1MultipleApplicationList($event.target.value)\">\r\n        </mat-form-field>\r\n\r\n        <div class=\"col\">\r\n          <div class=\"legend-content\">\r\n            <table class=\"legend-table\">\r\n              <tr>\r\n                <td>\r\n                  <div class=\"legend-box legend-orange\"></div> FOR APPROVAL\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <div class=\"legend-box legend-green\"></div> APPROVED\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <div class=\"legend-box legend-red\"></div> DISAPPROVED\r\n                </td>\r\n              </tr>\r\n              <!-- <tr>\r\n                    <td>\r\n                      <div class=\"legend-box legend-pink\"></div> REJECTED\r\n                    </td>\r\n                  </tr> -->\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- <div class=\"row\">\r\n\r\n            <div class=\"col-md-2\">LEGEND:</div>\r\n            <div class=\"col-md-1 legend legend-orange\">FOR APPROVAL</div>\r\n            <div class=\"col-md-1 legend legend-green\">APPROVED</div>\r\n            <div class=\"col-md-1 legend legend-red\">DISAPPROVED</div>\r\n            <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n          </div> -->\r\n      <br>\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"s2SpecialApplicationDataSource\" matSort>\r\n\r\n          <ng-container matColumnDef=\"adTitle\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> AD TITLE </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.adTitle | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef > TYPE OF APPLICATION </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.applicationType?.description.replaceAll('_',' ') | uppercase }}\r\n              {{ element?.hasSpecialClearing ? '- SPECIAL CLEARING' : ''}}\r\n              {{ element?.hasToa ? '- TOA' : '' }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"companyName\">\r\n            <th mat-header-cell *matHeaderCellDef > COMPANY NAME </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.company?.companyName | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n                <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n                  {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n              </ng-container> -->\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef> BRAND </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.brand?.description | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell *matHeaderCellDef > APPLICATION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" class=\"applicantStatus\" [ngStyle]=\"{'background-color':\r\n                element?.status === 'FOR_APPROVAL' ? '#ebd79b' :\r\n                element?.status === 'APPROVED' ? '#8fcf8f' :\r\n                element?.status === 'DISAPPROVED' ? '#ebb89b' : '' }\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.status?.replaceAll('_',' ') | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"s2SpecialApplicationDisplayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: s2SpecialApplicationDisplayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\"\r\n          [hidden]=\"s2SpecialApplicationDataSource && s2SpecialApplicationDataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n        <mat-paginator [pageSize]=\"pageSize\" [pageIndex]=\"pageNo\" [length]=\"s2SpecialTotalItems\"\r\n          [pageSizeOptions]=\"pageSizeOptions\" (page)=\"pageEvents($event)\">\r\n        </mat-paginator>\r\n      </div>\r\n    </ng-template>\r\n\r\n\r\n\r\n\r\n    <!-- FOR CLEARANCE TABLE -->\r\n    <!-- <mat-tab label=\"FOR CLEARANCE\">\r\n          <div class=\"mat-elevation-z8 fields toa-tab\">\r\n            <table mat-table [dataSource]=\"forClearanceDataSource\" matSort>\r\n\r\n                <ng-container matColumnDef=\"referenceCode\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.referenceCode }} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"typeOfApplication\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.applicationType.description }} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"companyName\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> COMPANY NAME </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.company.companyName }} </td>\r\n                </ng-container>\r\n\r\n                <ng-container matColumnDef=\"brand\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.brand.description }} </td>\r\n                </ng-container>\r\n\r\n                <ng-container matColumnDef=\"typeOfMedium\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF MEDIUM </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.refTypeOfMedium }} </td>\r\n                </ng-container>\r\n\r\n                <ng-container matColumnDef=\"status\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICATION STATUS </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.internalStatus?.replaceAll('_',' ') | uppercase }} </td>\r\n                </ng-container> -->\r\n\r\n    <!-- For ASC Users only -->\r\n    <!-- <ng-container matColumnDef=\"ascStatus\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> ASC STATUS </th>\r\n                  <td mat-cell *matCellDef=\"let element\" (click)=\"getCompany(element?.id)\"> {{ element?.ascStatus }} </td>\r\n                </ng-container> -->\r\n\r\n    <!-- <ng-container matColumnDef=\"icon\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>\r\n                  <td mat-cell *matCellDef=\"let element\" class=\"icon\">\r\n                    <button mat-raised-button class=\"button-red\" matTooltip=\"Submit S2 for Clearance\" (click)=\"applyApplicationForToa(element)\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                    internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                    || element?.internalStatus=='APPROVED'\">\r\n                      <i class=\"material-icons\">queue_play_next</i>\r\n                    </button> -->\r\n\r\n    <!-- <button mat-raised-button class=\"button-red\" matTooltip=\"Submit For Compliance\" (click)=\"viewApplication(element)\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                    internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                    || element?.internalStatus=='APPROVED'\"><i class=\"material-icons color__white\">warning_amber</i>\r\n                    </button> -->\r\n    <!-- </td>\r\n                </ng-container> -->\r\n\r\n\r\n    <!-- <tr mat-header-row *matHeaderRowDef=\"forClearanceDisplayedColumns\"></tr>\r\n                <tr mat-row *matRowDef=\"let row; columns: forClearanceDisplayedColumns;\"></tr>\r\n            </table>\r\n            <div class=\"no-record\" [hidden]=\"forClearanceDataSource && forClearanceDataSource?.data?.length > 0\">\r\n              No record found.\r\n            </div>\r\n            <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n\r\n          </div>\r\n        </mat-tab> -->\r\n    <!-- </mat-tab-group> -->\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\r\nimport { Company, S1Application, S2Application } from '@models';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { COMMON_FUNCTION, ENDPOINTS } from '@shared';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { AddCompanyComponent } from '@company';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BrandsComponent } from '@maintenance';\r\nimport { AddressService } from '../../../../core/services/address/address.service';\r\nimport { ProductComponent } from '../../maintenance/product/product.component';\r\nimport { MultipleApplication } from 'app/core/models/multiple-application.model';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-client-information',\r\n  templateUrl: './client-information.component.html',\r\n  styleUrls: ['./client-information.component.scss']\r\n})\r\nexport class ClientInformationComponent implements OnInit, OnChanges, OnDestroy {\r\n  @Input() s1Application = new S1Application();\r\n  @Input() s2Application = new S2Application();\r\n  @Input() multipleApplication = new MultipleApplication();\r\n  @Input() isAscUser = false;\r\n  @Input() isDisableFieldOnUpdate = false;\r\n  @Input() company = new Company();\r\n  @Output() checkInactiveAffiliation: EventEmitter<any> = new EventEmitter();\r\n  @Output() isInactiveAffiliation: boolean;\r\n  @Output() hasErrorFields: EventEmitter<any> = new EventEmitter();\r\n\r\n  memberAffiliationList = [];\r\n  companyList = [];\r\n  brandList = [];\r\n  productList = [];\r\n  // categoryList = [];\r\n  regionsList = [];\r\n  provinceList = [];\r\n  cityMunicipalityList = [];\r\n  barangayList = [];\r\n  countryList = [];\r\n\r\n  notInSelection = ['INACTIVE', 'DISAPPROVED'];\r\n\r\n  isNewCompany = false;\r\n  showCompanyAddress = false;\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  clientInformationForm: FormGroup;\r\n\r\n  applicationStage: string;\r\n  fullAddress: string;\r\n  currentUser: any;\r\n  ngModelValue: any;\r\n  private ngUnsubscribe = new Subject();\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private addressService: AddressService,\r\n    private dialog: MatDialog,\r\n    public dataStorage: DataStorageService,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService,\r\n    private route: ActivatedRoute,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // console.log('Clientinfo');\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.setFormValidator();\r\n    this.getBrandList();\r\n    this.getCompanyList();\r\n    this.getAffiliationList();\r\n    this.getCountries();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    if (this.s1Application.brand) {\r\n      this.setProductList();\r\n    }\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.clientInformationForm = this.formBuilder.group({\r\n      brand: ['', Validators.required],\r\n      product: ['', Validators.required],\r\n      category: ['', Validators.required],\r\n      company: [''],\r\n      companyAddress: [''],\r\n      country: [''],\r\n      companyName: [''],\r\n      membersAffiliation: ['', Validators.required],\r\n    });\r\n\r\n    if (this.currentUser?.accountType === 'APPLICANT') {\r\n      this.clientInformationForm.valueChanges.pipe(takeUntil(this.ngUnsubscribe)).subscribe(value => {\r\n        this.checkInvalidFields(value);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  getBrandList() {\r\n    this.apiService.findAll(ENDPOINTS.activeBrands).subscribe((res: any) => {\r\n      this.brandList = res.responseData.data; // .filter((brand) => !this.notInSelection.includes(brand.status));\r\n      this.productList = [];\r\n    }, (err: any) => {\r\n    });\r\n    if (this.s1Application.brand) {\r\n      this.setProductList();\r\n    }\r\n  }\r\n\r\n  setBrand() {\r\n    this.setProductList();\r\n    if (this.s1Application?.product?.status !== COMMON_FUNCTION.FOR_APPROVAL) {\r\n      this.s1Application.product = null;\r\n    }\r\n  }\r\n\r\n  setProductList() {\r\n    // const endpoint = this.s1Application.brand ? ENDPOINTS.productsByBrand + this.s1Application.brand.id : ENDPOINTS.product;\r\n    this.apiService.findAll(ENDPOINTS.productsByBrand + this.s1Application.brand.id).subscribe((res: any) => {\r\n      this.productList = res.responseData.data.filter((product) =>\r\n        product.status !== COMMON_FUNCTION.DISAPPROVED.toUpperCase()\r\n        && product.status !== COMMON_FUNCTION.INACTIVE.toUpperCase()\r\n      );\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  getCompanyList() {\r\n    this.apiService.findAll(ENDPOINTS.activeCompanies).subscribe((res: any) => {\r\n      this.companyList = res.responseData.data; // .filter((company) => !this.notInSelection.includes(company.status));\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  getAffiliationList(): void {\r\n    this.apiService.findAll(ENDPOINTS.activeMembersAffiliation).subscribe((res: any) => {\r\n      this.memberAffiliationList = res.responseData.data;\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  getCompanyAddress(companyName) {\r\n    this.showCompanyAddress = false;\r\n    this.isNewCompany = false;\r\n    this.apiService.findByParam(ENDPOINTS.company, `custom/search?companyName=${companyName}`).subscribe((res: any) => {\r\n      this.company = res.data[0];\r\n      if (this.company.membersAffiliation.status === 'INACTIVE') {\r\n        this.checkInactiveAffiliationFunction();\r\n        this.sweetAlertService.customErrorMessage(`Cannot proceed with the application. Company's membership affiliation is no longer active. Please contact ASC admin`);\r\n      }\r\n\r\n      if (this.company.status === 'FOR_APPROVAL') {\r\n        this.isNewCompany = true;\r\n      }\r\n\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  compareCompanyName(value: any, selected: any): boolean {\r\n    if (value && selected && value.id === selected.id) {\r\n      return value.companyName === selected.companyName;\r\n    }\r\n  }\r\n\r\n  compareBrand(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareMembersAffiliation(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareProduct(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  // compareCategory(value: any, selected: any): boolean {\r\n  //   if (value && selected) {\r\n  //     return value.description === selected.description;\r\n  //   }\r\n  // }\r\n\r\n  openNewCompanyModal(status = 'new') {\r\n    let dataForModal: any;\r\n    if (status === 'new') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: false,\r\n        country: this.dataStorage.getDefaultCountry()\r\n      }\r\n    } else if (status === 'update' && this.s1Application.company) {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: true,\r\n        company: this.s1Application.company\r\n      }\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(AddCompanyComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        dataForModal\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.isNewCompany = result ? true : false;\r\n      if (result) {\r\n        this.getCompanyList();\r\n        this.company = result;\r\n        this.dataStorage.setS1NewCompany(this.company);\r\n        this.s1Application.company = this.dataStorage.getS1NewCompany();\r\n      }\r\n    });\r\n  }\r\n\r\n  openNewBrandModal(status = 'new') {\r\n    let dataForModal: any;\r\n    if (status === 'new') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: false,\r\n      }\r\n    } else if (status === 'update') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: true,\r\n        brand: this.s1Application.brand\r\n      }\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(BrandsComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        dataForModal\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        this.getBrandList();\r\n        this.s1Application.brand = this.dataStorage.getS1NewBrand();\r\n        this.s1Application.product = this.s1Application.product;\r\n      }\r\n    });\r\n  }\r\n\r\n  openNewProductModal(status = 'new') {\r\n    let dataForModal: any;\r\n    if (status === 'new') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: false,\r\n        brand: this.s1Application?.brand,\r\n      }\r\n    } else if (status === 'update') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: true,\r\n        product: this.s1Application?.product,\r\n        currentStatus: 'FOR_APPROVAL'\r\n      }\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ProductComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        dataForModal\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        // this.getBrandList();\r\n        this.setProductList();\r\n        this.s1Application.product = this.dataStorage.getS1NewProduct();\r\n      }\r\n    });\r\n  }\r\n\r\n  compareCountry(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.code === selected.code;\r\n    }\r\n  }\r\n\r\n  getCountries() {\r\n    this.apiService.findAll(ENDPOINTS.countries).subscribe((res: any) => {\r\n      this.countryList = res.responseData.data;\r\n      this.dataStorage.setDefaultCountry(res.responseData.data[0]);\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  checkInactiveAffiliationFunction() {\r\n    this.isInactiveAffiliation = this.s1Application?.company?.membersAffiliation?.status === 'INACTIVE';\r\n    this.checkInactiveAffiliation.emit();\r\n  }\r\n  \r\n  checkInvalidFields(s1Application: any): void {\r\n    if (s1Application?.company && s1Application?.brand && s1Application?.product) {\r\n      this.hasErrorFields.emit(false)\r\n    } else {\r\n      this.hasErrorFields.emit(true);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.ngUnsubscribe.next();\r\n    this.ngUnsubscribe.complete();\r\n  }\r\n}\r\n","<form [formGroup]=\"clientInformationForm\"\r\n*ngIf=\"s1Application?.multipleApplication?.submissionStatus !== 'UNPROCESSED' &&\r\n        s1Application?.status !== 'DISAPPROVED' &&\r\n        s1Application?.status !== 'APPROVED' &&\r\n        s1Application?.status !== 'APPROVED' &&\r\n        multipleApplication?.status !== 'APPROVED' &&\r\n        s1Application?.applicationRequest?.status !== 'APPROVED'\">\r\n\r\n  <div class=\"row\">\r\n    <!-- <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n      <mat-label>Client Membership Affiliation</mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.membersAffiliation\" name=\"membersAffiliation\" formControlName=\"membersAffiliation\"\r\n        [compareWith]=\"compareMembersAffiliation\" [disabled]=\"isAscUser && isDisableFieldOnUpdate\">\r\n        <mat-option *ngFor=\"let i of memberAffiliationList\" [value]=\"i\">\r\n          {{i.description}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field> -->\r\n\r\n    <div class=\"col-md-12 float-right\" style=\"padding-bottom:10px;\" *ngIf=\"s1Application?.company?.status === 'FOR_APPROVAL' && isAscUser\">\r\n      <button mat-raised-button class=\"button-red\" (click)=\"openNewCompanyModal('update')\">\r\n        <i class=\"material-icons color__white\">error_outline</i> View/Approve Company\r\n      </button>\r\n      <br>\r\n    </div>\r\n\r\n    <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n      <mat-label>Client Company Name\r\n        <span class=\"badge rounded-pill bg-warning\" *ngIf=\"s1Application?.company?.status === 'FOR_APPROVAL' \">\r\n          For Approval\r\n        </span>\r\n        <span class=\"badge rounded-pill bg-danger\" *ngIf=\"s1Application?.company?.delinquent \">\r\n          With Penalty\r\n        </span>\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.company\" name=\"company\" formControlName=\"company\"\r\n        [compareWith]=\"compareCompanyName\"\r\n        [disabled]=\"(isAscUser && isDisableFieldOnUpdate) || (s2Application?.applicationForm || s1Application?.status === 'FOR_APPROVAL')\">\r\n        <mat-option (click)=\"isNewCompany=true;showCompanyAddress=false\" value=\"\" (click)=\"openNewCompanyModal()\">\r\n          <span class=\"badge bg-success dropdown-badge\">Add New Company</span>\r\n        </mat-option>\r\n        <mat-option *ngFor=\"let i of companyList\" [value]=\"i\" (click)=\"getCompanyAddress(i.companyName)\">\r\n          {{i.companyName}}\r\n        </mat-option>\r\n        <!-- <mat-option >[New\r\n          Company]</mat-option> -->\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-5\" appearance=\"outline\" *ngIf=\"s1Application.company\">\r\n      <mat-label>\r\n        Client Membership Affiliation\r\n        <span class=\"badge rounded-pill bg-danger\"\r\n          *ngIf=\"s1Application?.company?.membersAffiliation?.status === 'INACTIVE' \">\r\n          Inactive\r\n        </span>\r\n      </mat-label>\r\n      <input matInput readonly [value]=\"s1Application?.company?.membersAffiliation?.description\">\r\n    </mat-form-field>\r\n\r\n    <!-- <div class=\"col-md-4\" *ngIf=\"s1Application?.applicationForm?.company?.status === 'FOR_APPROVAL' \">\r\n      <span class=\"badge rounded-pill bg-warning\">\r\n        For Approval\r\n      </span>\r\n    </div> -->\r\n\r\n    <div class=\"row\" *ngIf=\"isNewCompany==true\" [hidden]=\"s1Application?.company?.status !== 'FOR_APPROVAL'\">\r\n      <!-- <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Client Membership Affiliation</mat-label>\r\n        <mat-select [(ngModel)]=\"company.membersAffiliation\" name=\"membersAffiliation\" [compareWith]=\"compareMembersAffiliation\"\r\n          formControlName=\"membersAffiliation\" matNativeControl required>\r\n          <mat-option *ngFor=\"let i of memberAffiliationList\" [value]=\"i\">\r\n            {{i.description}}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field> -->\r\n\r\n      <mat-form-field class=\"col-md-4\" appearance=\"outline\" [hidden]=\" company?.country?.id > 1 && company?.country \">\r\n        <mat-label>Country</mat-label>\r\n        <!-- <input matInput disabled value=\"PHIL\"> -->\r\n        <!-- <input matInput disabled [(ngModel)]=\"company.country\" formControlName=\"country\"> -->\r\n        <mat-select [(ngModel)]=\"company.country\" name=\"country\" [compareWith]=\"compareCountry\"\r\n          formControlName=\"country\" matNativeControl required disabled>\r\n          <mat-option *ngFor=\"let i of countryList\" [value]=\"i\">\r\n            {{i.code}} - {{i.name}}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\" [hidden]=\"company?.country?.id > 1 && company?.country \">\r\n        <mat-label>Complete Address</mat-label>\r\n        <textarea matInput [(ngModel)]=\"company.completeAddress\" formControlName=\"companyAddress\" name=\"completeAddress\"\r\n          [readonly]=\"true\"></textarea>\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"row\" *ngIf=\"showCompanyAddress==true\">\r\n      <!-- FOR S1 APPLICATION FORM -->\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n        <mat-label>Company Address</mat-label>\r\n        <textarea matInput readonly [value]=\"s1Application?.company?.completeAddress\"></textarea>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Country</mat-label>\r\n        <input matInput readonly [value]=\"s1Application?.company?.country?.name\">\r\n      </mat-form-field>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>\r\n        Brand\r\n        <span class=\"badge rounded-pill bg-warning\" *ngIf=\"s1Application?.brand?.status === 'FOR_APPROVAL'\">\r\n          For Approval\r\n        </span>\r\n        <span class=\"badge rounded-pill bg-danger\" *ngIf=\"s1Application?.brand?.penalty\">\r\n          With Penalty\r\n        </span>\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.brand\" name=\"brand\" formControlName=\"brand\" [compareWith]=\"compareBrand\"\r\n        [disabled]=\"(isAscUser && isDisableFieldOnUpdate) || (s2Application?.applicationForm || s1Application?.status === 'FOR_APPROVAL')\" matTooltip=\"Client's Brand\"\r\n        (selectionChange)=\"setBrand()\">\r\n        <mat-option value=\"\" (click)=\"openNewBrandModal()\"><span class=\"badge bg-success dropdown-badge\">Add New Brand</span></mat-option>\r\n        <mat-option *ngFor=\"let i of brandList\" [value]=\"i\">\r\n          {{i.description}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>\r\n        Product\r\n        <span class=\"badge rounded-pill bg-warning\" *ngIf=\"s1Application?.product?.status === 'FOR_APPROVAL'\">\r\n          For Approval\r\n        </span>\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.product\" name=\"product\" formControlName=\"product\"\r\n        [compareWith]=\"compareProduct\" (selectionChange)=\"setProductList()\"\r\n        [disabled]=\"(isAscUser && isDisableFieldOnUpdate || (s2Application?.applicationForm || s1Application?.status === 'FOR_APPROVAL')) || !s1Application.brand\">\r\n        <mat-option value=\"\" (click)=\"openNewProductModal()\"><span class=\"badge bg-success dropdown-badge\">Add New Product</span></mat-option>\r\n        <mat-option *ngFor=\"let i of productList\" [value]=\"i\">\r\n          {{i.description}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput readonly [value]=\"s1Application?.product?.category?.description\" />\r\n    </mat-form-field>\r\n\r\n    <!-- <mat-form-field *ngIf=\"s1Application.brand\" class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Product</mat-label>\r\n      <input matInput [(ngModel)]=\"s1Application.brand.product.description\" name=\"product\" formControlName=\"product\"\r\n        readonly>\r\n    </mat-form-field> -->\r\n\r\n    <!-- <mat-form-field *ngIf=\"s1Application.brand\" class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput [(ngModel)]=\"s1Application.brand.category.description\" name=\"category\" formControlName=\"category\"\r\n        readonly>\r\n    </mat-form-field> -->\r\n    <!-- <div class=\"col-md-4\" *ngIf=\"s1Application?.brand?.status === 'FOR_APPROVAL' \">\r\n      <span class=\"badge rounded-pill bg-warning\">\r\n        For Approval\r\n      </span>\r\n    </div> -->\r\n    <div class=\"col-md-12 float-right\" style=\"padding-bottom:10px;\" *ngIf=\"s1Application?.brand?.status === 'FOR_APPROVAL' && isAscUser\">\r\n      <button mat-raised-button class=\"button-red\" (click)=\"openNewBrandModal('update')\">\r\n        <i class=\"material-icons color__white\">error_outline</i> View/Approve Brand\r\n      </button>\r\n    </div>\r\n    <div class=\"col-md-12 float-right\" style=\"padding-bottom:10px;\" *ngIf=\"s1Application?.product?.status === 'FOR_APPROVAL' && isAscUser\">\r\n      <button mat-raised-button class=\"button-red\" (click)=\"openNewProductModal('update')\">\r\n        <i class=\"material-icons color__white\">error_outline</i> View/Approve Product\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n<!-- FOR MULTIPLE/SPECIAL PREVIEW -->\r\n<div class=\"row\" *ngIf=\"multipleApplication?.status === 'APPROVED' || s1Application?.multipleApplication?.submissionStatus === 'UNPROCESSED' || s1Application?.status === 'APPROVED' || s1Application?.status === 'DISAPPROVED' || s1Application?.applicationRequest?.status === 'APPROVED'\">\r\n  <div class=\"row\">\r\n    <!-- <div class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Client Membership Affiliation</mat-label>\r\n        <input matInput [value]=\"previewS1Application?.membersAffiliation?.description\" disabled>\r\n      </div> -->\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Company Name</mat-label>\r\n      <input matInput [value]=\"s1Application?.company?.companyName\" readonly>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Membership Affiliation</mat-label>\r\n      <input matInput [value]=\"s1Application?.company?.membersAffiliation?.description\" readonly>\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Brand</mat-label>\r\n      <input matInput [value]=\"s1Application?.brand?.description\" readonly>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Product</mat-label>\r\n      <input matInput [value]=\"s1Application?.product?.description\" readonly>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput [value]=\"s1Application?.product?.category?.description\" readonly>\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n","import { MultiMediaMoving } from './multimedia-moving.model';\r\nexport class MultiMediaMovingConstant {\r\n    data: Array<MultiMediaMoving> = new Array<MultiMediaMoving>();\r\n    constructor(){\r\n        this.data =   [{\r\n            id: 0,\r\n            multimediaMovingMedium: 'cinema',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 1,\r\n            multimediaMovingMedium: 'collaterals',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 2,\r\n            multimediaMovingMedium: 'digital video',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 3,\r\n            multimediaMovingMedium: 'e-ooh',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 4,\r\n            multimediaMovingMedium: 'television',\r\n            hasSelected: false,\r\n          }\r\n        ]\r\n    }\r\n}","export * from './client-information/client-information.component';\r\nexport * from './material-information/material-information.component';\r\nexport * from './preview-application/preview-application.component';\r\nexport * from './s1-application/add-s1-application/add-s1-application.component';\r\nexport * from './s1-application/list-s1-application/list-s1-application.component';\r\nexport * from './s2-application/add-s2-application/add-s2-application.component';\r\nexport * from './s2-application/list-s2-application/list-s2-application.component';","import { WebSocketService } from \"app/core/services/socket/websocket.service\";\r\nimport { BadgeCounnter } from \"app/core/models/counter\";\r\nimport {\r\n  AfterViewChecked,\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { Company, S1Application, UserAccount, Payment } from \"@models\";\r\nimport { FormGroup, FormControl } from \"@angular/forms\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  ENDPOINTS,\r\n  FORM_TYPE,\r\n  ROLES,\r\n  TYPE_OF_MEDIUM,\r\n  APPLICATION_STATUS,\r\n  COMMON_FUNCTION,\r\n  SUBMISSION_TYPE,\r\n  APPLICATION_STATUS_FOR_COMPLIANCE,\r\n  SPECIAL_APPLICATION,\r\n  APPLICATION_STAGE,\r\n  OTHER_STATUS,\r\n  USER_ROLES,\r\n  APPFORM_TYPE,\r\n  APPLICATION_STATUS_REVISION,\r\n  APP_DECISION_STATUS,\r\n  ATTACHMENT_TYPE,\r\n  STATUSES,\r\n} from \"@shared\";\r\nimport { ApiService, SweetAlertService, DataStorageService } from \"@services\";\r\nimport { MatAccordion } from \"@angular/material/expansion\";\r\nimport { ClientInformationComponent } from \"../../client-information/client-information.component\";\r\nimport { MaterialInformationComponent } from \"../../material-information/material-information.component\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport { ApplicationSingleMedia } from \"../../../../../core/models/application-single-media.model\";\r\nimport { PreviewApplicationComponent } from \"../../preview-application/preview-application.component\";\r\nimport {\r\n  ApplicationMultimedia,\r\n  ApplicationMultimediaItemsDTO,\r\n} from \"../../../../../core/models/application-multimedia.model\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { MultipleApplication } from \"app/core/models/multiple-application.model\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { ApplicationRequest } from \"app/core/models/application-request.model\";\r\nimport { RejectDisapprovedReasonComponent } from \"app/modules/fragments/reject-disapproved-reason/reject-disapproved-reason.component\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { PerformanceMetricsComponent } from \"../../performance-metrics/performance-metrics.component\";\r\nimport { IncompleteDisapprovedRationaleComponent } from \"app/modules/fragments/incomplete-disapproved-rationale/incomplete-disapproved-rationale.component\";\r\nimport { Report } from \"app/core/models/report.model\";\r\nimport { Rationale } from \"app/core/models/rationale.model\";\r\nimport { CommonServices } from \"app/core/services/common-services.service\";\r\nimport { MatTableDataSource } from \"@angular/material/table\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { isEqual, format, nextMonday } from \"date-fns\";\r\nimport { MatDatepicker } from \"@angular/material/datepicker\";\r\n\r\nvar activeHolidayDates = [];\r\nvar activeWeekendDates = [];\r\n\r\n@Component({\r\n  selector: \"app-add-s1-application\",\r\n  templateUrl: \"./add-s1-application.component.html\",\r\n  styleUrls: [\"./add-s1-application.component.scss\"],\r\n})\r\nexport class AddS1ApplicationComponent\r\n  implements OnInit, AfterViewChecked, OnDestroy, AfterViewInit {\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  @ViewChild(ClientInformationComponent, { static: false })\r\n  clientInformation: ClientInformationComponent;\r\n  @ViewChild(MaterialInformationComponent, { static: false })\r\n  materialInformation: MaterialInformationComponent;\r\n  @ViewChild(PreviewApplicationComponent, { static: false })\r\n  previewApplication: PreviewApplicationComponent;\r\n  // @ViewChild(AttachmentDocumentComponent, { static: false }) materialAttachmentDocument: AttachmentDocumentComponent;\r\n  public exportTime = { hour: 0, minute: 0, meriden: \"AM\", format: 12 };\r\n  @ViewChild(MatDatepicker) datepicker: MatDatepicker<Date>;\r\n\r\n  title = \"ASC Online System\";\r\n  s1Application = new S1Application();\r\n  multipleApplication = new MultipleApplication();\r\n  applicationRequest = new ApplicationRequest();\r\n  company = new Company();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  presentorDetails = new UserAccount();\r\n  report = new Report();\r\n  rationale = new Rationale();\r\n  affiliationList = [];\r\n  companyList = [];\r\n  isNewCompany = false;\r\n  showCompanyAddress = false;\r\n  formTypeList = [...FORM_TYPE];\r\n  specialApplicationType = [...SPECIAL_APPLICATION];\r\n  applicationTypeList = [];\r\n  attachmentDocuments: any = {};\r\n  originalAttachmentDocuments = [];\r\n  revisionAttachmentDocuments = [];\r\n  complianceAttachmentDocuments = [];\r\n  paymentAttachment: any;\r\n  supportiveDocumentList = [];\r\n  multimediaStaticList = [];\r\n  selectedMultimediaList = [];\r\n  multimediaMovingList = [];\r\n  screenerList = [];\r\n  reviewerList = [];\r\n  applicantList = [];\r\n  mediaTypeListTemp = [];\r\n  rationaleOthersList = [];\r\n  rationaleLists = [];\r\n  adSpecialistList = [];\r\n  applicationSingleMediaTemp = new ApplicationSingleMedia();\r\n  payment = new Payment();\r\n  safeURL: any; // for payment\r\n  isScheduleSendIsEmpty: boolean;\r\n  selectedApplicationOwner: any;\r\n  applicationStage: string;\r\n  revisionLetterAttachment: any;\r\n  currentSizeLength: string;\r\n  currentSizeLengthMultimedia = [];\r\n  toDeleteMultimediaList = [];\r\n  hasMultimediaLengthChange: boolean;\r\n  hasMultimediaLengthToEnableSubmit = false;\r\n  disableSubmitButtonByMedia = false;\r\n  hasErrorsClient = false;\r\n  badgeCounter: BadgeCounnter = new BadgeCounnter();\r\n  hasErrorsMaterial;\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n  id: number;\r\n  multipleId: number;\r\n  isChecked = false;\r\n  isAscUser = false;\r\n  isDisableFieldOnUpdate = false;\r\n  isInactiveAffiliation: boolean;\r\n  isSubmit = false;\r\n  noDocumentAttached = true;\r\n  accordionDisable = false;\r\n  accordionExpanded = false;\r\n  validationMessage = \"\";\r\n  buttonDisabled = true;\r\n  adSpecButtonDisabled = true;\r\n  rationaleDisplay = false;\r\n  submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n  defaultReviewer: any;\r\n  maxSizeLength = 1000;\r\n\r\n  ascUserRoleList = [\r\n    ...ROLES.filter((role: any) => role.ascUser === true).map(\r\n      (role: any) => role.role\r\n    ),\r\n  ];\r\n\r\n  s1ApplicationForm: FormGroup;\r\n  todayDate = new Date();\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isEvaluator = false;\r\n  isAdSpecialist = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n\r\n  disabledWeekEnds = d => true;\r\n\r\n  previewAttachmentsList = [];\r\n  previewAttachmentsDisplayedColumns: string[] = [\r\n    \"decisionFormFilename\",\r\n    \"viewDecisionFormIcon\",\r\n    \"stampMaterialFilename\",\r\n    \"viewStampMaterialIcon\",\r\n  ];\r\n  previewAttachmentsListDataSource: MatTableDataSource<object>;\r\n\r\n  selected: any; // in html but not existing in component -- encountered during 'ng serve --aot'\r\n  multimediaDTO: any;\r\n\r\n  activeHolidayDates: Date[] = [];\r\n  activeWeekendDates: Date[] = [];\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private cd: ChangeDetectorRef,\r\n    private dialog: MatDialog,\r\n    private commonServices: CommonServices,\r\n    private _snackBar: MatSnackBar\r\n  ) {}\r\n\r\n  get submitComplianceEnabled() {\r\n    const hasMain = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.MAIN\r\n      )\r\n    );\r\n    const hasSupportive = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n      )\r\n    );\r\n\r\n    return (\r\n      (hasMain && hasSupportive) ||\r\n      (hasMain && this.s1Application.hasNoSupportingDocs)\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.todayDate.getDay() === 0 || this.todayDate.getDay() === 6) {\r\n      this.todayDate = nextMonday(this.todayDate);\r\n    }\r\n\r\n    if (this.dataStorage.getS1FormAndAppType()) {\r\n      this.s1Application.formType = this.dataStorage.getS1FormAndAppType().formType;\r\n      this.getApplicationTypeList(this.s1Application.formType);\r\n      this.s1Application.applicationType = this.dataStorage.getS1FormAndAppType().appType;\r\n    }\r\n\r\n    if (this.dataStorage.getS1Application()) {\r\n      this.s1Application = this.dataStorage.getS1Application();\r\n    }\r\n\r\n    if (this.dataStorage.getSpecialS1Application()) {\r\n      this.applicationRequest = this.dataStorage.getSpecialS1Application();\r\n      this.s1Application.formType = \"INDIVIDUAL\";\r\n      this.s1Application.submissionDate = this.applicationRequest.submissionDate;\r\n      if (this.s1Application.submissionDate) {\r\n        this.isChecked = true;\r\n        this.s1Application.autoSubmit = true;\r\n      }\r\n    }\r\n\r\n    this.setFormValidator();\r\n\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.initUserRole();\r\n    this.id = Number(this.route.snapshot.paramMap.get(\"id\"));\r\n    if (this.id !== 0) {\r\n      this.viewApplication();\r\n    }\r\n\r\n    this.multipleId = Number(this.route.snapshot.paramMap.get(\"multipleId\"));\r\n    const ctr = Number(this.route.snapshot.paramMap.get(\"nextSequence\"));\r\n\r\n    if (this.multipleId !== 0) {\r\n      this.spinner.show();\r\n      this.apiService\r\n        .findById(ENDPOINTS.multipleApplication, this.multipleId)\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.s1Application.multipleApplication = res.responseData.data;\r\n            this.s1Application.applicationType = this.s1Application.multipleApplication.applicationType;\r\n            this.s1Application.adTitle = this.s1Application.multipleApplication.adTitle;\r\n            this.s1Application.brand = this.s1Application.multipleApplication.brand;\r\n            this.s1Application.product = this.s1Application.multipleApplication.product;\r\n            // this.s1Application.category = this.s1Application.multipleApplication.category;\r\n            this.s1Application.company = this.s1Application.multipleApplication.company;\r\n            this.s1Application.submissionDate = this.s1Application.multipleApplication.dateOfSubmission;\r\n            this.s1Application.autoSubmit = true;\r\n            // this.s1Application.membersAffiliation = this.s1Application.multipleApplication.membersAffiliation;\r\n            this.s1Application.tagLine = this.s1Application.multipleApplication.tagLine;\r\n            this.s1Application.formType = APPFORM_TYPE.MULTIPLE;\r\n            this.s1Application.sequenceOrder = ctr;\r\n            this.spinner.hide();\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n    }\r\n\r\n    this.isAscUser = this.ascUserRoleList.includes(\r\n      this.dataStorage.getUserRole()\r\n    );\r\n    // this.s1Application.autoSubmit = false;\r\n    // this.s1Application.autoSubmitTime = 0;\r\n    // determines if the field will be enabled/disabled on update of s1 app\r\n    this.isDisableFieldOnUpdate =\r\n      ROLES.filter(\r\n        (res: any) =>\r\n          res.disableFieldOnUpdate === true && res.role === this.currentUserRole\r\n      ).length > 0 && this.id > 0\r\n        ? true\r\n        : false;\r\n\r\n    setTimeout(() => {\r\n      this.spinner.hide();\r\n    }, 1);\r\n    if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n      this.accordionDisable = false;\r\n      this.getUserTypeForList();\r\n    }\r\n    this.checkSingleMediaChanges();\r\n    this.getAllActiveHolidays();\r\n    this.getAllActiveWeekends();\r\n  }\r\n\r\n  matCalendarDateFilter(that) {\r\n    return (date: Date) => {\r\n      return !that.isDateHoliday(date, that) && date.getDay() !== 7;\r\n    };\r\n  }\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.checkSingleMediaChanges();\r\n    // this.checkMultimediaChanges();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (this.applicationSingleMedia) {\r\n      this.checkSingleMediaChanges();\r\n    }\r\n    if (\r\n      this.materialInformation?.newMultimediaList.length ||\r\n      this.multimediaMovingList.length\r\n    ) {\r\n      // this.checkMultimediaChanges();\r\n    }\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  getScreenerAssignedAppCount(id: number) {\r\n    return 0;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    sessionStorage.removeItem(\"FORM_TYPE\");\r\n    sessionStorage.removeItem(\"APP_TYPE\");\r\n    sessionStorage.removeItem(\"NUMBER_OF_APPLICATIONS\");\r\n    sessionStorage.removeItem(\"S1_APPLICATION\");\r\n    sessionStorage.removeItem(\"MULTIPLE_S1_APPLICATION\");\r\n    sessionStorage.removeItem(\"SPECIAL_S1_APPLICATIONS\");\r\n    sessionStorage.removeItem(\"AMOUNT\");\r\n    // alert('destroy')\r\n    // const formAndAppType = {\r\n    //   formType: '',\r\n    //   appType: []\r\n    // }\r\n    // this.dataStorage.setRequestFormAndAppType(formAndAppType);\r\n  }\r\n\r\n  checkInactiveAffiliation() {\r\n    this.isInactiveAffiliation = this.clientInformation.isInactiveAffiliation;\r\n  }\r\n\r\n  viewApplication() {\r\n    this.spinner.show();\r\n    this.apiService.findById(ENDPOINTS.applicationForm, this.id).subscribe(\r\n      (res: any) => {\r\n        this.s1Application = res.responseData.data;\r\n        if (this.s1Application) {\r\n          console.log(\"View App: \", this.s1Application);\r\n\r\n          this.getApplicationTypeList(this.s1Application.formType);\r\n          this.setAppType(this.s1Application.applicationType);\r\n\r\n          this.clientInformation.s1Application = this.s1Application;\r\n          this.materialInformation.s1Application = this.s1Application;\r\n          this.setApplicationStage();\r\n          this.fetchMultimedia();\r\n\r\n          if (\r\n            this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n          ) {\r\n            this.getApplicationSingleMedia();\r\n          } else if (\r\n            this.s1Application.refTypeOfMedium ===\r\n            TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n          ) {\r\n            this.getMultimediaMoving();\r\n          } else if (\r\n            this.s1Application.refTypeOfMedium ===\r\n            TYPE_OF_MEDIUM.MULTIMEDIA_STATIC\r\n          ) {\r\n            this.getMultimediaStatic();\r\n          }\r\n\r\n          if (this.s1Application.autoSubmit) {\r\n            this.scheduleSubmission();\r\n            this.onChangeDate(this.s1Application.submissionDate);\r\n          }\r\n\r\n          if (this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT) {\r\n            this.getPresentorDetails();\r\n          }\r\n\r\n          if (\r\n            this.s1Application.mainAttachmentReference ||\r\n            this.s1Application.supportingAttachmentReference ||\r\n            this.s1Application.revisionLetterAttachmentReference\r\n          ) {\r\n            this.getAttachmentDocuments();\r\n          }\r\n\r\n          if (\r\n            this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST ||\r\n            this.currentUserRole === USER_ROLES.ROLE_SCREENER ||\r\n            this.currentUserRole === USER_ROLES.ROLE_REVIEWER\r\n          ) {\r\n            this.getUserTypeForList();\r\n          }\r\n\r\n          if (\r\n            (this.s1Application.decisionStatus === \"INCOMPLETE\" ||\r\n              this.s1Application.decisionStatus === \"DISAPPROVED\" ||\r\n              this.s1Application.decisionStatus ===\r\n                APP_DECISION_STATUS.APPROVED ||\r\n              this.s1Application.decisionStatus ===\r\n                APP_DECISION_STATUS.APPROVED_WITH_CAUTION) &&\r\n            this.currentUserRole === USER_ROLES.ROLE_SCREENER\r\n          ) {\r\n            // if ((this.s1Application.internalStatus === APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE ||\r\n            //   this.s1Application.internalStatus === APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER)) {\r\n            //     // this.dataStorage.setDecisionStatus(this.s1Application.decisionStatus);\r\n            //     // if(this.rationaleLists.length <= 0){\r\n            //     //   this.s1Application.decisionStatus = \"\";\r\n            //     //   alert(\"BLANK\")\r\n            //     // }else{\r\n            //     //   this.s1Application.decisionStatus = this.dataStorage.getDecisionStatus();\r\n            //     // }\r\n            // }\r\n\r\n            if (\r\n              this.s1Application.internalStatus ===\r\n                APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE ||\r\n              this.s1Application.internalStatus ===\r\n                APPLICATION_STATUS_REVISION.REVISION_VERIFIED_BY_AD_SPE\r\n            ) {\r\n              if (this.rationaleOthersList || this.rationaleLists) {\r\n                this.getRationaleList();\r\n              }\r\n              // alert(this.dataStorage.getDecisionStatus())\r\n              if (this.dataStorage.getDecisionStatus()) {\r\n                this.s1Application.decisionStatus = this.dataStorage.getDecisionStatus();\r\n              }\r\n              // if (this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE ||\r\n              //   this.s1Application.decisionStatus === APP_DECISION_STATUS.DISAPPROVED) {\r\n              // this.getRationaleList();\r\n              // alert('KHFDSKF')\r\n              // console.log(\"HIIAHIIHIFDIFS\", this.rationaleLists);\r\n              // }\r\n            }\r\n          }\r\n\r\n          if (\r\n            this.isAdmin ||\r\n            this.isSuperAdmin ||\r\n            this.isApplicant ||\r\n            this.isAdSpecialist\r\n          ) {\r\n            this.apiService\r\n              .findByParam(\r\n                ENDPOINTS.stampedMaterialAndDecisionForms,\r\n                this.s1Application?.appFormReference\r\n              )\r\n              .subscribe((previewAttachmentsData) => {\r\n                this.previewAttachmentsList =\r\n                  previewAttachmentsData.responseData.data;\r\n                this.previewAttachmentsListDataSource = new MatTableDataSource<object>(\r\n                  this.previewAttachmentsList\r\n                );\r\n              });\r\n          }\r\n\r\n          console.log(\"VIEW APP FORM: \", this.s1Application);\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n\r\n          if (this.s1Application.externalStatus) {\r\n            this.accordionDisable = false;\r\n          }\r\n        }\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  setApplicationStage(): void {\r\n    this.clientInformation.applicationStage = APPLICATION_STAGE.S1_APPLICATION;\r\n    this.materialInformation.applicationStage =\r\n      APPLICATION_STAGE.S1_APPLICATION;\r\n  }\r\n\r\n  getPresentorDetails() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.userLogin,\r\n        this.s1Application.applicationOwner.username\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data) {\r\n            this.presentorDetails = res.responseData.data;\r\n          }\r\n        },\r\n        (err: any) => {}\r\n      );\r\n  }\r\n\r\n  getApplicationSingleMedia() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationSingleMedia,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.applicationSingleMedia = this.applicationSingleMedia;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.applicationSingleMedia = this.applicationSingleMedia;\r\n            }\r\n            this.currentSizeLength = this.applicationSingleMedia.sizeLength;\r\n            console.log(\r\n              \"view applicationSingleMedia: \",\r\n              this.applicationSingleMedia\r\n            );\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaStatic() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaStaticList = res.responseData.data;\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaStaticList;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.multimediaStaticList = this.multimediaStaticList;\r\n            }\r\n\r\n            console.log(\r\n              \"view multimediaStaticList: \",\r\n              this.multimediaStaticList\r\n            );\r\n            this.selectedMultimediaList = this.multimediaStaticList;\r\n          } else {\r\n            this.multimediaStaticList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          // this.multimediaStaticList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaMoving() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaMovingList = res.responseData.data;\r\n            this.currentSizeLengthMultimedia = this.multimediaMovingList.map(\r\n              (mappedMultimedia) => ({\r\n                multimediaSizeLength: mappedMultimedia.multimediaSizeLength,\r\n                typeOfMedium: mappedMultimedia.typeOfMedium.description,\r\n              })\r\n            );\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaMovingList;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.multimediaMovingList = this.multimediaMovingList;\r\n            }\r\n            console.log(\r\n              \"view multimediaMovingList: \",\r\n              this.multimediaMovingList\r\n            );\r\n            this.selectedMultimediaList = this.multimediaMovingList;\r\n          } else {\r\n            this.multimediaMovingList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.multimediaMovingList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getAttachmentDocuments() {\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.attachmentDocumentByAppFormReference +\r\n          this.s1Application.appFormReference\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.attachmentDocuments = res.responseData.data;\r\n\r\n        if (\r\n          this.attachmentDocuments &&\r\n          this.attachmentDocuments.originalAttachmentDocuments.length !== 0\r\n        ) {\r\n          if (\r\n            this.attachmentDocuments.originalAttachmentDocuments.length === 1 &&\r\n            this.attachmentDocuments.originalAttachmentDocuments[0].attachmentType.includes(\r\n              \"SUPPORTIVE\"\r\n            )\r\n          ) {\r\n            this.attachmentDocuments.originalAttachmentDocuments[0] = null;\r\n            this.attachmentDocuments.originalAttachmentDocuments[1] = this.attachmentDocuments[0];\r\n          }\r\n\r\n          if (\r\n            this.attachmentDocuments.originalAttachmentDocuments.length === 2\r\n          ) {\r\n            const mainDoc = this.attachmentDocuments.originalAttachmentDocuments.filter(\r\n              (data) => data?.attachmentType === ATTACHMENT_TYPE.MAIN\r\n            )[0];\r\n\r\n            const suppDoc = this.attachmentDocuments.originalAttachmentDocuments.filter(\r\n              (data) => data?.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n            )[0];\r\n\r\n            this.attachmentDocuments.originalAttachmentDocuments[0] = mainDoc;\r\n            this.attachmentDocuments.originalAttachmentDocuments[1] = suppDoc;\r\n          }\r\n        }\r\n        // this.revisionLetterAttachment = this.attachmentDocuments.filter(data =>\r\n        //   data?.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER)[0];\r\n\r\n        this.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n        this.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n        this.complianceAttachmentDocuments =\r\n          this.attachmentDocuments.complianceAttachmentDocuments || [];\r\n\r\n        if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n          this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n        ) {\r\n          this.materialInformation.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n          this.materialInformation.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n          this.materialInformation.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n        }\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n          this.previewApplication.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n          this.previewApplication.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n          this.previewApplication.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n        }\r\n        console.log(\"view attachmentDocuments: \", this.attachmentDocuments);\r\n\r\n        // check if there's supporting doc\r\n        if (this.s1Application.supportingAttachmentReference) {\r\n          this.getSupportiveDocuments();\r\n        }\r\n      });\r\n\r\n    // Fetch payment details\r\n    if (this.s1Application.paymentAttachmentReference !== null) {\r\n      this.viewPayment();\r\n    }\r\n  }\r\n\r\n  viewPayment() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.payment,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data) {\r\n            this.payment = res.responseData.data;\r\n            this.apiService\r\n              .findByParam(\r\n                ENDPOINTS.attachmentDocument,\r\n                `payment-attachment-reference/${this.s1Application.paymentAttachmentReference}`\r\n              )\r\n              .subscribe(\r\n                (res1: any) => {\r\n                  if (res1) {\r\n                    this.paymentAttachment = res1;\r\n                    this.safeURL = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n                      this.paymentAttachment.fileURL\r\n                    );\r\n                    console.log(\r\n                      \"view paymentAttachment: \",\r\n                      this.paymentAttachment\r\n                    );\r\n                  }\r\n                },\r\n                (err: any) => {\r\n                  this.paymentAttachment = [];\r\n                }\r\n              );\r\n          }\r\n        },\r\n        (err: any) => {}\r\n      );\r\n  }\r\n\r\n  getSupportiveDocuments() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.supportiveDocument,\r\n        `application-form-id/${this.s1Application.id}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.supportiveDocumentList = res.responseData.data;\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.supportiveDocumentList = this.supportiveDocumentList;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.supportiveDocumentList = this.supportiveDocumentList;\r\n            }\r\n            console.log(\r\n              \"view supportiveDocumentList: \",\r\n              this.supportiveDocumentList\r\n            );\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.supportiveDocumentList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  scheduleSubmission() {\r\n    this.isChecked = !this.isChecked;\r\n    this.s1Application.autoSubmit = !this.s1Application.autoSubmit;\r\n    const submissionDateValue = \"submissionDate\";\r\n    this.s1ApplicationForm.controls[submissionDateValue].reset();\r\n    this.disableSaveAndSubmitButton();\r\n  }\r\n\r\n  /* setTime(time) {\r\n    this.s1Application.autoSubmitTime = time;\r\n  } */\r\n\r\n  // noDocumentAttachFunction(): void {\r\n  //   this.noDocumentAttached = !this.noDocumentAttached;\r\n  // }\r\n\r\n  setFormValidator(): void {\r\n    // this.s1ApplicationForm = this.formBuilder.group({\r\n    //   type: ['', Validators.required]\r\n    // });\r\n    this.s1ApplicationForm = new FormGroup({\r\n      formType: new FormControl(),\r\n      applicationType: new FormControl(),\r\n      decision: new FormControl(),\r\n      submissionDate: new FormControl(),\r\n      applicationRequest: new FormControl(),\r\n      actionStatus: new FormControl(),\r\n      assignedUser: new FormControl(),\r\n      decisionStatus: new FormControl(),\r\n    });\r\n  }\r\n\r\n  resetFormValidator(): void {\r\n    this.s1Application = new S1Application();\r\n    this.s1ApplicationForm.markAsUntouched();\r\n    this.s1ApplicationForm.markAsPristine();\r\n  }\r\n\r\n  clear(): void {\r\n    this.s1Application = new S1Application();\r\n  }\r\n\r\n  getApplicationTypeList(formType) {\r\n    this.s1Application.formType = formType;\r\n    this.applicationTypeList = [];\r\n    this.apiService.findAll(ENDPOINTS.applicationType).subscribe(\r\n      (res: any) => {\r\n        // if (formType !== 'MULTIPLE') {\r\n        this.applicationTypeList = res.responseData.data;\r\n        // } else {\r\n        //   this.applicationTypeList.push(res.responseData.data[0]);\r\n        //   this.applicationTypeList.push(res.responseData.data[1]);\r\n        // }\r\n      },\r\n      (err: any) => {}\r\n    );\r\n  }\r\n\r\n  getUserTypeForList() {\r\n    this.apiService.findAll(ENDPOINTS.userAccount).subscribe((res: any) => {\r\n      res.responseData.data.filter((account: any) => {\r\n        if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n          if (\r\n            account.userRole.name.toUpperCase() === USER_ROLES.ROLE_SCREENER\r\n          ) {\r\n            this.apiService\r\n              .findAll(\r\n                ENDPOINTS.applicationFormScreener +\r\n                  `custom/search?assignedScreenerId=${account.id}&page=1&size=100`\r\n              )\r\n              .subscribe(\r\n                (result: any) => {\r\n                  account.ctr = result.data.length;\r\n                  console.log(\"counter ->\", account);\r\n                  this.screenerList.push(account);\r\n                },\r\n                (err: any) => {}\r\n              );\r\n          }\r\n\r\n          if (\r\n            account.userRole.name.toUpperCase() ===\r\n            USER_ROLES.ROLE_AD_SPECIALIST\r\n          ) {\r\n            this.adSpecialistList.push(account);\r\n          }\r\n        }\r\n        if (this.currentUserRole === USER_ROLES.ROLE_SCREENER) {\r\n          if (\r\n            account.userRole.name.toUpperCase() === USER_ROLES.ROLE_REVIEWER\r\n          ) {\r\n            // start set partner reviewer as default/first\r\n            this.defaultReviewer = res.responseData.data.filter(\r\n              (reviewer: any) =>\r\n                reviewer.userRole.name.toUpperCase() ===\r\n                  USER_ROLES.ROLE_REVIEWER && reviewer.ascDefault === true\r\n            );\r\n\r\n            this.reviewerList = this.defaultReviewer;\r\n            const otherReviewers = res.responseData.data.filter(\r\n              (reviewer: any) =>\r\n                reviewer.userRole.name.toUpperCase() ===\r\n                  USER_ROLES.ROLE_REVIEWER && reviewer.ascDefault === false\r\n            );\r\n            this.reviewerList.push(...otherReviewers);\r\n\r\n            // this.s1Application.assignedUser = this.reviewerList[0];\r\n            this.s1Application.assignedReviewer = this.reviewerList[0];\r\n            // end set partner reviewer as default/first\r\n          }\r\n        }\r\n        this.buttonValidation(\"\");\r\n      });\r\n\r\n      if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n        console.log(\"ITS WORKING \");\r\n\r\n        this.applicantList = res.responseData.data.filter(\r\n          (account: any) =>\r\n            account.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n            account.status === COMMON_FUNCTION.ACTIVE\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  checkAscRateBeforeSaveOrSubmit(process = \"save\") {\r\n    const sizeLength = +this.applicationSingleMedia?.sizeLength;\r\n    if (sizeLength > this.maxSizeLength) {\r\n      this.sweetAlertService.customErrorMessage(\r\n        `Max input for size/length is ${this.maxSizeLength}`\r\n      );\r\n    } else if (\r\n      this.s1Application.formType === \"MULTIPLE\" &&\r\n      !this.specialApplicationType.includes(\r\n        this.s1Application.applicationType.description.toUpperCase()\r\n      )\r\n    ) {\r\n      this.saveOrUpdateApplication(\"SAVED\");\r\n    } else if (\r\n      this.s1Application?.refTypeOfMedium === \"SINGLE MEDIA\" &&\r\n      this.s1Application.formType !== \"MULTIPLE\"\r\n    ) {\r\n      this.validateAscRates(process);\r\n    } else {\r\n      if (process === \"save\") {\r\n        this.saveOrUpdateApplication(\"SAVED\");\r\n      } else if (process === \"submit\") {\r\n        this.saveStatus(\"presentor\", \"submit\", \"S1_APPLICATION_SUBMITTED\");\r\n      }\r\n    }\r\n  }\r\n\r\n  validateAscRates(process = \"save\") {\r\n    this.apiService\r\n      .save(ENDPOINTS.validateAscRates, this.applicationSingleMedia)\r\n      .subscribe(\r\n        (res) => {\r\n          if (process === \"save\") {\r\n            this.saveOrUpdateApplication(\"SAVED\");\r\n          } else if (process === \"submit\") {\r\n            this.saveStatus(\"presentor\", \"submit\", \"S1_APPLICATION_SUBMITTED\");\r\n          }\r\n        },\r\n        (err) => {\r\n          this.sweetAlertService.error(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  saveOrUpdateApplication(status, process = \"save\") {\r\n    console.log(\"1\");\r\n    console.log(\r\n      \"this.s1Application.appFormReference: \",\r\n      this.s1Application.appFormReference\r\n    );\r\n\r\n    if (\r\n      this.s1Application.formType === \"MULTIPLE\" &&\r\n      !this.s1Application.multipleApplication\r\n    ) {\r\n      Swal.fire({\r\n        text: `Are you sure you want to ${\r\n          process === \"save\" ? \"save\" : \"submit\"\r\n        } this multiple application?`,\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Confirm\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n\r\n          this.multipleApplication.numberOfApplication = this.dataStorage.getNumberOfApplications();\r\n          this.multipleApplication.applicationType = this.s1Application.applicationType;\r\n          this.multipleApplication.dateOfSubmission = new Date(\r\n            this.s1Application.submissionDate\r\n          );\r\n          this.multipleApplication.status = this.specialApplicationType.includes(\r\n            this.multipleApplication.applicationType.description.toUpperCase()\r\n          )\r\n            ? OTHER_STATUS.FOR_APPROVAL\r\n            : APPLICATION_STATUS.APPROVED;\r\n          this.multipleApplication.actionBy = this.currentUser.username;\r\n          this.multipleApplication.actionDate = new Date();\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n            this.multipleApplication.applicationOwner = this.s1Application.applicationOwner;\r\n          } else {\r\n            this.multipleApplication.applicationOwner = this.currentUser;\r\n          }\r\n          this.multipleApplication.submissionStatus = \"UNPROCESSED\";\r\n          this.multipleApplication.assignedAdSpecialist = null;\r\n          this.multipleApplication.assignedEncoder = null;\r\n          this.multipleApplication.assignedScreener = null;\r\n          this.multipleApplication.assignedReviewer = null;\r\n\r\n          // From Client Info\r\n          // this.multipleApplication.membersAffiliation = this.clientInformation.s1Application.membersAffiliation;\r\n          this.multipleApplication.company = this.clientInformation.s1Application.company;\r\n          this.multipleApplication.brand = this.clientInformation.s1Application.brand;\r\n          this.multipleApplication.product = this.clientInformation.s1Application.product;\r\n          // this.multipleApplication.category = this.clientInformation.s1Application.category;\r\n\r\n          // From Material Info\r\n          this.multipleApplication.adTitle = this.materialInformation.s1Application.adTitle;\r\n          this.multipleApplication.tagLine = this.materialInformation.s1Application.tagLine;\r\n\r\n          this.save();\r\n        }\r\n      });\r\n    } else {\r\n      if (\r\n        this.s1Application.appFormReference &&\r\n        this.s1Application.appFormReference !== \"\" &&\r\n        this.s1Application.appFormReference !== undefined\r\n      ) {\r\n        if (status !== APPLICATION_STATUS.SAVED) {\r\n          this.isSubmit = true;\r\n        }\r\n        console.log(\"APPFORM: \", this.s1Application);\r\n        console.log(\"process :: \", process);\r\n        if (process === \"save\") {\r\n          Swal.fire({\r\n            text: `Are you sure you want to ${process} this application?`,\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Confirm\",\r\n          }).then((result) => {\r\n            if (result.value) {\r\n              this.spinner.show();\r\n              this.setAndSaveS1Data(status);\r\n            }\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            text: `Are you sure you want to ${process} this application?`,\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Confirm\",\r\n          }).then((result) => {\r\n            if (result.value) {\r\n              this.setAndSaveS1Data(status);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        this.sweetAlertService.customErrorMessage(\r\n          \"Missing application form reference.\"\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  setAndSaveS1Data(status): void {\r\n    console.log(\"2\");\r\n\r\n    if (this.s1Application.id === undefined) {\r\n      this.s1Application.id = 0;\r\n      this.s1Application.applicationOwner = this.currentUser;\r\n      // this.s1Application.appFormReference = ''; // ETO PALAAAA!!!!\r\n      this.s1Application.referenceCode = \"\";\r\n    }\r\n\r\n    // From Client Info\r\n    // this.s1Application.membersAffiliation = this.clientInformation.s1Application.membersAffiliation;\r\n    this.s1Application.company = this.clientInformation.s1Application.company;\r\n    this.s1Application.brand = this.clientInformation.s1Application.brand;\r\n    this.s1Application.product = this.clientInformation.s1Application.product;\r\n    // this.s1Application.category = this.clientInformation.s1Application.category;\r\n\r\n    // From Material Info\r\n    this.s1Application.adTitle = this.materialInformation.s1Application.adTitle;\r\n    this.s1Application.referenceCode = this.materialInformation.s1Application.referenceCode;\r\n    this.s1Application.tagLine = this.materialInformation.s1Application.tagLine;\r\n\r\n    // SubmissionType (default: ORIGINAL)\r\n    this.s1Application.submissionType = this.submissionType;\r\n\r\n    // Delete auto submit details if autoSubmit is false\r\n    if (this.s1Application.autoSubmit === false) {\r\n      this.isScheduleSendIsEmpty = false;\r\n      this.s1Application.submissionDate = null;\r\n    }\r\n    console.log(\"Saving...\");\r\n    this.save();\r\n  }\r\n\r\n  save() {\r\n    console.log(\"3\");\r\n    if (\r\n      this.s1Application.formType === \"INDIVIDUAL\" ||\r\n      this.s1Application.formType === \"FOR_PRESENTATION\" ||\r\n      (this.s1Application.formType === \"MULTIPLE\" &&\r\n        this.s1Application.multipleApplication)\r\n    ) {\r\n      this.spinner.show();\r\n      // Save S1 Form\r\n      this.mediaTypeListTemp = this.materialInformation.newMultimediaList;\r\n      this.applicationSingleMediaTemp = this.materialInformation.applicationSingleMedia;\r\n\r\n      this.setTypeOfMediumDisplay();\r\n      //\r\n      if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n        this.saveUpdateApplicationSingleMedia(\"SAVE\", null, null);\r\n      } else {\r\n        this.saveUpdateMultimedia(\"SAVE\", null, null);\r\n      }\r\n    } else if (this.s1Application.formType === \"MULTIPLE\") {\r\n      this.spinner.show();\r\n      this.apiService\r\n        .save(ENDPOINTS.multipleApplication, this.multipleApplication)\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.spinner.hide();\r\n            this.router.navigate([\"asc/page/application/s1/multiple\"]);\r\n            const message = this.specialApplicationType.includes(\r\n              this.multipleApplication.applicationType.description.toUpperCase()\r\n            )\r\n              ? \"Multiple application successfully submitted for approval\"\r\n              : \"Multiple application successfully saved\";\r\n            this.sweetAlertService.customSuccessMessage(message);\r\n            // this.navigateToS1List();\r\n          },\r\n          (err: any) => {\r\n            console.log(err);\r\n            this.spinner.hide();\r\n            this.sweetAlertService.error(err);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  setTypeOfMediumDisplay() {\r\n    console.log(\"3a\");\r\n    if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n      this.s1Application.typeOfMedium = this.materialInformation?.typeOfMedium?.description;\r\n    } else {\r\n      let movingStatic = \"\";\r\n      if (this.s1Application.typeOfMedium) {\r\n        movingStatic = this.s1Application.typeOfMedium;\r\n      }\r\n\r\n      if (this.mediaTypeListTemp?.length) {\r\n        this.mediaTypeListTemp.forEach((element) => {\r\n          if (movingStatic === \"\") {\r\n            movingStatic = element.description;\r\n          } else if (!movingStatic.includes(element.description)) {\r\n            movingStatic = movingStatic + \"/\" + element.description;\r\n          }\r\n          this.s1Application.typeOfMedium = movingStatic;\r\n        });\r\n      } else {\r\n        if (\r\n          this.s1Application.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n        ) {\r\n          this.s1Application.typeOfMedium = \"DIGITAL VIDEO\";\r\n        }\r\n\r\n        if (\r\n          this.s1Application.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_STATIC\r\n        ) {\r\n          this.s1Application.typeOfMedium = \"DIGITAL STATIC\";\r\n        }\r\n      }\r\n\r\n      // removed multimediaToDelete\r\n      if (this.materialInformation?.toDeleteMultimediaList.length > 0) {\r\n        let currentTOM = this.s1Application.typeOfMedium;\r\n        this.materialInformation?.toDeleteMultimediaList?.forEach(\r\n          (multimediaToDelete) => {\r\n            console.log(\r\n              \"REMOVE: \",\r\n              multimediaToDelete.typeOfMedium.description\r\n            );\r\n            currentTOM = currentTOM.replace(\r\n              multimediaToDelete.typeOfMedium.description + \"/\",\r\n              \"\"\r\n            );\r\n            currentTOM = currentTOM.replace(\r\n              \"/\" + multimediaToDelete.typeOfMedium.description,\r\n              \"\"\r\n            );\r\n          }\r\n        );\r\n        this.s1Application.typeOfMedium = currentTOM;\r\n      }\r\n    }\r\n  }\r\n\r\n  saveUpdateApplicationSingleMedia(status, ascUser, action) {\r\n    console.log(\"3b\");\r\n    this.applicationSingleMediaTemp.appFormReference = this.s1Application?.appFormReference;\r\n\r\n    // this.spinner.hide();\r\n    if (this.applicationSingleMediaTemp) {\r\n      // this.spinner.show();\r\n      this.apiService\r\n        .save(ENDPOINTS.applicationSingleMedia, this.applicationSingleMediaTemp)\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (res !== undefined) {\r\n              console.log(\r\n                \"SAVED applicationSingleMedia: \",\r\n                res.responseData.data\r\n              );\r\n            }\r\n          },\r\n          (err: any) => {\r\n            // this.spinner.hide();\r\n            this.sweetAlertService.error(err);\r\n            return;\r\n          },\r\n          () => {\r\n            // this.spinner.hide();\r\n            if (status?.toUpperCase() === COMMON_FUNCTION.SAVE.toUpperCase()) {\r\n              this.saveAppForm();\r\n            } else if (\r\n              status?.toUpperCase() === COMMON_FUNCTION.SUBMIT.toUpperCase()\r\n            ) {\r\n              this.processAppForm(ascUser, action);\r\n            }\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  saveUpdateMultimedia(status, ascUser, action) {\r\n    let typeOfMultimedia = \"\";\r\n    this.multimediaDTO.appFormReference = this.s1Application.appFormReference;\r\n\r\n    if (action === \"submit\") {\r\n      if (this.multimediaDTO.applicationMultimediaMovingList) {\r\n        this.multimediaDTO.applicationMultimediaMovingList = this.multimediaDTO.applicationMultimediaMovingList.map(\r\n          (e) => {\r\n            return { ...e, id: 0 };\r\n          }\r\n        );\r\n      }\r\n\r\n      if (this.multimediaDTO.applicationMultimediaStaticList) {\r\n        this.multimediaDTO.applicationMultimediaStaticList = this.multimediaDTO.applicationMultimediaStaticList.map(\r\n          (e) => {\r\n            return { ...e, id: 0 };\r\n          }\r\n        );\r\n      }\r\n      console.log(this.multimediaDTO);\r\n    }\r\n\r\n    if (\r\n      this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n    ) {\r\n      typeOfMultimedia = \"moving\";\r\n    } else {\r\n      typeOfMultimedia = \"static\";\r\n    }\r\n\r\n    this.apiService\r\n      .save(\r\n        ENDPOINTS.applicationMultimedia + \"-\" + typeOfMultimedia,\r\n        this.multimediaDTO\r\n      )\r\n      .subscribe(\r\n        (res: any) => {},\r\n        (err: any) => {\r\n          // this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n        },\r\n        () => {\r\n          // this.spinner.hide();\r\n          if (status?.toUpperCase() === COMMON_FUNCTION.SAVE.toUpperCase()) {\r\n            this.saveAppForm();\r\n          } else if (\r\n            status?.toUpperCase() === COMMON_FUNCTION.SUBMIT.toUpperCase()\r\n          ) {\r\n            this.processAppForm(ascUser, action);\r\n          } else {\r\n            this.spinner.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  // OLD IMPLEMENTATION - TO BE REMOVED ONCE VERIFIED\r\n  // saveUpdateMultimedia(status, ascUser, action) {\r\n  //   console.log('3c');\r\n  //   const asd = this.multimediaMovingList.concat(this.multimediaStaticList);\r\n\r\n  //   const multimediaList = [];\r\n  //   this.mediaTypeListTemp = this.materialInformation.newMultimediaList;\r\n\r\n  //   this.mediaTypeListTemp.forEach(element => {\r\n  //     if (element.sizeLength !== undefined) {\r\n\r\n  //       const obj = new ApplicationMultimedia();\r\n  //       obj.typeOfMedium = element;\r\n  //       obj.appFormReference = this.s1Application.appFormReference;\r\n  //       obj.multimediaSizeLength = element.sizeLength;\r\n\r\n  //       if (element.multimediaMoving) {\r\n  //         obj.mediaType = TYPE_OF_MEDIUM.MOVING;\r\n  //       }\r\n\r\n  //       if (element.multimediaStatic) {\r\n  //         obj.mediaType = TYPE_OF_MEDIUM.STATIC;\r\n  //       }\r\n\r\n  //       const existingValue = this.selectedMultimediaList.filter(filteredMedia => filteredMedia?.typeOfMedium?.id === obj.typeOfMedium.id);\r\n  //       if (existingValue.length) {\r\n  //         obj.id = existingValue[0].id;\r\n  //       }\r\n\r\n  //       delete element.sizeLength;\r\n  //       multimediaList.push(obj);\r\n  //     }\r\n  //   });\r\n\r\n  //   // this.spinner.show();\r\n  //   this.apiService.save(ENDPOINTS.applicationMultimedia + '/' + COMMON_FUNCTION.BATCH, multimediaList).subscribe(\r\n  //     (res: any) => {\r\n  //       // remove blank multimedia size/length\r\n  //       this.materialInformation?.toDeleteMultimediaList?.forEach(multimediaToDelete => {\r\n  //         this.apiService.deleteById(`${ENDPOINTS.applicationMultimedia}`, multimediaToDelete.id).subscribe();\r\n  //       });\r\n  //       // this.spinner.hide();\r\n  //     }, (err: any) => {\r\n  //       // this.spinner.hide();\r\n  //       this.sweetAlertService.error(err);\r\n  //     }, () => {\r\n  //       // this.spinner.hide();\r\n  //       if (status?.toUpperCase() === COMMON_FUNCTION.SAVE.toUpperCase()) {\r\n  //         this.saveAppForm();\r\n  //       } else if (status?.toUpperCase() === COMMON_FUNCTION.SUBMIT.toUpperCase()) {\r\n  //         this.processAppForm(ascUser, action);\r\n  //       } else {\r\n  //         this.spinner.hide();\r\n  //       }\r\n  //     });\r\n  // }\r\n\r\n  saveAppForm() {\r\n    console.log(\"4.0\");\r\n    console.log(\"TO SAVE: \", this.s1Application);\r\n    this.s1Application.actionBy = this.currentUser;\r\n    // ENDPOINTS.applicationFormEncoder + COMMON_FUNCTION.VERIFY;\r\n    this.apiService\r\n      .save(\r\n        ENDPOINTS.applicationFormPresentor + COMMON_FUNCTION.SAVE,\r\n        this.s1Application\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res !== undefined) {\r\n            this.id = res.responseData.data.id;\r\n            this.s1Application = res.responseData.data;\r\n            console.log(\"SAVED:\", this.s1Application);\r\n\r\n            // if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n            //   this.saveS1ApplicationByEncoder(this.s1Application);\r\n            // }\r\n\r\n            this.spinner.hide();\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n        },\r\n        () => {\r\n          // actions after subscription\r\n          // this.resetFormValidator();\r\n          if (this.s1Application.id !== undefined && this.isSubmit === false) {\r\n            // this.router.navigate(['asc/page/application/s1/update/', this.id]);\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage(\r\n              \"Application successfully saved.\"\r\n            );\r\n            if (this.s1Application.multipleApplication) {\r\n              this.router.navigate([\"asc/page/application/s1/multiple\"]);\r\n            } else {\r\n              this.navigateToS1List();\r\n            }\r\n          } else {\r\n            console.log(\"COMMENT OUT: S1_APPLICATION_SUBMITTED\");\r\n            // this.saveStatus('presentor', 'submit', 'S1_APPLICATION_SUBMITTED');\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  saveSupportingDocuments() {\r\n    this.spinner.show();\r\n    const supportingDocuments = [];\r\n\r\n    this.materialInformation.newSupportiveDocumentList = this.materialInformation.newSupportiveDocumentList.map(\r\n      (res: any) => {\r\n        res.applicationForm = this.s1Application;\r\n        supportingDocuments.push(res);\r\n      }\r\n    );\r\n    this.apiService\r\n      .save(\r\n        ENDPOINTS.supportiveDocument + \"/\" + COMMON_FUNCTION.BATCH,\r\n        supportingDocuments\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log(\"Saved suppoting docs successfully.\");\r\n          this.spinner.hide();\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n          return;\r\n        }\r\n      );\r\n  }\r\n\r\n  setAppType(type) {\r\n    this.s1Application.applicationType = type;\r\n  }\r\n\r\n  compareFormType(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected;\r\n    }\r\n  }\r\n\r\n  compareApplicationType(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareAssignedScreener(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareAssignedReviewer(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareAssignedAdSpec(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  // onChangeHour(event) {\r\n  //   let timeFetched;\r\n  //   timeFetched = event.hour + ':' + event.minute + event.meriden;\r\n  //   this.s1Application.autoSubmitTime = timeFetched;\r\n  // }\r\n\r\n  onChangeDate(value) {\r\n    console.log(value);\r\n    if (value) {\r\n      const dateFetched = value;\r\n      const dateTransformed = this.datepipe.transform(\r\n        dateFetched,\r\n        \"yyyy-MM-dd\"\r\n      );\r\n      this.s1Application.submissionDate = new Date(dateTransformed);\r\n      this.s1Application.autoSubmit = true;\r\n      this.disableSaveAndSubmitButton();\r\n    }\r\n  }\r\n\r\n  resendDecision() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to resend decision form?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.api +\r\n              `admin/application-form/id/${this.s1Application.id}/send/decision-form`,\r\n            this.s1Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              if (res.code === 200) {\r\n                this.spinner.hide();\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Successfully resend decision form\"\r\n                );\r\n                this.navigateToS1List();\r\n              }\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  returnToScreener() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to return this application to Screener?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n          endpoint =\r\n            ENDPOINTS.api +\r\n            `application-form/id/${this.s1Application.id}/s1/ad-specialist/forward-to-screener`;\r\n        } else if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n        ) {\r\n          endpoint =\r\n            ENDPOINTS.api +\r\n            `admin/application-form/id/${this.s1Application.id}/forward-to-screener`;\r\n        }\r\n\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            if (res.code === 200) {\r\n              console.log(\"RETURN: \", res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully return to Screener\"\r\n              );\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  returnTo(ascUser, newStatus): void {\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to return this application to \" + ascUser + \"?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.assignedUser = this.s1Application.actionBy;\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToAdSpe}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormScreener}return`;\r\n          }\r\n        } else if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n        ) {\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToScreener}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormReviewer}return`;\r\n          }\r\n        }\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            if (res.code === 200) {\r\n              // console.log('RETURN: ', res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully returned the application\"\r\n              );\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  reassign(): void {\r\n    if (\r\n      this.s1Application.internalStatus ===\r\n      APPLICATION_STATUS.S1_APPLICATION_VERIFIED_BY_AD_SPE\r\n    ) {\r\n      if (this.s1Application.multipleApplication) {\r\n        this.s1Application.multipleApplication.assignedScreener = this.s1Application.assignedScreener;\r\n      } else {\r\n        this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n      }\r\n    } else if (\r\n      this.s1Application.internalStatus ===\r\n      APPLICATION_STATUS.S1_APPLICATION_SCREENED\r\n    ) {\r\n      if (this.s1Application.multipleApplication) {\r\n        this.s1Application.multipleApplication.assignedReviewer = this.s1Application.assignedReviewer;\r\n      } else {\r\n        this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n      }\r\n    }\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to reassign this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        let param = {};\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n          if (this.s1Application.multipleApplication) {\r\n            endpoint = ENDPOINTS.reAssignScreenerForMultipleApplication;\r\n            param = this.s1Application.multipleApplication;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormAdSpecialist}re-assign/screener`;\r\n            param = this.s1Application;\r\n          }\r\n        } else {\r\n          if (this.s1Application.multipleApplication) {\r\n            endpoint = ENDPOINTS.reAssignReviewerForMultipleApplication;\r\n            param = this.s1Application.multipleApplication;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormScreener}re-assign/reviewer`;\r\n            param = this.s1Application;\r\n          }\r\n        }\r\n\r\n        this.apiService.save(endpoint, param).subscribe(\r\n          (res: any) => {\r\n            console.log(\"SAVED: \", res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.success(res);\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  reassignAdSpecialist(): void {\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to re-assign this application to \" +\r\n        this.s1Application.assignedAdSpecialist.firstName +\r\n        \" \" +\r\n        this.s1Application.assignedAdSpecialist.lastName,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.assignedUser = this.s1Application.assignedAdSpecialist;\r\n\r\n        endpoint = ENDPOINTS.applicationForm;\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.update(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            // console.log('RETURN: ', res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Application re-assigned successfully.\"\r\n              );\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  validateSubmissionTime(status = \"\") {\r\n    const currentDate = new Date();\r\n    // start - for testing purposes only - uncomment lines below during dev (do not push uncomment)\r\n    // currentDate.setHours(11);\r\n    // currentDate.setMinutes(0);\r\n    // const currentHour = currentDate.getHours();\r\n    // const currentMinute = currentDate.getMinutes();\r\n\r\n    // if ((currentHour < 7 || (currentHour >= 11 && currentMinute > 0) || currentHour > 11) && status === 'S1_APPLICATION_SUBMITTED') {\r\n    //   const err = {\r\n    //     error: { message: 'Submission of application is between 7:00 AM to 11:00 AM only.' }\r\n    //   };\r\n    //   this.sweetAlertService.error(err);\r\n    //   return;\r\n    // }\r\n    // end\r\n  }\r\n\r\n  checkNullValues(str) {\r\n    return str ? str : \"\";\r\n  }\r\n\r\n  /////////////////////////// FOR ORIGINAL //////////////////////////////////\r\n  saveStatus(ascUser = \"\", action = \"\", status = \"\") {\r\n    let message: string = \"\";\r\n    if (action === \"submit\") {\r\n      message =\r\n        \"Once submitted and accepted, cancellation of application is not allowed.\" +\r\n        ` Are you sure you want to ${action} this application?`;\r\n    } else message = `Are you sure you want to ${action} this application?`;\r\n    Swal.fire({\r\n      text: message,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let msg = \"\";\r\n        if (status === APPLICATION_STATUS.S1_APPLICATION_SUBMITTED) {\r\n          msg = COMMON_FUNCTION.SUBMIT;\r\n        } else if (status === APPLICATION_STATUS.S1_APPLICATION_CANCELLED) {\r\n          msg = COMMON_FUNCTION.CANCEL;\r\n        } else if (status === APPLICATION_STATUS.S1_APPLICATION_REJECTED) {\r\n          msg = COMMON_FUNCTION.REJECT;\r\n        } else if (\r\n          status === APPLICATION_STATUS.S1_APPLICATION_VERIFIED_BY_AD_SPE\r\n        ) {\r\n          msg = COMMON_FUNCTION.VERIFY;\r\n        } else if (status === APPLICATION_STATUS.S1_APPLICATION_SCREENED) {\r\n          msg = COMMON_FUNCTION.SCREEN;\r\n        } else {\r\n          msg = COMMON_FUNCTION.ACCEPT;\r\n        }\r\n\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n\r\n        // Check NULL values\r\n        this.s1Application.referenceCode = this.checkNullValues(\r\n          this.s1Application.referenceCode\r\n        );\r\n        this.s1Application.supportingAttachmentReference = this.checkNullValues(\r\n          this.s1Application.supportingAttachmentReference\r\n        );\r\n        this.s1Application.paymentAttachmentReference = this.checkNullValues(\r\n          this.s1Application.paymentAttachmentReference\r\n        );\r\n        this.s1Application.revisionLetterAttachmentReference = this.checkNullValues(\r\n          this.s1Application.revisionLetterAttachmentReference\r\n        );\r\n        this.s1Application.decisionStatus = this.checkNullValues(\r\n          this.s1Application.decisionStatus\r\n        );\r\n        this.s1Application.status = this.specialApplicationType.includes(\r\n          this.s1Application.applicationType.description.toUpperCase()\r\n        )\r\n          ? OTHER_STATUS.FOR_APPROVAL\r\n          : APPLICATION_STATUS.APPROVED;\r\n        // SUBMIT\r\n        if (status === APPLICATION_STATUS.S1_APPLICATION_SUBMITTED) {\r\n          if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n            this.s1Application.applicationOwner = this.selectedApplicationOwner;\r\n          } else {\r\n            this.s1Application.applicationOwner = this.dataStorage.getUserAccount();\r\n          }\r\n\r\n          this.s1Application.submissionDate = new Date();\r\n          // Delete auto submit details if autoSubmit was cancelled\r\n          this.s1Application.autoSubmit = false;\r\n        }\r\n\r\n        if (!this.s1Application.company) {\r\n          this.s1Application.company = this.dataStorage.getS1NewCompany();\r\n          sessionStorage.removeItem(\"NEW_COMPANY\");\r\n        }\r\n\r\n        this.s1Application.actionBy = this.dataStorage.getUserAccount();\r\n\r\n        if (status !== APPLICATION_STATUS.S1_APPLICATION_CANCELLED) {\r\n          // FOR ADSPE: Save Supporting Documents\r\n          if (\r\n            this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST &&\r\n            this.materialInformation.newSupportiveDocumentList.length > 0\r\n          ) {\r\n            this.saveSupportingDocuments();\r\n          }\r\n\r\n          this.spinner.show();\r\n          if (\r\n            this.s1Application.formType !== APPFORM_TYPE.MULTIPLE ||\r\n            (this.s1Application.multipleApplication &&\r\n              this.s1Application.multipleApplication\r\n                .actualNumberOfApplicationForm ===\r\n                this.s1Application.multipleApplication\r\n                  .countVerifiedApplicationForm -\r\n                  1)\r\n          ) {\r\n            if (\r\n              ascUser === \"ad-specialist\" &&\r\n              action === \"verify\" &&\r\n              status === APPLICATION_STATUS.S1_APPLICATION_VERIFIED_BY_AD_SPE\r\n            ) {\r\n              // this.s1Application.assignedScreener = this.s1Application.assignedUser;\r\n              this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n            } else if (\r\n              ascUser === \"screener\" &&\r\n              action === \"verify\" &&\r\n              status === APPLICATION_STATUS.S1_APPLICATION_SCREENED\r\n            ) {\r\n              this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n            }\r\n          }\r\n\r\n          this.mediaTypeListTemp = this.materialInformation.newMultimediaList;\r\n          this.applicationSingleMediaTemp = this.materialInformation.applicationSingleMedia;\r\n\r\n          console.log(\"mediaTypeListTemp: \", this.mediaTypeListTemp);\r\n          console.log(\r\n            \"applicationSingleMediaTemp: \",\r\n            this.applicationSingleMediaTemp\r\n          );\r\n\r\n          // Encoder: Update Medium details - working in single media\r\n          // Encoder: Encode appform - working in single media\r\n          if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n            this.setTypeOfMediumDisplay();\r\n            if (\r\n              this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n            ) {\r\n              this.applicationSingleMedia = this.applicationSingleMediaTemp;\r\n              this.applicationSingleMedia.appFormReference = this.s1Application.appFormReference;\r\n              this.saveUpdateApplicationSingleMedia(null, null, null);\r\n            } else {\r\n              this.saveUpdateMultimedia(null, null, null);\r\n            }\r\n          }\r\n\r\n          // working in Single Media\r\n          if (\r\n            msg === COMMON_FUNCTION.SUBMIT &&\r\n            this.currentUserRole === USER_ROLES.ROLE_APPLICANT\r\n          ) {\r\n            this.setTypeOfMediumDisplay();\r\n            if (\r\n              this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n            ) {\r\n              this.saveUpdateApplicationSingleMedia(msg, ascUser, action);\r\n            } else {\r\n              this.saveUpdateMultimedia(msg, ascUser, action);\r\n            }\r\n          } else {\r\n            this.processAppForm(ascUser, action);\r\n          }\r\n          // socket here\r\n        } else {\r\n          // CANCEL APPLICATION (PUT method)\r\n\r\n          this.spinner.show();\r\n          this.apiService\r\n            .update(\r\n              `${ENDPOINTS.applicationForm}/s1/${ascUser}/${action}`,\r\n              this.s1Application\r\n            )\r\n            .subscribe(\r\n              (res: any) => {\r\n                console.log(\"SAVED STATUS: \", res.responseData.data);\r\n                this.spinner.hide();\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Application successfully canceled.\"\r\n                );\r\n                this.navigateToS1List();\r\n              },\r\n              (err) => {\r\n                console.log(err);\r\n                this.spinner.hide();\r\n              },\r\n              () => {\r\n                this.dataStorage.setDisplayProgressbar(false);\r\n              }\r\n            );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  processAppForm(ascUser, action) {\r\n    console.log(\"Process 2\");\r\n\r\n    const {\r\n      appFormReference,\r\n      revisionLetterAttachmentReference,\r\n      supportingAttachmentReference,\r\n    } = this.s1Application;\r\n    this.s1Application.appFormReference = appFormReference\r\n      ? appFormReference\r\n      : \"\";\r\n\r\n    if (revisionLetterAttachmentReference === \"\") {\r\n      delete this.s1Application.revisionLetterAttachmentReference;\r\n    }\r\n    if (supportingAttachmentReference === \"\") {\r\n      delete this.s1Application.supportingAttachmentReference;\r\n    }\r\n\r\n    this.s1Application.status = this.specialApplicationType.includes(\r\n      this.s1Application.applicationType.description.toUpperCase()\r\n    )\r\n      ? OTHER_STATUS.FOR_APPROVAL\r\n      : \"APPROVED\";\r\n    console.log(\"TO PROCESS: \", this.s1Application);\r\n\r\n    this.apiService\r\n      .save(\r\n        `${ENDPOINTS.applicationForm}/s1/${ascUser}/${action}`,\r\n        this.s1Application\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res) {\r\n            console.log(\"SAVED STATUS 1: \", res);\r\n            if (res.code === 400) {\r\n              this.sweetAlertService.customErrorMessage(res.responseMessage);\r\n            } else {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.s1Application = res.responseData.data;\r\n              // saving of media\r\n              // if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n              //   this.saveUpdateApplicationSingleMedia();\r\n              // } else {\r\n              //   this.saveUpdateMultimedia();\r\n              // }\r\n\r\n              // Forward Multiple Application\r\n              if (\r\n                this.s1Application.multipleApplication &&\r\n                this.s1Application.multipleApplication\r\n                  .actualNumberOfApplicationForm ===\r\n                  this.s1Application.multipleApplication\r\n                    .countVerifiedApplicationForm\r\n              ) {\r\n                this.forwardMultipleAppsTo(ascUser);\r\n              } else {\r\n                console.log(\"SAVED STATUS: \", res.responseData.data);\r\n                this.s1Application = res.responseData.data;\r\n                // saving of media\r\n                // if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n                //   this.saveUpdateApplicationSingleMedia();\r\n                // } else {\r\n                //   this.saveUpdateMultimedia();\r\n                // }\r\n\r\n                // Forward Multiple Application\r\n                if (\r\n                  this.s1Application.multipleApplication &&\r\n                  this.s1Application.multipleApplication\r\n                    .actualNumberOfApplicationForm ===\r\n                    this.s1Application.multipleApplication\r\n                      .countVerifiedApplicationForm\r\n                ) {\r\n                  this.forwardMultipleAppsTo(ascUser);\r\n                } else {\r\n                  this.spinner.hide();\r\n                  this.sweetAlertService.success(res);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n          this.dataStorage.setDisplayProgressbar(false);\r\n        },\r\n        () => {\r\n          this.spinner.hide();\r\n          this.dataStorage.setDisplayProgressbar(false);\r\n          // if (this.s1Application.multipleApplication) {\r\n          //   this.router.navigate(['/asc/page/application/s1/multiple']);\r\n          // } else {\r\n          this.navigateToS1List();\r\n\r\n          //\r\n          if (\r\n            this.currentUserRole === USER_ROLES.ROLE_APPLICANT &&\r\n            this.checkCutOffTime()\r\n          ) {\r\n            this._snackBar.open(\r\n              \"Cutoff reached. Application will be processed the next day.\",\r\n              \"OK\",\r\n              {\r\n                horizontalPosition: \"right\",\r\n                verticalPosition: \"top\",\r\n                duration: 5000,\r\n              }\r\n            );\r\n          }\r\n          // }\r\n        }\r\n      );\r\n    // if (this.currentUserRole === USER_ROLES.ROLE_ENCODER && this.s1Application.externalStatus === APPLICATION_STATUS.SAVED) {\r\n    //   this.saveS1ApplicationByEncoder(this.s1Application);\r\n    // }\r\n  }\r\n\r\n  submitDecisionAndComment() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to save changes to this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let endpoint = \"\";\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n          endpoint = ENDPOINTS.submitDecisionAndCommentScreener;\r\n        } else if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n        ) {\r\n          endpoint = ENDPOINTS.submitDecisionAndCommentReviewer;\r\n        }\r\n\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            console.log(res);\r\n            this.sweetAlertService.customSuccessMessage(\r\n              \"Decision and comment successfully submitted.\"\r\n            );\r\n            this.navigateToS1List();\r\n          },\r\n          (err: any) => {}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  forwardMultipleAppsTo(user) {\r\n    console.log(\"forwardMultipleAppsTo\");\r\n    console.log(this.s1Application);\r\n\r\n    let endpoint = \"\";\r\n    if (user === \"encoder\") {\r\n      this.s1Application.multipleApplication.assignedEncoder = this.s1Application.assignedEncoder;\r\n      endpoint = ENDPOINTS.forwardMultipleAppFormToAdSpe;\r\n    } else if (user === \"ad-specialist\") {\r\n      this.s1Application.multipleApplication.assignedAdSpecialist = this.s1Application.assignedAdSpecialist;\r\n      this.s1Application.multipleApplication.assignedScreener = this.s1Application.assignedScreener;\r\n      endpoint = ENDPOINTS.forwardMultipleAppFormToScreener;\r\n    } else if (user === \"screener\") {\r\n      this.s1Application.multipleApplication.assignedReviewer = this.s1Application.assignedReviewer;\r\n      endpoint = ENDPOINTS.forwardMultipleAppFormToReviewer;\r\n    } else if (user === \"reviewer\") {\r\n      endpoint =\r\n        ENDPOINTS.releaseMultipleApplication +\r\n        this.s1Application.multipleApplication.id +\r\n        `/release`;\r\n    }\r\n\r\n    this.apiService\r\n      .save(endpoint, this.s1Application.multipleApplication)\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log(\"Forwarded: \", res);\r\n          this.spinner.hide();\r\n          this.sweetAlertService.customSuccessMessage(\r\n            \"Multiple application successfully forwarded to the next user.\"\r\n          );\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n        },\r\n        () => {\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n  }\r\n\r\n  /////////////////////////// FOR COMPLIANCE //////////////////////////////////\r\n  saveStatusForCompliance(ascUser = \"\", action = \"\", status = \"\") {\r\n    console.log(\"Com > \", this.s1Application);\r\n    let msg;\r\n    if (\r\n      status ===\r\n      APPLICATION_STATUS_FOR_COMPLIANCE.SUBMITTED_DOCUMENT_FOR_COMPLIANCE\r\n    ) {\r\n      msg = COMMON_FUNCTION.SUBMIT;\r\n    } else {\r\n      msg = COMMON_FUNCTION.ACCEPT;\r\n    }\r\n\r\n    if (this.s1Application.submissionType === SUBMISSION_TYPE.REVISION) {\r\n      this.s1Application.submissionType = SUBMISSION_TYPE.REVISION;\r\n    } else {\r\n      this.s1Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    }\r\n\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to \" + msg + \" this application for compliance?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        console.log(\"TO SAVE: \", this.s1Application);\r\n\r\n        // FOR ADSPE: Save Supporting Documents\r\n        if (this.materialInformation.newSupportiveDocumentList.length > 0) {\r\n          this.saveSupportingDocuments();\r\n        }\r\n\r\n        this.spinner.show();\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (\r\n          ascUser === \"ad-specialist\" &&\r\n          action === \"verify\" &&\r\n          status ===\r\n            APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE\r\n        ) {\r\n          // this.s1Application.assignedScreener = this.s1Application.assignedUser;\r\n          this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n          console.log(\"ASSINGED SCREENER\", this.s1Application.assignedUser);\r\n        }\r\n\r\n        if (\r\n          ascUser === \"screener\" &&\r\n          action === \"verify\" &&\r\n          status ===\r\n            APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER\r\n        ) {\r\n          // this.s1Application.assignedScreener = this.s1Application.assignedUser;\r\n          this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n          console.log(\"ASSINGED REVIEWER\", this.s1Application.assignedUser);\r\n        }\r\n\r\n        this.apiService\r\n          .save(\r\n            `${ENDPOINTS.applicationForm}/s1/compliance/${ascUser}/${action}`,\r\n            this.s1Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.success(res);\r\n              this.navigateToS1List();\r\n            },\r\n            (err) => {\r\n              console.log(err);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            },\r\n            () => {\r\n              this.spinner.hide();\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  /////////////////////////// REVISION //////////////////////////////////\r\n  saveStatusRevision(ascUser = \"\", action = \"\", status = \"\") {\r\n    console.log(\"Rev > \", this.s1Application);\r\n    Swal.fire({\r\n      text: \"Are you sure you want to save changes for revision?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        if (\r\n          this.s1Application.revisionNo === 2 &&\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT\r\n        ) {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.customSuccessMessage(\r\n            \"Presentor can only submit revision no more than 2 times.\"\r\n          );\r\n        } else {\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n            this.s1Application.submissionType = SUBMISSION_TYPE.REVISION;\r\n          }\r\n\r\n          // FOR ADSPE: Save Supporting Documents\r\n          console.log(\"Save supporting..\");\r\n          if (this.materialInformation.newSupportiveDocumentList.length > 0) {\r\n            this.saveSupportingDocuments();\r\n          }\r\n\r\n          this.s1Application.actionBy = this.dataStorage.getUserAccount();\r\n\r\n          if (\r\n            ascUser === \"ad-specialist\" &&\r\n            action === \"verify\" &&\r\n            status === APPLICATION_STATUS_REVISION.REVISION_VERIFIED_BY_AD_SPE\r\n          ) {\r\n            this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n          }\r\n\r\n          if (\r\n            ascUser === \"screener\" &&\r\n            action === \"verify\" &&\r\n            status === APPLICATION_STATUS_REVISION.REVISION_SCREENED\r\n          ) {\r\n            this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n          }\r\n\r\n          console.log(\"TO SAVE: \", this.s1Application);\r\n\r\n          this.spinner.show();\r\n          this.apiService\r\n            .save(\r\n              `${ENDPOINTS.applicationForm}/s1/revision/${ascUser}/${action}`,\r\n              this.s1Application\r\n            )\r\n            .subscribe(\r\n              (res: any) => {\r\n                console.log(\"SAVED STATUS: \", res.responseData.data);\r\n                this.spinner.hide();\r\n                this.sweetAlertService.success(res);\r\n                this.navigateToS1List();\r\n              },\r\n              (err) => {\r\n                this.spinner.hide();\r\n                console.log(err);\r\n                this.sweetAlertService.error(err);\r\n                this.dataStorage.setDisplayProgressbar(false);\r\n              },\r\n              () => {\r\n                this.dataStorage.setDisplayProgressbar(false);\r\n              }\r\n            );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  requestSpecialS1ApplicationApproval(): void {\r\n    this.applicationRequest = {\r\n      id: 0,\r\n      adTitle: this.s1Application.adTitle,\r\n      applicationOwner: this.s1Application.applicationOwner,\r\n      applicationType: this.s1Application.applicationType,\r\n      brand: this.s1Application.brand,\r\n      product: this.s1Application.product,\r\n      // category: this.s1Application.category,\r\n      company: this.s1Application.company,\r\n      formType: this.s1Application.formType,\r\n      // membersAffiliation: this.s1Application.membersAffiliation,\r\n      status: OTHER_STATUS.FOR_APPROVAL,\r\n      submissionDate: new Date(this.s1Application.submissionDate),\r\n      tagLine: this.s1Application.tagLine,\r\n      submitApplicationForm: false,\r\n      hasSpecialClearing: false,\r\n      applicationForm: null,\r\n    };\r\n    Swal.fire({\r\n      text: \"Are you sure you want to request this application for approval?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        console.log(\"TO SAVE: \", this.applicationRequest);\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n          this.applicationRequest.applicationOwner = this.s1Application.applicationOwner;\r\n        } else {\r\n          this.applicationRequest.applicationOwner = this.currentUser;\r\n        }\r\n        this.apiService\r\n          .save(ENDPOINTS.applicationRequests, this.applicationRequest)\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.success(res);\r\n              // this.navigateToS1List();\r\n              this.router.navigate([\"asc/page/application/s1/special\"]);\r\n            },\r\n            (err) => {\r\n              this.spinner.hide();\r\n              console.log(err);\r\n              this.sweetAlertService.error(err);\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            },\r\n            () => {\r\n              this.spinner.hide();\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  accordionDisablingFunction(): void {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      // if (this.s1Application.membersAffiliation && this.company && this.s1Application.brand) {\r\n      // this.accordionDisable = !this.accordionDisable;\r\n      this.accordionExpanded = !this.accordionExpanded;\r\n      this.validationMessage = \"\";\r\n      // } else {\r\n      //   this.validationMessage = ' Please provide all the required information...'\r\n      // }\r\n    }\r\n  }\r\n\r\n \r\n\r\n  disableSaveAndSubmitButton() {\r\n    if (this.s1Application.autoSubmit === false) {\r\n      this.isScheduleSendIsEmpty = false;\r\n    }\r\n    if (this.s1Application.autoSubmit === true) {\r\n      this.isScheduleSendIsEmpty = true;\r\n      if (\r\n        this.s1Application.submissionDate === null ||\r\n        this.s1Application.submissionDate === undefined\r\n      ) {\r\n        this.isScheduleSendIsEmpty = true;\r\n      } else {\r\n        this.isScheduleSendIsEmpty = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  adSpecValidation(i: any): void {}\r\n\r\n  buttonValidation(i: any): void {\r\n    if (\r\n      this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST &&\r\n      this.s1Application.assignedScreener\r\n    ) {\r\n      this.buttonDisabled = false;\r\n    } else if (\r\n      this.currentUserRole === USER_ROLES.ROLE_SCREENER &&\r\n      this.s1Application.assignedReviewer\r\n    ) {\r\n      // if ((i || this.s1Application.assignedUser.userRole.name === USER_ROLES.ROLE_REVIEWER) &&\r\n      //   (i || this.s1Application.assignedUser || this.s1Application.decisionStatus)) {\r\n      this.buttonDisabled = false;\r\n      // }\r\n    }\r\n\r\n    this.dataStorage.setDecisionStatus(i);\r\n\r\n    if (\r\n      (i === \"INCOMPLETE\" || i === \"DISAPPROVED\") &&\r\n      this.currentUserRole === USER_ROLES.ROLE_SCREENER\r\n    ) {\r\n      if (\r\n        this.s1Application.internalStatus ===\r\n          APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE ||\r\n        this.s1Application.internalStatus ===\r\n          APPLICATION_STATUS_REVISION.REVISION_VERIFIED_BY_AD_SPE\r\n      ) {\r\n        if (\r\n          this.s1Application.decisionStatus ===\r\n            APP_DECISION_STATUS.INCOMPLETE ||\r\n          this.s1Application.decisionStatus === APP_DECISION_STATUS.DISAPPROVED\r\n        ) {\r\n          this.s1Application.decisionStatus = i;\r\n          // if (this.rationaleLists.length === 0) {\r\n          this.incompleteDisapprovedModal(i);\r\n          // }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  selectApplicant(res) {\r\n    this.selectedApplicationOwner = res;\r\n    this.getPresentorDetails();\r\n  }\r\n\r\n  saveS1ApplicationByEncoder(data) {\r\n    this.spinner.show();\r\n    this.apiService\r\n      .save(ENDPOINTS.applicationFormEncoder + COMMON_FUNCTION.VERIFY, data)\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.spinner.hide();\r\n          console.log(\"SAVED BY ENCODER : \", res.responseData.data);\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n  }\r\n\r\n  rejectDisapprovedModal(): void {\r\n    const dialogRef = this.dialog.open(RejectDisapprovedReasonComponent, {\r\n      width: \"50%\",\r\n      height: \"65%\",\r\n      data: {\r\n        s1Application: this.s1Application,\r\n        applicationStage: \"s1\",\r\n      },\r\n    });\r\n  }\r\n\r\n  incompleteDisapprovedModal(decisionStatus): void {\r\n    const dialogRef = this.dialog.open(\r\n      IncompleteDisapprovedRationaleComponent,\r\n      {\r\n        width: \"50%\",\r\n        height: \"65%\",\r\n        disableClose: true,\r\n        data: {\r\n          s1Application: this.s1Application,\r\n          applicationStage: \"s1\",\r\n        },\r\n      }\r\n    );\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      this.getRationaleList();\r\n      if (\r\n        this.rationaleLists.length > 0 ||\r\n        this.rationaleOthersList.length > 0\r\n      ) {\r\n        this.s1Application.decisionStatus = decisionStatus;\r\n      }\r\n      if (result) {\r\n        this.buttonDisabled = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  navigateToS1List() {\r\n    // setTimeout(() => {\r\n    this.router.navigate([\"asc/page/application/s1/lists\"]);\r\n    // }, 2000);\r\n  }\r\n\r\n  openPerformanceMetrics() {\r\n    const dialogRef = this.dialog.open(PerformanceMetricsComponent, {\r\n      data: {\r\n        appFormReference: this.s1Application.appFormReference,\r\n        referenceCode: this.s1Application.referenceCode,\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((result) => {});\r\n  }\r\n\r\n  viewReport(id, filename) {\r\n    if (filename === \"S1_Decision_Form\" || filename === \"Stamp_Material\") {\r\n      const downloadURL =\r\n        filename === \"S1_Decision_Form\"\r\n          ? this.s1Application?.decisionFormFileURL\r\n          : filename === \"Stamp_Material\"\r\n          ? this.s1Application?.stampMaterialFileURL\r\n          : \"\";\r\n      window.open(downloadURL);\r\n    } else {\r\n      this.report.filename = filename;\r\n      this.report.format = \"pdf\";\r\n      (this.report.module = \"Form\"),\r\n        (this.report.params = { applicationFormId: id });\r\n      console.log(this.report);\r\n      this.spinner.show();\r\n      this.apiService\r\n        .printReport(ENDPOINTS.generateReports, this.report)\r\n        .subscribe(\r\n          (data: any) => {\r\n            const newBlob = new Blob([data], { type: \"application/pdf\" });\r\n            const downloadURL = URL.createObjectURL(newBlob);\r\n            this.spinner.hide();\r\n            window.open(downloadURL);\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  getRationaleList(): void {\r\n    // Rationale Object\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationRationale,\r\n        `application-form-id/${this.s1Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleOthersList = res.responseData.data;\r\n      });\r\n    // Rationale List\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.rationaleList,\r\n        `application/${this.s1Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleLists = res;\r\n      });\r\n    this.rationaleDisplay = true;\r\n  }\r\n\r\n  resubmitApplication(id = this.s1Application?.id) {\r\n    this.spinner.show();\r\n    let endpoint = this.hasMultimediaLengthChange\r\n      ? ENDPOINTS.modifyApprovedS1ApplicationFormMultimedia\r\n      : ENDPOINTS.modifyApprovedS1ApplicationFormSingleMedia;\r\n\r\n    endpoint += `=${id}`;\r\n\r\n    const newMedia = this.materialInformation.newMultimediaList[0];\r\n\r\n    const obj = this.hasMultimediaLengthChange\r\n      ? {\r\n          appFormReference: this.s1Application.appFormReference,\r\n          typeOfMedium: newMedia,\r\n          mediaType: \"STATIC\",\r\n          multimediaSizeLength: newMedia.sizeLength,\r\n          amount: 0,\r\n        }\r\n      : this.applicationSingleMedia;\r\n\r\n    this.apiService.save(endpoint, obj).subscribe(\r\n      (res) => {\r\n        this.spinner.hide();\r\n\r\n        if (\r\n          this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n        ) {\r\n          this.saveUpdateApplicationSingleMedia(null, null, null);\r\n        } else {\r\n          this.saveUpdateMultimedia(null, null, null);\r\n        }\r\n        this.sweetAlertService.success(res);\r\n\r\n        if (this.s1Application.multipleApplication) {\r\n          this.router.navigate([\"asc/page/application/s1/multiple\"]);\r\n        } else {\r\n          this.navigateToS1List();\r\n        }\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  clearDecisionStatus(): void {\r\n    this.s1Application.decisionStatus = \"\";\r\n  }\r\n\r\n  checkSingleMediaChanges() {\r\n    this.applicationSingleMedia = this.materialInformation?.applicationSingleMedia;\r\n    this.disableSubmitButtonByMedia = this.materialInformation?.disableSubmitButtonByMedia;\r\n    this.hasMultimediaLengthToEnableSubmit = true;\r\n  }\r\n\r\n  checkMultimediaChanges() {\r\n    // this.hasMultimediaLengthToEnableSubmit = this.multimediaMovingList.length ? true : false;\r\n    this.disableSubmitButtonByMedia = false;\r\n    this.hasMultimediaLengthToEnableSubmit =\r\n      this.materialInformation?.newMultimediaList.length ||\r\n      this.multimediaMovingList.length ||\r\n      this.multimediaStaticList.length\r\n        ? true\r\n        : false;\r\n\r\n    const multimediaListChanges = this.materialInformation?.newMultimediaList?.map(\r\n      (mappedMultimedia) => ({\r\n        multimediaSizeLength: mappedMultimedia?.sizeLength,\r\n        typeOfMedium: mappedMultimedia?.description,\r\n      })\r\n    );\r\n\r\n    const hasSizeLengthChange = this.currentSizeLengthMultimedia\r\n      .map((media) => ({\r\n        multimediaSizeLength: media.multimediaSizeLength,\r\n        typeOfMedium: media.typeOfMedium,\r\n        multimediaSizeLengthNew: multimediaListChanges?.filter(\r\n          (filteredMedia) => filteredMedia.typeOfMedium === media.typeOfMedium\r\n        )[0]?.multimediaSizeLength,\r\n      }))\r\n      .filter(\r\n        (filteredRes) =>\r\n          +filteredRes.multimediaSizeLength !==\r\n            +filteredRes.multimediaSizeLengthNew &&\r\n          filteredRes.multimediaSizeLengthNew\r\n      );\r\n\r\n    const hasNewMultimediaType = multimediaListChanges\r\n      ?.map((multimedia) =>\r\n        this.currentSizeLengthMultimedia.some(\r\n          (currMedia) => currMedia.typeOfMedium === multimedia.typeOfMedium\r\n        )\r\n      )\r\n      .includes(false);\r\n\r\n    this.hasMultimediaLengthChange =\r\n      hasNewMultimediaType || hasSizeLengthChange.length ? true : false;\r\n  }\r\n\r\n  checkEmittedMultimedia(multimediaDTO): void {\r\n    this.multimediaDTO = multimediaDTO.data;\r\n\r\n    switch (multimediaDTO.type) {\r\n      case TYPE_OF_MEDIUM.MULTIMEDIA_MOVING:\r\n        if (multimediaDTO.data) {\r\n          this.hasMultimediaLengthToEnableSubmit =\r\n            multimediaDTO.data.sizeLength > 0 ? true : false;\r\n          this.disableSubmitButtonByMedia = multimediaDTO.data.applicationMultimediaMovingList.filter(\r\n            (medium: ApplicationMultimediaItemsDTO) =>\r\n              medium.hasSelected === true\r\n          )\r\n            ? false\r\n            : true;\r\n        }\r\n        break;\r\n      case TYPE_OF_MEDIUM.MULTIMEDIA_STATIC:\r\n        if (multimediaDTO.data) {\r\n          this.disableSubmitButtonByMedia = multimediaDTO.data.applicationMultimediaStaticList.filter(\r\n            (medium: ApplicationMultimediaItemsDTO) =>\r\n              medium.hasSelected === true\r\n          )\r\n            ? false\r\n            : true;\r\n\r\n          this.hasMultimediaLengthToEnableSubmit = multimediaDTO.data.applicationMultimediaStaticList.filter(\r\n            (medium: ApplicationMultimediaItemsDTO) =>\r\n              medium.multimediaStaticMedium === \"digital static\" ||\r\n              (medium.hasSelected === true && medium.sizeLength)\r\n          )\r\n            ? true\r\n            : false;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  fetchMultimedia(): void {\r\n    console.log(\"S1 APPP::: \", this.s1Application);\r\n    let typeofMedium =\r\n      this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n        ? \"moving\"\r\n        : \"static\";\r\n    let endpoint =\r\n      ENDPOINTS.applicationMultimedia +\r\n      \"-\" +\r\n      typeofMedium +\r\n      \"/app-form-reference\";\r\n    this.apiService\r\n      .findByParam(endpoint, this.s1Application.appFormReference)\r\n      .subscribe((multimedia) => {\r\n        console.log(\"Multimedia Response: \", multimedia.responseData.data);\r\n        if (multimedia) this.multimediaDTO = multimedia.responseData.data;\r\n      });\r\n  }\r\n\r\n  submitAppeal() {\r\n    let endpoint;\r\n    if (this.isAdmin) {\r\n      endpoint = ENDPOINTS.admin + `/s1/verify/appeal`;\r\n    } else if (this.isAdSpecialist) {\r\n      endpoint = ENDPOINTS.applicationFormAdSpecialist + `verify/appeal`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    this.apiService.save(endpoint, this.s1Application).subscribe(\r\n      (res: any) => {\r\n        this.spinner.hide();\r\n        this.sweetAlertService.success(res);\r\n        console.log(\"submitAppeal : \", res.responseData.data);\r\n        this.navigateToS1List();\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  sendDecisionOrStampMaterialManual(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to send this application form?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.s1ManualRelease + `/${this.s1Application.id}`,\r\n            this.s1Application\r\n          )\r\n          .subscribe((res: any) => {\r\n            this.sweetAlertService.customSuccessMessage(res.message);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  checkCutOffTime(): boolean {\r\n    let regex = new RegExp(\":\", \"g\");\r\n    let startTime = \"11:00:00\";\r\n    let endTime = \"23:59:59\";\r\n    let currentTime = String(\r\n      new Date().getHours() +\r\n        \":\" +\r\n        new Date().getMinutes() +\r\n        \":\" +\r\n        new Date().getSeconds()\r\n    );\r\n\r\n    if (\r\n      parseInt(currentTime.replace(regex, \"\")) >=\r\n        parseInt(startTime.replace(regex, \"\")) &&\r\n      parseInt(currentTime.replace(regex, \"\")) <=\r\n        parseInt(endTime.replace(regex, \"\"))\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  checkMaterialFieldErrors(): boolean {\r\n    return (\r\n      (!this.s1Application?.adTitle ||\r\n        !this.s1Application?.refTypeOfMedium ||\r\n        !this.hasMultimediaLengthToEnableSubmit ||\r\n        this.disableSubmitButtonByMedia) &&\r\n      !this.s1Application.typeOfMedium\r\n    );\r\n  }\r\n\r\n  private getAllActiveHolidays() {\r\n    this.apiService.findAll(ENDPOINTS.holidays).subscribe((res: any) => {\r\n      activeHolidayDates = res.responseData.data\r\n        .filter(\r\n          (holidayDate) =>\r\n            holidayDate.status === \"ACTIVE\" &&\r\n            holidayDate.holidayType !== \"WEEKEND\"\r\n        )\r\n        .map((holidayDate) => new Date(holidayDate.holidayDate));\r\n\r\n         this.disabledWeekEnds = (d: Date | null) => {\r\n    const day = (d || new Date()).getDay();\r\n    return (\r\n      ((day !== 0 && day !== 6) ||\r\n        activeWeekendDates.find((weekendDate) => {\r\n          return format(d, \"yyyy-MM-dd\") === format(weekendDate, \"yyyy-MM-dd\");\r\n        })) &&\r\n      !Boolean(\r\n        activeHolidayDates.find((holidayDate) => {\r\n          return format(d, \"yyyy-MM-dd\") === format(holidayDate, \"yyyy-MM-dd\");\r\n        })\r\n      )\r\n    );\r\n  }\r\n    });\r\n  }\r\n\r\n  private getAllActiveWeekends() {\r\n    this.apiService.findAll(ENDPOINTS.holidays).subscribe((res: any) => {\r\n      activeWeekendDates = res.responseData.data\r\n        .filter(\r\n          (holidayDate) =>\r\n            holidayDate.status === \"ACTIVE\" &&\r\n            holidayDate.holidayType === \"WEEKEND\"\r\n        )\r\n        .map((holidayDate) => new Date(holidayDate.holidayDate));\r\n\r\n             this.disabledWeekEnds = (d: Date | null) => {\r\n    const day = (d || new Date()).getDay();\r\n    return (\r\n      ((day !== 0 && day !== 6) ||\r\n        activeWeekendDates.find((weekendDate) => {\r\n          return format(d, \"yyyy-MM-dd\") === format(weekendDate, \"yyyy-MM-dd\");\r\n        })) &&\r\n      !Boolean(\r\n        activeHolidayDates.find((holidayDate) => {\r\n          return format(d, \"yyyy-MM-dd\") === format(holidayDate, \"yyyy-MM-dd\");\r\n        })\r\n      )\r\n    );\r\n  }\r\n    });\r\n  }\r\n\r\n  isSaveAndRequestForApprovalDisabled(): boolean {\r\n    return (\r\n      !this.s1Application?.brand ||\r\n      !this.s1Application?.company ||\r\n      !this.s1Application?.adTitle ||\r\n      this.s1Application?.brand?.penalty ||\r\n      !this.s1Application?.product ||\r\n      this.s1Application?.company?.delinquent ||\r\n      this.isInactiveAffiliation ||\r\n      this.s1Application?.company?.status === \"INACTIVE\" ||\r\n      !this.s1Application.submissionDate\r\n    );\r\n  }\r\n\r\n  isSingleRegularDisabled(): boolean {\r\n    if (\r\n      this.s1Application?.applicationType?.description ===\r\n        \"Special Screening\" ||\r\n      this.s1Application?.applicationType?.description ===\r\n        \"Special Screening and Clearing\"\r\n    ) {\r\n      return this.isSaveAndRequestForApprovalDisabled();\r\n    }\r\n\r\n    return (\r\n      (!this.s1Application?.brand ||\r\n        !this.s1Application?.company ||\r\n        !this.s1Application?.adTitle ||\r\n        !this.s1Application?.refTypeOfMedium ||\r\n        !this.s1Application?.mainAttachmentReference ||\r\n        !this.s1Application?.refTypeOfMedium ||\r\n        (!this.s1Application?.hasNoSupportingDocs &&\r\n          !this.s1Application?.supportingAttachmentReference) ||\r\n        this.s1Application?.brand?.penalty ||\r\n        !this.s1Application?.product ||\r\n        this.s1Application?.company?.delinquent ||\r\n        this.isInactiveAffiliation ||\r\n        this.s1Application?.company?.status === \"INACTIVE\" ||\r\n        this.disableSubmitButtonByMedia ||\r\n        !this.hasMultimediaLengthToEnableSubmit) &&\r\n      !this.s1Application.typeOfMedium\r\n    );\r\n  }\r\n\r\n  isMultipleRegularDisabled(): boolean {\r\n    return (\r\n      !this.s1Application?.brand ||\r\n      !this.s1Application?.company ||\r\n      !this.s1Application?.adTitle ||\r\n      !this.s1Application?.refTypeOfMedium ||\r\n      this.s1Application?.brand?.penalty ||\r\n      !this.s1Application?.product ||\r\n      this.s1Application?.company?.delinquent ||\r\n      this.isInactiveAffiliation ||\r\n      this.s1Application?.company?.status === \"INACTIVE\" ||\r\n      !this.s1Application.submissionDate\r\n    );\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <!-- <div class=\"spinner\">\r\n      <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"large\" color=\"#fff\" type=\"line-spin-fade\" [fullScreen]=\"false\">\r\n        <p *ngIf=\"s1Application.brand != undefined\"> Loading <b>{{s1Application.referenceCode}}</b> S1 Application. </p>\r\n        <p *ngIf=\"s1Application.brand === undefined && company.companyName === undefined\"> Creating new S1\r\n          Application... </p>\r\n      </ngx-spinner>\r\n    </div> -->\r\n    <div class=\"row title\">\r\n      <div class=\"col-md-12\">\r\n        <mat-label\r\n          *ngIf=\"\r\n            isApplicant &&\r\n            (s1Application?.externalStatus == undefined ||\r\n              s1Application?.externalStatus == 'SAVED' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_SUBMITTED')\r\n          \"\r\n        >\r\n          <i class=\"material-icons\">note_add</i> NEW S1 APPLICATION <br /><br />\r\n        </mat-label>\r\n\r\n        <mat-label\r\n          [hidden]=\"\r\n            s1Application?.applicationType.description ===\r\n              'Special Screening' ||\r\n            s1Application?.applicationType.description === 'Special Clearing' ||\r\n            s1Application?.applicationType.description ===\r\n              'Special Screening and Clearing'\r\n          \"\r\n          *ngIf=\"\r\n            specialApplicationType.includes(\r\n              s1Application?.applicationType?.description?.toUpperCase()\r\n            ) &&\r\n            !applicationRequest?.status &&\r\n            s1Application.applicationRequest == null &&\r\n            s1Application?.formType !== 'MULTIPLE'\r\n          \"\r\n        >\r\n          <i class=\"material-icons\">note_add</i> REQUEST FOR APPROVAL\r\n        </mat-label>\r\n\r\n        <table>\r\n          <tr>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.referenceCode ||\r\n                s1Application?.referenceCodeRejected\r\n              \"\r\n            >\r\n              <span> Reference Code: </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.referenceCode ||\r\n                s1Application?.referenceCodeRejected\r\n              \"\r\n            >\r\n              <span>\r\n                <b>{{\r\n                  s1Application?.externalStatus == \"S1_APPLICATION_REJECTED\"\r\n                    ? s1Application?.referenceCodeRejected\r\n                    : (s1Application?.referenceCode | uppercase)\r\n                }}</b>\r\n                <!-- <b *ngIf=\"s1Application?.revisionNo>0\"> (Revision Number {{s1Application?.revisionNo}})</b> -->\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\">\r\n              <button\r\n                class=\"button-right button-red\"\r\n                mat-raised-button\r\n                [routerLink]=\"['/asc/page/application/s1/lists']\"\r\n              >\r\n                <i class=\"material-icons color__white\">list</i> VIEW\r\n                APPLICATIONS\r\n              </button>\r\n              <!-- <button class=\"button-right button-red\" mat-raised-button *ngIf=\"s1Application?.formType==='MULTIPLE'\"\r\n              [routerLink]=\"['/asc/page/application/s1/multiple']\">\r\n              <i class=\"material-icons color__white\">list</i> VIEW APPLICATIONS\r\n            </button> -->\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"no-border\"></td>\r\n          </tr>\r\n          <tr>\r\n            <td\r\n              *ngIf=\"\r\n                (s1Application?.externalStatus != undefined && !isAscUser) ||\r\n                isAscUser\r\n              \"\r\n            >\r\n              <span> Status: </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"\r\n                (s1Application?.externalStatus != undefined && !isAscUser) ||\r\n                isAscUser\r\n              \"\r\n            >\r\n              <span\r\n                *ngIf=\"s1Application?.externalStatus != undefined && !isAscUser\"\r\n              >\r\n                <b>{{\r\n                  s1Application?.externalStatus?.replaceAll(\"_\", \" \")\r\n                    | uppercase\r\n                }}</b>\r\n              </span>\r\n              <span *ngIf=\"isAscUser\">\r\n                <b>{{\r\n                  s1Application?.internalStatus?.replaceAll(\"_\", \" \")\r\n                    | uppercase\r\n                }}</b>\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\"></td>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.decisionStatus != undefined &&\r\n                s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED'\r\n              \"\r\n            >\r\n              <span> Decision: </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.decisionStatus != undefined &&\r\n                s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED'\r\n              \"\r\n            >\r\n              <span>\r\n                <b>{{ s1Application?.decisionStatus | uppercase }}</b>\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n        <hr />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <h3\r\n          *ngIf=\"\r\n            s1Application?.submissionDate &&\r\n            applicationRequest?.status !== 'DISAPPROVED'\r\n          \"\r\n        >\r\n          <b class=\"submission-date\"\r\n            >Submission Date:\r\n            {{ s1Application?.submissionDate | date: \"MMMM d, yyyy\" }}</b\r\n          >\r\n        </h3>\r\n        <h3\r\n          *ngIf=\"\r\n            s1Application?.submissionDate &&\r\n            applicationRequest?.status === 'DISAPPROVED'\r\n          \"\r\n        >\r\n          <b class=\"submission-date\"\r\n            >Submission Date: N/A - Request was disapproved</b\r\n          >\r\n        </h3>\r\n      </div>\r\n\r\n      <div\r\n        class=\"col-md-6\"\r\n        *ngIf=\"\r\n          s1Application?.amount && s1Application?.submissionType === 'ORIGINAL'\r\n        \"\r\n      >\r\n        <span class=\"badge bg-warning text-dark button-right\">\r\n          {{ s1Application?.paymentStatus?.replaceAll(\"_\", \" \") }} : ₱\r\n          {{ s1Application?.amount | number: \"1.2-2\" }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\" [formGroup]=\"s1ApplicationForm\">\r\n      <mat-form-field\r\n        class=\"col-md-4\"\r\n        appearance=\"outline\"\r\n        [hidden]=\"s1Application?.formType !== 'MULTIPLE'\"\r\n      >\r\n        <mat-label>Form Type</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"s1Application.formType\"\r\n          [compareWith]=\"compareFormType\"\r\n          name=\"formType\"\r\n          formControlName=\"formType\"\r\n          disabled\r\n        >\r\n          <mat-option\r\n            *ngFor=\"let i of formTypeList\"\r\n            [value]=\"i\"\r\n            (click)=\"getApplicationTypeList(i.description)\"\r\n          >\r\n            {{ i?.description | uppercase }}\r\n            <span\r\n              *ngIf=\"\r\n                s1Application?.multipleApplication &&\r\n                s1Application?.multipleApplication?.submissionStatus !==\r\n                  'PROCESSED'\r\n              \"\r\n              >({{ s1Application?.sequenceOrder }}\r\n              of\r\n              {{\r\n                s1Application?.multipleApplication?.numberOfApplication\r\n              }})</span\r\n            >\r\n            <span\r\n              *ngIf=\"\r\n                s1Application?.multipleApplication?.submissionStatus ===\r\n                'PROCESSED'\r\n              \"\r\n            >\r\n              (Sequence Number: {{ s1Application?.sequenceOrder }})</span\r\n            >\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"s1Application.applicationType\"\r\n          [compareWith]=\"compareApplicationType\"\r\n          name=\"applicationType\"\r\n          formControlName=\"applicationType\"\r\n          disabled\r\n        >\r\n          <!-- [disabled]=\"s1Application?.internalStatus!='SAVED'&&s1Application?.internalStatus!=undefined\" -->\r\n          <mat-option\r\n            *ngFor=\"let i of applicationTypeList\"\r\n            [value]=\"i\"\r\n            (click)=\"setAppType(i)\"\r\n          >\r\n            {{ i?.description | uppercase }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <mat-form-field\r\n        class=\"col-md-4\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"s1Application?.submissionType\"\r\n      >\r\n        <mat-label>Submission Type</mat-label>\r\n        <input matInput [value]=\"s1Application?.submissionType\" readonly />\r\n      </mat-form-field>\r\n      <mat-form-field\r\n        class=\"col-md-4\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"s1Application.formType === 'FOR_PRESENTATION'\"\r\n      >\r\n        <mat-label>Form Type</mat-label>\r\n        <input matInput value=\"FOR PRESENTATION\" readonly />\r\n      </mat-form-field>\r\n    </div>\r\n    <hr />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            s1Application?.submissionType === 'ORIGINAL' &&\r\n            s1Application?.internalStatus === 's1 Reviewed'\r\n          \"\r\n          (click)=\"viewReport(s1Application.id, 'S1_Application_Form')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> VIEW\r\n          APPLICATION REPORT\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          (click)=\"openPerformanceMetrics()\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_SUPER_ADMIN') &&\r\n            s1Application?.id\r\n          \"\r\n        >\r\n          <i class=\"material-icons color__white\">trending_up</i> VIEW\r\n          APPLICATION HISTORY\r\n        </button>\r\n\r\n        <!-- <button mat-raised-button class=\"button-right button-red\" *ngIf=\"(currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser?.userRole.name === 'ROLE_ADMIN' || currentUser?.userRole.name === 'ROLE_AD_SPECIALIST')\r\n        && (s1Application?.releaseStatus === 'FOR_RELEASE' || s1Application?.releaseStatus === 'RELEASED') && s1Application?.paymentStatus === 'PAID'\"\r\n          (click)=\"viewReport(s1Application.id,'S1_Decision_Form')\"><i\r\n            class=\"material-icons color__white\">open_in_new</i> DECISION FORM</button> -->\r\n\r\n        <!-- <button mat-raised-button class=\"button-right button-red\" *ngIf=\"(currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser?.userRole.name === 'ROLE_ADMIN' || currentUser?.userRole.name === 'ROLE_AD_SPECIALIST')\r\n        && (s1Application?.releaseStatus === 'FOR_RELEASE' || s1Application?.releaseStatus === 'RELEASED') && s1Application?.paymentStatus === 'PAID'\"\r\n          (click)=\"viewReport(s1Application.id,'Stamp_Material')\"><i class=\"material-icons color__white\">open_in_new</i>\r\n          STAMPED MATERIAL</button> -->\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            s1Application?.submissionType === 'revision' &&\r\n            s1Application?.internalStatus === 'revision screened'\r\n          \"\r\n          (click)=\"viewReport(s1Application.id, 'Revision_Form')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> REVISION FORM\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_AD_SPECIALIST') &&\r\n            s1Application?.submissionType === 'COMPLIANCE' &&\r\n            s1Application?.decisionStatus === 'INCOMPLETE' &&\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER'\r\n          \"\r\n          (click)=\"viewReport(s1Application.id, 'S1_Pending_Form')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> PENDING FORM\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_ADMIN') &&\r\n            (s1Application?.releaseStatus === 'FOR_RELEASE' ||\r\n              s1Application?.releaseStatus === 'RELEASED') &&\r\n            s1Application?.paymentStatus === 'PAID'\r\n          \"\r\n          (click)=\"sendDecisionOrStampMaterialManual()\"\r\n        >\r\n          <i class=\"material-icons color__white\">send</i> SEND DECISION OR\r\n          STAMPED MATERIAL\r\n        </button>\r\n      </div>\r\n\r\n      <!--   <div class=\"col-md-1\">\r\n        <button mat-raised-button class=\"button-right button-red\" (click)=\"viewReport(s1Application.id)\">Pending Form</button>\r\n      </div> -->\r\n    </div>\r\n    <br />\r\n    <div class=\"row\">\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel\r\n          [expanded]=\"\r\n            ((isApplicant && s1Application?.internalStatus != 'SAVED') ||\r\n              s1Application?.internalStatus == undefined) &&\r\n            !accordionExpanded\r\n          \"\r\n          *ngIf=\"\r\n            (isApplicant && s1Application?.internalStatus == 'SAVED') ||\r\n            !isApplicant ||\r\n            s1Application?.internalStatus == undefined\r\n          \"\r\n        >\r\n          <mat-expansion-panel-header (click)=\"accordionDisablingFunction()\">\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Client\r\n              Information\r\n              <i class=\"material-icons error\" *ngIf=\"hasErrorsClient\">error</i>\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Affiliation and Company details\r\n              <i class=\"material-icons\">perm_contact_calendar</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-client-information\r\n            [s1Application]=\"s1Application\"\r\n            [isAscUser]=\"isAscUser\"\r\n            (checkInactiveAffiliation)=\"checkInactiveAffiliation()\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n            [company]=\"company\"\r\n            (hasErrorFields)=\"hasErrorsClient = $event\"\r\n          ></app-client-information>\r\n          <div *ngIf=\"!isDisableFieldOnUpdate\" class=\"required-fields-note\">\r\n            Note: Fields with * are required\r\n          </div>\r\n          <mat-action-row *ngIf=\"isApplicant\">\r\n            <p *ngIf=\"validationMessage\">\r\n              <span class=\"badge bg-warning text-dark\"\r\n                ><i class=\"material-icons\">warning</i\r\n                >{{ validationMessage }}</span\r\n              >\r\n            </p>\r\n            <button\r\n              mat-raised-button\r\n              color=\"warn\"\r\n              (click)=\"accordionDisablingFunction()\"\r\n            >\r\n              Next\r\n            </button>\r\n          </mat-action-row>\r\n\r\n          <!-- <button mat-raised-button color=\"primary\" (click)=\"accordionDisablingFunction()\" [disabled]=\"!company?.companyName && !s1Application.brand\">Next</button> -->\r\n        </mat-expansion-panel>\r\n\r\n        <!-- FOR ASC Users only -->\r\n        <mat-expansion-panel *ngIf=\"!isApplicant\">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Presentor\r\n              Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Personal Details\r\n              <i class=\"material-icons\">person</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n\r\n          <br />\r\n          <div class=\"row\">\r\n            <div class=\"row\"><br /></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field\r\n                class=\"col-md-4\"\r\n                appearance=\"outline\"\r\n                *ngIf=\"\r\n                  isEvaluator && s1Application?.externalStatus === undefined\r\n                \"\r\n              >\r\n                <mat-label\r\n                  >Assign an Applicant<span class=\"required-field\">\r\n                    <mat-icon>notification_important</mat-icon>\r\n                  </span></mat-label\r\n                >\r\n\r\n                <mat-select\r\n                  [(ngModel)]=\"s1Application.applicationOwner\"\r\n                  name=\"s1Application.applicationOwner\"\r\n                >\r\n                  <mat-option\r\n                    *ngFor=\"let i of applicantList\"\r\n                    [value]=\"i\"\r\n                    (click)=\"selectApplicant(i)\"\r\n                  >\r\n                    {{ i.firstName }} {{ i.lastName }}\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n\r\n              <mat-form-field\r\n                class=\"col-md-8\"\r\n                appearance=\"outline\"\r\n                *ngIf=\"presentorDetails.id != null\"\r\n              >\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"\r\n                    presentorDetails?.firstName +\r\n                    ' ' +\r\n                    presentorDetails?.lastName\r\n                  \"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n                <mat-label>Company Name</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.companyName\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br /></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-11\" appearance=\"outline\">\r\n                <mat-label>Address</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.completeAddress\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br /></div>\r\n\r\n            <div class=\"row\" *ngIf=\"presentorDetails.id != null\">\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Mobile Number</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.mobileNumber\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Email Address</mat-label>\r\n                <input matInput [value]=\"presentorDetails?.username\" readonly />\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Telephone Number</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.companyTelephoneNo\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Alternate Telephone Number</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.companyTelephoneNo2\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <mat-expansion-panel\r\n          *ngIf=\"\r\n            (isApplicant && s1Application?.internalStatus == 'SAVED') ||\r\n            !isApplicant ||\r\n            s1Application?.internalStatus == undefined ||\r\n            ((s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n              s1Application?.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n              s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n              s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n              (s1Application?.decisionStatus == 'APPROVED' ||\r\n                s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                s1Application?.decisionStatus == 'INCOMPLETE') &&\r\n              s1Application?.revisionNo < 2 &&\r\n              !s1Application?.appliedS2)\r\n          \"\r\n          [disabled]=\"accordionDisable\"\r\n          [hidden]=\"\r\n            (s1Application?.hasOngoingRevision ||\r\n              s1Application?.hasOngoingCompliance) &&\r\n            isApplicant\r\n          \"\r\n          [expanded]=\"accordionExpanded || isAdSpecialist\"\r\n        >\r\n          <!-- s1Application?.membersAffiliation && s1Application?.company && s1Application?.brand -->\r\n          <mat-expansion-panel-header (click)=\"accordionDisablingFunction()\">\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Material\r\n              Information\r\n              <i class=\"material-icons error\" *ngIf=\"checkMaterialFieldErrors()\"\r\n                >error</i\r\n              >\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Ads Details\r\n              <i class=\"material-icons\">ads_click</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-material-information\r\n            [s1Application]=\"s1Application\"\r\n            [isAscUser]=\"isAscUser\"\r\n            [multimediaDTO]=\"multimediaDTO\"\r\n            [applicationSingleMedia]=\"applicationSingleMedia\"\r\n            [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n            [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n            [(complianceAttachmentDocuments)]=\"complianceAttachmentDocuments\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n            [supportiveDocumentList]=\"supportiveDocumentList\"\r\n            (checkSingleMediaChangesFunction)=\"checkSingleMediaChanges()\"\r\n            (checkMultimediaChangesFunction)=\"checkEmittedMultimedia($event)\"\r\n            [toDeleteMultimediaList]=\"toDeleteMultimediaList\"\r\n            [savedTypeOfMedium]=\"s1Application?.typeOfMedium\"\r\n            (hasErrorFields)=\"hasErrorsMaterial = $event\"\r\n          >\r\n          </app-material-information>\r\n          <div *ngIf=\"!isDisableFieldOnUpdate\" class=\"required-fields-note\">\r\n            Note: Fields with * are required\r\n          </div>\r\n          <!-- <mat-action-row>\r\n            <button mat-button color=\"primary\" (click)=\"accordionDisablingFunction()\">Next</button>\r\n          </mat-action-row> -->\r\n        </mat-expansion-panel>\r\n\r\n        <!-- PREVIEW FOR APPLICANT ONCE SUBMITTED -->\r\n        <mat-expansion-panel\r\n          *ngIf=\"isApplicant && s1Application?.internalStatus != undefined\"\r\n          [expanded]=\"\r\n            isApplicant &&\r\n            (s1Application?.externalStatus == 'S1_APPLICATION_SUBMITTED' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_IN_PROCESS' ||\r\n              s1Application?.externalStatus ==\r\n                'SUBMITTED_DOCUMENT_FOR_COMPLIANCE' ||\r\n              s1Application?.externalStatus ==\r\n                'COMPLIANCE_DOCUMENT_FOR_REVIEW' ||\r\n              s1Application?.externalStatus == 'REVISION_REVIEW_IN_PROCESS' ||\r\n              s1Application?.externalStatus == 'SUBMITTED_REVISION' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_CANCELLED' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_REJECTED' ||\r\n              s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n              s1Application?.hasRevision ||\r\n              s1Application?.appliedS2)\r\n          \"\r\n        >\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Preview\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              S1 Application\r\n              <i class=\"material-icons\">visibility</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n          <app-preview-application\r\n            [previewS1Application]=\"s1Application\"\r\n            [multimediaDTO]=\"multimediaDTO\"\r\n          ></app-preview-application>\r\n        </mat-expansion-panel>\r\n      </mat-accordion>\r\n      <!-- </form> -->\r\n\r\n      <!-- COMMENTS FOR ASC Users -->\r\n      <div *ngIf=\"s1Application?.externalStatus != undefined && !isApplicant\">\r\n        <br />\r\n        <div class=\"row fields\">\r\n          <h4><i class=\"material-icons\">label_important</i> &nbsp;Comments</h4>\r\n          <br />\r\n          <app-comment [commentS1Application]=\"s1Application\"></app-comment>\r\n          <div class=\"row\"><br /></div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ATTACHMENTS FOR STAMPED MATERIAL AND DECISION FORM -->\r\n      <div\r\n        *ngIf=\"\r\n          ((isAdmin || isSuperAdmin || isAdSpecialist) &&\r\n            previewAttachmentsList.length) ||\r\n          (isApplicant && s1Application?.paymentStatus === 'PAID')\r\n        \"\r\n      >\r\n        <br />\r\n        <div class=\"row fields\">\r\n          <h4>\r\n            <i class=\"material-icons\">label_important</i> &nbsp;Stamped Material\r\n            and Decision Forms\r\n          </h4>\r\n          <br />\r\n          <app-preview-attachments\r\n            [previewAttachmentsList]=\"previewAttachmentsList\"\r\n            [displayedColumns]=\"previewAttachmentsDisplayedColumns\"\r\n            [dataSource]=\"previewAttachmentsListDataSource\"\r\n          ></app-preview-attachments>\r\n          <div class=\"row\"><br /></div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- DECISION OVERRIDE / APPEAL -->\r\n      <!-- <div *ngIf=\"(isAdmin || isSuperAdmin) &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' && s1Application?.releaseStatus === 'RELEASED' &&\r\n      !s1Application?.appliedS2 && !s1Application?.hasOngoingCompliance && !s1Application?.hasOngoingRevision\">\r\n        <br>\r\n        <div class=\"row fields\">\r\n          <h4>\r\n            <i class=\"material-icons\">label_important</i> &nbsp;DECISION OVERRIDING\r\n          </h4>\r\n          <br>\r\n          <app-decision-override [s1Application]=\"s1Application\"></app-decision-override>\r\n          <div class=\"row\"><br></div>\r\n        </div>\r\n      </div> -->\r\n\r\n      <div class=\"row\"><br /></div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        [formGroup]=\"s1ApplicationForm\"\r\n        *ngIf=\"\r\n          s1Application.internalStatus == undefined ||\r\n          s1Application.internalStatus == 'SAVED' ||\r\n          s1Application?.formType === 'MULTIPLE' ||\r\n          specialApplicationType.includes(\r\n            s1Application?.applicationType?.description?.toUpperCase()\r\n          )\r\n        \"\r\n      >\r\n        <div\r\n          *ngIf=\"\r\n            (s1Application.internalStatus == undefined ||\r\n              s1Application.internalStatus == 'SAVED') &&\r\n            (s1Application?.formType === 'MULTIPLE' ||\r\n              specialApplicationType.includes(\r\n                s1Application?.applicationType?.description?.toUpperCase()\r\n              ))\r\n          \"\r\n        >\r\n          <br />\r\n          <div class=\"row fields\">\r\n            <h4>\r\n              <i class=\"material-icons\">calendar_today</i> &nbsp; Submission\r\n              Details\r\n            </h4>\r\n            <div class=\"row\">\r\n              <p>\r\n                Date S1 Form(s) will be submitted:\r\n                <b>\r\n                  <span\r\n                    class=\"submission-date\"\r\n                    *ngIf=\"applicationRequest?.status !== 'DISAPPROVED'\"\r\n                    >{{\r\n                      s1Application?.submissionDate | date: \"MMMM d, y\"\r\n                    }}</span\r\n                  >\r\n                  <span\r\n                    class=\"submission-date\"\r\n                    *ngIf=\"applicationRequest?.status === 'DISAPPROVED'\"\r\n                    >N/A - Request was disapproved</span\r\n                  >\r\n\r\n                  <input\r\n                    matInput\r\n                    [(ngModel)]=\"s1Application.submissionDate\"\r\n                    formControlName=\"submissionDate\"\r\n                    name=\"submissionDate\"\r\n                    [hidden]=\"true\"\r\n                  />\r\n                  <input\r\n                    matInput\r\n                    [(ngModel)]=\"s1Application.applicationRequest\"\r\n                    formControlName=\"applicationRequest\"\r\n                    name=\"applicationRequest\"\r\n                    [hidden]=\"true\"\r\n                  />\r\n                </b>\r\n              </p>\r\n              <div\r\n                class=\"col-md-12\"\r\n                *ngIf=\"!s1Application.applicationRequest\"\r\n                [hidden]=\"s1Application?.multipleApplication\"\r\n              >\r\n                <mat-card class=\"demo-inline-calendar-card\">\r\n                  <mat-calendar\r\n                    [(selected)]=\"s1Application.submissionDate\"\r\n                    [minDate]=\"todayDate\"\r\n                    (selectedChange)=\"\r\n                      onChangeDate(s1Application.submissionDate)\r\n                    \"\r\n                  >\r\n                  </mat-calendar>\r\n                </mat-card>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          *ngIf=\"\r\n            (s1Application.internalStatus == undefined ||\r\n              s1Application.internalStatus == 'SAVED') &&\r\n            s1Application?.formType !== 'MULTIPLE' &&\r\n            !s1Application.multipleApplication &&\r\n            !specialApplicationType.includes(\r\n              s1Application?.applicationType?.description?.toUpperCase()\r\n            )\r\n          \"\r\n        >\r\n          <mat-slide-toggle\r\n            color=\"warn\"\r\n            checked\r\n            (change)=\"scheduleSubmission()\"\r\n            *ngIf=\"s1Application.autoSubmit == true\"\r\n          >\r\n            <b>SCHEDULE SUBMISSION</b>\r\n          </mat-slide-toggle>\r\n          <mat-slide-toggle\r\n            color=\"warn\"\r\n            (change)=\"scheduleSubmission()\"\r\n            *ngIf=\"s1Application.autoSubmit != true\"\r\n          >\r\n            <b>SCHEDULE SUBMISSION</b>\r\n          </mat-slide-toggle>\r\n          <div class=\"row\"><br /></div>\r\n\r\n          <div class=\"row fields\" *ngIf=\"isChecked == true\">\r\n            <h4>\r\n              <i class=\"material-icons\">schedule_send</i> &nbsp; Submission\r\n              Details:\r\n            </h4>\r\n            <div class=\"row\">\r\n              <mat-form-field appearance=\"outline\" class=\"col-md-6\">\r\n                <mat-label>Date</mat-label>\r\n                <input\r\n                  matInput\r\n                  placeholder=\"Date\"\r\n                  [matDatepicker]=\"dp3\"\r\n                  [min]=\"todayDate\"\r\n                  (dateChange)=\"onChangeDate($event.value)\"\r\n                  [matDatepickerFilter]=\"disabledWeekEnds\"\r\n                  readonly\r\n                  [(ngModel)]=\"s1Application.submissionDate\"\r\n                  name=\"submissionDate\"\r\n                  formControlName=\"submissionDate\"\r\n                />\r\n                <mat-datepicker-toggle\r\n                  matSuffix\r\n                  [for]=\"dp3\"\r\n                ></mat-datepicker-toggle>\r\n                <mat-datepicker\r\n                  color=\"warn\"\r\n                  #dp3\r\n                  disabled=\"false\"\r\n                ></mat-datepicker>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\"><br /></div>\r\n      <hr />\r\n\r\n      <!-- For screener/Reviewer only -->\r\n      <div\r\n        class=\"row\"\r\n        [formGroup]=\"s1ApplicationForm\"\r\n        *ngIf=\"\r\n          (isScreener &&\r\n            (s1Application?.internalStatus ===\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'REVISION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.screenerDecisionComment)) ||\r\n          (isReviewer &&\r\n            (s1Application.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n              s1Application?.internalStatus === 'REVISION_SCREENED' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              s1Application?.reviewerDecisionComment)) ||\r\n          (isAdSpecialist && s1Application?.hasOngoingAppeal)\r\n        \"\r\n      >\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Decision:</mat-label>\r\n          <mat-select\r\n            [(ngModel)]=\"s1Application.decisionStatus\"\r\n            name=\"decisionStatus\"\r\n            formControlName=\"decisionStatus\"\r\n            (click)=\"clearDecisionStatus()\"\r\n            (selectionChange)=\"buttonValidation($event.value)\"\r\n          >\r\n            <mat-option value=\"APPROVED\">APPROVED FOR PRODUCTION</mat-option>\r\n            <mat-option value=\"APPROVED W/ CAUTION\"\r\n              >APPROVED WITH CAUTION</mat-option\r\n            >\r\n            <mat-option value=\"INCOMPLETE\">INCOMPLETE</mat-option>\r\n            <mat-option value=\"DISAPPROVED\">DISAPPROVED</mat-option>\r\n            <!-- <mat-option value=\"REFER TO PANEL\">REFER TO PANEL</mat-option> -->\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <!-- For AdSpe only -->\r\n      <span\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          s1Application?.assignedUser?.userRole.name === 'ROLE_SCREENER' &&\r\n          (s1Application?.internalStatus ===\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n            s1Application?.internalStatus === 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n        ><b class=\"material-icons\">error_outline</b>&nbsp;\r\n        <b>Assigned Screener:</b>\r\n        {{ s1Application?.assignedScreener?.firstName }}\r\n        {{ s1Application?.assignedScreener?.lastName }}\r\n        <br />\r\n        <br />\r\n      </span>\r\n\r\n      <b\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          isAdSpecialist &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1\r\n        \"\r\n        [hidden]=\"\r\n          s1Application?.internalStatus ===\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n          s1Application?.decisionStatus === 'INCOMPLETE'\r\n        \"\r\n      >\r\n        <b class=\"material-icons\">error_outline</b> Selection of Screener will\r\n        be done in the last form of multiple application.\r\n        <br />\r\n        <br />\r\n      </b>\r\n\r\n      <b\r\n        [hidden]=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1\r\n        \"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <b class=\"material-icons\">error_outline</b> [ x ] are the number of\r\n        assigned S1 applications to the Screener.\r\n        <br />\r\n      </b>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        [hidden]=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.decisionStatus !== 'INCOMPLETE' &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1 &&\r\n          s1Application.internalStatus !== 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n        \"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <mat-label>ASSIGN A SCREENER</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"s1Application.assignedScreener\"\r\n          name=\"assignedScreener\"\r\n          (selectionChange)=\"buttonValidation($event.value)\"\r\n          [compareWith]=\"compareAssignedScreener\"\r\n        >\r\n          <mat-option *ngFor=\"let i of screenerList\" [value]=\"i\">\r\n            {{ i.firstName }} {{ i.lastName }}\r\n            <span style=\"float: right\">[ {{ i.ctr }} ]</span>\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <!-- For Screener only -->\r\n      <span\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          isScreener &&\r\n          s1Application?.actionStatus === 'ASSIGN_TO_REVIEWER'\r\n        \"\r\n        ><b class=\"material-icons\">error_outline</b>&nbsp;\r\n        <b>Assigned Reviewer:</b>\r\n        {{\r\n          s1Application?.multipleApplication\r\n            ? s1Application?.multipleApplication?.assignedReviewer?.firstName\r\n            : s1Application?.assignedUser?.firstName\r\n        }}\r\n        {{\r\n          s1Application?.multipleApplication\r\n            ? s1Application?.multipleApplication?.assignedReviewer?.lastName\r\n            : s1Application?.assignedUser?.lastName\r\n        }}\r\n        <br />\r\n        <br />\r\n      </span>\r\n\r\n      <b\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          isScreener &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1\r\n        \"\r\n        [hidden]=\"\r\n          s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n          s1Application?.screenerDecisionComment ||\r\n          s1Application?.reviewerDecisionComment ||\r\n          s1Application?.decisionStatus === 'INCOMPLETE'\r\n        \"\r\n      >\r\n        <b class=\"material-icons\">error_outline</b> Selection of Reviewer will\r\n        be done in the last form of multiple application.\r\n        <br />\r\n        <br />\r\n      </b>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        [hidden]=\"\r\n          !s1Application?.screenerDecisionComment &&\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1 &&\r\n          s1Application.internalStatus !== 'S1_APPLICATION_SCREENED'\r\n        \"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          (s1Application?.internalStatus ===\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n            s1Application?.screenerDecisionComment ||\r\n            s1Application?.reviewerDecisionComment)\r\n        \"\r\n      >\r\n        <mat-label>ASSIGN A REVIEWER</mat-label>\r\n        <mat-select\r\n          name=\"assignedUserR\"\r\n          [(ngModel)]=\"s1Application.assignedReviewer\"\r\n          (selectionChange)=\"buttonValidation('')\"\r\n          [compareWith]=\"compareAssignedReviewer\"\r\n        >\r\n          <mat-option *ngFor=\"let i of reviewerList\" [value]=\"i\">\r\n            {{ i.firstName }} {{ i.lastName }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <!-- For screener/Reviewer only -->\r\n      <div\r\n        class=\"row\"\r\n        [formGroup]=\"s1ApplicationForm\"\r\n        *ngIf=\"\r\n          (isScreener &&\r\n            (s1Application?.internalStatus ===\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'REVISION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.screenerDecisionComment)) ||\r\n          (isReviewer &&\r\n            (s1Application.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n              s1Application?.internalStatus === 'REVISION_SCREENED' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              s1Application?.reviewerDecisionComment))\r\n        \"\r\n      >\r\n        <div class=\"rational-other-comment\">\r\n          <div\r\n            class=\"col-md-6 rationale\"\r\n            *ngIf=\"rationaleDisplay\"\r\n            [hidden]=\"\r\n              rationaleLists?.length === 0 && rationaleOthersList?.length === 0\r\n            \"\r\n          >\r\n            <label>RATIONALE</label>\r\n            <div class=\"rationale-list\" [hidden]=\"rationaleLists?.length === 0\">\r\n              <label>Rationale List:</label>\r\n              <div *ngFor=\"let i of rationaleLists\">\r\n                <p>\r\n                  <span class=\"material-icons\">help</span>\r\n                  {{ i?.typeOfRationale?.rationale }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"rational-other-comment\"\r\n              [hidden]=\"rationaleOthersList?.length === 0\"\r\n            >\r\n              <label>Other comments:</label>\r\n              <p *ngFor=\"let i of rationaleOthersList\">\r\n                <span class=\"material-icons\" [hidden]=\"i?.others === ''\"\r\n                  >help</span\r\n                >\r\n                {{ i?.others }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <br />\r\n        </div>\r\n\r\n        <mat-form-field\r\n          class=\"col-md-6\"\r\n          appearance=\"outline\"\r\n          [hidden]=\"\r\n            s1Application.submissionType === 'ORIGINAL' &&\r\n            s1Application?.multipleApplication &&\r\n            s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n              s1Application?.multipleApplication\r\n                ?.actualNumberOfApplicationForm -\r\n                1\r\n          \"\r\n          *ngIf=\"\r\n            !applicationSingleMedia?.mediumExecution?.typeOfExecution\r\n              ?.applyForToa &&\r\n            applicationSingleMedia?.mediumExecution?.typeOfExecution?.live\r\n          \"\r\n        >\r\n          <mat-label>Choose validity date</mat-label>\r\n          <input\r\n            matInput\r\n            placeholder=\"Date\"\r\n            [matDatepicker]=\"validityDate\"\r\n            readonly\r\n            [min]=\"todayDate\"\r\n            [(ngModel)]=\"s1Application.validUntil\"\r\n            name=\"expiresOn\"\r\n            formControlName=\"validityDate\"\r\n            [readonly]=\"true\"\r\n          />\r\n          <mat-datepicker-toggle matSuffix [for]=\"validityDate\">\r\n            <mat-datepicker color=\"warn\" #validityDate></mat-datepicker>\r\n          </mat-datepicker-toggle>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <!-- ADMIN / SUPERADMIN - RELEASED -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"resendDecision()\"\r\n            *ngIf=\"\r\n              s1Application?.releaseStatus === 'RELEASED' &&\r\n              (isAdmin || isSuperAdmin)\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">send</i> RESEND DECISION\r\n          </button>\r\n\r\n          <!-- ADMIN / SUPERADMIN -->\r\n          <!-- wala talaga function isa kasi pang mat tool tip lang - start -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              (isAdmin || isSuperAdmin) &&\r\n              (!applicationSingleMedia?.sizeLength ||\r\n                +applicationSingleMedia?.sizeLength === +currentSizeLength) &&\r\n              !hasMultimediaLengthChange &&\r\n              (s1Application?.decisionStatus === 'APPROVED' ||\r\n                s1Application?.decisionStatus === 'APPROVED_WITH_CAUTION')\r\n            \"\r\n            matTooltip=\"To enable this button, change the size/length of the application\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;SUBMIT FOR MODIFICATION\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"resubmitApplication()\"\r\n            *ngIf=\"\r\n              (isAdmin || isSuperAdmin) &&\r\n              ((applicationSingleMedia?.sizeLength &&\r\n                +applicationSingleMedia?.sizeLength !== +currentSizeLength) ||\r\n                hasMultimediaLengthChange) &&\r\n              (s1Application?.decisionStatus === 'APPROVED' ||\r\n                s1Application?.decisionStatus === 'APPROVED_WITH_CAUTION')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;SUBMIT FOR MODIFICATION\r\n          </button>\r\n          <!-- wala talaga function isa kasi pang mat tool tip lang - end -->\r\n\r\n          <!-- ADMIN / SUPERADMIN - RELEASED -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitAppeal()\"\r\n            *ngIf=\"\r\n              (isAdmin || isSuperAdmin) &&\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' &&\r\n              s1Application?.releaseStatus === 'RELEASED' &&\r\n              !s1Application?.appliedS2 &&\r\n              !s1Application?.hasOngoingCompliance &&\r\n              !s1Application?.hasOngoingRevision &&\r\n              !s1Application?.hasOngoingAppeal\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n            &nbsp;RETURN TO ADSPE FOR APPEAL\r\n          </button>\r\n\r\n          <!-- APPEAL - ADSPE -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitAppeal()\"\r\n            *ngIf=\"isAdSpecialist && s1Application?.hasOngoingAppeal\"\r\n          >\r\n            <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n            &nbsp;VERIFY APPEAL\r\n          </button>\r\n\r\n          <!-- ADSPE / ADMIN / SUPERADMIN - FOR RELEASE -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"returnToScreener()\"\r\n            *ngIf=\"\r\n              (isAdSpecialist || isAdmin || isSuperAdmin) &&\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' &&\r\n              s1Application?.releaseStatus === 'FOR_RELEASE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO SCREENER\r\n          </button>\r\n\r\n          <!-- screenerDecisionComment -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitDecisionAndComment()\"\r\n            *ngIf=\"isScreener && s1Application?.screenerDecisionComment\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n\r\n          <!-- reviewerDecisionComment -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitDecisionAndComment()\"\r\n            *ngIf=\"isReviewer && s1Application?.reviewerDecisionComment\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_turned_in</i>\r\n            REVIEWED\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- //////////////////////////////////////// ORIGINAL //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application?.internalStatus == undefined ||\r\n          s1Application?.internalStatus == 'SAVED' ||\r\n          s1Application?.status == 'APPROVED'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <!-- <button mat-raised-button color=\"primary\" (click)=\"saveOrUpdateApplication('SAVED')\" -->\r\n          <button\r\n            mat-raised-button\r\n            color=\"primary\"\r\n            (click)=\"checkAscRateBeforeSaveOrSubmit()\"\r\n            *ngIf=\"!isEvaluator\"\r\n            [disabled]=\"\r\n              s1Application?.formType === 'MULTIPLE'\r\n                ? isMultipleRegularDisabled()\r\n                : isSingleRegularDisabled()\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">offline_pin</i> SAVE\r\n          </button>\r\n          &nbsp;\r\n          <!-- (click)=\"saveStatus('presentor', 'submit', 'S1_APPLICATION_SUBMITTED')\" -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"checkAscRateBeforeSaveOrSubmit('submit')\"\r\n            [hidden]=\"\r\n              specialApplicationType.includes(\r\n                s1Application?.applicationType?.description?.toUpperCase()\r\n              )\r\n            \"\r\n            [disabled]=\"\r\n              s1Application?.formType === 'MULTIPLE'\r\n                ? isMultipleRegularDisabled()\r\n                : isSingleRegularDisabled()\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">send</i> SUBMIT\r\n          </button>\r\n\r\n          <button\r\n            *ngIf=\"\r\n              specialApplicationType.includes(\r\n                s1Application?.applicationType?.description?.toUpperCase()\r\n              ) &&\r\n              !applicationRequest?.status &&\r\n              s1Application.applicationRequest == null\r\n            \"\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"requestSpecialS1ApplicationApproval()\"\r\n            [disabled]=\"isSaveAndRequestForApprovalDisabled()\"\r\n          >\r\n            <i class=\"material-icons color__white\">send</i> REQUEST FOR APPROVAL\r\n          </button>\r\n        </div>\r\n\r\n        <!-- <div class=\"col-md-12\" *ngIf=\"(s1Application?.formType === 'MULTIPLE' && !s1Application.multipleApplication) \">\r\n          <button mat-raised-button class=\"button-red\" (click)=\"saveOrUpdateApplication('S1_APPLICATION_SUBMITTED')\"\r\n            [disabled]=\"!s1Application?.adTitle || !s1Application.submissionDate\">\r\n            <i class=\"material-icons color__white\">send</i> REQUEST FOR APPROVAL\r\n          </button>\r\n        </div> -->\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isApplicant &&\r\n          s1Application?.internalStatus == 'S1_APPLICATION_SUBMITTED'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatus('presentor', 'cancel', 'S1_APPLICATION_CANCELLED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">cancel</i> CANCEL APPLICATION\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isEvaluator &&\r\n          s1Application.internalStatus == 'S1_APPLICATION_SUBMITTED'\r\n        \"\r\n      >\r\n        <b\r\n          class=\"warning-msg\"\r\n          *ngIf=\"\r\n            s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n            s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n            s1Application?.product?.status === 'FOR_APPROVAL'\r\n          \"\r\n        >\r\n          <b class=\"material-icons\">error_outline</b> New Company / Brand /\r\n          Product must be approved first before you can forward the application.\r\n        </b>\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"\r\n              s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.product?.status === 'FOR_APPROVAL'\r\n            \"\r\n            (click)=\"\r\n              saveStatus(\r\n                'encoder',\r\n                'verify',\r\n                'S1_APPLICATION_VERIFIED_BY_ENCODER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO AD\r\n            SPECIALIST\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal()\"\r\n          >\r\n            <!-- (click)=\"rejectDisapprovedModal('encoder', 'reject', 'S1_APPLICATION_REJECTED')\" -->\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- MULTIPLE -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application?.decisionStatus !== 'INCOMPLETE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isAdSpecialist &&\r\n              s1Application?.actionStatus === 'ASSIGN_TO_ADSPE'\r\n            \"\r\n            (click)=\"\r\n              saveStatus(\r\n                'ad-specialist',\r\n                'verify',\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application?.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s1Application?.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <!-- NOT MULTIPLE -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isAdSpecialist &&\r\n              s1Application?.actionStatus === 'ASSIGN_TO_ADSPE'\r\n            \"\r\n            (click)=\"\r\n              saveStatus(\r\n                'ad-specialist',\r\n                'verify',\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n            [disabled]=\"buttonDisabled\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isAdSpecialist &&\r\n              (s1Application?.actionStatus === 'ASSIGN_TO_SCREENER' ||\r\n                s1Application?.actionStatus === 'ASSIGN_TO_HOLD') &&\r\n              s1Application?.internalStatus ===\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n            \"\r\n            (click)=\"reassign()\"\r\n            [disabled]=\"buttonDisabled\"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> RE-ASSIGN\r\n            SCREENER\r\n          </button>\r\n          &nbsp;\r\n          <!-- <button mat-raised-button class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal('encoder', 'reject', 'S1_APPLICATION_REJECTED')\">\r\n            (click)=\"saveStatus('ad-specialist','reject','S1_APPLICATION_REJECTED')\">\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n\r\n      <!-- AD SPECIALIST ONLY-->\r\n      <div class=\"row mt-4\">\r\n        <mat-form-field\r\n          class=\"col-md-6\"\r\n          appearance=\"outline\"\r\n          [hidden]=\"\r\n            s1Application.submissionType === 'ORIGINAL' &&\r\n            s1Application?.multipleApplication &&\r\n            s1Application?.decisionStatus !== 'INCOMPLETE' &&\r\n            s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n              s1Application?.multipleApplication\r\n                ?.actualNumberOfApplicationForm -\r\n                1 &&\r\n            s1Application.internalStatus !== 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n          \"\r\n          *ngIf=\"\r\n            isAdSpecialist &&\r\n            (s1Application.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n              s1Application.internalStatus ==\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n              s1Application.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n              s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n              s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n          \"\r\n        >\r\n          <mat-label>REASSIGN AD SPECIALIST</mat-label>\r\n          <mat-select\r\n            [(ngModel)]=\"s1Application.assignedAdSpecialist\"\r\n            name=\"assignedAdSpecialist\"\r\n            (selectionChange)=\"buttonValidation($event.value)\"\r\n            [compareWith]=\"compareAssignedAdSpec\"\r\n          >\r\n            <mat-option *ngFor=\"let i of adSpecialistList\" [value]=\"i\">\r\n              {{ i.firstName }} {{ i.lastName }}\r\n              <span style=\"float: right\">[ {{ i.ctr }} ]</span>\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <!-- MULTIPLE -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application?.internalStatus === 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isScreener && s1Application?.actionStatus === 'ASSIGN_TO_SCREENER'\r\n            \"\r\n            (click)=\"\r\n              saveStatus('screener', 'verify', 'S1_APPLICATION_SCREENED')\r\n            \"\r\n            [disabled]=\"!s1Application.decisionStatus\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          (s1Application.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus == 'S1_APPLICATION_SCREENED')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isScreener && s1Application?.actionStatus === 'ASSIGN_TO_SCREENER'\r\n            \"\r\n            (click)=\"\r\n              saveStatus('screener', 'verify', 'S1_APPLICATION_SCREENED')\r\n            \"\r\n            [disabled]=\"buttonDisabled || !s1Application.decisionStatus\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isScreener && s1Application?.actionStatus === 'ASSIGN_TO_REVIEWER'\r\n            \"\r\n            (click)=\"reassign()\"\r\n            [disabled]=\"buttonDisabled\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> RE-ASSIGN\r\n            REVIEWER\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"returnTo('ADSPE', 'S1_APPLICATION_VERIFIED_BY_ENCODER')\"\r\n            [disabled]=\"\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO AD SPECIALIST\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          !s1Application?.reviewerDecisionComment &&\r\n          isReviewer &&\r\n          (s1Application?.internalStatus == 'S1_APPLICATION_SCREENED' ||\r\n            s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"!s1Application.decisionStatus\"\r\n            (click)=\"\r\n              saveStatus('reviewer', 'verify', 'S1_APPLICATION_REVIEWED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_turned_in</i>\r\n            REVIEWED\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"returnTo('SCREENER', 'S1_APPLICATION_VERIFIED_BY_AD_SPE')\"\r\n            [disabled]=\"\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO SCREENER\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- //////////////////////////////////////// FOR COMPLIANCE //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isApplicant &&\r\n          !s1Application?.hasOngoingRevision &&\r\n          !s1Application?.hasOngoingCompliance &&\r\n          s1Application?.decisionStatus == 'INCOMPLETE' &&\r\n          (s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n            s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n            s1Application?.internalStatus == 'S1_APPLICATION_REJECTED')\r\n        \"\r\n      >\r\n        <b\r\n          ><b class=\"material-icons info-msg\">error_outline</b> Applicant can\r\n          submit updated or additional supporting documents for S1 Forms with\r\n          Incomplete Decision.</b\r\n        >\r\n        <div class=\"col-md-12\">\r\n          <br />\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"!submitComplianceEnabled\"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'presentor',\r\n                'submit',\r\n                'SUBMITTED_DOCUMENT_FOR_COMPLIANCE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">task_alt</i> SUBMIT FOR\r\n            COMPLIANCE\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isEvaluator &&\r\n          s1Application.internalStatus == 'SUBMITTED_DOCUMENT_FOR_COMPLIANCE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"\r\n              s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.product?.status === 'FOR_APPROVAL'\r\n            \"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'encoder',\r\n                'verify',\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO AD\r\n            SPECIALIST\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal()\"\r\n          >\r\n            <!-- (click)=\"rejectDisapprovedModal('encoder','reject','S1_APPLICATION_REJECTED')\" -->\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application?.internalStatus ==\r\n            'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n            s1Application?.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'ad-specialist',\r\n                'verify',\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          s1Application?.internalStatus ==\r\n            'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'screener',\r\n                'verify',\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              returnTo('ADSPE', 'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER')\r\n            \"\r\n            [disabled]=\"\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO AD SPECIALIST\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- //////////////////////////////////////// REVISION //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application?.revisionNo !== 2 &&\r\n          s1Application?.submissionType === 'ORIGINAL' &&\r\n          !s1Application?.hasOngoingRevision &&\r\n          !s1Application?.hasOngoingCompliance &&\r\n          !s1Application?.appliedS2 &&\r\n          isApplicant &&\r\n          (s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n          (s1Application?.decisionStatus == 'APPROVED' ||\r\n            s1Application?.decisionStatus == 'APPROVED W/ CAUTION')\r\n        \"\r\n      >\r\n        <b>\r\n          <br />\r\n          <b class=\"material-icons info-msg\">error_outline</b> Applicant can\r\n          submit Approved S1 Form for Revision Request with revision letter, new\r\n          main document, and new supporting document (if needed).\r\n        </b>\r\n        <div class=\"col-md-12\">\r\n          <br />\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusRevision('presentor', 'submit', 'SUBMITTED_REVISION')\r\n            \"\r\n            [disabled]=\"\r\n              !s1Application?.revisionLetterAttachmentReference &&\r\n              !attachmentDocuments[2]?.revisionLetterAttachmentReference\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">task_alt</i> SUBMIT REVISION\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isEvaluator && s1Application.internalStatus == 'SUBMITTED_REVISION'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"\r\n              s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.product?.status === 'FOR_APPROVAL'\r\n            \"\r\n            (click)=\"\r\n              saveStatusRevision(\r\n                'encoder',\r\n                'verify',\r\n                'REVISION_VERIFIED_BY_ENCODER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO AD\r\n            SPECIALIST\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal()\"\r\n          >\r\n            <!-- (click)=\"rejectDisapprovedModal('encoder','reject','S1_APPLICATION_REJECTED')\" -->\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n            s1Application?.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusRevision(\r\n                'ad-specialist',\r\n                'verify',\r\n                'REVISION_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n          <!--  &nbsp;\r\n          <button mat-raised-button class=\"button-red\"\r\n            (click)=\"saveStatus('ad-specialist','reject','S1_APPLICATION_REJECTED')\">\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusRevision('screener', 'verify', 'REVISION_SCREENED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n<!-- </form> -->\r\n\r\n<ng-template #reAssignAdSpecialistTemp>\r\n  <button\r\n    mat-raised-button\r\n    class=\"button-red\"\r\n    *ngIf=\"isAdSpecialist\"\r\n    (click)=\"reassignAdSpecialist()\"\r\n    [disabled]=\"buttonDisabled\"\r\n    [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n  >\r\n    <i class=\"material-icons color__white\">verified</i> RE-ASSIGN AD SPECIALIST\r\n  </button>\r\n</ng-template>\r\n","import { Component, Inject, OnInit, Optional } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { Company, S1Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS, ROLES } from '@shared';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-update-special-application',\r\n  templateUrl: './update-special-application.component.html',\r\n  styleUrls: ['./update-special-application.component.scss']\r\n})\r\nexport class UpdateSpecialApplicationComponent implements OnInit {\r\n\r\n  company = new Company();\r\n  s1Application = new S1Application();\r\n\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n\r\n  isAscUser = false;\r\n  isDisableFieldOnUpdate = true;\r\n\r\n  formType = 'INDIVIDUAL';\r\n\r\n  ascUserRoleList = [...ROLES.filter((role: any) => role.ascUser === true).map((role: any) => role.role)];\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dataStorage: DataStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    @Optional() public dialogRef: MatDialogRef<UpdateSpecialApplicationComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any,\r\n  ) {\r\n    if (data) {\r\n      this.s1Application = data;\r\n      this.s1Application.submissionDate = data.submissionDate;\r\n      this.s1Application.formType = this.formType;\r\n\r\n\r\n      // Client Info\r\n      // this.s1Application.company = this.multipleS1Application.company;\r\n      // this.company = this.multipleS1Application.company;\r\n      // this.s1Application.membersAffiliation = this.multipleS1Application.membersAffiliation;\r\n      // this.s1Application.brand = this.multipleS1Application.brand;\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.isAscUser = this.ascUserRoleList.includes(this.dataStorage.getUserRole());\r\n  }\r\n\r\n  onApproveOrDisapprove(status = 'APPROVED'): void {\r\n    const displayStatus = status === 'APPROVED' ? 'approve' : 'disapprove';\r\n    Swal.fire({\r\n      text: `Are you sure you want to ${displayStatus} this application?`,\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        const endpointExtension = status === 'APPROVED' ? '/approve' : '/disapprove';\r\n        // this.s1Application.actionDate = new Date();\r\n        this.s1Application.actionBy = this.currentUser.username;\r\n        this.apiService.save(`${ENDPOINTS.applicationRequests}${endpointExtension}/${this.s1Application.id}`, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            this.sweetAlertService.customSuccessMessage(`Application successfully ${status.toLowerCase()}.`);\r\n          this.router.navigate(['asc/page/application/s1/special']);\r\n          }, (err: any) => {\r\n            console.log(err);\r\n          }, () => {\r\n            this.dialogRef.close(this.s1Application);\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateSpecialApplication(): void {\r\n    // TO DO\r\n    // will only redirect to add new S1 application\r\n    // saving or updating is in add-s1-application.component.ts\r\n    this.dialogRef.close();\r\n    this.router.navigate(['asc/page/application/s1/add']);\r\n  }\r\n\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row title\">\r\n      <div class=\"col-md-12\">\r\n        <table>\r\n          <tr>\r\n            <td *ngIf=\"(s1Application?.status!=undefined&&!isAscUser)||isAscUser\">\r\n              <span>\r\n                Status:\r\n              </span>\r\n            </td>\r\n            <td *ngIf=\"(s1Application?.status !== undefined && !isAscUser) || isAscUser\">\r\n              <span *ngIf=\"s1Application?.status !== undefined && !isAscUser\">\r\n                <b>{{s1Application?.status?.replaceAll('_',' ') | uppercase}}</b>\r\n              </span>\r\n              <span *ngIf=\"isAscUser\">\r\n                <b>{{s1Application?.status?.replaceAll('_',' ') | uppercase}}</b>\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\">\r\n              <button\r\n                class=\"button-right button-red\"\r\n                mat-raised-button\r\n                (click)=\"dialogRef.close()\"\r\n              >\r\n                <i class=\"material-icons color__white\">list</i> VIEW APPLICATIONS\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"no-border\"></td>\r\n          </tr>\r\n        </table>\r\n\r\n        <hr />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\"><br /></div>\r\n    <div class=\"row\">\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Form Type</mat-label>\r\n        <input matInput [value]=\"formType\" readonly />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <input matInput [value]=\"s1Application?.applicationType?.description\" readonly/>\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel\r\n          [expanded]=\"\r\n            (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              s1Application?.internalStatus != 'SAVED') ||\r\n            s1Application?.internalStatus == undefined\r\n              ? true\r\n              : false\r\n          \"\r\n          *ngIf=\"\r\n            (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              s1Application?.internalStatus == 'SAVED') ||\r\n            currentUser?.userRole?.name != 'ROLE_APPLICANT' ||\r\n            s1Application?.internalStatus == undefined\r\n          \"\r\n        >\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Initial\r\n              Information\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-client-information\r\n            [s1Application]=\"s1Application\"\r\n            [isAscUser]=\"isAscUser\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n            [company]=\"company\"\r\n          ></app-client-information>\r\n\r\n\r\n          <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Ad Title</mat-label>\r\n              <input matInput [value]=\"s1Application?.adTitle\" readonly />\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Tag Line</mat-label>\r\n              <input matInput [value]=\"s1Application?.tagLine\" readonly />\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"outline\" class=\"col-md-6\">\r\n              <mat-label>Date of Submission</mat-label>\r\n              <input matInput placeholder=\"Date\" readonly\r\n                [value]=\"s1Application?.submissionDate | date: 'MMMM d, y'\"\r\n                name=\"submissionDate\" *ngIf=\"s1Application?.status !== 'DISAPPROVED'\"/>\r\n                <input matInput placeholder=\"Date\" readonly\r\n                  value=\"N/A - Request was disapproved\"\r\n                  name=\"submissionDate\" *ngIf=\"s1Application?.status === 'DISAPPROVED'\"/>\r\n            </mat-form-field>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <!-- FOR Admin Users only -->\r\n        <mat-expansion-panel *ngIf=\"currentUser?.userRole?.name === 'ROLE_ADMIN' || currentUser?.userRole?.name === 'ROLE_SUPER_ADMIN' \">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Presentor Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Personal Details\r\n              <i class=\"material-icons\">person</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"row\">\r\n              <!-- <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n                <mat-label>Membership Affiliation</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.membersAffiliation?.description\" readonly>\r\n              </mat-form-field> -->\r\n              <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n                <mat-label>Company Name</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.companyName\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-11\" appearance=\"outline\">\r\n                <mat-label>Address</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.completeAddress\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-8\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input matInput [value]=\"s1Application?.applicationOwner?.firstName+' '+s1Application?.applicationOwner?.lastName\" readonly>\r\n              </mat-form-field>\r\n\r\n              <!-- <mat-form-field class=\"col-md-8\" appearance=\"outline\" *ngIf=\"currentUser?.userRole?.name =='ROLE_ENCODER' && s1Application.id!= null\">\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input matInput [value]=\"s1Application?.firstName+' '+s1Application?.lastName\" readonly>\r\n              </mat-form-field> -->\r\n\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Mobile Number</mat-label>\r\n                <input matInput [value]=\"s1Application?.applicationOwner?.mobileNumber\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-3\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Telephone Number</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.companyTelephoneNo\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Email Address</mat-label>\r\n                <input matInput [value]=\"s1Application?.applicationOwner?.username\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n          </div>\r\n        </mat-expansion-panel>\r\n      </mat-accordion>\r\n\r\n      <div class=\"row\"><br /></div>\r\n      <hr />\r\n\r\n      <br />\r\n      <!-- //////////////////////////////////////// ACTION BUTTONS //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"s1Application?.status === 'FOR_APPROVAL' && isAscUser\"\r\n      >\r\n        <div mat-dialog-actions>\r\n          <div class=\"dialog-button-content\" align=\"end\">\r\n            <button class=\"confirm\" (click)=\"onApproveOrDisapprove()\">\r\n              <i class=\"material-icons color__white\">thumb_up_alt</i> Approve\r\n            </button>\r\n            <button class=\"warn\" (click)=\"onApproveOrDisapprove('DISAPPROVED')\">\r\n              <i class=\"material-icons color__white\">thumb_down_alt</i> Disapprove\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n","// import { WebSocketService } from './../../../../../core/services/socket/websocket.service';\r\nimport { HttpErrorResponse } from \"@angular/common/http\";\r\nimport { BadgeCounnter } from \"./../../../../../core/models/counter\";\r\nimport { Component, Inject, OnInit, ViewChild, OnDestroy } from \"@angular/core\";\r\nimport { MatPaginator } from \"@angular/material/paginator\";\r\nimport { MatSort } from \"@angular/material/sort\";\r\nimport { MatTable, MatTableDataSource } from \"@angular/material/table\";\r\nimport { S1Application, S2Application } from \"@models\";\r\nimport {\r\n  PAYMENT_STATUS,\r\n  ENDPOINTS,\r\n  APPLICATION_STATUS,\r\n  FORM_STATUS,\r\n  SUBMISSION_TYPE,\r\n  USER_ROLES,\r\n  TYPE_OF_MEDIUM,\r\n  ACTION_STATUS,\r\n} from \"@shared\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport Swal from \"sweetalert2\";\r\nimport { S1FormTypeComponent } from \"app/modules/fragments/s1-form-type/s1-form-type.component\";\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n} from \"@angular/material/dialog\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { MultipleApplication } from \"app/core/models/multiple-application.model\";\r\nimport { UpdateMultipleApplicationComponent } from \"app/modules/fragments/update-multiple-application/update-multiple-application.component\";\r\nimport { UpdateSpecialApplicationComponent } from \"app/modules/fragments/update-special-application/update-special-application.component\";\r\nimport { ApplicationRequest } from \"app/core/models/application-request.model\";\r\nimport { RequestForSpecialClearingComponent } from \"app/modules/fragments/request-for-special-clearing/request-for-special-clearing.component\";\r\nimport { TypeOfExecution } from \"app/core/models/type-of-execution.model\";\r\nimport { CommonServices } from \"app/core/services/common-services.service\";\r\n\r\nimport { Subscription, timer, merge } from \"rxjs\";\r\nimport { mergeMap } from \"rxjs/operators\";\r\nimport { WebSocketService } from \"app/core/services/socket/websocket.service\";\r\n\r\n@Component({\r\n  selector: \"app-list-s1-application\",\r\n  templateUrl: \"./list-s1-application.component.html\",\r\n  styleUrls: [\"./list-s1-application.component.scss\"],\r\n})\r\nexport class ListS1ApplicationComponent implements OnInit, OnDestroy {\r\n  @ViewChild(MatPaginator, { static: false }) paginatorFalse: MatPaginator;\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n  pageSize = 10;\r\n  pageNo = 0;\r\n  pageSizeOptions: number[] = [10, 20, 50];\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<S1Application>;\r\n\r\n  // individual s1 application list\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  displayedColumns = [];\r\n  totalItems = 0;\r\n  totalPages = 0;\r\n  currentPage = 1; // reuse\r\n  // currentSize = 100;\r\n\r\n  badgeCounter: BadgeCounnter = new BadgeCounnter();\r\n\r\n  returnedApps = [];\r\n  click = 0;\r\n  timeLeft: number = 60;\r\n  interval: any;\r\n  refreshButtonEnabled = true;\r\n  timerDisplay: any;\r\n  isTimerValueDisplay = false;\r\n  // , 'ascStatus', 'awaitingActionFrom'];\r\n\r\n  // multiple s1 application list variables\r\n  multipleApplicationList = [];\r\n  multipleApplicationDataSource: MatTableDataSource<MultipleApplication>;\r\n  multipleApplicationDisplayedColumns = [\r\n    \"adTitle\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"product\",\r\n    \"status\",\r\n  ];\r\n  multipleTotalItems = 0;\r\n\r\n  // end multiple application list variables\r\n\r\n  // special s1 application list variables\r\n  specialApplicationList = [];\r\n  specialApplicationDataSource: MatTableDataSource<S1Application>;\r\n  specialApplicationDisplayedColumns = [\r\n    \"adTitle\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"status\",\r\n  ];\r\n  specialTotalItems = 0;\r\n  // end special application list variables\r\n\r\n  // assigned s1 application list variables\r\n  assignedApplicationList = [];\r\n  assignedApplicationDataSource: MatTableDataSource<S1Application>;\r\n  assignedApplicationDisplayedColumns = [\r\n    \"referenceCode\",\r\n    \"adTitle\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"product\",\r\n    \"status\",\r\n    \"internalStatus\",\r\n    \"icon\",\r\n  ]; // end assigned application list variables\r\n\r\n  forReleaseApplicationsList = [];\r\n  forReleaseTotalItems = 0;\r\n  forReleaseApplicationDataSource: MatTableDataSource<S1Application>;\r\n  forReleaseApplicationDisplayedColumns = [\r\n    \"referenceCode\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"product\",\r\n    \"typeOfMedium\",\r\n    \"status\",\r\n    \"internalStatus\",\r\n    \"decisionStatus\",\r\n  ];\r\n  applicationList = [];\r\n  currentUser: any;\r\n  viewApplicationType: string;\r\n  applicationTypeTitle: string;\r\n  submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n  originalTabDataCount = 0;\r\n  revisionTabDataCount = 0;\r\n  complianceTabDataCount = 0;\r\n  decisionCommentTabDataCount = 0;\r\n  releasedAppealTabDataCount = 0;\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n  isAdSpecialist = false;\r\n  isEvaluator = false;\r\n\r\n  s1Application = new S1Application();\r\n  s2Application = new S2Application();\r\n  multipleS1Application = new MultipleApplication();\r\n  applicationRequest = new ApplicationRequest();\r\n  s1ApplicationTitle = \"S1 APPLICATION\";\r\n  displayedContent = \"ORIGINAL\";\r\n  paymentStatus = PAYMENT_STATUS;\r\n  retrieveReassignLength: number;\r\n\r\n  counterObservable: Subscription;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dataStorage: DataStorageService,\r\n    private router: Router,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dialog: MatDialog,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private commonService: CommonServices,\r\n    private webSocketService: WebSocketService\r\n  ) {}\r\n  ngOnDestroy(): void {\r\n    // if(this.counterObservable){\r\n    // this.counterObservable.unsubscribe();\r\n    // }\r\n  }\r\n  ngOnInit(): void {\r\n    this.webSocketService.listen(\"broadcast\").subscribe((res) => {\r\n      console.log(\"test\");\r\n      this.apiService\r\n        .findAll(ENDPOINTS.badgeCountByAscUser + this.currentUser.id)\r\n        .subscribe((res: any) => {\r\n          this.badgeCounter = res;\r\n          console.log(this.badgeCounter);\r\n        });\r\n    });\r\n    // this.counterObservable = merge(timer(0, 5000))\r\n    // .pipe(mergeMap(_ => this.apiService.findAll(ENDPOINTS.badgeCountByAscUser + this.currentUser.id)))\r\n    // .subscribe(\r\n    //   (res: BadgeCounnter) => {\r\n    //     this.badgeCounter = res;\r\n    //   },\r\n    //   (err: HttpErrorResponse) => {\r\n    //     console.log('Error:', err);\r\n    //   }\r\n    // );\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.viewApplicationType = this.route.parent.snapshot.url[0].path;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"icon\",\r\n      ];\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n    ) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"internalStatus\",\r\n        \"icon\",\r\n      ];\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER\r\n    ) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"internalStatus\",\r\n      ];\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"product\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"internalStatus\",\r\n        \"icon\",\r\n      ];\r\n    }\r\n    this.getList();\r\n    this.getListCounts();\r\n    this.initUserRole();\r\n    this.refreshApplicationBadgeCount();\r\n  }\r\n\r\n  parseInternalStatus(internalStatus: string, actionBy, element?) {\r\n    let user: string = `${actionBy.firstName} ${actionBy.lastName}`;\r\n    if (internalStatus.match(\"SUBMITTED\")) {\r\n      return `SUBMITTED BY: ${user}`;\r\n    } else if (internalStatus.match(\"REVIEWED\")) return `REVIEWED BY: ${user}`;\r\n    else if (internalStatus.match(\"VERIFIED\")) return `VERIFIED BY: ${user}`;\r\n    else if (internalStatus.match(\"SCREENED\")) return `SCREENED BY: ${user}`;\r\n    else if (internalStatus.match(\"REJECTED\"))\r\n      return `REJECTED BY: ${element.assignedUser.firstName} ${element.assignedUser.lastName}`;\r\n    // return internalStatus;\r\n  }\r\n\r\n  refreshApplicationBadgeCount(): void {\r\n    this.commonService.sendClickEvent();\r\n  }\r\n\r\n  formatTextPayment(status: string): string {\r\n    return status.replace(/_/g, \" \");\r\n  }\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n  getListCounts(): void {\r\n    let endpoint;\r\n    let screenedCount: number = 0;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.badgeCountByApplicationOwner;\r\n    } else {\r\n      endpoint = ENDPOINTS.badgeCountByAscUser;\r\n    }\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.applicationForm +\r\n          `/custom/search?assignedScreenerId=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`\r\n      )\r\n      .subscribe((response) => {\r\n        screenedCount = response.totalItems;\r\n      });\r\n    this.apiService\r\n      .findAll(endpoint + this.currentUser.id)\r\n      .subscribe((res: any) => {\r\n        this.badgeCounter = res;\r\n        this.apiService\r\n          .findAll(\r\n            ENDPOINTS.applicationForm +\r\n              `/custom/search?assignedScreenerId=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`\r\n          )\r\n          .subscribe((response) => {\r\n            this.badgeCounter.screenedApplications = response.totalItems;\r\n          });\r\n      });\r\n  }\r\n\r\n  getList(submissionType = \"ORIGINAL\") {\r\n    this.currentPage = this.pageNo;\r\n    this.currentPage++;\r\n    if (this.currentPage === 0) this.currentPage++;\r\n\r\n    if (this.viewApplicationType === \"multiple\") {\r\n      this.applicationTypeTitle = \"MULTIPLE\";\r\n      this.getMultipleS1ApplicationList();\r\n    } else if (this.viewApplicationType === \"special\") {\r\n      this.applicationTypeTitle = \"SPECIAL\";\r\n      this.getSpecialS1ApplicationList();\r\n    } else if (this.viewApplicationType === \"assigned-applications\") {\r\n      this.applicationTypeTitle = \"Assigned Applications\";\r\n      this.getAssignAppFormBy();\r\n    } else if (this.viewApplicationType === \"for-release\") {\r\n      this.applicationTypeTitle = \"For Release Applications\";\r\n      this.getForReleaseApplicationList();\r\n    } else if (this.viewApplicationType === \"released\") {\r\n      this.applicationTypeTitle = \"Released Applications\";\r\n      this.getReleasedApplicationList();\r\n    } else {\r\n      this.applicationTypeTitle = \"INDIVIDUAL\";\r\n      let param = submissionType.toUpperCase();\r\n\r\n      if (\r\n        param === SUBMISSION_TYPE.COMPLIANCE &&\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT\r\n      ) {\r\n        param = `&decisionStatus=INCOMPLETE&complianceForm=true`;\r\n      } else if (\r\n        param === SUBMISSION_TYPE.COMPLIANCE &&\r\n        this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT\r\n      ) {\r\n        param = `&complianceForm=true`;\r\n      } else {\r\n        param = `&submissionType=${param}`;\r\n      }\r\n\r\n      let endpoint = `custom/search?page=${this.currentPage}&size=${this.pageSize}${param}`;\r\n\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormPresentor +\r\n          endpoint +\r\n          `&applicationOwnerId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormEncoder +\r\n          endpoint +\r\n          `&assignedUserId=${this.currentUser.id}`;\r\n      } else if (\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n      ) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormAdSpecialist +\r\n          endpoint +\r\n          `&assignedUserId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n        if (submissionType === \"ORIGINAL\")\r\n          endpoint =\r\n            ENDPOINTS.applicationFormScreener +\r\n            endpoint +\r\n            `&assignedScreenerId=${this.currentUser.id}`;\r\n        else if (submissionType === \"SCREENED APPLICATIONS\")\r\n          endpoint =\r\n            ENDPOINTS.applicationForm +\r\n            `/custom/search?assignedScreenerId=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`;\r\n        else if (submissionType === \"REVISION\")\r\n          endpoint = ENDPOINTS.applicationFormScreener + endpoint;\r\n        else if (submissionType === \"COMPLIANCE\")\r\n          endpoint = ENDPOINTS.applicationFormScreener + endpoint;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormReviewer +\r\n          endpoint +\r\n          `&assignedReviewerId=${this.currentUser.id}`;\r\n      } else if (\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n      ) {\r\n        endpoint = ENDPOINTS.applicationFormAdmin + endpoint;\r\n      }\r\n\r\n      this.spinner.show();\r\n      this.apiService.findAll(endpoint).subscribe(\r\n        (res: any) => {\r\n          this.applicationList = res.data;\r\n          this.totalItems = res.totalItems;\r\n          console.log(\"applicationList: \", this.applicationList);\r\n\r\n          this.dataSource = new MatTableDataSource<S1Application>(\r\n            this.applicationList\r\n          );\r\n          // this.dataSource.paginator = this.paginator;\r\n\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        },\r\n        (err) => {\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  getScreenedApps() {}\r\n\r\n  showStatus(stats: any): string {\r\n    if (\r\n      stats.paymentStatus !== PAYMENT_STATUS.PAID &&\r\n      stats.actionStatus === ACTION_STATUS.ASSIGN_TO_PRESENTOR\r\n    )\r\n      return \"ON PROCESS\";\r\n    else return stats.externalStatus.replaceAll(\"_\", \" \").toUpperCase();\r\n  }\r\n\r\n  pageEvents(event: any) {\r\n    this.pageSize = event.pageSize;\r\n\r\n    if (event.pageIndex > this.pageNo) {\r\n      this.pageNo++;\r\n    } else {\r\n      this.pageNo--;\r\n    }\r\n\r\n    if (event.pageSize > event.length) {\r\n      this.pageNo = 0;\r\n    }\r\n\r\n    this.getList(this.displayedContent.toUpperCase());\r\n  }\r\n\r\n  setPageSizeOptions(setPageSizeOptionsInput: string) {\r\n    if (setPageSizeOptionsInput) {\r\n      this.pageSizeOptions = setPageSizeOptionsInput\r\n        .split(\",\")\r\n        .map((str) => +str);\r\n    }\r\n  }\r\n\r\n  getMultipleS1ApplicationList(): void {\r\n    let endpoint = \"\";\r\n    const ascEndpoint = `/custom/search?page=${this.currentPage}&size=${this.pageSize}`;\r\n    let assignedASCUser = \"\";\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      endpoint = ENDPOINTS.multipleApplication + ascEndpoint;\r\n    } else {\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        assignedASCUser = `&applicationOwnerId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n        assignedASCUser = `&assignedEvaluatorId=${this.currentUser.id}`;\r\n      } else if (\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n      ) {\r\n        assignedASCUser = `&assignedAdSpecialistId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n        assignedASCUser = `&assignedScreenerId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n        assignedASCUser = `&assignedReviewerId=${this.currentUser.id}`;\r\n      }\r\n      endpoint = ENDPOINTS.multipleApplication + ascEndpoint + assignedASCUser;\r\n    }\r\n    console.log(endpoint);\r\n\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.multipleApplicationList = res.data;\r\n        console.log(\"multipleApplicationList: \", res);\r\n        this.multipleTotalItems = res.totalItems;\r\n        this.refreshApplicationBadgeCount();\r\n\r\n        this.multipleApplicationDataSource = new MatTableDataSource<MultipleApplication>(\r\n          this.multipleApplicationList\r\n        );\r\n        this.multipleApplicationDataSource.paginator = this.paginator;\r\n        this.multipleApplicationDataSource.sort = this.sort;\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  getSpecialS1ApplicationList(): void {\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      const obj = {\r\n        statuses: [\"FOR_APPROVAL\", \"APPROVED\", \"DISAPPROVED\"],\r\n      };\r\n\r\n      this.apiService\r\n        .save(\r\n          `${ENDPOINTS.s1SpecialApplicationRequestsAdmin}?page=${this.currentPage}&size=${this.pageSize}`,\r\n          obj\r\n        )\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.specialApplicationList = res.data;\r\n            this.specialTotalItems = res.totalItems;\r\n            console.log(\"specialApplicationList: \", res);\r\n            this.refreshApplicationBadgeCount();\r\n\r\n            this.specialApplicationDataSource = new MatTableDataSource<S1Application>(\r\n              this.specialApplicationList\r\n            );\r\n            this.specialApplicationDataSource.paginator = this.paginator;\r\n            this.specialApplicationDataSource.sort = this.sort;\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          },\r\n          (err) => {\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          }\r\n        );\r\n    } else {\r\n      const obj = {\r\n        applicationOwnerId: this.currentUser.id,\r\n        statuses: [\"FOR_APPROVAL\", \"APPROVED\", \"DISAPPROVED\"],\r\n      };\r\n\r\n      this.apiService\r\n        .save(\r\n          `${ENDPOINTS.s1SpecialApplicationRequests}?page=${this.currentPage}&size=${this.pageSize}`,\r\n          obj\r\n        )\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.specialApplicationList = res.data;\r\n            this.specialTotalItems = res.totalItems;\r\n            console.log(\"specialApplicationList: \", res);\r\n            this.refreshApplicationBadgeCount();\r\n\r\n            this.specialApplicationDataSource = new MatTableDataSource<S1Application>(\r\n              this.specialApplicationList\r\n            );\r\n            this.specialApplicationDataSource.paginator = this.paginator;\r\n            this.specialApplicationDataSource.sort = this.sort;\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          },\r\n          (err) => {\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  getAssignAppFormBy(): void {\r\n    let endpoint = \"\";\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      endpoint =\r\n        ENDPOINTS.applicationForm +\r\n        `/adspe-retrieve-reassign?assignedAdSpecialist_Id=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`;\r\n    } else {\r\n      endpoint =\r\n        ENDPOINTS.applicationForm +\r\n        `/screener-retrieve-reassign?assignedScreener_Id=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.assignedApplicationList = res.data;\r\n        this.retrieveReassignLength = res.totalItems;\r\n        this.refreshApplicationBadgeCount();\r\n\r\n        this.assignedApplicationDataSource = new MatTableDataSource<S1Application>(\r\n          this.assignedApplicationList\r\n        );\r\n        this.assignedApplicationDataSource.sort = this.sort;\r\n\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  getForReleaseApplicationList() {\r\n    let endpoint;\r\n    const param = `&page=${this.currentPage}&size=${this.pageSize}`;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      endpoint =\r\n        ENDPOINTS.getForReleaseApplicationAdSpe +\r\n        `?releaseStatus=FOR_RELEASE&assignedAdSpecialistId=${this.currentUser.id}${param}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      endpoint =\r\n        ENDPOINTS.getForReleaseApplicationsReviewer +\r\n        `?releaseStatus=FOR_RELEASE&assignedReviewerId=${this.currentUser.id}${param}`;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      endpoint =\r\n        ENDPOINTS.getAdminSuperAdminForReleaseApplication +\r\n        `/custom/search?releaseStatus=FOR_RELEASE${param}`;\r\n    }\r\n\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.forReleaseApplicationsList = res.data;\r\n        this.forReleaseTotalItems = res.totalItems;\r\n        this.refreshApplicationBadgeCount();\r\n\r\n        console.log(\r\n          \"getForReleaseApplicationList: \",\r\n          this.forReleaseApplicationsList\r\n        );\r\n\r\n        this.forReleaseApplicationDataSource = new MatTableDataSource<S1Application>(\r\n          this.forReleaseApplicationsList\r\n        );\r\n        this.forReleaseApplicationDataSource.paginator = this.paginatorFalse;\r\n        this.forReleaseApplicationDataSource.sort = this.sort;\r\n\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  getReleasedApplicationList() {\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.getReleaseApplicationsAdSpe +\r\n          `?page=${this.currentPage}&size=${this.pageSize}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.forReleaseApplicationsList = res.data;\r\n          console.log(\r\n            \"getReleasedApplicationList: \",\r\n            this.forReleaseApplicationsList\r\n          );\r\n          this.forReleaseTotalItems = res.totalItems;\r\n          this.refreshApplicationBadgeCount();\r\n\r\n          this.forReleaseApplicationDataSource = new MatTableDataSource<S1Application>(\r\n            this.forReleaseApplicationsList\r\n          );\r\n          this.forReleaseApplicationDataSource.paginator = this.paginatorFalse;\r\n          this.forReleaseApplicationDataSource.sort = this.sort;\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        },\r\n        (err) => {\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        }\r\n      );\r\n  }\r\n\r\n  getForDecisionAndComment(displayedContent) {\r\n    let endpoint = \"\";\r\n\r\n    // APPEAL\r\n    if (this.isAdSpecialist) {\r\n      endpoint =\r\n        ENDPOINTS.applicationFormAdSpecialist +\r\n        `custom/search?assignedUserId=${this.currentUser.id}&hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}&submissionType=ORIGINAL`;\r\n    }\r\n    // RETURN TO SCREENER\r\n    else if (this.isScreener) {\r\n      endpoint =\r\n        ENDPOINTS.s1ApplicationForm +\r\n        `screener/assigned-user-id/${this.currentUser.id}/forwarded-for-decision-and-comment`;\r\n    } else if (this.isReviewer) {\r\n      endpoint =\r\n        ENDPOINTS.s1ApplicationForm +\r\n        `reviewer/assigned-user-id/${this.currentUser.id}/forwarded-for-decision-and-comment`;\r\n    } else if (this.isAdmin || this.isSuperAdmin) {\r\n      if (displayedContent === \"For Appeal\") {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormAdmin +\r\n          `custom/search?hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}`;\r\n      } else {\r\n        endpoint =\r\n          ENDPOINTS.admin + `/s1/for-decision-comment/reviewer-screener`;\r\n      }\r\n    }\r\n    this.spinner.show();\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        if (res) {\r\n          if (res?.data) {\r\n            this.applicationList = res?.data;\r\n          } else {\r\n            this.applicationList = res?.responseData?.data;\r\n          }\r\n          console.log(displayedContent + \": \", this.applicationList);\r\n          this.refreshApplicationBadgeCount();\r\n\r\n          this.dataSource = new MatTableDataSource<S1Application>(\r\n            this.applicationList\r\n          );\r\n          this.dataSource.paginator = this.paginatorFalse;\r\n          this.dataSource.sort = this.sort;\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        } else {\r\n          this.applicationList = [];\r\n        }\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  public doFilter = (value: string) => {\r\n    this.dataSource.filter = value.trim().toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterS1MultipleApplicationList = (value: string) => {\r\n    this.multipleApplicationDataSource.filter = value\r\n      .trim()\r\n      .toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterSpecialS1ApplicationList = (value: string) => {\r\n    this.specialApplicationDataSource.filter = value.trim().toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterAssignedS1ApplicationList = (value: string) => {\r\n    this.assignedApplicationDataSource.filter = value\r\n      .trim()\r\n      .toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterForReleaseApplicationList = (value: string) => {\r\n    this.forReleaseApplicationDataSource.filter = value\r\n      .trim()\r\n      .toLocaleLowerCase();\r\n  };\r\n\r\n  viewApplication(data: any): void {\r\n    this.s1Application = data;\r\n    console.log(\"S1 FORM: \", this.s1Application);\r\n    if (\r\n      this.viewApplicationType === \"released\" ||\r\n      this.viewApplicationType === \"for-release\" ||\r\n      this.viewApplicationType === \"assigned-applications\" ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      this.router.navigate([\"asc/page/application/s1/update/\", data.id]);\r\n    } else if (\r\n      data.formStatus === FORM_STATUS.OPEN &&\r\n      this.s1Application.internalStatus !==\r\n        APPLICATION_STATUS.S1_APPLICATION_REJECTED\r\n    ) {\r\n      Swal.fire({\r\n        text:\r\n          \"Are you sure you want to open this application? This application will be LOCKED on your account.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Confirm\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n            this.s1Application.assignedEncoder = this.currentUser;\r\n          } else if (\r\n            this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n          ) {\r\n            this.s1Application.assignedAdSpecialist = this.currentUser;\r\n          } else if (\r\n            this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER\r\n          ) {\r\n            this.s1Application.assignedScreener = this.currentUser;\r\n          } else if (\r\n            this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n          ) {\r\n            this.s1Application.assignedReviewer = this.currentUser;\r\n          }\r\n          this.s1Application.currentAssignee = this.currentUser.userRole.name;\r\n\r\n          let endpoint = \"\";\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n            endpoint = ENDPOINTS.applicationFormEncoder;\r\n          } else {\r\n            endpoint = ENDPOINTS.applicationFormAdSpecialist;\r\n          }\r\n\r\n          this.apiService\r\n            .save(endpoint + ENDPOINTS.takeApplication, this.s1Application)\r\n            .subscribe(\r\n              (res: any) => {\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Application successfully assigned to you.\",\r\n                  3\r\n                );\r\n                this.router.navigate([\r\n                  \"asc/page/application/s1/update/\",\r\n                  data.id,\r\n                ]);\r\n                this.refreshApplicationBadgeCount();\r\n              },\r\n              (err: any) => {\r\n                console.log(\"error deep\");\r\n                let lockedBy = \"\";\r\n                if (this.s1Application.assignedUser) {\r\n                  lockedBy = ` by ${this.s1Application.assignedUser.firstName} ${this.s1Application.assignedUser.lastName} `;\r\n                }\r\n\r\n                err.error.message = `Application has been locked${lockedBy} for processing. Kindly select another application to process.`;\r\n                this.sweetAlertService.error(err, 5);\r\n                // location.reload();\r\n              }\r\n            );\r\n        }\r\n      });\r\n    } else {\r\n      if (this.s1Application.assignedUser) {\r\n        if (\r\n          this.s1Application.assignedUser.username === this.currentUser.username\r\n        ) {\r\n          this.router.navigate([\"asc/page/application/s1/update/\", data.id]);\r\n          this.refreshApplicationBadgeCount();\r\n        } else {\r\n          console.log(\"error out\");\r\n          let lockedBy = \"\";\r\n          if (this.s1Application.assignedUser) {\r\n            lockedBy = ` by ${this.s1Application.assignedUser.firstName} ${this.s1Application.assignedUser.lastName} `;\r\n          }\r\n          this.sweetAlertService.customErrorMessage(\r\n            `Application has been locked${lockedBy} for processing.Kindly select another application to process.`,\r\n            5\r\n          );\r\n          this.refreshApplicationBadgeCount();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  viewMultipleApplication(data: any): void {\r\n    this.multipleS1Application = data;\r\n    console.log(\"multipleS1Application: \", this.multipleS1Application);\r\n\r\n    let dialogRef;\r\n\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      dialogRef = this.dialog.open(UpdateMultipleApplicationComponent, {\r\n        width: \"80%\",\r\n        height: \"85%\",\r\n        data: this.multipleS1Application,\r\n      });\r\n    } else {\r\n      dialogRef = this.dialog.open(UpdateMultipleApplicationComponent, {\r\n        width: \"80%\",\r\n        height: \"85%\",\r\n        data: this.multipleS1Application,\r\n      });\r\n    }\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result) {\r\n        this.getMultipleS1ApplicationList();\r\n      }\r\n    });\r\n  }\r\n\r\n  viewSpecialApplication(data: any): void {\r\n    this.applicationRequest = data;\r\n    this.s1Application = new S1Application();\r\n    this.s1Application.adTitle = data.adTitle;\r\n    this.s1Application.applicationOwner = data.applicationOwner;\r\n    this.s1Application.applicationType = data.applicationType;\r\n    this.s1Application.brand = data.brand;\r\n    this.s1Application.product = data.product;\r\n    // this.s1Application.category = data.category;\r\n    this.s1Application.company = data.company;\r\n    // this.s1Application.membersAffiliation = data.membersAffiliation;\r\n    this.s1Application.submissionDate = data.submissionDate;\r\n    this.s1Application.tagLine = data.tagLine;\r\n    this.s1Application.status = data.status;\r\n    this.s1Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    this.s1Application.appFormReference = \"\";\r\n    this.s1Application.formType = data.formType;\r\n    this.s1Application.applicationRequest = data;\r\n    this.s1Application.id = 0;\r\n\r\n    let dialogRef;\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN ||\r\n      (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n        this.applicationRequest.status === \"FOR_APPROVAL\")\r\n    ) {\r\n      dialogRef = this.dialog.open(UpdateSpecialApplicationComponent, {\r\n        width: \"80%\",\r\n        height: \"85%\",\r\n        data: this.applicationRequest,\r\n      });\r\n    } else {\r\n      this.dataStorage.setS1Application(this.s1Application);\r\n      this.dataStorage.setSpecialS1Application(this.applicationRequest);\r\n      this.router.navigate([\"asc/page/application/s1/add\"]);\r\n      // dialogRef = this.dialog.open(UpdateSpecialApplicationComponent, {\r\n      //   width: '80%',\r\n      //   height: '85%',\r\n      //   data: this.applicationRequest\r\n      // });\r\n    }\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result) {\r\n        this.getSpecialS1ApplicationList();\r\n      }\r\n    });\r\n  }\r\n\r\n  getCompanyById(id): Promise<any> {\r\n    // updates company details in data storage\r\n    const promise = new Promise((resolve, reject) => {\r\n      this.apiService.findById(ENDPOINTS.company, id).subscribe(\r\n        (res: any) => {\r\n          if (res) {\r\n            this.currentUser.company = res.responseData.data;\r\n            this.dataStorage.saveUserAccount(this.currentUser);\r\n            resolve(this.currentUser);\r\n          }\r\n        },\r\n        (err) => {\r\n          reject(err);\r\n        }\r\n      );\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  openFormTypeModal() {\r\n    this.getCompanyById(this.currentUser.company.id).then((res) => {\r\n      if (res.company.membersAffiliation.status === \"INACTIVE\") {\r\n        this.sweetAlertService.customErrorMessage(\r\n          `Your Company's membership affiliation is no longer active. Cannot proceed with new application. Please contact ASC admin`\r\n        );\r\n      } else {\r\n        const dialogRef = this.dialog.open(S1FormTypeComponent, {\r\n          // width: '30%',\r\n          // height: '25%',\r\n        });\r\n\r\n        dialogRef.afterClosed().subscribe((result) => {\r\n          if (result) {\r\n            console.log(result);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  applyForS2(data) {\r\n    let typeOfExecution;\r\n    if (data.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n      this.apiService\r\n        .findByParam(\r\n          ENDPOINTS.applicationSingleMedia,\r\n          `app-form-reference/${data.appFormReference}`\r\n        )\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (res.responseData.data.length > 0) {\r\n              typeOfExecution =\r\n                res.responseData.data[0].mediumExecution.typeOfExecution;\r\n              data.typeOfExecution = typeOfExecution;\r\n              const dialogRef = this.dialog.open(ListS1Dialog, {\r\n                data: {\r\n                  s2Application: data,\r\n                },\r\n              });\r\n            }\r\n          },\r\n          (err: any) => {}\r\n        );\r\n    } else {\r\n      const dialogRef = this.dialog.open(ListS1Dialog, {\r\n        data: {\r\n          s2Application: data,\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  returnTo(process, s1App): void {\r\n    this.s1Application = s1App;\r\n    Swal.fire({\r\n      text: \"Are you sure you want to \" + process + \" this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n          this.s1Application.currentAssignee = USER_ROLES.ROLE_AD_SPECIALIST;\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToAdSpe}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormScreener}return`;\r\n          }\r\n        } else {\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToScreener}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormReviewer}return`;\r\n          }\r\n        }\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            // console.log('RETURN: ', res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.getList();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully returned the application\"\r\n              );\r\n              this.refreshApplicationBadgeCount();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  saveStatus(ascUser = \"\", action = \"\", status = \"\", application: any) {\r\n    let fetchedData;\r\n    this.apiService\r\n      .findAll(`${ENDPOINTS.applicationForm}/id/${application.id}`)\r\n      .subscribe((validateApp) => {\r\n        console.log(\"validate => \", validateApp);\r\n        fetchedData = validateApp.responseData.data;\r\n      });\r\n    Swal.fire({\r\n      text: \"Are you sure you want to cancel this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        if (\r\n          fetchedData.assignedUser &&\r\n          fetchedData.formStatus === FORM_STATUS.LOCKED\r\n        ) {\r\n          this.sweetAlertService.customErrorMessage(\r\n            \"This form is already in process\"\r\n          );\r\n          return;\r\n        }\r\n        this.apiService\r\n          .update(\r\n            `${ENDPOINTS.applicationForm}/s1/${ascUser}/${action}`,\r\n            application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Application successfully canceled.\"\r\n              );\r\n              this.getList();\r\n              this.refreshApplicationBadgeCount();\r\n              // this.router.navigate(['asc/page/application/s1/lists']);\r\n            },\r\n            (err) => {\r\n              console.log(err);\r\n              this.sweetAlertService.error(err);\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            },\r\n            () => {\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  changeTab(evt) {\r\n    console.log(\"tab ---  \", evt);\r\n    if (evt.tab.textLabel !== \"For Decision and Comments\") {\r\n      this.getListCounts();\r\n    }\r\n    if (evt.tab) {\r\n      this.displayedContent = evt.tab.textLabel;\r\n      if (\r\n        this.displayedContent === \"For Decision and Comments\" ||\r\n        this.displayedContent === \"For Appeal\"\r\n      ) {\r\n        this.getForDecisionAndComment(this.displayedContent);\r\n      } else if (this.displayedContent === \"Returned Application\") {\r\n        console.log(\"returneeed\");\r\n        const userType = this.isAdSpecialist ? \"adSpeId\" : \"screenerId\";\r\n        this.spinner.show();\r\n        this.apiService\r\n          .findAll(\r\n            `${\r\n              this.isAdSpecialist\r\n                ? ENDPOINTS.getAllAdSpeReturnedApps\r\n                : ENDPOINTS.getAllScreenerReturnedApps\r\n            }/?&${userType}=${this.currentUser.id}&page=${\r\n              this.currentPage - 1\r\n            }&size=${this.pageSize}`\r\n          )\r\n          .subscribe(\r\n            (respose) => {\r\n              this.applicationList = respose.data;\r\n              this.totalItems = respose.totalItems;\r\n              console.log(\"applicationList: \", this.applicationList);\r\n\r\n              this.dataSource = new MatTableDataSource<S1Application>(\r\n                this.applicationList\r\n              );\r\n              this.dataSource.paginator = this.paginator;\r\n              this.assignedApplicationDisplayedColumns.splice(\r\n                this.assignedApplicationDisplayedColumns.indexOf(\"icon\"),\r\n                1\r\n              );\r\n              setTimeout(() => {\r\n                this.spinner.hide();\r\n              }, 1);\r\n            },\r\n            (err) => {\r\n              setTimeout(() => {\r\n                this.spinner.hide();\r\n              }, 1);\r\n            }\r\n          );\r\n      } else if (this.displayedContent === \"Screened Applications\") {\r\n        this.getList(this.displayedContent.toUpperCase());\r\n      } else {\r\n        this.getList(this.displayedContent.toUpperCase());\r\n      }\r\n    }\r\n  }\r\n\r\n  sortEvent() {\r\n    this.click++;\r\n    if (this.click % 2 === 0) {\r\n      console.log(\"even\", this.click);\r\n      this.dataSource = new MatTableDataSource<S1Application>(\r\n        this.applicationList\r\n      );\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.sort((a, b) => a.id - b.id);\r\n    } else {\r\n      console.log(\"odd\", this.click);\r\n      this.dataSource = new MatTableDataSource<S1Application>(\r\n        this.applicationList\r\n      );\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.reverse();\r\n    }\r\n    // this.dataSource.data.sort(() => Math.random() - 0.5)\r\n  }\r\n\r\n  unlockApplication(process, s1App): void {\r\n    this.s1Application = s1App;\r\n    Swal.fire({\r\n      text: \"Are you sure you want to \" + process + \" this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.actionBy = this.currentUser;\r\n        this.s1Application.formStatus = FORM_STATUS.OPEN;\r\n\r\n        endpoint = ENDPOINTS.applicationForm;\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.update(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            // console.log('RETURN: ', res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.getList();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully unlocked the application\"\r\n              );\r\n              this.refreshApplicationBadgeCount();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.commonService.sendClickEvent();\r\n    this.startTimer();\r\n  }\r\n\r\n  startTimer() {\r\n    this.interval = setInterval(() => {\r\n      this.timeLeft--;\r\n      if (this.timeLeft > 0) {\r\n        this.refreshButtonEnabled = false;\r\n        this.isTimerValueDisplay = true;\r\n      } else {\r\n        this.refreshButtonEnabled = true;\r\n        this.isTimerValueDisplay = false;\r\n        this.timeLeft = 60;\r\n        clearInterval(this.interval);\r\n      }\r\n      this.timerDisplay = this.transform(this.timeLeft);\r\n    }, 1000);\r\n  }\r\n\r\n  transform(value: number): string {\r\n    const minutes: number = Math.floor(value / 60);\r\n    return minutes + \":\" + (value - minutes * 60);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: \"list-s1-dialog\",\r\n  templateUrl: \"list-s1-dialog.html\",\r\n  styleUrls: [\"./list-s1-application.component.scss\"],\r\n})\r\nexport class ListS1Dialog implements OnInit {\r\n  s2Application = new S2Application();\r\n  s1Application = new S1Application();\r\n  applicationRequest = new ApplicationRequest();\r\n  typeOfExecution = new TypeOfExecution();\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    private dataStorage: DataStorageService,\r\n    public dialog: MatDialog,\r\n    public dialogRef: MatDialogRef<ListS1ApplicationComponent>,\r\n    private commonService: CommonServices,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.typeOfExecution = this.data.s2Application.typeOfExecution;\r\n    this.s2Application.applicationForm = this.data.s2Application;\r\n    this.s1Application = this.data.s2Application;\r\n  }\r\n\r\n  // Used for S2 or TOA\r\n  proceedToS2(isS2) {\r\n    Swal.fire({\r\n      text: `Are you sure you want to apply for ${isS2 ? \"S2\" : \"TOA\"}?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.s2Application.submissionType = this.data.s2Application.submissionType;\r\n        this.s2Application.applicationForm = this.data.s2Application;\r\n        this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL; // this.s2Application.applicationForm.submissionType;\r\n        if (!isS2) {\r\n          this.s2Application.hasToa = true;\r\n          // this.s2Application.submissionType = SUBMISSION_TYPE.TOA;\r\n        }\r\n        this.s2Application.internalStatus = \"SAVED\";\r\n        this.s2Application.externalStatus = \"SAVED\";\r\n        console.log(\"View S2:\", this.data.s2Application);\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.s2ApplicationFormPresentorSave,\r\n            this.s2Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(res);\r\n              this.router.navigate([\r\n                \"asc/page/application/s2/update\",\r\n                res.responseData.data.id,\r\n              ]);\r\n              this.commonService.sendClickEvent();\r\n              this.dialogRef.close();\r\n            },\r\n            (err: any) => {}\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  requestForClearingAndClearance(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to request approval for special clearing?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dialogRef.close();\r\n        let dialogRef;\r\n        this.applicationRequest.hasSpecialClearing = true;\r\n        this.applicationRequest.applicationForm = this.s1Application;\r\n        dialogRef = this.dialog.open(RequestForSpecialClearingComponent, {\r\n          width: \"80%\",\r\n          height: \"85%\",\r\n          data: {\r\n            applicationRequest: this.applicationRequest,\r\n            applicationType: \"Request for Special Clearing\",\r\n          },\r\n        });\r\n        this.commonService.sendClickEvent();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<form (keydown.enter)=\"$event.preventDefault()\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <i class=\"material-icons icon-black\">view_list</i>\r\n          <span\r\n            [hidden]=\"\r\n              viewApplicationType === 'assigned-applications' ||\r\n              viewApplicationType === 'for-release' ||\r\n              viewApplicationType === 'released'\r\n            \"\r\n          >\r\n            {{ s1ApplicationTitle }} -</span\r\n          >\r\n          &nbsp;<span>{{\r\n            applicationTypeTitle?.replace(\"Assigned\", \"Retrieve/Re-assign\")\r\n              | uppercase\r\n          }}</span>\r\n        </mat-label>\r\n        <button\r\n          class=\"button-right\"\r\n          type=\"submit\"\r\n          mat-raised-button\r\n          color=\"primary\"\r\n          (click)=\"refresh()\"\r\n          [disabled]=\"!refreshButtonEnabled\"\r\n        >\r\n          <span class=\"material-icons\">sync</span>\r\n          <label *ngIf=\"isTimerValueDisplay\"> &nbsp;{{ timerDisplay }}</label>\r\n        </button>\r\n        <button\r\n          class=\"button-right button-red\"\r\n          type=\"submit\"\r\n          mat-raised-button\r\n          *ngIf=\"\r\n            currentUser?.userRole?.name == 'ROLE_APPLICANT' ||\r\n            currentUser?.userRole?.name == 'ROLE_ENCODER'\r\n          \"\r\n          [hidden]=\"viewApplicationType === 'multiple'\"\r\n          (click)=\"openFormTypeModal()\"\r\n        >\r\n          <i class=\"material-icons color__white\">add</i> NEW APPLICATION\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <!-- ADMIN - INCLUDES LIST FOR MULTIPLE APPLICATIONS -->\r\n    <!-- TEMP: SHOW multiple application tab for all roles -->\r\n    <!-- <mat-tab-group>\r\n      <mat-tab  >\r\n        <ng-container *ngTemplateOutlet=\"individualS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n      <mat-tab>\r\n        <ng-container *ngTemplateOutlet=\"multipleS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n      <mat-tab >\r\n        <ng-container *ngTemplateOutlet=\"specialS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n      <mat-tab  >\r\n        <ng-container *ngTemplateOutlet=\"assignedToScreenerS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n    </mat-tab-group> -->\r\n\r\n    <div *ngIf=\"applicationTypeTitle === 'INDIVIDUAL'\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"individualS1ApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n    <div *ngIf=\"viewApplicationType === 'multiple'\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"multipleS1ApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"\r\n        (currentUser.userRole.name === 'ROLE_APPLICANT' ||\r\n          currentUser.userRole.name === 'ROLE_ENCODER' ||\r\n          currentUser.userRole.name === 'ROLE_ADMIN' ||\r\n          currentUser?.userRole.name === 'ROLE_SUPER_ADMIN') &&\r\n        viewApplicationType === 'special'\r\n      \"\r\n    >\r\n      <ng-container *ngTemplateOutlet=\"specialS1ApplicationList\"></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"\r\n        currentUser.userRole.name == 'ROLE_AD_SPECIALIST' ||\r\n        currentUser.userRole.name == 'ROLE_SCREENER'\r\n      \"\r\n    >\r\n      <ng-container\r\n        *ngTemplateOutlet=\"assignedToScreenerS1ApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"\r\n        currentUser.userRole.name == 'ROLE_AD_SPECIALIST' ||\r\n        currentUser.userRole.name == 'ROLE_REVIEWER' ||\r\n        currentUser.userRole.name === 'ROLE_ADMIN' ||\r\n        currentUser?.userRole.name === 'ROLE_SUPER_ADMIN'\r\n      \"\r\n    >\r\n      <ng-container\r\n        *ngTemplateOutlet=\"forReleaseApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n\r\n    <!-- OTHER USERS - DISPLAY ONLY S1 APPLICATIONS -->\r\n    <!-- <ng-container *ngIf=\"!showMultipleS1Application\">\r\n      <ng-container *ngTemplateOutlet=\"individualS1ApplicationList\"></ng-container>\r\n    </ng-container> -->\r\n  </div>\r\n</form>\r\n\r\n<!-- TEMPLATE FOR INDIVIDUAL S1 APPLICATION LIST -->\r\n<ng-template #individualS1ApplicationList>\r\n  <br />\r\n  <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n    <mat-form-field class=\"col-md-9\" appearance=\"outline\">\r\n      <mat-label\r\n        ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n      >\r\n      <input matInput type=\"text\" (keyup)=\"doFilter($event.target.value)\" />\r\n      <input type=\"hidden\" />\r\n    </mat-form-field>\r\n\r\n    <!-- <div class=\"row\">\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-blue\">ORIGINAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">REVISION</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR COMPLIANCE</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n\r\n    <div class=\"col\" *ngIf=\"currentUser.userRole.name === 'ROLE_AD_SPECIALIST'\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>LEGEND:</td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-yellow\"></div>\r\n              LOCKED\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-white\"></div>\r\n              OPEN\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-blue\"></div>\r\n              ORIGINAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR COMPLIANCE\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              REVISION\r\n            </td>\r\n          </tr>\r\n          <!--     <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div> FOR COMPLIANCE\r\n            </td>\r\n          </tr> -->\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col\" *ngIf=\"currentUser.userRole.name != 'ROLE_AD_SPECIALIST'\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>LEGEND:</td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-blue\"></div>\r\n              ORIGINAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR COMPLIANCE\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              REVISION\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <br />\r\n  <!--\r\n  <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n    <mat-tab label=\"\">\r\n      <ng-template mat-tab-label>\r\n        Original\r\n        <div matBadge={{dataSource?.data?.length}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"\">\r\n      <ng-template mat-tab-label>\r\n        Revision\r\n        <div matBadge={{dataSource?.data?.length}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"\">\r\n      <ng-template mat-tab-label>\r\n        Compliance\r\n        <div matBadge={{dataSource?.data?.length}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n  </mat-tab-group> -->\r\n  <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n    <mat-tab label=\"Original\">\r\n      <ng-template mat-tab-label>\r\n        Original\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countOriginal }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"Revision\" *ngIf=\"!isReviewer\">\r\n      <ng-template mat-tab-label>\r\n        Revision\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countRevision }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"Compliance\" *ngIf=\"!isReviewer\">\r\n      <ng-template mat-tab-label>\r\n        Compliance\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countCompliance }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab\r\n      label=\"For Appeal\"\r\n      *ngIf=\"isAdSpecialist || isAdmin || isSuperAdmin\"\r\n    >\r\n      <ng-template mat-tab-label>\r\n        Released Appeal\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countTotalOngoingAppeal }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"Returned Application\" *ngIf=\"isAdSpecialist || isScreener\">\r\n      <ng-template mat-tab-label>\r\n        Returned Application\r\n        <div\r\n          matBadge=\"{{ badgeCounter.returnedApplications }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab\r\n      label=\"For Decision and Comments\"\r\n      *ngIf=\"isScreener || isReviewer || isAdmin || isSuperAdmin\"\r\n    >\r\n      <ng-template mat-tab-label>\r\n        For Decision and Comments\r\n        <div\r\n          matBadge=\"{{\r\n            badgeCounter.countTotalScreenerAndReviewerDecisionComment\r\n          }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n\r\n    <mat-tab\r\n      label=\"Screened Applications\"\r\n      *ngIf=\"isScreener || isReviewer || isAdmin || isSuperAdmin\"\r\n    >\r\n      <ng-template mat-tab-label>\r\n        Screened Applications\r\n        <div\r\n          matBadge=\"{{ badgeCounter.screenedApplications }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n\r\n  <div class=\"mat-elevation-z8 fields\">\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n      <ng-container matColumnDef=\"referenceCode\">\r\n        <th mat-header-cell *matHeaderCellDef>\r\n          REFERENCE CODE\r\n          <mat-icon\r\n            class=\"cursor\"\r\n            (click)=\"sortEvent()\"\r\n            style=\"color: black\"\r\n            [hidden]=\"currentUser.userRole.name === 'ROLE_ENCODER'\"\r\n            >swap_vert</mat-icon\r\n          >\r\n        </th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : (element.submissionType === 'ORIGINAL' &&\r\n                    element.decisionStatus !== 'INCOMPLETE') ||\r\n                  element.decisionStatus === 'INCOMPLETE'\r\n                ? 'lightblue'\r\n                : element.submissionType === 'FOR COMPLIANCE'\r\n                ? '#fca402'\r\n                : element.submissionType === 'REVISION'\r\n                ? '#8fcf8f'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{\r\n            element?.submissionType === \"ORIGINAL\" &&\r\n            element?.internalStatus == \"S1_APPLICATION_REJECTED\"\r\n              ? element?.referenceCodeRejected\r\n              : (element?.referenceCode | uppercase)\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"typeOfApplication\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.formType.replaceAll(\"_\", \" \") | uppercase }} -\r\n          {{ element?.applicationType?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"companyName\">\r\n        <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.company?.companyName | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"brand\">\r\n        <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.brand?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"product\">\r\n        <th mat-header-cell *matHeaderCellDef>PRODUCT</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.product?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"typeOfMedium\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF MEDIUM</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.typeOfMedium | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"status\">\r\n        <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          class=\"\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : element?.internalStatus === 'S1_APPLICATION_REJECTED' ||\r\n                  element?.internalStatus === 'S1_APPLICATION_CANCELLED'\r\n                ? 'lightpink'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{\r\n            showStatus({\r\n              paymentStatus: element?.paymentStatus,\r\n              externalStatus: element?.externalStatus,\r\n              actionStatus: element?.actionStatus\r\n            })\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-continer matColumnDef=\"paymentStatus\">\r\n        <th mat-header-cell *matHeaderCellDef>PAYMENT STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          <div\r\n            class=\"payment-status-chip\"\r\n            [ngClass]=\"{\r\n              'payment-status-chip--paid':\r\n                element?.paymentStatus === paymentStatus.PAID,\r\n              'payment-status-chip--unpaid':\r\n                element?.paymentStatus === paymentStatus.UNPAID,\r\n              'payment-status-chip--for-approval':\r\n                element?.paymentStatus === paymentStatus.FOR_APPROVAL,\r\n              'payment-status-chip--for-payment':\r\n                element?.paymentStatus === paymentStatus.FOR_PAYMENT\r\n            }\"\r\n          >\r\n            {{ formatTextPayment(element?.paymentStatus) }}\r\n          </div>\r\n        </td>\r\n      </ng-continer>\r\n\r\n      <ng-container matColumnDef=\"internalStatus\">\r\n        <th mat-header-cell *matHeaderCellDef>INTERNAL STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          class=\"\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{\r\n            parseInternalStatus(\r\n              element?.internalStatus,\r\n              element?.actionBy,\r\n              element\r\n            )\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <!-- For ASC Users only 'background-color': ((currentUser.userRole.name === 'ROLE_AD_SPECIALIST' && i > 0 && element?.formStatus==='LOCKED' ? 'yellow' : ''))-->\r\n      <!-- <ng-container matColumnDef=\"status\" *ngIf=\"currentUser.userRole.name!='ROLE_APPLICANT'\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICATION STATUS </th>\r\n        <td mat-cell *matCellDef=\"let element; let i = index\" class=\"applicantStatus\"\r\n          [ngStyle]=\"{'background-color':\r\n          ((element.submissionType=='ORIGINAL'&&element.decisionStatus!='INCOMPLETE') ? 'lightblue' :\r\n          ((element.submissionType=='FOR COMPLIANCE'||element.decisionStatus=='INCOMPLETE'||element.submissionType=='COMPLIANCE') ? '#ebd79b' :\r\n          (element.submissionType=='REVISION' ? '#8fcf8f' : '' )))}\"\r\n          (click)=\"viewApplication(element)\"> {{\r\n          element?.internalStatus?.replaceAll('_',' ') | uppercase }}</td>\r\n      </ng-container> -->\r\n\r\n      <ng-container matColumnDef=\"icon\">\r\n        <th mat-header-cell *matHeaderCellDef></th>\r\n        <td mat-cell *matCellDef=\"let element\" class=\"icon\">\r\n          <!-- FOR APPLICANT -------------------------------------------------- -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Cancel Application\"\r\n            [disabled]=\"element.formStatus === 'LOCKED'\"\r\n            (click)=\"\r\n              saveStatus(\r\n                'presentor',\r\n                'cancel',\r\n                'S1_APPLICATION_CANCELLED',\r\n                element\r\n              )\r\n            \"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              element?.internalStatus == 'S1_APPLICATION_SUBMITTED'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">cancel</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Submit For Compliance\"\r\n            (click)=\"viewApplication(element)\"\r\n            *ngIf=\"\r\n              !element?.appliedS2 &&\r\n              !element?.hasOngoingCompliance &&\r\n              !element?.hasOngoingRevision &&\r\n              element?.decisionStatus == 'INCOMPLETE' &&\r\n              !s1Application?.hasOngoingAppeal &&\r\n              element?.paymentStatus === 'PAID' &&\r\n              element?.releaseStatus === 'RELEASED' &&\r\n              (element?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n                element?.internalStatus ==\r\n                  'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                element?.internalStatus == 'REVISION_SCREENED' ||\r\n                element?.internalStatus == 'S1_APPLICATION_REJECTED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons\">warning_amber</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Submit Revision\"\r\n            (click)=\"viewApplication(element)\"\r\n            *ngIf=\"\r\n              element?.revisionNo !== 2 &&\r\n              currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              !element?.appliedS2 &&\r\n              element?.paymentStatus === 'PAID' &&\r\n              element?.releaseStatus === 'RELEASED' &&\r\n              !element?.hasOngoingCompliance &&\r\n              !element?.hasOngoingRevision &&\r\n              element?.submissionType === 'ORIGINAL' &&\r\n              !s1Application?.hasOngoingAppeal &&\r\n              (element?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n                element?.internalStatus ==\r\n                  'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                (element?.decisionStatus == 'APPROVED' ||\r\n                  element?.decisionStatus == 'APPROVED W/ CAUTION')\r\n            \"\r\n          >\r\n            <i class=\"material-icons\">task_alt</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Apply for S2 Application\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              !element?.appliedS2 &&\r\n              !element?.hasOngoingRevision &&\r\n              !element?.hasOngoingCompliance &&\r\n              element?.paymentStatus === 'PAID' &&\r\n              element?.releaseStatus === 'RELEASED' &&\r\n              !s1Application?.hasOngoingAppeal &&\r\n              (element?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n                element?.internalStatus ==\r\n                  'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                element?.internalStatus == 'REVISION_SCREENED') &&\r\n                (element?.decisionStatus == 'APPROVED' ||\r\n                  element?.decisionStatus == 'APPROVED W/ CAUTION')\r\n            \"\r\n            (click)=\"applyForS2(element)\"\r\n          >\r\n            <i class=\"material-icons color__white\"> queue_play_next</i>\r\n          </button>\r\n\r\n          <!-- FOR ASC USERS -------------------------------------------------- -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Ad Specialist\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n              element?.internalStatus == 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Ad Specialist\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n              element?.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Ad Specialist\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n              element?.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Screener\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_REVIEWER' &&\r\n              element.internalStatus == 'S1_APPLICATION_SCREENED'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n\r\n          <!-- FOR ADSPECIALIST USERS -------------------------------------------------- -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Unlock\"\r\n            (click)=\"unlockApplication('UNLOCK', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n              element.formStatus == 'LOCKED' &&\r\n              displayedContent !== 'Returned Application'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">lock</i>\r\n          </button>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\r\n    </table>\r\n    <div\r\n      class=\"no-record\"\r\n      [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n    >\r\n      No record found.\r\n    </div>\r\n    <!-- <div style=\"float:right\"\r\n      *ngIf=\"currentUser?.userRole?.name!=='ROLE_ADMIN'&&currentUser?.userRole?.name!=='ROLE_SUPER_ADMIN'\">\r\n      <button mat-stroked-button color=\"primary\">Total Items: {{totalItems}}</button>\r\n      <button mat-stroked-button color=\"primary\">{{currentPage}} of {{totalPages==0 ? '1' : totalPages}}</button>\r\n      <button mat-stroked-button color=\"warn\" (click)=\"prevPage()\"\r\n        [disabled]=\"dataSource && dataSource?.data?.length === 0\">\r\n        < Prev</button> <button mat-stroked-button color=\"warn\" (click)=\"nextPage()\"\r\n          [disabled]=\"dataSource && dataSource?.data?.length === 0\">Next >\r\n      </button>\r\n    </div> -->\r\n    <!-- <mat-paginator [length]=\"resultsLength\"></mat-paginator> -->\r\n    <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons> -->\r\n    <!-- </mat-paginator> -->\r\n    <mat-paginator\r\n      [pageSize]=\"pageSize\"\r\n      [pageIndex]=\"pageNo\"\r\n      [length]=\"totalItems\"\r\n      [pageSizeOptions]=\"pageSizeOptions\"\r\n      (page)=\"pageEvents($event)\"\r\n    >\r\n    </mat-paginator>\r\n  </div>\r\n  <br />\r\n</ng-template>\r\n\r\n<!-- TEMPLATE FOR MULTIPLE S1 APPLICATION LIST -->\r\n<ng-template #multipleS1ApplicationList>\r\n  <br />\r\n  <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n    <mat-form-field class=\"col-md-9\" appearance=\"outline\">\r\n      <mat-label\r\n        ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n      >\r\n      <input\r\n        matInput\r\n        type=\"text\"\r\n        (keyup)=\"doFilterS1MultipleApplicationList($event.target.value)\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <div class=\"col\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR APPROVAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              APPROVED\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-red\"></div>\r\n              DISAPPROVED\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"row\">\r\n\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR APPROVAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">APPROVED</div>\r\n    <div class=\"col-md-1 legend legend-red\">DISAPPROVED</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n\r\n  <br />\r\n\r\n  <div class=\"mat-elevation-z8 fields\">\r\n    <table mat-table [dataSource]=\"multipleApplicationDataSource\" matSort>\r\n      <ng-container matColumnDef=\"adTitle\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>AD TITLE</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.adTitle | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"typeOfApplication\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{\r\n            element?.applicationType?.description.replaceAll(\"_\", \" \")\r\n              | uppercase\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"companyName\">\r\n        <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.company?.companyName | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n        <td mat-cell *matCellDef=\"let element\" (click)=\"viewMultipleApplication(element)\">\r\n          {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n      </ng-container> -->\r\n\r\n      <ng-container matColumnDef=\"brand\">\r\n        <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.brand?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"product\">\r\n        <th\r\n          mat-header-cell\r\n          *matHeaderCellDef\r\n          [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n        >\r\n          PRODUCT\r\n        </th>\r\n        <td\r\n          mat-cell\r\n          [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n          *matCellDef=\"let element\"\r\n        >\r\n          {{ element?.product?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"status\">\r\n        <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          class=\"applicantStatus\"\r\n          [ngStyle]=\"{\r\n            'background-color':\r\n              element?.status === 'FOR_APPROVAL'\r\n                ? '#fca402'\r\n                : element?.status === 'APPROVED'\r\n                ? '#8fcf8f'\r\n                : element?.status === 'DISAPPROVED'\r\n                ? '#ff8a7b'\r\n                : ''\r\n          }\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.status?.replaceAll(\"_\", \" \") | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr\r\n        mat-header-row\r\n        *matHeaderRowDef=\"multipleApplicationDisplayedColumns\"\r\n      ></tr>\r\n      <tr\r\n        mat-row\r\n        *matRowDef=\"let row; columns: multipleApplicationDisplayedColumns\"\r\n      ></tr>\r\n    </table>\r\n    <div\r\n      class=\"no-record\"\r\n      [hidden]=\"\r\n        multipleApplicationDataSource &&\r\n        multipleApplicationDataSource?.data?.length > 0\r\n      \"\r\n    >\r\n      No record found.\r\n    </div>\r\n    <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n    <mat-paginator\r\n      [pageSize]=\"pageSize\"\r\n      [pageIndex]=\"pageNo\"\r\n      [length]=\"multipleTotalItems\"\r\n      [pageSizeOptions]=\"pageSizeOptions\"\r\n      (page)=\"pageEvents($event)\"\r\n    >\r\n    </mat-paginator>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- TEMPLATE FOR SPECIAL S1 APPLICATION LIST -->\r\n<ng-template #specialS1ApplicationList>\r\n  <b\r\n    *ngIf=\"\r\n      currentUser.userRole.name === 'ROLE_APPLICANT' ||\r\n      currentUser.userRole.name === 'ROLE_ENCODER'\r\n    \"\r\n    ><b class=\"material-icons info-msg\">error_outline</b> This page contain list\r\n    of Request for Approval and allows you to create S1 application from\r\n    approved request only.</b\r\n  >\r\n  <b\r\n    *ngIf=\"\r\n      currentUser.userRole.name === 'ROLE_ADMIN' ||\r\n      currentUser?.userRole.name === 'ROLE_SUPER_ADMIN'\r\n    \"\r\n    ><b class=\"material-icons info-msg\">error_outline</b> This page contain list\r\n    of Request for Approval and allows you to approve or disapprove request.</b\r\n  >\r\n  <br />\r\n  <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n    <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n      <mat-label\r\n        ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n      >\r\n      <input\r\n        matInput\r\n        type=\"text\"\r\n        (keyup)=\"doFilterS1MultipleApplicationList($event.target.value)\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <div class=\"col\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR APPROVAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              APPROVED\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-red\"></div>\r\n              DISAPPROVED\r\n            </td>\r\n          </tr>\r\n          <!-- <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-pink\"></div> REJECTED\r\n            </td>\r\n          </tr> -->\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"row\">\r\n\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR APPROVAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">APPROVED</div>\r\n    <div class=\"col-md-1 legend legend-red\">DISAPPROVED</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n  <br />\r\n\r\n  <div class=\"mat-elevation-z8 fields\">\r\n    <table mat-table [dataSource]=\"specialApplicationDataSource\" matSort>\r\n      <ng-container matColumnDef=\"adTitle\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>AD TITLE</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.adTitle | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"typeOfApplication\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{\r\n            element?.applicationType?.description.replaceAll(\"_\", \" \")\r\n              | uppercase\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"companyName\">\r\n        <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.company?.companyName | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n        <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n          {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n      </ng-container> -->\r\n\r\n      <ng-container matColumnDef=\"brand\">\r\n        <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.brand?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"status\">\r\n        <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          class=\"applicantStatus\"\r\n          [ngStyle]=\"{\r\n            'background-color':\r\n              element?.status === 'FOR_APPROVAL'\r\n                ? '#fca402'\r\n                : element?.status === 'APPROVED'\r\n                ? '#8fcf8f'\r\n                : element?.status === 'DISAPPROVED'\r\n                ? '#ff8a7b'\r\n                : ''\r\n          }\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.status?.replaceAll(\"_\", \" \") | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr\r\n        mat-header-row\r\n        *matHeaderRowDef=\"specialApplicationDisplayedColumns\"\r\n      ></tr>\r\n      <tr\r\n        mat-row\r\n        *matRowDef=\"let row; columns: specialApplicationDisplayedColumns\"\r\n      ></tr>\r\n    </table>\r\n    <div\r\n      class=\"no-record\"\r\n      [hidden]=\"\r\n        specialApplicationDataSource &&\r\n        specialApplicationDataSource?.data?.length > 0\r\n      \"\r\n    >\r\n      No record found.\r\n    </div>\r\n    <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n    <mat-paginator\r\n      [pageSize]=\"pageSize\"\r\n      [pageIndex]=\"pageNo\"\r\n      [length]=\"specialTotalItems\"\r\n      [pageSizeOptions]=\"pageSizeOptions\"\r\n      (page)=\"pageEvents($event)\"\r\n    >\r\n    </mat-paginator>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- TEMPLATE FOR ASSIGNED TO SCREENER S1 APPLICATION LIST -->\r\n<ng-template #assignedToScreenerS1ApplicationList>\r\n  <div *ngIf=\"viewApplicationType === 'assigned-applications'\">\r\n    <b\r\n      ><b class=\"material-icons info-msg\">error_outline</b> This page allows you\r\n      to view or retrieve application to re-assign only.</b\r\n    >\r\n    <br />\r\n    <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n        <mat-label\r\n          ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n        >\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          (keyup)=\"doFilterAssignedS1ApplicationList($event.target.value)\"\r\n        />\r\n      </mat-form-field>\r\n\r\n      <div class=\"col\">\r\n        <div class=\"legend-content\">\r\n          <table class=\"legend-table\">\r\n            <tr>\r\n              <td>\r\n                <div class=\"legend-box legend-blue\"></div>\r\n                ORIGINAL\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div class=\"legend-box legend-green\"></div>\r\n                REVISION\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div class=\"legend-box legend-orange\"></div>\r\n                FOR COMPLIANCE\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"row\">\r\n\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-blue\">ORIGINAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">REVISION</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR COMPLIANCE</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n    <br />\r\n\r\n    <div class=\"mat-elevation-z8 fields\">\r\n      <table mat-table [dataSource]=\"assignedApplicationDataSource\" matSort>\r\n        <ng-container matColumnDef=\"referenceCode\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n            REFERENCE CODE\r\n          </th>\r\n          <td\r\n            mat-cell\r\n            *matCellDef=\"let element; let i = index\"\r\n            [ngStyle]=\"{\r\n              'background-color':\r\n                (element.submissionType == 'ORIGINAL' &&\r\n                  element.decisionStatus != 'INCOMPLETE') ||\r\n                element.decisionStatus == 'INCOMPLETE'\r\n                  ? 'lightblue'\r\n                  : element.submissionType == 'FOR COMPLIANCE' ||\r\n                    element.submissionType == 'COMPLIANCE'\r\n                  ? '#ebd79b'\r\n                  : element.submissionType == 'REVISION'\r\n                  ? '#8fcf8f'\r\n                  : ''\r\n            }\"\r\n          >\r\n            {{\r\n              element?.internalStatus == \"S1_APPLICATION_REJECTED\"\r\n                ? element?.referenceCodeRejected\r\n                : (element?.referenceCode | uppercase)\r\n            }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"adTitle\">\r\n          <th mat-header-cell *matHeaderCellDef>AD TITLE</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.adTitle.replaceAll(\"_\", \" \") | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"typeOfApplication\">\r\n          <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.formType.replaceAll(\"_\", \" \") | uppercase }} -\r\n            {{ element?.applicationType?.description | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"companyName\">\r\n          <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.company?.companyName | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n        </ng-container> -->\r\n\r\n        <ng-container matColumnDef=\"brand\">\r\n          <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.brand?.description | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"product\">\r\n          <th\r\n            mat-header-cell\r\n            *matHeaderCellDef\r\n            [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n          >\r\n            PRODUCT\r\n          </th>\r\n          <td\r\n            mat-cell\r\n            [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n            *matCellDef=\"let element\"\r\n          >\r\n            {{ element?.product?.description | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"status\">\r\n          <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n          <td\r\n            mat-cell\r\n            *matCellDef=\"let element; let i = index\"\r\n            class=\"applicantStatus\"\r\n            [ngStyle]=\"{\r\n              'background-color':\r\n                element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                  ? 'lightpink'\r\n                  : ''\r\n            }\"\r\n          >\r\n            {{ element?.externalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container\r\n          matColumnDef=\"internalStatus\"\r\n          *ngIf=\"currentUser.userRole.name !== 'ROLE_APPLICANT'\"\r\n        >\r\n          <th mat-header-cell *matHeaderCellDef>INTERNAL STATUS</th>\r\n          <td\r\n            mat-cell\r\n            *matCellDef=\"let element; let i = index\"\r\n            class=\"applicantStatus\"\r\n            [ngStyle]=\"{\r\n              'pointer-events':\r\n                i !== 0 &&\r\n                currentUser.userRole.name !== 'ROLE_ADMIN' &&\r\n                  currentUser.userRole.name !== 'ROLE_AD_SPECIALIST' &&\r\n                  currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' &&\r\n                  currentUser.userRole.name !== 'ROLE_APPLICANT'\r\n                  ? 'none'\r\n                  : '',\r\n              'background-color':\r\n                element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                  ? 'lightpink'\r\n                  : ''\r\n            }\"\r\n          >\r\n            {{ element?.internalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"icon\">\r\n          <th mat-header-cell *matHeaderCellDef></th>\r\n          <td mat-cell *matCellDef=\"let element\" class=\"icon\">\r\n            <button\r\n              mat-raised-button\r\n              class=\"button-red\"\r\n              matTooltip=\"Re-assignment\"\r\n              (click)=\"viewApplication(element)\"\r\n              *ngIf=\"\r\n                (currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n                  element?.internalStatus ==\r\n                    'S1_APPLICATION_VERIFIED_BY_AD_SPE') ||\r\n                (currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n                  element?.internalStatus ==\r\n                    'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE') ||\r\n                (currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n                  element?.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE') ||\r\n                (currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n                  element.internalStatus == 'S1_APPLICATION_SCREENED')\r\n              \"\r\n            >\r\n              <i class=\"material-icons color__white\">assignment_return</i\r\n              ><span> Re-assignment </span>\r\n            </button>\r\n          </td>\r\n        </ng-container>\r\n\r\n        <tr\r\n          mat-header-row\r\n          *matHeaderRowDef=\"assignedApplicationDisplayedColumns\"\r\n        ></tr>\r\n        <tr\r\n          mat-row\r\n          *matRowDef=\"let row; columns: assignedApplicationDisplayedColumns\"\r\n        ></tr>\r\n      </table>\r\n      <div\r\n        class=\"no-record\"\r\n        [hidden]=\"\r\n          assignedApplicationDataSource &&\r\n          assignedApplicationDataSource?.data?.length > 0\r\n        \"\r\n      >\r\n        No record found.\r\n      </div>\r\n      <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 30]\" showFirstLastButtons></mat-paginator> -->\r\n      <mat-paginator\r\n        [pageSize]=\"pageSize\"\r\n        [pageIndex]=\"pageNo\"\r\n        [length]=\"retrieveReassignLength\"\r\n        (page)=\"pageEvents($event)\"\r\n      ></mat-paginator>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- TEMPLATE \"FOR RELEASE\" APPLICATION LIST -->\r\n<ng-template #forReleaseApplicationList>\r\n  <div\r\n    *ngIf=\"\r\n      viewApplicationType === 'for-release' ||\r\n      viewApplicationType === 'released'\r\n    \"\r\n  >\r\n    <!-- <b><b class=\"material-icons info-msg\">error_outline</b> This page allows you to resend decision form.</b> -->\r\n    <br />\r\n    <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n        <mat-label\r\n          ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n        >\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          (keyup)=\"doFilterForReleaseApplicationList($event.target.value)\"\r\n        />\r\n      </mat-form-field>\r\n      <br />\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"forReleaseApplicationDataSource\" matSort>\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n              REFERENCE CODE\r\n            </th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              [ngStyle]=\"{\r\n                'background-color':\r\n                  (element.submissionType == 'ORIGINAL' &&\r\n                    element.decisionStatus != 'INCOMPLETE') ||\r\n                  element.decisionStatus == 'INCOMPLETE'\r\n                    ? 'lightblue'\r\n                    : element.submissionType == 'FOR COMPLIANCE' ||\r\n                      element.submissionType == 'COMPLIANCE'\r\n                    ? '#ebd79b'\r\n                    : element.submissionType == 'REVISION'\r\n                    ? '#8fcf8f'\r\n                    : ''\r\n              }\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{\r\n                element?.internalStatus == \"S1_APPLICATION_REJECTED\"\r\n                  ? element?.referenceCodeRejected\r\n                  : (element?.referenceCode | uppercase)\r\n              }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"adTitle\">\r\n            <th mat-header-cell *matHeaderCellDef>AD TITLE</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.adTitle.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.formType.replaceAll(\"_\", \" \") | uppercase }} -\r\n              {{ element?.applicationType?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"companyName\">\r\n            <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.company?.companyName | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.brand?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"product\">\r\n            <th\r\n              mat-header-cell\r\n              *matHeaderCellDef\r\n              [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n            >\r\n              PRODUCT\r\n            </th>\r\n            <td\r\n              mat-cell\r\n              [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n              *matCellDef=\"let element\"\r\n            >\r\n              {{ element?.product?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfMedium\">\r\n            <th mat-header-cell *matHeaderCellDef>TYPE OF MEDIUM</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.typeOfMedium | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              class=\"applicantStatus\"\r\n              (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{\r\n                'background-color':\r\n                  element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                    ? 'lightpink'\r\n                    : ''\r\n              }\"\r\n            >\r\n              {{ element?.externalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container\r\n            matColumnDef=\"internalStatus\"\r\n            *ngIf=\"currentUser.userRole.name !== 'ROLE_APPLICANT'\"\r\n          >\r\n            <th mat-header-cell *matHeaderCellDef>INTERNAL STATUS</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              class=\"applicantStatus\"\r\n              [ngStyle]=\"{\r\n                'pointer-events':\r\n                  i !== 0 &&\r\n                  currentUser.userRole.name !== 'ROLE_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_AD_SPECIALIST' &&\r\n                    currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_APPLICANT'\r\n                    ? 'none'\r\n                    : '',\r\n                'background-color':\r\n                  element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                    ? 'lightpink'\r\n                    : ''\r\n              }\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.internalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container\r\n            matColumnDef=\"decisionStatus\"\r\n            *ngIf=\"currentUser.userRole.name !== 'ROLE_APPLICANT'\"\r\n          >\r\n            <th mat-header-cell *matHeaderCellDef>DECISION STATUS</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              class=\"applicantStatus\"\r\n              [ngStyle]=\"{\r\n                'pointer-events':\r\n                  i !== 0 &&\r\n                  currentUser.userRole.name !== 'ROLE_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_AD_SPECIALIST' &&\r\n                    currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_APPLICANT'\r\n                    ? 'none'\r\n                    : '',\r\n                'background-color':\r\n                  element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                    ? 'lightpink'\r\n                    : ''\r\n              }\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.decisionStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <tr\r\n            mat-header-row\r\n            *matHeaderRowDef=\"forReleaseApplicationDisplayedColumns\"\r\n          ></tr>\r\n          <tr\r\n            mat-row\r\n            *matRowDef=\"let row; columns: forReleaseApplicationDisplayedColumns\"\r\n          ></tr>\r\n        </table>\r\n        <div\r\n          class=\"no-record\"\r\n          [hidden]=\"\r\n            forReleaseApplicationDataSource &&\r\n            forReleaseApplicationDataSource?.data?.length > 0\r\n          \"\r\n        >\r\n          No record found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 30]\" showFirstLastButtons></mat-paginator> -->\r\n        <mat-paginator\r\n          [pageSize]=\"pageSize\"\r\n          [pageIndex]=\"pageNo\"\r\n          [length]=\"forReleaseTotalItems\"\r\n          [pageSizeOptions]=\"pageSizeOptions\"\r\n          (page)=\"pageEvents($event)\"\r\n        >\r\n        </mat-paginator>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","<div class=\"list-dialog-content\">\r\n    <div class=\"row head-icon\">\r\n      <i class=\"material-icons\">live_help</i>\r\n      <p>{{s2Application.applicationForm.referenceCode}}</p>\r\n      <p class=\"sub-title\">Reference Code</p>\r\n      <p class=\"warning-msg\" *ngIf=\"!typeOfExecution?.applyForToa && typeOfExecution?.live\">This application is valid for S1 only.</p>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n            <button mat-raised-button class=\"button-red action-button\" (click)=\"proceedToS2(true)\"\r\n            [disabled]=\"typeOfExecution?.live\">\r\n                <i class=\"material-icons color__white\">summarize</i> PROCEED TO S2 APPLICATION\r\n            </button>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n            <button mat-raised-button class=\"button-red action-button\" (click)=\"proceedToS2(false)\"\r\n            [disabled]=\"!typeOfExecution?.applyForToa\">\r\n                <i class=\"material-icons color__white\">done_all</i> APPLY FOR TOA\r\n            </button>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n            <button mat-raised-button class=\"button-red action-button\" (click)=\"requestForClearingAndClearance()\"\r\n            [disabled]=\"s1Application?.applicationType?.description == 'Special Screening and Clearing'||typeOfExecution?.live\">\r\n                <i class=\"material-icons color__white\">sticky_note_2</i> REQUEST FOR SPECIAL CLEARING APPROVAL\r\n            </button>\r\n        </div>\r\n    </div><br>\r\n    <!-- <div class=\"row\">\r\n        <div class=\" col-md-12 form-check\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" (change)=\"hasToa($event.target.checked)\" value=\"\" id=\"flexCheckDefault\">\r\n            <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n              Apply for TOA\r\n            </label>\r\n          </div>\r\n    </div> -->\r\n</div>\r\n\r\n<!-- *ngIf=\"s2Application?.applicationForm?.applicationType?.description === 'SPECIAL SCREENING AND CLEARING'\" -->\r\n\r\n","export * from './affiliation/affiliation.component';\r\nexport * from './brands/brands.component';\r\nexport * from './payment-type/payment-type.component';\r\nexport * from './type-of-document/type-of-document.component';\r\nexport * from './type-of-medium/type-of-medium.component';\r\nexport * from './type-of-reason/type-of-reason.component';\r\nexport * from './category/category.component';\r\nexport * from './product/product.component';\r\nexport * from './asc-rates/asc-rates.component';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CompanyRoutingModule } from './company-routing.module';;\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    CompanyRoutingModule,\r\n  ]\r\n})\r\nexport class CompanyModule { }\r\n","import { UserAccount } from './user-account.model';\r\n\r\nexport class CopyClaims {\r\n    id: number;\r\n    description: string;\r\n    role: string;\r\n    appFormReference: string;\r\n    actionDate: Date;\r\n    actionBy: UserAccount;\r\n}\r\n","import { MultiMediaMovingConstant } from \"./../../../../core/models/media-models/multimedia-moving.const\";\r\nimport { CommonServices } from \"app/core/services/common-services.service\";\r\nimport {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  ViewChild,\r\n  OnChanges,\r\n  AfterViewChecked,\r\n  ChangeDetectorRef,\r\n  Output,\r\n  EventEmitter,\r\n  ChangeDetectionStrategy,\r\n  SimpleChanges,\r\n} from \"@angular/core\";\r\nimport {\r\n  ApiService,\r\n  SweetAlertService,\r\n  DataStorageService,\r\n  FileStorageService,\r\n  ValidateFieldService,\r\n} from \"@services\";\r\nimport {\r\n  ENDPOINTS,\r\n  ATTACHMENT_TYPE,\r\n  TYPE_OF_MEDIUM,\r\n  SPECIAL_APPLICATION,\r\n  APPLICATION_STATUSES,\r\n  APPLICATION_STAGE,\r\n  USER_ROLES,\r\n  MULTIMEDIA_STATIC,\r\n} from \"@shared\";\r\nimport { MatTableDataSource, MatTable } from \"@angular/material/table\";\r\nimport {\r\n  S1Application,\r\n  S2Application,\r\n  TypeOfDocument,\r\n  TypeOfMedium,\r\n  SupportingDocument,\r\n  ApplicationSingleMedia,\r\n  ApplicationRequest,\r\n  ApplicationMultimedia,\r\n  ApplicationMultimediaMovingDTO,\r\n  ApplicationMultimediaStaticDTO,\r\n} from \"@models\";\r\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { MatSort } from \"@angular/material/sort\";\r\nimport { MatPaginator } from \"@angular/material/paginator\";\r\nimport Swal from \"sweetalert2\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { Subject } from \"rxjs\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\nimport { MultiMediaStaticConst } from \"app/core/models/media-models/mulstimedia-static.const\";\r\n\r\n@Component({\r\n  selector: \"app-material-information\",\r\n  templateUrl: \"./material-information.component.html\",\r\n  styleUrls: [\"./material-information.component.scss\"],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MaterialInformationComponent\r\n  implements OnInit, OnChanges, AfterViewChecked {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<S1Application>;\r\n  // @ViewChild(AttachmentDocumentComponent, { static: false }) materialAttachmentDocument: AttachmentDocumentComponent;\r\n\r\n  @Output()\r\n  checkSingleMediaChangesFunction: EventEmitter<any> = new EventEmitter();\r\n  @Output()\r\n  checkMultimediaChangesFunction: EventEmitter<any> = new EventEmitter();\r\n\r\n  // @ViewChild('mainFile')\r\n  // myMainFile: ElementRef;\r\n  // @ViewChild('mainInput')\r\n  // myMainInput: ElementRef;\r\n  // @ViewChild('supportiveFile')\r\n  // mySupportiveFile: ElementRef;\r\n  // @ViewChild('revisionLetterFile')\r\n  // myRevisionLetterFile: ElementRef;\r\n\r\n  @Input() s1Application = new S1Application();\r\n  @Input() s2Application = new S2Application();\r\n  @Input() originalAttachmentDocuments = [];\r\n  @Input() revisionAttachmentDocuments = [];\r\n  @Input() complianceAttachmentDocuments = [];\r\n  @Input() revisionLetterAttachment: any;\r\n  @Input() newMultimediaList = [];\r\n  @Input() typeOfMediumList = []; // single and multimedia\r\n  @Input() supportiveDocumentList = [];\r\n  @Input() applicationSingleMedia = new ApplicationSingleMedia();\r\n  @Input() isAscUser = false;\r\n  @Input() isDisableFieldOnUpdate = false;\r\n\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  displayedColumns: string[];\r\n  todayDate: Date = new Date();\r\n  materialInformationForm: FormGroup;\r\n\r\n  executionList = [];\r\n  dialectList = [];\r\n  newSupportiveDocumentList = [];\r\n  typeOfDocumentList = [];\r\n  specialApplicationType = [...SPECIAL_APPLICATION];\r\n\r\n  setMultimediaList = [];\r\n  @Input() selectedMultimediaList = [];\r\n  selectedMultimediaStringList = [];\r\n  @Input() toDeleteMultimediaList = [];\r\n  // singleMedia = new SingleMedia();\r\n  typeOfMedium = new TypeOfMedium();\r\n  typeOfDocument = new TypeOfDocument();\r\n  // attachmentDocument = new AttachmentDocument();\r\n  supportingDocument = new SupportingDocument();\r\n  applicationMultimedia = new ApplicationMultimedia();\r\n  applicationRequest = new ApplicationRequest();\r\n  newApplicationSingleMedia = new ApplicationSingleMedia();\r\n\r\n  selectMultimedia = false;\r\n  // showMainDocumentUploadButton = false;\r\n  // showMainDocumentViewButton = false;\r\n  // showMainDocumentDownloadButton = false;\r\n  // showSupportDocumentFrame = false;\r\n  // showMainDocumentRemoveButton = false;\r\n  // showRevisionLetterViewButton = false;\r\n\r\n  previewMainDocument = false;\r\n  disableSubmitButtonByMedia = false;\r\n\r\n  showSupportiveDocumentUploadButton = false;\r\n  showSupportiveDocumentViewButton = false;\r\n  showSupportiveDocumentDownloadButton = false;\r\n  showRevisionLetterDownloadButton = false;\r\n  previewSupportiveDocument = false;\r\n\r\n  attachmentSize: number;\r\n  safeURLMainDoc: any;\r\n  safeURLSupportDoc: any;\r\n  currentUser: any;\r\n  applicationStage: string;\r\n  safeURLRevisionLetter: any;\r\n  supportingDocumentIndex: any;\r\n  showRevisionLetterUploadButton = false;\r\n  isDigitalStatic = false;\r\n  isUpdate = false;\r\n\r\n  // validations\r\n  hiddenValidation: string;\r\n  readonlyValidation: string;\r\n  disabledValidation: string;\r\n\r\n  attachmentType = ATTACHMENT_TYPE.MAIN;\r\n  selectedFiles: FileList;\r\n  currentFileUpload: File;\r\n  progress: { percentage: number } = { percentage: 0 };\r\n  uploadedFileMain: any;\r\n  uploadedFileSupportive: any;\r\n  uploadedFileRevision: any;\r\n  mediaType = \"\";\r\n  labelMainDocument = \"MAIN DOCUMENT\";\r\n  @Input() savedTypeOfMedium = \"\";\r\n  private ngUnsubscribe = new Subject();\r\n  selectedTypeOfMedium = \"SINGLE MEDIA\";\r\n  @Input() multimediaDTO: any = {};\r\n  multimediaMovingDTO = new ApplicationMultimediaMovingDTO();\r\n  multimediaStaticDTO = new ApplicationMultimediaStaticDTO();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private sanitizer: DomSanitizer,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private cd: ChangeDetectorRef,\r\n    public validateFieldService: ValidateFieldService,\r\n    private spinner: NgxSpinnerService,\r\n    public util: CommonServices\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.originalAttachmentDocuments);\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      this.displayedColumns = [\r\n        \"typeOfDocument\",\r\n        \"input\",\r\n        \"variant\",\r\n        \"expiresOn\",\r\n        \"basedOn\",\r\n        \"remarks\",\r\n        \"action\",\r\n      ];\r\n    } else {\r\n      this.displayedColumns = [\r\n        \"typeOfDocument\",\r\n        \"input\",\r\n        \"variant\",\r\n        \"expiresOn\",\r\n        \"basedOn\",\r\n        \"remarks\",\r\n      ];\r\n    }\r\n\r\n    this.setFormValidator();\r\n    this.getTypeOfDocumentList();\r\n\r\n    if (this.dataStorage.getSpecialS1Application()) {\r\n      this.applicationRequest = this.dataStorage.getSpecialS1Application();\r\n    }\r\n    this.emitSingleMediaChanges();\r\n    this.initializeMultimediaMovingObj();\r\n    this.initializeMultimediaStaticObj();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes) {\r\n      if (this.multimediaDTO) {\r\n        if (\r\n          this.s1Application.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n        )\r\n          this.multimediaMovingDTO = this.multimediaDTO;\r\n        if (\r\n          this.s1Application.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_STATIC\r\n        )\r\n          this.multimediaStaticDTO = this.multimediaDTO;\r\n      }\r\n    }\r\n\r\n    if (this.s1Application.refTypeOfMedium === undefined) {\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.SINGLE_MEDIA;\r\n      this.getTypeOfMedium(TYPE_OF_MEDIUM.SINGLE_MEDIA);\r\n    } else if (\r\n      !this.applicationSingleMedia ||\r\n      this.s1Application.refTypeOfMedium?.includes(\"MULTIMEDIA\")\r\n    ) {\r\n      this.getTypeOfMedium(this.s1Application.refTypeOfMedium);\r\n    } else if (this.applicationSingleMedia) {\r\n      if (this.applicationSingleMedia.mediumExecution) {\r\n        this.typeOfMedium = this.applicationSingleMedia.mediumExecution.typeOfMedium;\r\n        if (this.typeOfMedium.id) {\r\n          this.getExecutionDialectList();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  setFormValidator() {\r\n    this.materialInformationForm = this.formBuilder.group({\r\n      adTitle: [\"\", Validators.required],\r\n      referenceCode: [\"\"],\r\n      previousRefCode: [\"\"],\r\n      tagLine: [\"\"],\r\n      refTypeOfMedium: [\"\"],\r\n      appFormReference: [\"\"],\r\n\r\n      // this.attachmentDocumentForm = this.formBuilder.group({\r\n      attachmentReference: [\"\"],\r\n      hasNoSupportingDocs: [\"\"],\r\n      typeOfDocument: [\"\"],\r\n      basedOn: [\"\"],\r\n      variant: [\"\"],\r\n      dateOfLaunch: [\"\"],\r\n      expiresOn: [\"\"],\r\n      remarks: [\"\"],\r\n      input: [\"\"],\r\n\r\n      typeOfMedium: [\"\"],\r\n      mediumExecution: [\"\"],\r\n      language: [\"\"],\r\n      dialect: [\"\"],\r\n      others: [\"\"],\r\n      sizeLength: [\"\"],\r\n      width: [\"0\"],\r\n\r\n      multimediaLength: [\"\"],\r\n      multimediaSize: [\"\"],\r\n      applicationSingleMedia: [\"\"],\r\n      applicationMultimediaStatic: [\"\"],\r\n      applicationMultimediaMoving: [\"\"],\r\n    });\r\n  }\r\n\r\n  getTypeOfMedium(type) {\r\n    this.typeOfMediumList = [];\r\n    let endpoint = \"\";\r\n    if (type === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n      this.applicationSingleMedia = new ApplicationSingleMedia();\r\n      endpoint = ENDPOINTS.typeOfMediumSingleMedia;\r\n      this.selectMultimedia = false;\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.SINGLE_MEDIA;\r\n      this.selectedTypeOfMedium = TYPE_OF_MEDIUM.SINGLE_MEDIA;\r\n    } else if (type === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING) {\r\n      endpoint = ENDPOINTS.typeOfMediumMultiMediaMoving;\r\n      this.selectMultimedia = true;\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA_MOVING;\r\n      this.initializeMultimediaStaticObj();\r\n      this.selectedTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA;\r\n    } else {\r\n      endpoint = ENDPOINTS.typeOfMediumMultiMediaStatic;\r\n      this.selectMultimedia = true;\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA_STATIC;\r\n      this.initializeMultimediaMovingObj();\r\n      this.selectedTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA;\r\n    }\r\n\r\n    // console.log('Selected: ', this.selectedTypeOfMedium)\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.typeOfMediumList = res.responseData.data;\r\n        if (type === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n          this.typeOfMedium = this.typeOfMediumList.filter(\r\n            (medium) => medium.description === this.savedTypeOfMedium\r\n          )[0];\r\n        }\r\n\r\n        // if (this.selectedMultimediaList.length > 0) {\r\n        //   this.selectedMultimediaStringList = this.selectedMultimediaList.map(mappedList => mappedList?.typeOfMedium?.description);\r\n        //   this.emitMultimediaChanges();\r\n        // }\r\n        // this.typeOfMediumList = this.typeOfMediumList.map((medium, index) => {\r\n        //   const sampleList = this.selectedMultimediaList.filter(filteredMedium => filteredMedium.typeOfMedium.id === medium.id);\r\n        //   if (sampleList.length) {\r\n        //     medium.sizeLength = sampleList[0].multimediaSizeLength;\r\n        //   } else {\r\n        //     medium.sizeLength = null;\r\n        //   }\r\n        //   return medium;\r\n        // });\r\n      },\r\n      (err: any) => {}\r\n    );\r\n  }\r\n\r\n  resetValues() {\r\n    this.applicationSingleMedia.dialect = null;\r\n    this.applicationSingleMedia.language = null;\r\n    this.applicationSingleMedia.others = \"\";\r\n    this.applicationSingleMedia.sizeLength = \"0\";\r\n    this.applicationSingleMedia.amount = 0;\r\n    this.applicationSingleMedia.mediumExecution = null;\r\n    this.applicationSingleMedia.width = \"0\";\r\n  }\r\n\r\n  setSingleMedia(typeofMedium: any) {\r\n    this.resetValues();\r\n    this.typeOfMedium = typeofMedium;\r\n    this.labelMainDocument = this.typeOfMedium.typeOfMainDocument.typeOfMainDocument;\r\n    this.getExecutionDialectList();\r\n    this.emitSingleMediaChanges();\r\n  }\r\n\r\n  emitSingleMediaChanges() {\r\n    if (\r\n      (this.typeOfMedium?.executionEnable &&\r\n        !this.applicationSingleMedia.mediumExecution) ||\r\n      (this.typeOfMedium?.lengthEnable &&\r\n        !this.applicationSingleMedia.sizeLength) ||\r\n      (this.typeOfMedium?.sizeLengthEnable &&\r\n        !this.applicationSingleMedia.sizeLength) ||\r\n      (!this.typeOfMedium?.id &&\r\n        !this.applicationSingleMedia.id &&\r\n        !this.savedTypeOfMedium)\r\n    ) {\r\n      this.disableSubmitButtonByMedia = true;\r\n    } else {\r\n      this.disableSubmitButtonByMedia = false;\r\n    }\r\n\r\n    this.checkSingleMediaChangesFunction.emit();\r\n  }\r\n\r\n  // addMultimedia(obj: any, evt) {\r\n  //   if (evt.target.value) {\r\n  //     obj.sizeLength = evt.target.value;\r\n  //     const existingValue = this.newMultimediaList.filter(filteredList => filteredList === obj);\r\n  //     if (existingValue.length) {\r\n  //       existingValue[0] = obj;\r\n  //     } else {\r\n  //       this.newMultimediaList.push(obj);\r\n  //       this.selectedMultimediaList.push(obj);\r\n  //     }\r\n  //     if (obj?.id) {\r\n  //       this.toDeleteMultimediaList = this.toDeleteMultimediaList.filter(filtered => filtered.id !== obj?.id);\r\n  //     }\r\n  //   } else {\r\n  //     const deleteExisting = this.selectedMultimediaList.filter(filteredMedia => filteredMedia?.typeOfMedium?.id === obj?.id);\r\n  //     if (deleteExisting.length) {\r\n  //       this.toDeleteMultimediaList.push(deleteExisting[0]);\r\n  //     }\r\n\r\n  //     this.newMultimediaList = this.newMultimediaList.filter(filteredMultimedia => filteredMultimedia.id !== obj.id);\r\n  //     this.selectedMultimediaList = this.selectedMultimediaList.filter(filteredMultimedia => filteredMultimedia.id !== obj.id);\r\n  //   }\r\n  //   const toDeleteMultimediaSet = this.toDeleteMultimediaList.filter((item, i, ar) => ar.indexOf(item) === i);\r\n  //   this.toDeleteMultimediaList = toDeleteMultimediaSet;\r\n  //   this.emitMultimediaChanges();\r\n  // }\r\n\r\n  emitMultimediaChanges() {\r\n    this.disableSubmitButtonByMedia = false;\r\n    let data = {\r\n      type: this.s1Application.refTypeOfMedium,\r\n      data:\r\n        this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n          ? this.multimediaMovingDTO\r\n          : this.multimediaStaticDTO,\r\n    };\r\n    this.checkMultimediaChangesFunction.emit(data);\r\n  }\r\n\r\n  getTypeOfDocumentList() {\r\n    this.apiService.findAll(ENDPOINTS.typeOfDocument).subscribe(\r\n      (res: any) => {\r\n        this.typeOfDocumentList = res.responseData.data;\r\n      },\r\n      (err: any) => {}\r\n    );\r\n  }\r\n\r\n  setTypeOfDocument(type) {\r\n    this.typeOfDocument = type;\r\n  }\r\n\r\n  compareSingleMedia(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareMediumExecution(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return (\r\n        value.typeOfExecution.typeOfExecution ===\r\n        selected.typeOfExecution.typeOfExecution\r\n      );\r\n    }\r\n  }\r\n\r\n  compareDialect(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.dialect === selected.dialect;\r\n    }\r\n  }\r\n\r\n  getExecutionDialectList() {\r\n    if (this.typeOfMedium.id) {\r\n      this.apiService\r\n        .findAll(`${ENDPOINTS.typeOfExecutionsByMedium}${this.typeOfMedium.id}`)\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (this.typeOfMedium.executionEnable) {\r\n              this.executionList = res.responseData.data;\r\n            } else {\r\n              if (res.responseData.data.length === 0) {\r\n                this.sweetAlertService.customErrorMessage(\r\n                  \"The selected type of medium has no execution.\"\r\n                );\r\n              } else {\r\n                this.applicationSingleMedia.mediumExecution =\r\n                  res.responseData.data[0];\r\n              }\r\n            }\r\n            this.emitSingleMediaChanges();\r\n          },\r\n          (err: any) => {}\r\n        );\r\n    }\r\n\r\n    this.apiService.findAll(ENDPOINTS.dialects).subscribe(\r\n      (res: any) => {\r\n        this.dialectList = res.responseData.data;\r\n      },\r\n      (err: any) => {}\r\n    );\r\n  }\r\n\r\n  removeTypeOfDocument(index) {\r\n    const keepValues = [];\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this TYPE OF DOCUMENT?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.supportiveDocumentList.forEach((element, key) => {\r\n          if (key !== index) {\r\n            keepValues.push(element);\r\n          }\r\n        });\r\n        this.supportiveDocumentList = keepValues;\r\n        this.dataSource.data = keepValues;\r\n      }\r\n    });\r\n  }\r\n\r\n  addSupportiveDocument(supportingDocument) {\r\n    const checkIfDocumentAlreadyExist = this.supportiveDocumentList.filter(\r\n      (data) => data.typeOfDocument.id === supportingDocument.typeOfDocument.id\r\n    );\r\n\r\n    // if (checkIfDocumentAlreadyExist.length === 1) {\r\n    //   this.sweetAlertService.customErrorMessage('Type of Document that is being added is already on the list.', 5);\r\n    // } else {\r\n    this.newSupportiveDocumentList.push(supportingDocument);\r\n    this.supportiveDocumentList.push(supportingDocument);\r\n    this.dataSource = new MatTableDataSource<S1Application>(\r\n      this.supportiveDocumentList\r\n    );\r\n    this.dataSource.paginator = this.paginator;\r\n    this.dataSource.sort = this.sort;\r\n    // }\r\n    this.supportingDocument = new SupportingDocument();\r\n    this.typeOfDocument = new TypeOfDocument();\r\n  }\r\n\r\n  getTypeOfDocument(res, index) {\r\n    this.isUpdate = true;\r\n    this.apiService\r\n      .findById(ENDPOINTS.typeOfDocument, res.typeOfDocument.id)\r\n      .subscribe((data: any) => {\r\n        if (data) {\r\n          this.typeOfDocument = data.responseData.data;\r\n        }\r\n      });\r\n    this.supportingDocument.typeOfDocument = res.typeOfDocument;\r\n    if (res.typeOfDocument.description === \"DOH-FDA PERMIT\") {\r\n      this.typeOfDocument.expiresOnEnable = true;\r\n      this.supportingDocument.expiresOn = res.expiresOn;\r\n      this.supportingDocumentIndex = index;\r\n    } else if (res.typeOfDocument.description === \"NMIS\") {\r\n      this.typeOfDocument.expiresOnEnable = false;\r\n      this.supportingDocument.expiresOn = null;\r\n      this.supportingDocumentIndex = index;\r\n    } else if (res.typeOfDocument.description === \"DOLE PERMIT\") {\r\n      this.typeOfDocument.expiresOnEnable = false;\r\n      this.supportingDocument.expiresOn = null;\r\n      this.supportingDocumentIndex = index;\r\n    }\r\n  }\r\n\r\n  modifyTypeOfDocument(res, id) {\r\n    const checkIfDocumentAlreadyExist = this.supportiveDocumentList.filter(\r\n      (data) => data.typeOfDocument.id === res.typeOfDocument.id\r\n    );\r\n    //  if(checkIfDocumentAlreadyExist.length === 1){\r\n    //   console.log(\"ALREADY EXIST\");\r\n    //  }else{\r\n    //   console.log(\"SUCCESSFULLY UPDATE\");\r\n    //   this.supportiveDocumentList.forEach((element, key) => {\r\n    //     if (key === id) {\r\n    //       this.supportiveDocumentList[key] = res;\r\n    //     }\r\n    //   });\r\n    //  }\r\n    // console.log(\"count\", checkIfDocumentAlreadyExist);\r\n    // if (checkIfDocumentAlreadyExist.length === 1) {\r\n    //   this.isUpdate = false;\r\n    //   this.supportiveDocumentList.forEach((element, key) => {\r\n    //     if (key === id) {\r\n    //       this.supportiveDocumentList.splice(key);\r\n    //     }\r\n    //   });\r\n    // } else {\r\n    //   this.sweetAlertService.customErrorMessage(`Type of Document already exist.`);\r\n    // }\r\n    this.isUpdate = false;\r\n    this.dataSource.data = this.supportiveDocumentList;\r\n    this.supportingDocument = new SupportingDocument();\r\n    this.supportingDocumentIndex = \"\";\r\n  }\r\n\r\n  initializeMultimediaMovingObj(): void {\r\n    this.multimediaMovingDTO = new ApplicationMultimediaMovingDTO();\r\n    let multimediaMovingList = new MultiMediaMovingConstant().data;\r\n    this.multimediaMovingDTO = {\r\n      applicationMultimediaMovingList: multimediaMovingList,\r\n      appFormReference: \"\",\r\n      amount: 0,\r\n      id: 0,\r\n      sizeLength: 0,\r\n      typeOfMedium: null,\r\n    };\r\n  }\r\n\r\n  initializeMultimediaStaticObj(): void {\r\n    this.multimediaStaticDTO = new ApplicationMultimediaStaticDTO();\r\n    let multimediaStaticList = new MultiMediaStaticConst().data;\r\n    this.multimediaStaticDTO = {\r\n      applicationMultimediaStaticList: multimediaStaticList,\r\n      appFormReference: \"\",\r\n      amount: 0,\r\n      id: 0,\r\n      typeOfMedium: null,\r\n    };\r\n  }\r\n\r\n  isNumber(number): boolean {\r\n    if (number) return this.validateFieldService.numbersOnly(number);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.ngUnsubscribe.next();\r\n    this.ngUnsubscribe.complete();\r\n  }\r\n}\r\n","<!-- <form [formGroup]=\"materialInformationForm\"> -->\r\n<div\r\n  class=\"row fields\"\r\n  [hidden]=\"\r\n    (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n      (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n        s1Application?.decisionStatus == 'APPROVED' ||\r\n        s1Application?.decisionStatus == 'APPROVED W/ CAUTION')) ||\r\n    (s1Application?.submissionType === 'REVISION' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED') ||\r\n    (s1Application?.submissionType === 'COMPLIANCE' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED')\r\n  \"\r\n>\r\n  <div class=\"row\">\r\n    <!-- FOR S1 APPLICATION -->\r\n    <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n      <mat-label\r\n        >Ad Title\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"s1Application.adTitle\"\r\n        name=\"adTitle\"\r\n        (ngModelChange)=\"util.toUpperCase(s1Application, 'adTitle', $event)\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          s1Application?.applicationRequest?.status === 'APPROVED'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <!-- FOR S1 APPLICATION -->\r\n  <div class=\"row\">\r\n    <mat-form-field\r\n      class=\"col-md-6\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        s1Application?.formType !== 'MULTIPLE' ||\r\n        (s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application.multipleApplication)\r\n      \"\r\n      [hidden]=\"\r\n        specialApplicationType.includes(\r\n          s1Application?.applicationType?.description?.toUpperCase()\r\n        ) && s1Application?.applicationRequest?.status !== 'APPROVED'\r\n      \"\r\n    >\r\n      <mat-label>Reference Code of Previously-Approved Material</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"s1Application.previousRefCode\"\r\n        name=\"previousRefCode\"\r\n        (ngModelChange)=\"\r\n          util.toUpperCase(s1Application, 'previousRefCode', $event)\r\n        \"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Tag Line (Optional)</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"s1Application.tagLine\"\r\n        name=\"tagLine\"\r\n        (ngModelChange)=\"util.toUpperCase(s1Application, 'tagLine', $event)\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          s1Application?.applicationRequest?.status === 'APPROVED'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n\r\n<!-- MULTIMEDIA SELECTION SECTION -->\r\n<!-- FOR S1 APPLICATION -->\r\n<div\r\n  class=\"row fields\"\r\n  *ngIf=\"\r\n    ((!specialApplicationType.includes(\r\n      s1Application?.applicationType?.description?.toUpperCase()\r\n    ) ||\r\n      (specialApplicationType.includes(\r\n        s1Application?.applicationType?.description?.toUpperCase()\r\n      ) &&\r\n        s1Application?.applicationRequest?.status == 'APPROVED') ||\r\n      (s1Application?.formType === 'MULTIPLE' &&\r\n        s1Application?.multipleApplication)) &&\r\n      s1Application?.formType !== 'MULTIPLE') ||\r\n    (s1Application?.formType === 'MULTIPLE' &&\r\n      s1Application?.multipleApplication)\r\n  \"\r\n  [hidden]=\"\r\n    (s1Application?.formType === 'MULTIPLE' &&\r\n      !s1Application.multipleApplication) ||\r\n    (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n      (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n        s1Application?.decisionStatus == 'APPROVED' ||\r\n        s1Application?.decisionStatus == 'APPROVED W/ CAUTION')) ||\r\n    (s1Application?.submissionType === 'REVISION' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED') ||\r\n    (s1Application?.submissionType === 'COMPLIANCE' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED')\r\n  \"\r\n>\r\n  <h4><mat-icon>bookmark</mat-icon> &nbsp;Type of Medium</h4>\r\n\r\n  <mat-radio-group\r\n    class=\"col-md-12\"\r\n    aria-label=\"Select an option\"\r\n    [(ngModel)]=\"selectedTypeOfMedium\"\r\n    [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n    name=\"applicationTypeOfMedium\"\r\n    [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n  >\r\n    <mat-radio-button\r\n      value=\"SINGLE MEDIA\"\r\n      (click)=\"getTypeOfMedium('SINGLE MEDIA'); emitSingleMediaChanges()\"\r\n    >\r\n      SINGLE MEDIA\r\n    </mat-radio-button>\r\n    &nbsp;&nbsp;\r\n    <mat-radio-button\r\n      value=\"MULTIMEDIA\"\r\n      (click)=\"getTypeOfMedium('MULTIMEDIA-MOVING'); emitMultimediaChanges()\"\r\n    >\r\n      MULTIMEDIA\r\n    </mat-radio-button>\r\n    <br /><br />\r\n  </mat-radio-group>\r\n\r\n  <mat-form-field\r\n    class=\"col-md-11\"\r\n    appearance=\"outline\"\r\n    *ngIf=\"isAscUser && isDisableFieldOnUpdate\"\r\n  >\r\n    <mat-label>Media Type</mat-label>\r\n    <input\r\n      matInput\r\n      [(ngModel)]=\"s1Application.refTypeOfMedium\"\r\n      name=\"refTypeOfMedium\"\r\n      readonly=\"isAscUser && isDisableFieldOnUpdate\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <!-- SELCETED: SINGLE MEDIA -->\r\n  <mat-form-field\r\n    class=\"col-md-11\"\r\n    appearance=\"outline\"\r\n    *ngIf=\"s1Application?.refTypeOfMedium == 'SINGLE MEDIA'\"\r\n  >\r\n    <mat-label>Single Media <span class=\"required\">*</span></mat-label>\r\n    <mat-select\r\n      [(ngModel)]=\"typeOfMedium\"\r\n      name=\"typeOfMedium\"\r\n      [compareWith]=\"compareSingleMedia\"\r\n      [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      (selectionChange)=\"setSingleMedia(typeOfMedium)\"\r\n    >\r\n      <mat-option *ngFor=\"let i of typeOfMediumList\" [value]=\"i\">\r\n        {{ i.description }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <!-- <section class=\"example-section\" *ngIf=\"isDigitalStatic\">\r\n      <mat-checkbox class=\"example-margin\" [(ngModel)]=\"checked\" [checked]=\"isDigitalStatic\">With landing page\r\n      </mat-checkbox>\r\n    </section> -->\r\n\r\n  <br /><br />\r\n\r\n  <div *ngIf=\"s1Application.refTypeOfMedium == 'SINGLE MEDIA'\">\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.executionEnable === true ||\r\n        (applicationSingleMedia?.mediumExecution &&\r\n          typeOfMedium?.executionEnable === undefined)\r\n      \"\r\n    >\r\n      <mat-label>Execution <span class=\"required\">*</span></mat-label>\r\n      <mat-select\r\n        [(ngModel)]=\"applicationSingleMedia.mediumExecution\"\r\n        name=\"mediumExecution\"\r\n        [compareWith]=\"compareMediumExecution\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n        (selectionChange)=\"emitSingleMediaChanges()\"\r\n      >\r\n        <mat-option *ngFor=\"let i of executionList\" [value]=\"i\">\r\n          {{ i.typeOfExecution.typeOfExecution }}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.languageEnable == true ||\r\n        (applicationSingleMedia?.dialect != null &&\r\n          typeOfMedium?.languageEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Language/Dialect</mat-label>\r\n      <mat-select\r\n        [(ngModel)]=\"applicationSingleMedia.dialect\"\r\n        name=\"dialect\"\r\n        [compareWith]=\"compareDialect\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      >\r\n        <mat-option *ngFor=\"let i of dialectList\" [value]=\"i\">\r\n          {{ i.dialect }}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.othersEnable == true ||\r\n        (applicationSingleMedia?.others &&\r\n          typeOfMedium?.othersEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Others</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"applicationSingleMedia.others\"\r\n        name=\"others\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <!-- <mat-form-field class=\"col-md-3 media-info\" appearance=\"outline\"\r\n        *ngIf=\"typeOfMedium.sizeLengthEnable==true||(applicationSingleMedia.sizeLength&&typeOfMedium.sizeLengthEnable==undefined)\">\r\n        <mat-label>Size Length</mat-label>\r\n        <input matInput [(ngModel)]=\"applicationSingleMedia.sizeLength\" formControlName=\"sizeLength\"\r\n          [readonly]=\"isAscUser && isDisableFieldOnUpdate\">\r\n      </mat-form-field> -->\r\n    <mat-form-field\r\n      class=\"col-md-3 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.lengthEnable == true ||\r\n        typeOfMedium?.sizeLengthEnable == true ||\r\n        (applicationSingleMedia?.sizeLength &&\r\n          typeOfMedium?.sizeLengthEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Size / Length (in seconds)</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"applicationSingleMedia.sizeLength\"\r\n        name=\"sizeLength\"\r\n        (keydown)=\"isNumber($event)\"\r\n        (keyup)=\"emitSingleMediaChanges()\"\r\n        [readonly]=\"\r\n          isAscUser &&\r\n          isDisableFieldOnUpdate &&\r\n          currentUser?.userRole?.name !== 'ROLE_ADMIN' &&\r\n          currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN'\r\n        \"\r\n        (blur)=\"emitSingleMediaChanges()\"\r\n        maxlength=\"4\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.widthEnable == true ||\r\n        (applicationSingleMedia?.width &&\r\n          typeOfMedium?.othersEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Width</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"applicationSingleMedia.width\"\r\n        name=\"width\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <!-- SELCETED: MULTIMEDIA -->\r\n  <div\r\n    *ngIf=\"\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\r\n    \"\r\n  >\r\n    <mat-radio-group\r\n      class=\"col-md-12\"\r\n      aria-label=\"Select an option\"\r\n      [(ngModel)]=\"s1Application.refTypeOfMedium\"\r\n      name=\"refTypeOfMedium\"\r\n      [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      (change)=\"\r\n        getTypeOfMedium(s1Application.refTypeOfMedium); emitMultimediaChanges()\r\n      \"\r\n    >\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-MOVING\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      >\r\n        MULTIMEDIA-MOVING\r\n      </mat-radio-button>\r\n      &nbsp;&nbsp;\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-STATIC\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      >\r\n        MULTIMEDIA-STATIC(MAX OF 5 LAYOUT)</mat-radio-button\r\n      >\r\n    </mat-radio-group>\r\n\r\n    <span *ngIf=\"!isAscUser && !isDisableFieldOnUpdate\"> <br /><br /> </span>\r\n\r\n    <div\r\n      class=\"row\"\r\n      *ngIf=\"\r\n        selectMultimedia ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\r\n      \"\r\n    >\r\n      <div class=\"col-md-12\" appearance=\"outline\">\r\n        <!-- <span  *ngFor=\"let s of selectedMultimediaList;\">\r\n              <table *ngIf=\"i?.description==s.typeOfMedium?.description\">\r\n                <tr>\r\n                  <td>\r\n                    <mat-checkbox [checked]=\"true\"\r\n                      [disabled]=\"isAscUser && isDisableFieldOnUpdate\">\r\n                      {{i?.description}}{{i?.sizeLength}}</mat-checkbox>\r\n                  </td>\r\n                  <td>{{s?.multimediaSizeLength}}\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"i.sizeLength\" (blur)=\"addMultimedia(i)\" formControlName=\"sizeLength\"\r\n                      name=\"sizeLength\" maxlength=\"200\" placeholder=\"Size/Length\">\r\n                  </td>\r\n                </tr>\r\n              </table>\r\n          </span> -->\r\n        <table>\r\n          <!-- <tr *ngFor=\"let i of typeOfMediumList; let index = index\">\r\n              <td>\r\n                <mat-checkbox [checked]=\"selectedMultimediaStringList.includes(i?.description)\"\r\n                  [disabled]=\"isAscUser && isDisableFieldOnUpdate\">\r\n                  {{i?.description}}</mat-checkbox>\r\n              </td>\r\n              <td>\r\n                  <input type=\"text\" class=\"form-control\" [value]=\"i?.sizeLength ? i?.sizeLength : 0\" (blur)=\"emitMultimediaChanges()\" (keyup)=\"addMultimedia(i, $event); emitMultimediaChanges()\"\r\n                    name=\"sizeLength\" maxlength=\"4\" placeholder=\"Size/Length (in seconds)\" (keydown)=\"validateFieldService.numbersOnly($event)\"\r\n                    [readonly]=\"((isAscUser && isDisableFieldOnUpdate) && (currentUser?.userRole?.name !== 'ROLE_ADMIN' && currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN')) && (s1Application?.decisionStatus !== 'APPROVED' || s1Application?.decisionStatus !== 'APPROVED_WITH_CAUTION') \">\r\n              </td>\r\n            </tr> -->\r\n\r\n          <ng-container\r\n            *ngIf=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\"\r\n          >\r\n            <tr\r\n              *ngFor=\"\r\n                let item of multimediaMovingDTO.applicationMultimediaMovingList;\r\n                let i = index\r\n              \"\r\n              style=\"height: 40px\"\r\n            >\r\n              <td>\r\n                <mat-checkbox\r\n                  [(ngModel)]=\"item.hasSelected\"\r\n                  [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  (click)=\"emitMultimediaChanges()\"\r\n                >\r\n                  {{ item.multimediaMovingMedium | uppercase }}\r\n                </mat-checkbox>\r\n              </td>\r\n              <td *ngIf=\"i === 0\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"sizeLength\"\r\n                  maxlength=\"4\"\r\n                  placeholder=\"Size/Length (in seconds)\"\r\n                  (keydown)=\"isNumber($event)\"\r\n                  (blur)=\"emitMultimediaChanges()\"\r\n                  (keyup)=\"emitMultimediaChanges()\"\r\n                  [(ngModel)]=\"multimediaMovingDTO.sizeLength\"\r\n                  [readonly]=\"\r\n                    isAscUser &&\r\n                    isDisableFieldOnUpdate &&\r\n                    currentUser?.userRole?.name !== 'ROLE_ADMIN' &&\r\n                    currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN' &&\r\n                    (s1Application?.decisionStatus !== 'APPROVED' ||\r\n                      s1Application?.decisionStatus !== 'APPROVED_WITH_CAUTION')\r\n                  \"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </ng-container>\r\n          <ng-container\r\n            *ngIf=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\"\r\n          >\r\n            <tr\r\n              *ngFor=\"\r\n                let item of multimediaStaticDTO.applicationMultimediaStaticList;\r\n                let i = index\r\n              \"\r\n              style=\"height: 40px\"\r\n            >\r\n              <td>\r\n                <mat-checkbox\r\n                  [(ngModel)]=\"item.hasSelected\"\r\n                  [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                >\r\n                  {{ item.multimediaStaticMedium | uppercase }}\r\n                </mat-checkbox>\r\n              </td>\r\n              <td *ngIf=\"item.multimediaStaticMedium !== 'digital static'\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [name]=\"item.multimediaStaticMedium\"\r\n                  placeholder=\"Dimension\"\r\n                  (blur)=\"emitMultimediaChanges()\"\r\n                  [(ngModel)]=\"item.sizeLength\"\r\n                  (keyup)=\"emitMultimediaChanges()\"\r\n                  [readonly]=\"\r\n                    isAscUser &&\r\n                    isDisableFieldOnUpdate &&\r\n                    (currentUser?.userRole?.name !== 'ROLE_ADMIN' ||\r\n                    currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN') &&\r\n                    (s1Application?.decisionStatus !== 'APPROVED' ||\r\n                      s1Application?.decisionStatus !== 'APPROVED_WITH_CAUTION')\r\n                  \"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </ng-container>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- <div class=\"col-md-5\" *ngIf=\"s1Application.refTypeOfMedium=='MULTIMEDIA-MOVING'\">\r\n            <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n              <mat-label>Length-{{mt}}++{{i.id}}</mat-label>\r\n              <input matInput [(ngModel)]=\"multimediaLength\" (change)=\"updateSizeLength(mt,multimediaLength)\"\r\n                formControlName=\"multimediaLength\" [readonly]=\"isAscUser\">\r\n            </mat-form-field>\r\n          </div>\r\n          <div class=\"col-md-5\" *ngIf=\"s1Application.refTypeOfMedium=='MULTIMEDIA-STATIC'\">\r\n            <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n              <mat-label>Size</mat-label>\r\n              <input matInput [(ngModel)]=\"applicationMultimediaStatic.multimediaSize\"  (change)=\"updateSizeLength(i)\"\r\n               formControlName=\"multimediaSize\" [readonly]=\"isAscUser\">\r\n            </mat-form-field>\r\n          </div> -->\r\n    </div>\r\n\r\n    <div class=\"row\"><br /></div>\r\n  </div>\r\n  <br /><br />\r\n</div>\r\n<!-- END OF FOR S1 APPLICATION -->\r\n\r\n<!-- ATTACHMENT SECTION -->\r\n<!-- FOR S1 APPLICATION -->\r\n<span\r\n  class=\"row fields\"\r\n  *ngIf=\"\r\n    (((!specialApplicationType.includes(\r\n      s1Application?.applicationType?.description?.toUpperCase()\r\n    ) ||\r\n      (specialApplicationType.includes(\r\n        s1Application?.applicationType?.description?.toUpperCase()\r\n      ) &&\r\n        s1Application?.applicationRequest?.status == 'APPROVED') ||\r\n      (s1Application?.formType === 'MULTIPLE' &&\r\n        s1Application?.multipleApplication)) &&\r\n      s1Application?.formType !== 'MULTIPLE') ||\r\n      (s1Application?.formType === 'MULTIPLE' &&\r\n        s1Application?.multipleApplication)) &&\r\n    applicationStage !== 'S2-APPLICATION'\r\n  \"\r\n>\r\n  <app-attachment-document\r\n    [s1Application]=\"s1Application\"\r\n    [labelMainDocument]=\"labelMainDocument\"\r\n    [isAscUser]=\"isAscUser\"\r\n    [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n    [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n    [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n    [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"\r\n    [applicationStage]=\"applicationStage\"\r\n  >\r\n  </app-attachment-document>\r\n\r\n  <!--  [showMainDocumentUploadButton]=\"showMainDocumentUploadButton\" [showMainDocumentViewButton]=\"showMainDocumentViewButton\" [safeURLMainDoc]=\"safeURLMainDoc\"\r\n     [showSupportDocumentFrame]=\"showSupportDocumentFrame\" [showSupportiveDocumentUploadButton]=\"showSupportiveDocumentUploadButton\" [showSupportiveDocumentViewButton]=\"showSupportiveDocumentViewButton\" [safeURLSupportDoc]=\"safeURLSupportDoc\"\r\n      [revisionLetterAttachment]=\"revisionLetterAttachment\" [showRevisionLetterUploadButton]=\"showRevisionLetterUploadButton\" [showRevisionLetterViewButton]=\"showRevisionLetterViewButton\" [safeURLRevisionLetter]=\"safeURLRevisionLetter\" -->\r\n\r\n  <!-- FOR S1 APPLICATION -->\r\n  <div class=\"row\">\r\n    <!-- <b *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'\"><b class=\"material-icons\">error_outline</b> Attachments' total file size should not exceed 15MB.</b> -->\r\n\r\n    <!-- MAIN DOCUMENT -->\r\n    <!-- <div class=\"row\">\r\n        <h4>\r\n          <i class=\"material-icons\">bookmark</i> &nbsp;{{labelMainDocument}}\r\n        </h4>\r\n        <br>\r\n        <div class=\"col-md-12\" appearance=\"outline\">\r\n          <mat-label *ngIf=\"attachmentDocuments[0]?.originalFilename\">Filename: </mat-label>\r\n          <input #mainInput matInput [value]=\"attachmentDocuments[0]?.originalFilename\" disabled\r\n            *ngIf=\"attachmentDocuments[0]?.originalFilename\"><br>\r\n          <input #mainFile class=\"file-upload\" type=\"file\" accept=\".pdf\" (change)=\"selectFile($event, 'MAIN')\"\r\n            [hidden]=\"(isAscUser && isDisableFieldOnUpdate) || attachmentDocuments[0]?.originalFilename != null\"\r\n            *ngIf=\"attachmentDocuments?.length==0 || (attachmentDocuments?.length>=1 && attachmentDocuments[0]===null) || s1Application?.internalStatus=='SAVED'|| attachmentDocuments[0]?.originalFilename != null ||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\" />\r\n        </div>\r\n\r\n        <div class=\"row\"><br></div>\r\n        <div class=\"col-md-12\" appearance=\"outline\"\r\n          *ngIf=\"showMainDocumentUploadButton==true||attachmentDocuments?.length>0\">\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"viewDocument('MAIN')\"\r\n            *ngIf=\"showMainDocumentViewButton||s1Application?.mainAttachmentReference\">\r\n            <i class=\"material-icons add-document\">open_in_new</i> VIEW DOCUMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"deleteUploadedFile('MAIN')\"\r\n            [hidden]=\"!showMainDocumentViewButton&&!s1Application?.mainAttachmentReference||(currentUser?.userRole?.name!='ROLE_APPLICANT'&&currentUser?.userRole?.name!='ROLE_ENCODER')\"\r\n            *ngIf=\"showMainDocumentViewButton||s1Application?.mainAttachmentReference||(s1Application?.internalStatus=='SAVED'||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION')))\">\r\n            <i class=\"material-icons add-document\">delete</i> DELETE ATTACHMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\"\r\n            [disabled]=\"!safeURLMainDoc||!showMainDocumentUploadButton\" [hidden]=\"(isAscUser && isDisableFieldOnUpdate)\"\r\n            *ngIf=\"attachmentDocuments[0]?.originalFilename == null\">\r\n            <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n          </button>\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n          <hr>\r\n        </div>\r\n      </div> -->\r\n\r\n    <!-- SUPPORTING DOC -->\r\n    <!-- <div class=\"row\" *ngIf=\"showSupportDocumentFrame==true || originalAttachmentDocuments?.length>0 || revisionAttachmentDocuments?.length>0 || complianceAttachmentDocuments?.length>0\"> -->\r\n    <!-- <h4>\r\n          <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n        </h4>\r\n\r\n        <div class=\"col-md-12\" appearance=\"outline\"\r\n          [hidden]=\"(isAscUser && isDisableFieldOnUpdate)||attachmentDocuments[1]?.originalFilename||s1Application?.supportingAttachmentReference\"\r\n          *ngIf=\"(attachmentDocuments?.length<2||attachmentDocuments?.length!=2)\">\r\n\r\n          <mat-checkbox (click)=\"verifyNoDocumentAttached()\" [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n            (checked)=\"s1Application.hasNoSupportingDocs\" formControlName=\"hasNoSupportingDocs\"\r\n            *ngIf=\"currentUser.userRole.name=='ROLE_APPLICANT' || (currentUser.userRole.name=='ROLE_ENCODER' && s1Application?.internalStatus === undefined )\">\r\n            I certify that no supporting document is attached to this S1 application.</mat-checkbox>\r\n          <br>\r\n        </div>\r\n\r\n        <p *ngIf=\"(currentUser.userRole.name!='ROLE_APPLICANT'&&s1Application.hasNoSupportingDocs)\r\n        ||(currentUser.userRole.name=='ROLE_AD_SPECIALIST'&&s1Application.hasNoSupportingDocs)\">\r\n          Supporting Document was not submitted.\r\n        </p>\r\n        <div class=\"col-md-12\"><br></div> -->\r\n\r\n    <!-- <div *ngIf=\"!s1Application.hasNoSupportingDocs\">\r\n          <div class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label *ngIf=\"attachmentDocuments[1]?.originalFilename\">Filename: </mat-label>\r\n            <input matInput [value]=\"attachmentDocuments[1]?.originalFilename\" disabled\r\n              *ngIf=\"attachmentDocuments[1]?.originalFilename\"><br>\r\n\r\n            <input #supportiveFile class=\"file-upload\" type=\"file\" accept=\".pdf\"\r\n              (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n              [hidden]=\"(isAscUser && isDisableFieldOnUpdate) || attachmentDocuments[1]?.originalFilename\"\r\n              *ngIf=\"attachmentDocuments?.length<2|| (attachmentDocuments?.length>=2 && attachmentDocuments[1]===null) ||s1Application?.internalStatus=='SAVED'|| attachmentDocuments[1]?.originalFilename != null ||\r\n              ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n               &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\" />\r\n          </div>\r\n\r\n          <div class=\"row\"><br></div>\r\n          <div class=\"col-md-12\" appearance=\"outline\"\r\n            *ngIf=\"showSupportiveDocumentUploadButton==true||attachmentDocuments?.length>1\">\r\n            <button mat-raised-button class=\"button-red button-right\" (click)=\"viewDocument('SUPPORTIVE')\"\r\n              *ngIf=\"showSupportiveDocumentViewButton||s1Application?.supportingAttachmentReference\">\r\n              <i class=\"material-icons add-document\">open_in_new</i> VIEW DOCUMENT\r\n            </button>\r\n            &nbsp; &nbsp;\r\n            <button mat-raised-button class=\"button-red button-right\" (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n              [hidden]=\"!showSupportiveDocumentViewButton&&!s1Application?.supportingAttachmentReference||(currentUser?.userRole?.name!='ROLE_APPLICANT'&&currentUser?.userRole?.name!='ROLE_ENCODER')\"\r\n              *ngIf=\"showSupportiveDocumentViewButton||s1Application?.supportingAttachmentReference||(s1Application?.internalStatus=='SAVED'||\r\n              ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n                &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION')))\">\r\n              <i class=\"material-icons add-document\">delete</i> DELETE ATTACHMENT\r\n            </button>\r\n            &nbsp; &nbsp;\r\n            <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\"\r\n              [disabled]=\"!safeURLSupportDoc||!showSupportiveDocumentUploadButton\"\r\n              [hidden]=\"(isAscUser && isDisableFieldOnUpdate)\"\r\n              *ngIf=\"s1Application?.supportingAttachmentReference==null||showSupportiveDocumentUploadButton||attachmentDocuments[1]?.originalFilename === null\">\r\n              <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n            </button>\r\n          </div>\r\n          <div class=\"row\"><br></div>\r\n          <br>\r\n        </div> -->\r\n\r\n    <!-- FOR ADSPE / SCREENER / REVIEWER -->\r\n    <!-- <div class=\"row fields\"> -->\r\n    <div\r\n      class=\"col-md-12\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        currentUser.userRole.name == 'ROLE_AD_SPECIALIST' &&\r\n        (s1Application?.internalStatus ===\r\n          'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n          s1Application?.internalStatus ==\r\n            'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n          s1Application?.internalStatus === 'REVISION_VERIFIED_BY_ENCODER') &&\r\n        s1Application.supportingAttachmentReference !== null\r\n      \"\r\n    >\r\n      <!-- *ngIf=\"showSupportiveDocumentDownloadButton==true||attachmentDocuments?.length>1\" -->\r\n      <div class=\"row\"><br /></div>\r\n      <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n        <mat-label>Type of Document</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"supportingDocument.typeOfDocument\"\r\n          name=\"typeOfDocument\"\r\n        >\r\n          <mat-option\r\n            *ngFor=\"let i of typeOfDocumentList\"\r\n            [value]=\"i\"\r\n            (click)=\"setTypeOfDocument(i)\"\r\n          >\r\n            {{ i.description }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 hideIndex\"\r\n        appearance=\"outline\"\r\n        style=\"display: none\"\r\n      >\r\n        <mat-label>index</mat-label>\r\n        <input matInput [value]=\"supportingDocumentIndex\" />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.inputEnable\"\r\n      >\r\n        <input matInput [(ngModel)]=\"supportingDocument.input\" name=\"input\" />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.variantEnable\"\r\n      >\r\n        <mat-label>Variant</mat-label>\r\n        <input\r\n          matInput\r\n          [(ngModel)]=\"supportingDocument.variant\"\r\n          name=\"variant\"\r\n        />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.expiresOnEnable\"\r\n      >\r\n        <mat-label>Expires on</mat-label>\r\n        <input\r\n          matInput\r\n          placeholder=\"Date\"\r\n          [matDatepicker]=\"expiresOn\"\r\n          readonly\r\n          [min]=\"todayDate\"\r\n          [(ngModel)]=\"supportingDocument.expiresOn\"\r\n          name=\"expiresOn\"\r\n          [readonly]=\"true\"\r\n        />\r\n        <mat-datepicker-toggle matSuffix [for]=\"expiresOn\">\r\n          <mat-datepicker color=\"warn\" #expiresOn></mat-datepicker>\r\n        </mat-datepicker-toggle>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.basedOnEnable\"\r\n      >\r\n        <mat-label>Based on</mat-label>\r\n        <input\r\n          matInput\r\n          [(ngModel)]=\"supportingDocument.basedOn\"\r\n          name=\"basedOn\"\r\n          required\r\n        />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.dateOfLaunchEnable\"\r\n      >\r\n        <mat-label>Date of Launch</mat-label>\r\n        <input\r\n          matInput\r\n          placeholder=\"Date\"\r\n          [matDatepicker]=\"dateOfLaunch\"\r\n          readonly\r\n          [min]=\"todayDate\"\r\n          [(ngModel)]=\"supportingDocument.dateOfLaunch\"\r\n          name=\"dateOfLaunch\"\r\n          [readonly]=\"true\"\r\n        />\r\n        <mat-datepicker-toggle matSuffix [for]=\"dateOfLaunch\">\r\n          <mat-datepicker color=\"warn\" #dateOfLaunch></mat-datepicker>\r\n        </mat-datepicker-toggle>\r\n        <!-- <input matInput [(ngModel)]=\"supportingDocument.dateOfLaunch\" formControlName=\"dateOfLaunch\" name=\"dateOfLaunch\"> -->\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.remarksEnable\"\r\n      >\r\n        <mat-label>Remarks</mat-label>\r\n        <textarea\r\n          matInput\r\n          [(ngModel)]=\"supportingDocument.remarks\"\r\n          name=\"remarks\"\r\n        ></textarea>\r\n      </mat-form-field>\r\n      <br />\r\n\r\n      <div class=\"col-md-12\" *ngIf=\"!isUpdate\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"col-md-12 button-red\"\r\n          [disabled]=\"\r\n            supportingDocument.typeOfDocument === undefined ||\r\n            (typeOfDocument?.variantEnable &&\r\n              (supportingDocument.variant === undefined ||\r\n                supportingDocument.variant === '')) ||\r\n            (typeOfDocument?.expiresOnEnable &&\r\n              supportingDocument.expiresOn === undefined) ||\r\n            (typeOfDocument?.basedOnEnable &&\r\n              supportingDocument.basedOn === undefined) ||\r\n            (typeOfDocument?.dateOfLaunchEnable &&\r\n              supportingDocument.dateOfLaunch === undefined) ||\r\n            (typeOfDocument?.remarksEnable &&\r\n              supportingDocument.remarks === undefined)\r\n          \"\r\n          (click)=\"addSupportiveDocument(supportingDocument)\"\r\n        >\r\n          <i class=\"material-icons add-document\">task_alt</i> ADD TO LIST\r\n        </button>\r\n      </div>\r\n      &nbsp;&nbsp;\r\n      <div class=\"col-md-12\" *ngIf=\"isUpdate\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"col-md-12 button-red\"\r\n          (click)=\"\r\n            modifyTypeOfDocument(supportingDocument, supportingDocumentIndex)\r\n          \"\r\n          [disabled]=\"supportingDocument.typeOfDocument === undefined\"\r\n        >\r\n          <i class=\"material-icons add-document\">task_alt</i> Update\r\n        </button>\r\n      </div>\r\n      <div class=\"row\"><br /></div>\r\n      <hr />\r\n    </div>\r\n\r\n    <div class=\"col-md-12\">\r\n      <div\r\n        class=\"col-md-12 mat-elevation-z8 fields\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"supportiveDocumentList?.length > 0\"\r\n      >\r\n        <table\r\n          mat-table\r\n          [dataSource]=\"dataSource || supportiveDocumentList\"\r\n          matSort\r\n        >\r\n          <ng-container matColumnDef=\"id\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n              TYPE OF DOCUMENT\r\n            </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\">{{ i }}</td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfDocument\">\r\n            <th mat-header-cell *matHeaderCellDef>TYPE OF DOCUMENT</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.typeOfDocument?.description }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"input\">\r\n            <th mat-header-cell *matHeaderCellDef>INPUT</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.input == undefined ? \"N/A\" : element?.input }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"variant\">\r\n            <th mat-header-cell *matHeaderCellDef>VARIANT</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.variant == undefined ? \"N/A\" : element?.variant }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"expiresOn\">\r\n            <th mat-header-cell *matHeaderCellDef>EXPIRES ON</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{\r\n                element?.expiresOn == undefined\r\n                  ? \"N/A\"\r\n                  : (element?.expiresOn | date: \"yyyy-MM-dd\")\r\n              }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"basedOn\">\r\n            <th mat-header-cell *matHeaderCellDef>BASED ON</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{\r\n                element?.basedOn == undefined\r\n                  ? \"N/A\"\r\n                  : (element?.basedOn | date: \"yyyy-MM-dd\")\r\n              }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"remarks\">\r\n            <th mat-header-cell *matHeaderCellDef>REMARKS</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.remarks == undefined ? \"N/A\" : element?.remarks }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"action\">\r\n            <th mat-header-cell *matHeaderCellDef>ACTIONS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\">\r\n              <!-- <span class=\"a-icon\">\r\n                    <i class=\"material-icons\" style=\"color:blue\" (click)=\"getTypeOfDocument(element, i)\">edit</i>\r\n                  </span> -->\r\n              <span\r\n                class=\"a-icon\"\r\n                [hidden]=\"s1Application?.hasOngoingAppeal\"\r\n                *ngIf=\"\r\n                  s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n                  s1Application?.internalStatus ==\r\n                    'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n                  s1Application?.internalStatus ===\r\n                    'REVISION_VERIFIED_BY_ENCODER'\r\n                \"\r\n              >\r\n                <i class=\"material-icons\" (click)=\"removeTypeOfDocument(i)\"\r\n                  >delete</i\r\n                >\r\n              </span>\r\n\r\n              <!-- <button >\r\n                      <i class=\"material-icons\" style=\"color:blue\">edit</i>\r\n                    </button> -->\r\n              <!-- <button (click)=\"removeTypeOfDocument(i)\">\r\n                      <i class=\"material-icons\">delete</i>\r\n                    </button> -->\r\n            </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\r\n        </table>\r\n        <div\r\n          class=\"no-record\"\r\n          [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n          *ngIf=\"supportiveDocumentList?.length == 0\"\r\n        >\r\n          No supporting document found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n      </div>\r\n    </div>\r\n\r\n    <!-- </div> -->\r\n\r\n    <!-- FOR REVISION - REVISION LETTER -->\r\n    <!-- <div class=\"row\" *ngIf=\"(s1Application?.internalStatus==='S1_APPLICATION_REVIEWED'&&(s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\r\n      ||s1Application?.revisionLetterAttachmentReference\" [hidden]=\"s1Application?.appliedS2 && s1Application?.revisionLetterAttachmentReference === ''\">\r\n        <div class=\"col-md-12\">\r\n          <hr>\r\n        </div>\r\n        <h4>\r\n          <i class=\"material-icons\">bookmark</i> &nbsp;REVISION LETTER\r\n        </h4>\r\n        <br>\r\n        <div class=\"col-md-12\" appearance=\"outline\">\r\n          <mat-label\r\n            *ngIf=\"revisionLetterAttachment?.originalFilename||attachmentDocuments[1]?.revisionLetterAttachmentReference\">\r\n            Filename: </mat-label>\r\n          <input matInput\r\n            [value]=\"revisionLetterAttachment?.originalFilename||attachmentDocuments[1]?.revisionLetterAttachmentReference||attachmentDocuments[2]?.revisionLetterAttachmentReference\"\r\n            disabled *ngIf=\"revisionLetterAttachment?.originalFilename\"><br>\r\n\r\n          <input #revisionLetterFile class=\"file-upload\" type=\"file\" accept=\".pdf\"\r\n            (change)=\"selectFile($event, 'REVISION_LETTER')\"\r\n            [hidden]=\"(isAscUser && isDisableFieldOnUpdate)||revisionLetterAttachment?.originalFilename\"\r\n            *ngIf=\"attachmentDocuments?.length==0||s1Application?.internalStatus=='SAVED'||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\" />\r\n        </div>\r\n\r\n        <div class=\"row\"><br></div>\r\n        <div class=\"col-md-12\" appearance=\"outline\"\r\n          *ngIf=\"showRevisionLetterUploadButton==true||attachmentDocuments?.length>1||s1Application?.revisionLetterAttachmentReference\">\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"viewDocument('REVISION_LETTER')\"\r\n            *ngIf=\"showRevisionLetterViewButton==true||s1Application?.revisionLetterAttachmentReference\">\r\n            <i class=\"material-icons add-document\">open_in_new</i> VIEW DOCUMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"deleteUploadedFile('REVISION_LETTER')\"\r\n            [hidden]=\"!showRevisionLetterViewButton&&!s1Application?.revisionLetterAttachmentReference||(currentUser?.userRole?.name!='ROLE_APPLICANT'&&currentUser?.userRole?.name!='ROLE_ENCODER')\"\r\n            *ngIf=\"showRevisionLetterViewButton||s1Application?.revisionLetterAttachmentReference||(s1Application?.internalStatus=='SAVED'||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION')))\">\r\n            <i class=\"material-icons add-document\">delete</i> DELETE ATTACHMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\"\r\n            [disabled]=\"!safeURLRevisionLetter||!showRevisionLetterUploadButton\"\r\n            [hidden]=\"(isAscUser && isDisableFieldOnUpdate)\" *ngIf=\"showRevisionLetterUploadButton\">\r\n            <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n          </button>\r\n        </div>\r\n        <div class=\"row\"><br></div>\r\n        <br>\r\n        <br>\r\n      </div> -->\r\n  </div>\r\n</span>\r\n\r\n<!--  //////////////////////////////////////// S2 APPLCIATION ///////////////////////////////////////////////////////////// -->\r\n\r\n<!-- FOR S2 APPLICATION -->\r\n<div class=\"row fields\" *ngIf=\"applicationStage === 'S2-APPLICATION'\">\r\n  <div class=\"row\">\r\n    <!-- FOR S1 APPLICATION -->\r\n    <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n      <mat-label>Ad Title</mat-label>\r\n      <input\r\n        matInput\r\n        [value]=\"s1Application.adTitle\"\r\n        name=\"adTitle\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          applicationStage === 'S2-APPLICATION'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <mat-form-field\r\n      class=\"col-md-6\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        s1Application?.formType !== 'MULTIPLE' ||\r\n        (s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application.multipleApplication)\r\n      \"\r\n    >\r\n      <mat-label>Reference Code of Previously-Approved Material</mat-label>\r\n      <input\r\n        matInput\r\n        [value]=\"s1Application.previousRefCode\"\r\n        name=\"previousRefCode\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          applicationStage === 'S2-APPLICATION'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Tag Line</mat-label>\r\n      <input\r\n        matInput\r\n        [value]=\"s1Application.tagLine\"\r\n        name=\"tagLine\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          applicationStage === 'S2-APPLICATION'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n\r\n<!-- FOR S2 APPLICATION -->\r\n<div class=\"row fields\" *ngIf=\"applicationStage === 'S2-APPLICATION'\">\r\n  <h4><mat-icon>bookmark</mat-icon> &nbsp;TYPE OF MEDIUM</h4>\r\n\r\n  <mat-radio-group\r\n    class=\"col-md-12\"\r\n    aria-label=\"Select an option\"\r\n    [value]=\"s1Application.refTypeOfMedium\"\r\n    [disabled]=\"true\"\r\n  >\r\n    <mat-radio-button\r\n      value=\"SINGLE MEDIA\"\r\n      [checked]=\"\r\n        s2Application?.applicationForm?.refTypeOfMedium == 'SINGLE MEDIA'\r\n      \"\r\n    >\r\n      SINGLE MEDIA\r\n    </mat-radio-button>\r\n    &nbsp;&nbsp;\r\n    <mat-radio-button\r\n      value=\"MULTIMEDIA\"\r\n      [checked]=\"\r\n        selectMultimedia ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA' ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC' ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\r\n      \"\r\n    >\r\n      MULTIMEDIA</mat-radio-button\r\n    >\r\n    <br /><br />\r\n  </mat-radio-group>\r\n  <mat-form-field\r\n    class=\"col-md-11\"\r\n    appearance=\"outline\"\r\n    *ngIf=\"s1Application.refTypeOfMedium == 'SINGLE MEDIA'\"\r\n  >\r\n    <mat-label>Single Media <span class=\"required\">*</span></mat-label>\r\n    <input\r\n      matInput\r\n      name=\"singleMedia\"\r\n      [value]=\"\r\n        applicationSingleMedia?.mediumExecution?.typeOfMedium?.description\r\n      \"\r\n      [readonly]=\"true\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <div *ngIf=\"s1Application.refTypeOfMedium == 'SINGLE MEDIA'\">\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.executionEnable == true ||\r\n        applicationSingleMedia?.mediumExecution ||\r\n        applicationSingleMedia?.mediumExecution?.typeOfExecution\r\n          ?.typeOfExecution === 'NO EXECUTION'\r\n      \"\r\n    >\r\n      <mat-label>Execution <span class=\"required\">*</span></mat-label>\r\n      <input\r\n        matInput\r\n        name=\"execution\"\r\n        [value]=\"\r\n          applicationSingleMedia?.mediumExecution?.typeOfExecution\r\n            ?.typeOfExecution\r\n        \"\r\n        [readonly]=\"true\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.languageEnable == true || applicationSingleMedia?.dialect\r\n      \"\r\n    >\r\n      <mat-label>Language/Dialect</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"language\"\r\n        [value]=\"applicationSingleMedia?.dialect?.dialect\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.othersEnable == true || applicationSingleMedia?.others\r\n      \"\r\n    >\r\n      <mat-label>Others</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"others\"\r\n        [value]=\"applicationSingleMedia?.others\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-3 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.sizeLengthEnable == true ||\r\n        typeOfMedium?.lengthEnable == true ||\r\n        applicationSingleMedia?.sizeLength\r\n      \"\r\n    >\r\n      <mat-label>Size / Length (in seconds)</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"sizeLength\"\r\n        [value]=\"\r\n          applicationSingleMedia?.sizeLength\r\n            ? applicationSingleMedia?.sizeLength\r\n            : 0\r\n        \"\r\n        [readonly]=\"true\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"typeOfMedium?.widthEnable == true || applicationSingleMedia?.width\"\r\n    >\r\n      <mat-label>Width</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"width\"\r\n        [value]=\"\r\n          applicationSingleMedia?.width ? applicationSingleMedia?.width : 0\r\n        \"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div\r\n    *ngIf=\"\r\n      selectMultimedia == true ||\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\r\n    \"\r\n  >\r\n    <mat-radio-group\r\n      class=\"col-md-12\"\r\n      aria-label=\"Select an option\"\r\n      [value]=\"s1Application.refTypeOfMedium\"\r\n      [disabled]=\"true\"\r\n    >\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-MOVING\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\"\r\n      >\r\n        MULTIMEDIA-MOVING\r\n      </mat-radio-button>\r\n      &nbsp;&nbsp;\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-STATIC\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\"\r\n      >\r\n        MULTIMEDIA-STATIC(MAX OF 5 LAYOUT)</mat-radio-button\r\n      >\r\n    </mat-radio-group>\r\n\r\n    <br /><br />\r\n    <div\r\n      class=\"row\"\r\n      *ngIf=\"\r\n        s1Application?.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n        s1Application?.refTypeOfMedium == 'MULTIMEDIA-STATIC' ||\r\n        s1Application?.refTypeOfMedium == 'MULTIMEDIA'\r\n      \"\r\n    >\r\n      <!-- *ngIf=\"multimediaStaticList?.length==0&&multimediaMovingList?.length==0\"> -->\r\n      <div class=\"col-md-12\" appearance=\"outline\">\r\n        <span *ngFor=\"let i of typeOfMediumList; let mt = index\">\r\n          <table>\r\n            <tr>\r\n              <td>\r\n                <!-- <mat-checkbox [checked]=\"selectedMultimediaList.includes(i?.description)\"\r\n                    [disabled]=\"true\">\r\n                    {{i?.description}}</mat-checkbox> -->\r\n                <mat-checkbox\r\n                  [checked]=\"\r\n                    selectedMultimediaStringList.includes(i?.description)\r\n                  \"\r\n                  [disabled]=\"true\"\r\n                >\r\n                  {{ i?.description }}\r\n                </mat-checkbox>\r\n              </td>\r\n              <td>\r\n                <!--  -->\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [value]=\"i.sizeLength ? i.sizeLength : 0\"\r\n                  name=\"sizeLength\"\r\n                  maxlength=\"4\"\r\n                  placeholder=\"Size/Length (in seconds)\"\r\n                  *ngIf=\"\r\n                    s1Application?.id == undefined &&\r\n                    (s1Application?.refTypeOfMedium == 'MULTIMEDIA-STATIC' ||\r\n                      s1Application?.refTypeOfMedium == 'MULTIMEDIA-MOVING')\r\n                  \"\r\n                />\r\n\r\n                <!-- static -->\r\n                <!-- <input type=\"text\" class=\"form-control\" [value]=\" i.multimediaSize ? i.multimediaSize : '' \"\r\n                    name=\"sizeLength\" maxlength=\"200\" placeholder=\"Size\"\r\n                    *ngIf=\"s1Application?.id!=undefined&&s1Application?.refTypeOfMedium=='MULTIMEDIA-STATIC'\"\r\n                    [disabled]=\"true\"> -->\r\n\r\n                <!-- moving -->\r\n                <!-- <input type=\"text\" class=\"form-control\" [value]=\" i.multimediaLength ? i.multimediaLength : '' \"\r\n                    name=\"sizeLength\" maxlength=\"200\" placeholder=\"Length\"\r\n                    *ngIf=\"s1Application?.id!=undefined&&s1Application?.refTypeOfMedium=='MULTIMEDIA-MOVING'\"\r\n                    [disabled]=\"true\"> -->\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [value]=\"i.sizeLength ? i.sizeLength : 0\"\r\n                  *ngIf=\"\r\n                    s1Application?.id !== undefined &&\r\n                    (s1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC' ||\r\n                      s1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING')\r\n                  \"\r\n                  name=\"sizeLength\"\r\n                  maxlength=\"4\"\r\n                  placeholder=\"Size/Length (in seconds)\"\r\n                  [disabled]=\"true\"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </table>\r\n          <br />\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\"><br /></div>\r\n  </div>\r\n  <br /><br />\r\n</div>\r\n\r\n<!-- FOR S2 APPLICATION  MAIN DOC-->\r\n<div *ngIf=\"applicationStage === 'S2-APPLICATION'\">\r\n  <span class=\"row fields\">\r\n    <app-attachment-document\r\n      [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n      [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n      [(complianceAttachmentDocuments)]=\"complianceAttachmentDocuments\"\r\n      [s1Application]=\"s1Application\"\r\n      [labelMainDocument]=\"labelMainDocument\"\r\n      [isAscUser]=\"isAscUser\"\r\n      [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n      [applicationStage]=\"applicationStage\"\r\n    ></app-attachment-document>\r\n\r\n    <!-- [showMainDocumentUploadButton]=\"showMainDocumentUploadButton\" [showMainDocumentViewButton]=\"showMainDocumentViewButton\" [safeURLMainDoc]=\"safeURLMainDoc\"\r\n      [showSupportDocumentFrame]=\"showSupportDocumentFrame\" [showSupportiveDocumentUploadButton]=\"showSupportiveDocumentUploadButton\" [showSupportiveDocumentViewButton]=\"showSupportiveDocumentViewButton\" [safeURLSupportDoc]=\"safeURLSupportDoc\"\r\n      [revisionLetterAttachment]=\"revisionLetterAttachment\" [showRevisionLetterUploadButton]=\"showRevisionLetterUploadButton\" [showRevisionLetterViewButton]=\"showRevisionLetterViewButton\" [safeURLRevisionLetter]=\"safeURLRevisionLetter\" -->\r\n  </span>\r\n</div>\r\n\r\n<!-- </form> -->\r\n","import { Component, Inject, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { PerformanceMetrics } from '@models';\r\nimport { ApiService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\n\r\n@Component({\r\n  selector: 'app-performance-metrics',\r\n  templateUrl: './performance-metrics.component.html',\r\n  styleUrls: ['./performance-metrics.component.scss']\r\n})\r\nexport class PerformanceMetricsComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<PerformanceMetrics>;\r\n\r\n  dataSource: MatTableDataSource<PerformanceMetrics>;\r\n  displayedColumns: string[] = [\r\n    // 'referenceCode',\r\n    // 'appFormReference',\r\n    'movement',\r\n    'lastUpdate',\r\n    'duration',\r\n    'actionBy'\r\n  ];\r\n\r\n  performanceMetricsList = [];\r\n  referenceCode: any;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    @Optional() public dialogRef: MatDialogRef<PerformanceMetricsComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      this.getPerformanceMatricsList(data.appFormReference);\r\n      this.referenceCode = data.referenceCode;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getPerformanceMatricsList(appFormReference) {\r\n    this.apiService.findByParam(ENDPOINTS.performanceMetrics, appFormReference).subscribe((res: any) => {\r\n      this.performanceMetricsList = res;\r\n      this.dataSource = new MatTableDataSource<PerformanceMetrics>(this.performanceMetricsList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    });\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<button mat-raised-button class=\"button-left button-red\">\r\n    <span class=\"material-icons\">new_releases</span> {{referenceCode}} </button>\r\n<button mat-raised-button class=\"button-right button-red\" (click)=\"closeDialog()\">\r\n    <i class=\"material-icons color__white\">close</i> CLOSE\r\n</button>\r\n<br>\r\n<div class=\"mat-elevation-z8\">\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n\r\n        <!-- <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef> Reference Code </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.referenceCode }}\r\n            </td>\r\n        </ng-container> -->\r\n\r\n        <ng-container matColumnDef=\"appFormReference\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Application Form Reference </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.appFormReference }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"movement\">\r\n            <th mat-header-cell *matHeaderCellDef> Movement </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.movement.replaceAll('_', ' ') }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"lastUpdate\">\r\n            <th mat-header-cell *matHeaderCellDef> Date of Action </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.previousDateTime | date:'MM/dd/yyyy hh:mm a' }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"duration\">\r\n            <th mat-header-cell *matHeaderCellDef> Duration </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.duration }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"actionBy\">\r\n            <th mat-header-cell *matHeaderCellDef> Action By </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.actionBy }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n    <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n        No record found.\r\n    </div>\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ReassignmentRoutingModule } from './reassignment-routing.module';\r\nimport { ReassignmentComponent } from './reassignment.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { FragmentsModule } from 'app/modules/fragments/fragments.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ReassignmentComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReassignmentRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    AngularMaterialModule,\r\n    FragmentsModule,\r\n  ]\r\n})\r\nexport class ReassignmentModule { }\r\n","export * from './company.module';\r\nexport * from './add-company/add-company.component';\r\nexport * from './add-company/add-company.module';\r\nexport * from './list-company/list-company.component';\r\nexport * from './list-company/list-company.module';"],"sourceRoot":"webpack:///"}