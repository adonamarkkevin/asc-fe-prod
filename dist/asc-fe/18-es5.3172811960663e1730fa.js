!function(){function e(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=n(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,l=function(){};return{s:l,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,p=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){p=!0,r=e},f:function(){try{o||null==a.return||a.return()}finally{if(p)throw r}}}}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,i,l=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);r=!0);}catch(p){o=!0,i=p}finally{try{r||null==n.return||n.return()}finally{if(o)throw i}}return l}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"0jzb":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=l((function e(){r(this,e)}))},VOEw:function(n,a,i){"use strict";i.r(a),i.d(a,"MultipleApplicationsModule",(function(){return ye}));var o=i("ofXK"),p=i("tyNb"),m=i("M9IT"),u=i("Dh3D"),c=i("+0xr"),d=i("M0ag"),s=i("0IaG"),f=i("sKXY"),y=i("XLGj"),v=i("0jzb"),h=i("PSD3"),S=i.n(h),g=i("fXoL"),b=i("jhN1"),A=i("dJ3e"),M=i("TMp0"),E=i("kmnG"),w=i("NFeN"),D=i("3Pt+"),C=i("qFsG"),O=i("d3UM"),x=i("FKr1"),P=i("bTqV");function R(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div"),g["\u0275\u0275elementStart"](1,"div",27),g["\u0275\u0275elementStart"](2,"object",28),g["\u0275\u0275elementStart"](3,"iframe",29),g["\u0275\u0275elementStart"](4,"p"),g["\u0275\u0275text"](5,"This browser does not support PDF!"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("data",n.safeURLProofOfPayment,g["\u0275\u0275sanitizeResourceUrl"]),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("src",n.safeURLProofOfPayment,g["\u0275\u0275sanitizeResourceUrl"])}}function T(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",30),g["\u0275\u0275text"](1," Reference Code "),g["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"td",31),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==n?null:n.referenceCode)}}function I(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",30),g["\u0275\u0275text"](1," Ad Title "),g["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"td",31),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==n?null:n.adTitle)}}function k(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",30),g["\u0275\u0275text"](1," Medium And Length"),g["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"td",31),g["\u0275\u0275text"](1),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](null==n?null:n.typeOfMediumDisplay)}}function N(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",30),g["\u0275\u0275text"](1," Amount"),g["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"td",32),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"number"),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind2"](2,1,null==n?null:n.amount,"1.2-2"))}}function B(e,t){1&e&&g["\u0275\u0275element"](0,"tr",33)}function V(e,t){1&e&&g["\u0275\u0275element"](0,"tr",34)}function z(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-option",35),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,null==n?null:n.paymentDescription)," ")}}function $(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"span"),g["\u0275\u0275elementStart"](1,"i"),g["\u0275\u0275text"](2,"Please contact ASC admin to check the Maintenance of Fees."),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",1),g["\u0275\u0275elementStart"](1,"div",36),g["\u0275\u0275template"](2,$,3,0,"span",6),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"div",37),g["\u0275\u0275elementStart"](4,"button",38),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=g["\u0275\u0275nextContext"]();return e.uploadDocument(e.multipleApplication)})),g["\u0275\u0275elementStart"](5,"i",39),g["\u0275\u0275text"](6,"task_alt"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," SUBMIT "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",a.multipleApplication&&0===(null==a.multipleApplication?null:a.multipleApplication.totalAmount)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("disabled",!a.paymentType||!a.previewDocument||0===(null==a.multipleApplication?null:a.multipleApplication.totalAmount))}}var Q,q=function(){return{standalone:!0}},Y=function(){return[5,10,20]},G=((Q=function(){function n(e,t,a,i,l,o,p,m){r(this,n),this.sanitizer=e,this.apiService=t,this.dataStorage=a,this.fileStorageService=i,this.sweetAlertService=l,this.router=o,this.dialogRef=p,this.data=m,this.displayedColumns=["referenceCode","adTitle","mediumAndLength","amount"],this.multipleApplicationList=[],this.s1Application=new f.q,this.payment=new f.n,this.previewDocument=!1,this.attachmentDocument=new f.h,this.applicationSingleMedia=new y.a,this.attachmentDocuments=[],this.isSubmitted=!1,this.paymentTypeList=[],this.multipleApplication=new v.a,this.isDisabled=!1,this.typeOfMediumDisplay="",m&&(this.multipleApplication=m,this.multipleApplication.paymentStatus!==d.u.FOR_PAYMENT&&(this.isDisabled=!0),this.getPaymentDetails())}return l(n,[{key:"ngOnInit",value:function(){this.getMultipleApplicationList(),this.getPaymentList()}},{key:"getPaymentDetails",value:function(){var e=this;this.apiService.findAll(d.n.multiplePaymentDetails+this.multipleApplication.id).subscribe((function(t){e.paymentDetails=t}))}},{key:"getMultipleApplicationList",value:function(){var e=this;this.apiService.findAll(d.n.getMultipleAppFormsWithNoRejected+this.multipleApplication.id).subscribe((function(t){e.multipleApplicationList=t.responseData.data,console.log(e.multipleApplicationList),e.multipleApplicationList.forEach((function(t){var n,a;switch((null==t?void 0:t.refTypeOfMedium)||(null===(a=null===(n=null==t?void 0:t.applicationFormS2)||void 0===n?void 0:n.applicationForm)||void 0===a?void 0:a.refTypeOfMedium)){case"SINGLE MEDIA":e.getApplicationSingleMedia(null==t?void 0:t.appFormReference);break;case"MULTIMEDIA-MOVING":e.getMultimediaMoving(null==t?void 0:t.appFormReference);break;case"MULTIMEDIA-STATIC":e.getMultimediaStatic(null==t?void 0:t.appFormReference)}})),e.dataSource=new c.p(e.multipleApplicationList),e.dataSource.paginator=e.paginator,e.dataSource.sort=e.sort}),(function(t){t.error.message=d.o.under_maintenance,e.sweetAlertService.error(t)}))}},{key:"getPaymentList",value:function(){var e=this;this.apiService.findAll(d.n.paymentType).subscribe((function(t){if(e.dataStorage.getUserAccount().userRole.name===d.F.ROLE_APPLICANT){var n=e.paymentTypeList.findIndex((function(e){return"Credit Card"===e.paymentDescription}));e.paymentTypeList.splice(n,1)}e.paymentTypeList=t.responseData.data}))}},{key:"selectFile",value:function(e){var n=e.target.files[0].size;if("application/pdf"!==e.target.files[0].type)return this.sweetAlertService.customErrorMessage("Attachment should be in PDF format only."),void(e.target.value="");if(n>15e6)return this.sweetAlertService.customErrorMessage("Attachments' total file size should not exceed 15MB."),void(e.target.value="");var a=URL.createObjectURL(e.target.files[0]);this.safeURLProofOfPayment=this.sanitizer.bypassSecurityTrustResourceUrl(a),this.previewDocument=!0;var i=new FileReader,l=t(e.target.files,1)[0];i.readAsDataURL(l),i.onload=function(){},this.selectedFiles=e.target.files}},{key:"uploadDocument",value:function(e){var t=this;S.a.fire({text:"Are you sure you want to submit this PROOF OF PAYMENT?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(n){var a;n.value&&(t.dataStorage.setDisplayProgressbar(!0),a="?&attachmentType="+d.j.PAYMENT+"&submissionType="+d.C.ORIGINAL,t.fileStorageService.pushFileToStorage(d.n.attachmentDocument,t.selectedFiles.item(0),a).subscribe((function(n){var a=n.responseData.data;console.log(a),t.s1Application.paymentAttachmentReference=a.paymentAttachmentReference,t.payment.paymentAttachmentReference=a.paymentAttachmentReference,t.payment.amountDue=t.totalAmount,t.payment.multipleApplication=e,t.payment.filename=a.filename,t.saveProofOfPayment(),t.selectedFiles=void 0}),(function(e){t.sweetAlertService.error(e)}),(function(){t.dataStorage.setDisplayProgressbar(!1)})))}))}},{key:"saveProofOfPayment",value:function(){var e=this;console.log("Saving payment..."),this.dataStorage.setDisplayProgressbar(!0),this.payment.paymentStatus=d.u.FOR_APPROVAL,this.payment.id=0,this.payment.officialReceiptNo="",this.payment.paymentMethod=null,this.payment.amountDue=this.multipleApplication.totalAmount,console.log("PAYMENT : ",this.payment),console.log(this.paymentType.id),this.apiService.save("".concat(d.n.applicationFormPresentor,"payment-type-id/").concat(this.paymentType.id,"/payment-multiple/submit"),this.payment).subscribe((function(t){console.log("SAVED STATUS: ",t.responseData.data),e.safeURLProofOfPayment=e.sanitizer.bypassSecurityTrustResourceUrl(t.responseData.data.fileURL),e.isSubmitted=!0,e.sweetAlertService.customSuccessMessage("Proof of payment successfully submitted."),e.closeModal()}),(function(t){console.log(t),e.sweetAlertService.error(t),e.dataStorage.setDisplayProgressbar(!1)}),(function(){e.dataStorage.setDisplayProgressbar(!1)}))}},{key:"closeModal",value:function(){this.dialogRef.close(),this.router.navigate(["asc/page/application/multiple-applications"])}},{key:"ngOnDestroy",value:function(){}},{key:"getApplicationSingleMedia",value:function(e){var t,n,a,i,l,r,o,p,m=this;void 0===e&&(e=null===(n=null===(t=this.payment)||void 0===t?void 0:t.applicationForm)||void 0===n?void 0:n.appFormReference),(null===(l=null===(i=null===(a=this.payment)||void 0===a?void 0:a.applicationFormS2)||void 0===i?void 0:i.applicationForm)||void 0===l?void 0:l.refTypeOfMedium)&&(e=null===(p=null===(o=null===(r=this.payment)||void 0===r?void 0:r.applicationFormS2)||void 0===o?void 0:o.applicationForm)||void 0===p?void 0:p.appFormReference),this.apiService.findByParam(d.n.applicationSingleMedia,"app-form-reference/"+e).subscribe((function(t){var n,a,i,l;t.responseData.data.length>0?(m.applicationSingleMedia=t.responseData.data[0],m.typeOfMediumDisplay="".concat(null===(i=null===(a=null===(n=m.applicationSingleMedia)||void 0===n?void 0:n.mediumExecution)||void 0===a?void 0:a.typeOfMedium)||void 0===i?void 0:i.description," (").concat(null===(l=m.applicationSingleMedia)||void 0===l?void 0:l.sizeLength,")"),console.log("view applicationSingleMedia: ",m.typeOfMediumDisplay),m.multipleApplicationList.forEach((function(t,n){t.appFormReference===e&&(m.multipleApplicationList[n]=Object.assign(Object.assign({},m.multipleApplicationList[n]),{typeOfMediumDisplay:m.typeOfMediumDisplay}))})),m.dataSource=new c.p(m.multipleApplicationList),m.dataSource.paginator=m.paginator):(m.applicationSingleMedia=new y.a,m.typeOfMediumDisplay="")}),(function(e){m.applicationSingleMedia=new y.a,m.typeOfMediumDisplay=""}))}},{key:"getMultimediaStatic",value:function(t){var n,a,i=this;void 0===t&&(t=null===(a=null===(n=this.payment)||void 0===n?void 0:n.applicationForm)||void 0===a?void 0:a.appFormReference),this.apiService.findByParam(d.n.applicationMultimedia,"app-form-reference/"+t).subscribe((function(n){if(n.responseData.data.length>0){var a=new Set(n.responseData.data.map((function(e){var t;return"".concat(null===(t=null==e?void 0:e.typeOfMedium)||void 0===t?void 0:t.description," (").concat(null==e?void 0:e.multimediaSizeLength,")")})));i.typeOfMediumDisplay="";var l,r=1,o=e(a);try{for(o.s();!(l=o.n()).done;){var p=l.value;r!==a.size?(i.typeOfMediumDisplay+=p+", ",r++):i.typeOfMediumDisplay+=p}}catch(m){o.e(m)}finally{o.f()}i.multipleApplicationList.forEach((function(e,n){console.log(e),e.appFormReference===t&&(i.multipleApplicationList[n]=Object.assign(Object.assign({},i.multipleApplicationList[n]),{typeOfMediumDisplay:i.typeOfMediumDisplay}))})),i.dataSource=new c.p(i.multipleApplicationList),i.dataSource.paginator=i.paginator}else i.typeOfMediumDisplay=""}),(function(e){i.typeOfMediumDisplay=""}))}},{key:"getMultimediaMoving",value:function(t){var n,a,i=this;void 0===t&&(t=null===(a=null===(n=this.payment)||void 0===n?void 0:n.applicationForm)||void 0===a?void 0:a.appFormReference),this.apiService.findByParam(d.n.applicationMultimedia,"app-form-reference/"+t).subscribe((function(n){if(n.responseData.data.length>0){var a=new Set(n.responseData.data.map((function(e){var t;return"".concat(null===(t=null==e?void 0:e.typeOfMedium)||void 0===t?void 0:t.description," (").concat(null==e?void 0:e.multimediaSizeLength,")")})));i.typeOfMediumDisplay="";var l,r=1,o=e(a);try{for(o.s();!(l=o.n()).done;){var p=l.value;r!==a.size?(i.typeOfMediumDisplay+=p+", ",r++):i.typeOfMediumDisplay+=p}}catch(m){o.e(m)}finally{o.f()}i.multipleApplicationList.forEach((function(e,n){console.log(e),e.appFormReference===t&&(i.multipleApplicationList[n]=Object.assign(Object.assign({},i.multipleApplicationList[n]),{typeOfMediumDisplay:i.typeOfMediumDisplay}))})),i.dataSource=new c.p(i.multipleApplicationList),i.dataSource.paginator=i.paginator}else i.typeOfMediumDisplay=""}),(function(e){i.typeOfMediumDisplay=""}))}}]),n}()).\u0275fac=function(e){return new(e||Q)(g["\u0275\u0275directiveInject"](b.b),g["\u0275\u0275directiveInject"](A.b),g["\u0275\u0275directiveInject"](A.c),g["\u0275\u0275directiveInject"](M.a),g["\u0275\u0275directiveInject"](A.e),g["\u0275\u0275directiveInject"](p.b),g["\u0275\u0275directiveInject"](s.h,8),g["\u0275\u0275directiveInject"](s.a,8))},Q.\u0275cmp=g["\u0275\u0275defineComponent"]({type:Q,selectors:[["app-modal-multiple-applications"]],viewQuery:function(e,t){var n;1&e&&(g["\u0275\u0275viewQuery"](m.a,!0),g["\u0275\u0275viewQuery"](u.a,!0),g["\u0275\u0275viewQuery"](c.o,!0)),2&e&&(g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.sort=n.first),g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.table=n.first))},inputs:{s1Application:"s1Application"},decls:72,vars:32,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[1,"row","col-md-12"],[1,"row","col-md-6"],["type","file","accept",".pdf",1,"file-upload",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],[4,"ngIf"],["appearance","outline",1,"col-md-12"],["matInput","","name","companyName","readonly","",3,"value"],["matInput","","name","amount","readonly","",1,"numbers-input",3,"value"],["matInput","","name","amount","readonly","",1,"numbers-input","total",3,"value"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","referenceCode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","adTitle"],["matColumnDef","mediumAndLength"],["matColumnDef","amount"],["mat-cell","","class","numbers-input",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-record",3,"hidden"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],["name","paymentType",3,"value",4,"ngFor","ngForOf"],["matInput","","name","remarks",3,"ngModel","readonly","ngModelChange"],["class","row",4,"ngIf"],[1,"file-upload"],["type","application/pdf","width","100%","height","500",3,"data"],["width","100%","height","500",3,"src"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"numbers-input"],["mat-header-row",""],["mat-row",""],["name","paymentType",3,"value"],[1,"col-md-10"],[1,"col-md-2"],["mat-raised-button","",1,"button-red",3,"disabled","click"],[1,"material-icons","color__white"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"div",0),g["\u0275\u0275elementStart"](1,"div",1),g["\u0275\u0275elementStart"](2,"div",2),g["\u0275\u0275elementStart"](3,"mat-label"),g["\u0275\u0275elementStart"](4,"mat-icon"),g["\u0275\u0275text"](5,"view_list"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](6," Schedule of Fees - Multiple Applications "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](7,"hr"),g["\u0275\u0275element"](8,"br"),g["\u0275\u0275elementStart"](9,"div",3),g["\u0275\u0275elementStart"](10,"div",4),g["\u0275\u0275elementStart"](11,"div"),g["\u0275\u0275elementStart"](12,"mat-label"),g["\u0275\u0275text"](13,"Proof of Payment: \xa0\xa0\xa0"),g["\u0275\u0275elementStart"](14,"span"),g["\u0275\u0275text"](15,"PDF file only!"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](16,"br"),g["\u0275\u0275elementStart"](17,"input",5),g["\u0275\u0275listener"]("ngModelChange",(function(e){return t.attachment=e}))("change",(function(e){return t.selectFile(e)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](18,R,6,2,"div",6),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](19,"div",4),g["\u0275\u0275elementStart"](20,"mat-form-field",7),g["\u0275\u0275elementStart"](21,"mat-label"),g["\u0275\u0275text"](22,"Advertiser"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](23,"input",8),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](24,"mat-form-field",7),g["\u0275\u0275elementStart"](25,"mat-label"),g["\u0275\u0275text"](26,"Vatable Sales"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](27,"input",9),g["\u0275\u0275pipe"](28,"number"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](29,"mat-form-field",7),g["\u0275\u0275elementStart"](30,"mat-label"),g["\u0275\u0275text"](31,"VAT"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](32,"input",9),g["\u0275\u0275pipe"](33,"number"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](34,"mat-form-field",7),g["\u0275\u0275elementStart"](35,"mat-label"),g["\u0275\u0275text"](36,"Total Sales (VAT Inclusive)"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](37,"input",10),g["\u0275\u0275pipe"](38,"number"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](39,"div"),g["\u0275\u0275elementStart"](40,"table",11),g["\u0275\u0275elementContainerStart"](41,12),g["\u0275\u0275template"](42,T,2,0,"th",13),g["\u0275\u0275template"](43,L,2,1,"td",14),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](44,15),g["\u0275\u0275template"](45,I,2,0,"th",13),g["\u0275\u0275template"](46,F,2,1,"td",14),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](47,16),g["\u0275\u0275template"](48,k,2,0,"th",13),g["\u0275\u0275template"](49,j,2,1,"td",14),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](50,17),g["\u0275\u0275template"](51,N,2,0,"th",13),g["\u0275\u0275template"](52,U,3,4,"td",18),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275template"](53,B,1,0,"tr",19),g["\u0275\u0275template"](54,V,1,0,"tr",20),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](55,"div",21),g["\u0275\u0275text"](56," No record found. "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](57,"mat-paginator",22),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](58,"div"),g["\u0275\u0275element"](59,"br"),g["\u0275\u0275element"](60,"hr"),g["\u0275\u0275element"](61,"br"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](62,"mat-form-field",7),g["\u0275\u0275elementStart"](63,"mat-label"),g["\u0275\u0275text"](64,"Payment Mode"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](65,"mat-select",23),g["\u0275\u0275listener"]("ngModelChange",(function(e){return t.paymentType=e})),g["\u0275\u0275template"](66,z,3,4,"mat-option",24),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](67,"mat-form-field",7),g["\u0275\u0275elementStart"](68,"mat-label"),g["\u0275\u0275text"](69,"Remarks"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](70,"textarea",25),g["\u0275\u0275listener"]("ngModelChange",(function(e){return t.payment.remarks=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](71,_,8,2,"div",26),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](17),g["\u0275\u0275property"]("ngModel",t.attachment)("ngModelOptions",g["\u0275\u0275pureFunction0"](29,q))("disabled",t.isDisabled),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!0===t.previewDocument&&!t.isDisabled),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("value",null==t.multipleApplication||null==t.multipleApplication.company?null:t.multipleApplication.company.companyName),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("value",g["\u0275\u0275pipeBind2"](28,20,null==t.paymentDetails?null:t.paymentDetails.basicRate,"1.2-2")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("value",g["\u0275\u0275pipeBind2"](33,23,null==t.paymentDetails?null:t.paymentDetails.vat,"1.2-2")),g["\u0275\u0275advance"](5),g["\u0275\u0275property"]("value",g["\u0275\u0275pipeBind2"](38,26,null==t.paymentDetails?null:t.paymentDetails.amountDue,"1.2-2")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("dataSource",t.dataSource),g["\u0275\u0275advance"](13),g["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",t.dataSource&&(null==t.dataSource||null==t.dataSource.data?null:t.dataSource.data.length)>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("pageSizeOptions",g["\u0275\u0275pureFunction0"](30,Y)),g["\u0275\u0275advance"](8),g["\u0275\u0275property"]("ngModel",t.paymentType)("ngModelOptions",g["\u0275\u0275pureFunction0"](31,q))("disabled","FOR_PAYMENT"!==(null==t.multipleApplication?null:t.multipleApplication.paymentStatus)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",t.paymentTypeList),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",t.payment.remarks)("readonly","FOR_PAYMENT"!==(null==t.multipleApplication?null:t.multipleApplication.paymentStatus)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!t.isDisabled||void 0===(null==t.multipleApplication?null:t.multipleApplication.paymentStatus)||0===(null==t.multipleApplication?null:t.multipleApplication.totalAmount)))},directives:[E.g,w.a,D.d,D.t,D.w,o.t,E.c,C.b,c.o,u.a,c.c,c.i,c.b,c.k,c.n,m.a,O.a,o.s,c.h,c.a,c.j,c.m,x.m,P.b],pipes:[o.g,o.G],styles:["span[_ngcontent-%COMP%]{color:red}.grandTotal[_ngcontent-%COMP%]{font-weight:900;float:right;padding-right:20%}.numbers-input[_ngcontent-%COMP%]{text-align:end}.total[_ngcontent-%COMP%]{font-weight:900}"]}),Q);function H(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",20),g["\u0275\u0275text"](1," REFERENCE CODE "),g["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",21),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"]().openModal(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,null==a?null:a.adTitle),"")}}function X(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",20),g["\u0275\u0275text"](1," TYPE OF APPLICATION"),g["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",21),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"]().openModal(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](2,1,null==a||null==a.applicationType?null:a.applicationType.description))}}function W(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",20),g["\u0275\u0275text"](1," BRAND"),g["\u0275\u0275elementEnd"]())}function Z(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",21),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"]().openModal(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](2,1,null==a||null==a.brand?null:a.brand.description))}}function ee(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",20),g["\u0275\u0275text"](1," PRODUCT"),g["\u0275\u0275elementEnd"]())}function te(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",21),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"]().openModal(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](2,1,null==a||null==a.product?null:a.product.description))}}function ne(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",20),g["\u0275\u0275text"](1," APPLICANT COMPANY NAME"),g["\u0275\u0275elementEnd"]())}function ae(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",21),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"]().openModal(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](2,1,null==a?null:a.company.companyName))}}function ie(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",20),g["\u0275\u0275text"](1," PAYMENT STATUS"),g["\u0275\u0275elementEnd"]())}function le(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",21),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"]().openModal(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate"](g["\u0275\u0275pipeBind1"](2,1,null==a||null==a.paymentStatus?null:a.paymentStatus.replaceAll("_"," ")))}}function re(e,t){1&e&&g["\u0275\u0275element"](0,"tr",22)}function oe(e,t){1&e&&g["\u0275\u0275element"](0,"tr",23)}var pe,me,ue,ce=function(){return[10,20,50]},de=[{path:"",component:(pe=function(){function e(t,n,a){r(this,e),this.apiService=t,this.dialog=n,this.dataStorage=a,this.displayedColumns=["adTitle","typeOfApplication","brand","product","applicantCompanyName","paymentStatus"],this.paymentList=[]}return l(e,[{key:"ngOnInit",value:function(){this.currentUser=this.dataStorage.getUserAccount(),this.getS1MultiplePaymentList()}},{key:"getS1MultiplePaymentList",value:function(){var e=this;this.apiService.findAll(d.n.applicationFormPresentor+(this.currentUser.id+"/multiple-application?paymentStatus=FOR_PAYMENT")).subscribe((function(t){e.paymentList=t.responseData.data,e.dataSource=new c.p(e.paymentList),e.dataSource.paginator=e.paginator,e.dataSource.sort=e.sort}),(function(e){}))}},{key:"openModal",value:function(e){var t=this;this.dialog.open(G,{width:"60%",height:"85%",data:e}).afterClosed().subscribe((function(e){e&&(console.log(e),t.getS1MultiplePaymentList())}))}}]),e}(),pe.\u0275fac=function(e){return new(e||pe)(g["\u0275\u0275directiveInject"](A.b),g["\u0275\u0275directiveInject"](s.b),g["\u0275\u0275directiveInject"](A.c))},pe.\u0275cmp=g["\u0275\u0275defineComponent"]({type:pe,selectors:[["app-multiple-applications"]],viewQuery:function(e,t){var n;1&e&&(g["\u0275\u0275viewQuery"](m.a,!0),g["\u0275\u0275viewQuery"](u.a,!0),g["\u0275\u0275viewQuery"](c.o,!0)),2&e&&(g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.sort=n.first),g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.table=n.first))},decls:39,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],["fxLayout","","fxLayoutAlign","center center",1,"col-md-12"],["appearance","outline",1,"col-md-12"],["matInput","","type","text","placeholder","Company Name"],[1,"mat-elevation-z8","fields"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","adTitle"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","typeOfApplication"],["matColumnDef","brand"],["matColumnDef","product"],["matColumnDef","applicantCompanyName"],["matColumnDef","paymentStatus"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-record",3,"hidden"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"form"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"div",1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"mat-label"),g["\u0275\u0275elementStart"](5,"mat-icon"),g["\u0275\u0275text"](6,"view_list"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](7," Multiple Applications - For Payment "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](8,"hr"),g["\u0275\u0275element"](9,"br"),g["\u0275\u0275elementStart"](10,"div",3),g["\u0275\u0275elementStart"](11,"mat-form-field",4),g["\u0275\u0275element"](12,"input",5),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](13,"div",6),g["\u0275\u0275elementStart"](14,"table",7),g["\u0275\u0275elementContainerStart"](15,8),g["\u0275\u0275template"](16,H,2,0,"th",9),g["\u0275\u0275template"](17,J,3,3,"td",10),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](18,11),g["\u0275\u0275template"](19,X,2,0,"th",9),g["\u0275\u0275template"](20,K,3,3,"td",10),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](21,12),g["\u0275\u0275template"](22,W,2,0,"th",9),g["\u0275\u0275template"](23,Z,3,3,"td",10),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](24,13),g["\u0275\u0275template"](25,ee,2,0,"th",9),g["\u0275\u0275template"](26,te,3,3,"td",10),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](27,14),g["\u0275\u0275template"](28,ne,2,0,"th",9),g["\u0275\u0275template"](29,ae,3,3,"td",10),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](30,15),g["\u0275\u0275template"](31,ie,2,0,"th",9),g["\u0275\u0275template"](32,le,3,3,"td",10),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275template"](33,re,1,0,"tr",16),g["\u0275\u0275template"](34,oe,1,0,"tr",17),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](35,"div",18),g["\u0275\u0275text"](36," No record found. "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](37,"mat-paginator",19),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](38,"br"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e&&(g["\u0275\u0275advance"](14),g["\u0275\u0275property"]("dataSource",t.dataSource),g["\u0275\u0275advance"](19),g["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",t.dataSource&&(null==t.dataSource||null==t.dataSource.data?null:t.dataSource.data.length)>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("pageSizeOptions",g["\u0275\u0275pureFunction0"](5,ce)))},directives:[D.J,D.u,D.v,E.g,w.a,E.c,C.b,c.o,u.a,c.c,c.i,c.b,c.k,c.n,m.a,c.h,u.b,c.a,c.j,c.m],pipes:[o.G],styles:[""]}),pe)}],se=((me=l((function e(){r(this,e)}))).\u0275mod=g["\u0275\u0275defineNgModule"]({type:me}),me.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||me)},imports:[[p.f.forChild(de)],p.f]}),me),fe=i("tk/3"),ye=((ue=l((function e(){r(this,e)}))).\u0275mod=g["\u0275\u0275defineNgModule"]({type:ue}),ue.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||ue)},imports:[[o.c,se,fe.b,D.D,D.n,d.k,c.q]]}),ue)}}])}();