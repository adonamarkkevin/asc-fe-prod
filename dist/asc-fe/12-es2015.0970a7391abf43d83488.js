(window.webpackJsonp=window.webpackJsonp||[]).push([[12,11,34],{"50w+":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{}},EJ3x:function(e,t,n){"use strict";n.r(t),n.d(t,"AddPenaltyModule",(function(){return Ee}));var a=n("ofXK"),r=n("tyNb"),o=n("9Vv1"),i=n("M9IT"),l=n("+0xr"),m=n("sKXY"),c=n("M0ag");class s{}class p{}var d=n("piSE"),u=n("PSD3"),y=n.n(u),h=n("fXoL"),f=n("dJ3e"),g=n("jhN1"),v=n("TMp0"),b=n("JqCM"),S=n("r74M"),x=n("3Pt+"),C=n("kmnG"),P=n("bTqV"),A=n("qFsG"),w=n("Dh3D"),M=n("d3UM"),R=n("FKr1");function E(e,t){if(1&e&&h["\u0275\u0275element"](0,"input",14),2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275property"]("value",e.attachmentDocument.originalFilename||(null==e.objAttachmentReference?null:e.objAttachmentReference.brandPenaltyAttachmentReference)||(null==e.objAttachmentReference?null:e.objAttachmentReference.paymentAttachmentReference))}}function D(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"input",15),h["\u0275\u0275listener"]("change",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).selectFile(t)})),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275property"]("hidden",(null==e.objAttachmentReference?null:e.objAttachmentReference.brandPenaltyAttachmentReference)||(null==e.objAttachmentReference?null:e.objAttachmentReference.paymentAttachmentReference))}}function I(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Filename: "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](3,"br"),h["\u0275\u0275template"](4,E,1,1,"input",12),h["\u0275\u0275template"](5,D,1,1,"input",13),h["\u0275\u0275element"](6,"br"),h["\u0275\u0275element"](7,"br"),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("ngIf",e.attachmentDocument.originalFilename||(null==e.objAttachmentReference?null:e.objAttachmentReference.brandPenaltyAttachmentReference)||(null==e.objAttachmentReference?null:e.objAttachmentReference.paymentAttachmentReference)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.attachmentDocument.originalFilename)}}function F(e,t){1&e&&h["\u0275\u0275elementContainer"](0)}function T(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div",11),h["\u0275\u0275template"](1,F,1,0,"ng-container",16),h["\u0275\u0275elementEnd"]()),2&e){h["\u0275\u0275nextContext"]();const e=h["\u0275\u0275reference"](19);h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngTemplateOutlet",e)}}function B(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",20),h["\u0275\u0275listener"]("click",(function(){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).viewDocument()})),h["\u0275\u0275elementStart"](1,"i",21),h["\u0275\u0275text"](2,"open_in_new"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](3," VIEW DOCUMENT "),h["\u0275\u0275elementEnd"]()}}function V(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",22),h["\u0275\u0275listener"]("click",(function(){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).uploadProofOfPayment()})),h["\u0275\u0275elementStart"](1,"i",21),h["\u0275\u0275text"](2,"upload"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](3," UPLOAD "),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275property"]("disabled",!e.safeURLBrand||!e.isShowUploadButton)("hidden",(null==e.objAttachmentReference?null:e.objAttachmentReference.brandPenaltyAttachmentReference)||(null==e.objAttachmentReference?null:e.objAttachmentReference.paymentAttachmentReference))}}function k(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div",23),h["\u0275\u0275elementStart"](1,"div",24),h["\u0275\u0275elementStart"](2,"object",25),h["\u0275\u0275elementStart"](3,"iframe",26),h["\u0275\u0275elementStart"](4,"p"),h["\u0275\u0275text"](5,"This browser does not support PDF!"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("data",e.safeURLBrand,h["\u0275\u0275sanitizeResourceUrl"]),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("src",e.safeURLBrand,h["\u0275\u0275sanitizeResourceUrl"])}}function U(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div",11),h["\u0275\u0275template"](1,B,4,0,"button",17),h["\u0275\u0275text"](2," \xa0 \xa0 "),h["\u0275\u0275template"](3,V,4,2,"button",18),h["\u0275\u0275element"](4,"br"),h["\u0275\u0275element"](5,"br"),h["\u0275\u0275template"](6,k,6,2,"div",19),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",(null==e.objAttachmentReference?null:e.objAttachmentReference.brandPenaltyAttachmentReference)||(null==e.objAttachmentReference?null:e.objAttachmentReference.paymentAttachmentReference)),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngIf",e.isShowUploadButton),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngIf",1==e.previewDocument&&((null==e.objAttachmentReference?null:e.objAttachmentReference.brandPenaltyAttachmentReference)||(null==e.objAttachmentReference?null:e.objAttachmentReference.paymentAttachmentReference)))}}function O(e,t){1&e&&h["\u0275\u0275elementContainer"](0)}function L(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div",2),h["\u0275\u0275template"](1,O,1,0,"ng-container",16),h["\u0275\u0275elementEnd"]()),2&e){h["\u0275\u0275nextContext"]();const e=h["\u0275\u0275reference"](21);h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngTemplateOutlet",e)}}function j(e,t){1&e&&h["\u0275\u0275elementContainer"](0)}function q(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div",2),h["\u0275\u0275template"](1,j,1,0,"ng-container",16),h["\u0275\u0275elementEnd"]()),2&e){h["\u0275\u0275nextContext"]();const e=h["\u0275\u0275reference"](23);h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngTemplateOutlet",e)}}function N(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",43),h["\u0275\u0275text"](1," REFERENCE CODE "),h["\u0275\u0275elementEnd"]())}function _(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",44),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"](2).getPaymentDetails(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.referenceCode)," ")}}function $(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",43),h["\u0275\u0275text"](1," BRAND "),h["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",44),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"](2).getPaymentDetails(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,null==e||null==e.brand?null:e.brand.description)," ")}}function W(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",43),h["\u0275\u0275text"](1," TYPE OF MEDIUM "),h["\u0275\u0275elementEnd"]())}function Y(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",44),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"](2).getPaymentDetails(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.typeOfMedium)," ")}}function G(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",43),h["\u0275\u0275text"](1," PAYMENT STATUS "),h["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",44),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"](2).getPaymentDetails(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,null==e||null==e.paymentStatus?null:e.paymentStatus.replaceAll("_"," "))," ")}}function X(e,t){1&e&&h["\u0275\u0275element"](0,"tr",45)}function K(e,t){1&e&&h["\u0275\u0275element"](0,"tr",46)}function H(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",47),h["\u0275\u0275listener"]("click",(function(){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).addPenalty("Delinquent")})),h["\u0275\u0275elementStart"](1,"i",5),h["\u0275\u0275text"](2,"task_alt"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](3," SUBMIT "),h["\u0275\u0275elementEnd"]()}}const Q=function(){return{standalone:!0}},Z=function(){return[10,20,50]};function ee(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"div",27),h["\u0275\u0275elementStart"](1,"mat-form-field",11),h["\u0275\u0275elementStart"](2,"mat-label"),h["\u0275\u0275text"](3,"Company"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"input",28),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"]().company.companyName=t})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"mat-form-field",11),h["\u0275\u0275elementStart"](6,"mat-label"),h["\u0275\u0275text"](7,"Amount to Settle"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"input",29),h["\u0275\u0275listener"]("keydown",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"]().validateFieldService.numbersOnly(t)})),h["\u0275\u0275pipe"](9,"number"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](10,"div",30),h["\u0275\u0275elementStart"](11,"table",31),h["\u0275\u0275elementContainerStart"](12,32),h["\u0275\u0275template"](13,N,2,0,"th",33),h["\u0275\u0275template"](14,_,3,3,"td",34),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](15,35),h["\u0275\u0275template"](16,$,2,0,"th",33),h["\u0275\u0275template"](17,z,3,3,"td",34),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](18,36),h["\u0275\u0275template"](19,W,2,0,"th",33),h["\u0275\u0275template"](20,Y,3,3,"td",34),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](21,37),h["\u0275\u0275template"](22,G,2,0,"th",33),h["\u0275\u0275template"](23,J,3,3,"td",34),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](24,X,1,0,"tr",38),h["\u0275\u0275template"](25,K,1,0,"tr",39),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](26,"div",40),h["\u0275\u0275text"](27," No record found. "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](28,"mat-paginator",41),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](29,"br"),h["\u0275\u0275element"](30,"br"),h["\u0275\u0275template"](31,H,4,0,"button",42),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("ngModel",e.company.companyName)("ngModelOptions",h["\u0275\u0275pureFunction0"](12,Q)),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("value",h["\u0275\u0275pipeBind2"](9,9,null==e.payment?null:e.payment.amountDue,"1.2-2")),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("dataSource",e.dataSource),h["\u0275\u0275advance"](13),h["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("hidden",e.dataSource&&(null==e.dataSource||null==e.dataSource.data?null:e.dataSource.data.length)>0),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](13,Z)),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngIf","save"===e.process)}}function te(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"mat-option",54),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275property"]("value",e),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,2,null==e?null:e.description)," ")}}function ne(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Brand"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"mat-select",52),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).brandPenalty.brand=t})),h["\u0275\u0275template"](4,te,3,4,"mat-option",53),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.brandPenalty.brand)("ngModelOptions",h["\u0275\u0275pureFunction0"](3,Q)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngForOf",e.brandList)}}function ae(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Brand"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"input",28),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).penaltyBrand=t})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.penaltyBrand)("ngModelOptions",h["\u0275\u0275pureFunction0"](2,Q))}}function re(e,t){1&e&&h["\u0275\u0275element"](0,"hr")}function oe(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"mat-option",57),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275property"]("value",e),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,2,null==e?null:e.paymentDescription)," ")}}function ie(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Payment Mode"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"mat-select",55),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).paymentMethod.paymentType=t})),h["\u0275\u0275template"](4,oe,3,4,"mat-option",56),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.paymentMethod.paymentType)("compareWith",e.comparePaymentMethod)("disabled","PAID"===(null==e.brandPenalty?null:e.brandPenalty.paymentStatus)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngForOf",e.paymentTypeList)}}function le(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Amount Received"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"input",58),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).paymentMethod.amount=t}))("keydown",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).validateFieldService.numbersOnly(t)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.paymentMethod.amount)("ngModelOptions",h["\u0275\u0275pureFunction0"](3,Q))("readonly","PAID"===(null==e.brandPenalty?null:e.brandPenalty.paymentStatus))}}function me(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",47),h["\u0275\u0275listener"]("click",(function(){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).addPenalty("Brand")})),h["\u0275\u0275elementStart"](1,"i",5),h["\u0275\u0275text"](2,"task_alt"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](3," SUBMIT "),h["\u0275\u0275elementEnd"]()}}function ce(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",59),h["\u0275\u0275listener"]("click",(function(){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).approvePenalty()})),h["\u0275\u0275elementStart"](1,"i",5),h["\u0275\u0275text"](2,"task_alt"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](3," APPROVE "),h["\u0275\u0275elementEnd"]()}}function se(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"div",27),h["\u0275\u0275template"](1,ne,5,4,"mat-form-field",6),h["\u0275\u0275template"](2,ae,4,3,"mat-form-field",6),h["\u0275\u0275elementStart"](3,"mat-form-field",11),h["\u0275\u0275elementStart"](4,"mat-label"),h["\u0275\u0275text"](5,"Accumulated Amount Due"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"input",48),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"]().brandPenalty.amount=t}))("keydown",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"]().validateFieldService.numbersOnly(t)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"mat-form-field",11),h["\u0275\u0275elementStart"](8,"mat-label"),h["\u0275\u0275text"](9,"Remarks"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](10,"textarea",49),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"]().brandPenalty.remarks=t})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](11,re,1,0,"hr",50),h["\u0275\u0275template"](12,ie,5,4,"mat-form-field",6),h["\u0275\u0275template"](13,le,4,4,"mat-form-field",6),h["\u0275\u0275element"](14,"br"),h["\u0275\u0275element"](15,"br"),h["\u0275\u0275template"](16,me,4,0,"button",42),h["\u0275\u0275template"](17,ce,4,0,"button",51),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0===e.penaltyBrand),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0!==e.penaltyBrand),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("ngModel",e.brandPenalty.amount)("ngModelOptions",h["\u0275\u0275pureFunction0"](12,Q)),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("ngModel",e.brandPenalty.remarks)("ngModelOptions",h["\u0275\u0275pureFunction0"](13,Q))("readonly","PAID"===(null==e.brandPenalty?null:e.brandPenalty.paymentStatus)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngIf","save"===e.process&&"PAID"!==(null==e.brandPenalty?null:e.brandPenalty.paymentStatus)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process&&"PAID"!==(null==e.brandPenalty?null:e.brandPenalty.paymentStatus))}}function pe(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"mat-option",62),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275property"]("value",e),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,2,null==e?null:e.companyName)," ")}}function de(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Company"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"mat-select",60),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).companyPenalty.company=t})),h["\u0275\u0275template"](4,pe,3,4,"mat-option",61),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.companyPenalty.company)("ngModelOptions",h["\u0275\u0275pureFunction0"](4,Q))("compareWith",e.compareCompany),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngForOf",e.companyList)}}function ue(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Company"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"input",63),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).penaltyCompany=t})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.penaltyCompany)("ngModelOptions",h["\u0275\u0275pureFunction0"](2,Q))}}function ye(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Accumulated Amount Due"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"input",48),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).companyPenalty.penaltyAmount=t}))("keydown",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).validateFieldService.numbersOnly(t)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.companyPenalty.penaltyAmount)("ngModelOptions",h["\u0275\u0275pureFunction0"](2,Q))}}function he(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Accumulated Amount Due"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"input",64),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).totalBalance=t})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.totalBalance)("ngModelOptions",h["\u0275\u0275pureFunction0"](2,Q))}}function fe(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Remarks"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"textarea",65),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).companyPenalty.remarks=t})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.companyPenalty.remarks)("readonly","update"===e.process)("ngModelOptions",h["\u0275\u0275pureFunction0"](4,Q))("readonly","PAID"===(null==e.companyPenalty?null:e.companyPenalty.paymentStatus))}}function ge(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Remarks"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"input",66),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).previewRemarks=t})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.previewRemarks)("ngModelOptions",h["\u0275\u0275pureFunction0"](2,Q))}}function ve(e,t){1&e&&h["\u0275\u0275element"](0,"hr")}function be(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"mat-option",57),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275property"]("value",e),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,2,null==e?null:e.paymentDescription)," ")}}function Se(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Payment Mode"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"mat-select",55),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).paymentMethod.paymentType=t})),h["\u0275\u0275template"](4,be,3,4,"mat-option",56),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.paymentMethod.paymentType)("compareWith",e.comparePaymentMethod)("disabled","PAID"===(null==e.companyPenalty?null:e.companyPenalty.paymentStatus)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngForOf",e.paymentTypeList)}}function xe(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"mat-form-field",11),h["\u0275\u0275elementStart"](1,"mat-label"),h["\u0275\u0275text"](2,"Amount Received"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"input",58),h["\u0275\u0275listener"]("ngModelChange",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).paymentMethod.amount=t}))("keydown",(function(t){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).validateFieldService.numbersOnly(t)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"](2);h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngModel",e.paymentMethod.amount)("ngModelOptions",h["\u0275\u0275pureFunction0"](3,Q))("readonly","PAID"===(null==e.companyPenalty?null:e.companyPenalty.paymentStatus))}}function Ce(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",47),h["\u0275\u0275listener"]("click",(function(){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).addPenalty("Company")})),h["\u0275\u0275elementStart"](1,"i",5),h["\u0275\u0275text"](2,"task_alt"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](3," SUBMIT "),h["\u0275\u0275elementEnd"]()}}function Pe(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",59),h["\u0275\u0275listener"]("click",(function(){return h["\u0275\u0275restoreView"](e),h["\u0275\u0275nextContext"](2).approvePenalty()})),h["\u0275\u0275elementStart"](1,"i",5),h["\u0275\u0275text"](2,"task_alt"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](3," APPROVE "),h["\u0275\u0275elementEnd"]()}}function Ae(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div",27),h["\u0275\u0275template"](1,de,5,5,"mat-form-field",6),h["\u0275\u0275template"](2,ue,4,3,"mat-form-field",6),h["\u0275\u0275template"](3,ye,4,3,"mat-form-field",6),h["\u0275\u0275template"](4,he,4,3,"mat-form-field",6),h["\u0275\u0275template"](5,fe,4,5,"mat-form-field",6),h["\u0275\u0275template"](6,ge,4,3,"mat-form-field",6),h["\u0275\u0275template"](7,ve,1,0,"hr",50),h["\u0275\u0275template"](8,Se,5,4,"mat-form-field",6),h["\u0275\u0275template"](9,xe,4,4,"mat-form-field",6),h["\u0275\u0275element"](10,"br"),h["\u0275\u0275element"](11,"br"),h["\u0275\u0275template"](12,Ce,4,0,"button",42),h["\u0275\u0275template"](13,Pe,4,0,"button",51),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0===e.penaltyCompany),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0!==e.penaltyCompany),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0===e.totalBalance||0===e.totalBalance),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0!==e.totalBalance&&e.totalBalance>0),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0===e.previewRemarks||""===e.previewRemarks),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",void 0!==e.previewRemarks&&""!==e.previewRemarks),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngIf","save"===e.process&&"PAID"!==(null==e.companyPenalty?null:e.companyPenalty.paymentStatus)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","update"===e.process&&"PAID"!==(null==e.companyPenalty?null:e.companyPenalty.paymentStatus))}}const we=[{path:"",component:(()=>{class e{constructor(e,t,n,a,r,o,i,l,c){this.router=e,this.apiService=t,this.sweetAlertService=n,this.sanitizer=a,this.fileStorageService=r,this.route=o,this.spinner=i,this.validateFieldService=l,this.dataStorageService=c,this.displayedColumns=["referenceCode","brand","typeOfMedium","paymentStatus"],this.brandPenalty=new s,this.companyPenalty=new p,this.paymentType=new m.o,this.attachmentDocument=new m.h,this.paymentMethod=new d.a,this.company=new m.k,this.objAttachmentReference={brandPenaltyAttachmentReference:"",paymentAttachmentReference:""},this.paymentTypeList=[],this.brandList=[],this.companyList=[],this.companyPenaltyList=[],this.delinquentAppForms=[],this.notInSelection=["INACTIVE","DISAPPROVED"],this.previewDocument=!1,this.process="save",this.paymentTypeFromUrl="",this.approveDelinquent=!1,this.isShowUploadButton=!1}ngOnInit(){this.currentUser=this.dataStorageService.getUserAccount(),this.getPenalizedBrandList(),this.getCompanyList(),this.getPaymentList(),this.id=Number(this.route.snapshot.paramMap.get("id")),this.paymentTypeFromUrl=this.route.snapshot.paramMap.get("type"),0!==this.id&&(this.process="update",this.viewPayment())}ngOnDestroy(){sessionStorage.removeItem("PAYMENT")}getPaymentDetails(e){var t;this.router.navigate((null==e?void 0:e.paymentStatus)?["asc/page/accounting/update/",`${null===(t=null==e?void 0:e.paymentStatus)||void 0===t?void 0:t.toLowerCase()}-${e.id}`,"delinquent-"+e.id]:["asc/page/accounting/update/","delinquent-"+e.id])}getPenalizedBrandList(){this.apiService.findAll(c.n.brand).subscribe(e=>{this.brandList=e.responseData.data})}getCompanyList(){this.apiService.findAll(c.n.company).subscribe(e=>{this.companyList=e.responseData.data.filter(e=>!this.notInSelection.includes(e.status))})}getPaymentList(){this.apiService.findAll(c.n.paymentType).subscribe(e=>{if(this.paymentTypeList=e.responseData.data,this.currentUser.userRole.name===o.E.ROLE_APPLICANT){const e=this.paymentTypeList.findIndex(e=>"Credit Card"===e.paymentDescription);this.paymentTypeList.splice(e,1)}})}selectFile(e){if(this.isShowUploadButton=!1,e.target.files[0]){if(this.fileSize=e.target.files[0].size,this.fileSize>15e6)return this.sweetAlertService.customErrorMessage("Attachments' total file size should not exceed 15MB."),void(e.target.value="");{this.isShowUploadButton=!0;const t=URL.createObjectURL(e.target.files[0]);this.previewDocument=!0,this.safeURLBrand=this.sanitizer.bypassSecurityTrustResourceUrl(t);const n=new FileReader,[a]=e.target.files;n.readAsDataURL(a),n.onload=()=>{},this.selectedFile=e.target.files[0]}}}addPenalty(e="Brand"){y.a.fire({text:`Are you sure you want to submit this ${e} Penalty?`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(t=>{t.value&&("Brand"===e?this.apiService.save(c.n.brandPenalties,this.brandPenalty).subscribe(e=>{this.sweetAlertService.customSuccessMessage("Brand penalty successfully saved."),this.router.navigate(["asc/page/accounting/payments/","brand-penalties"])},e=>{this.sweetAlertService.error(e)}):"Company"===e&&(this.companyPenalty.penaltyDate=new Date,this.apiService.save(c.n.companyPenalties,this.companyPenalty).subscribe(e=>{this.sweetAlertService.customSuccessMessage("Company penalty successfully saved."),this.router.navigate(["asc/page/accounting/payments/","company-penalties"])},e=>{this.sweetAlertService.error(e)})))})}uploadProofOfPayment(){y.a.fire({text:"Are you sure you want to submit this as proof of payment?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{if(e.value){this.spinner.show();let e="";"brand"===this.paymentTypeFromUrl?e=c.j.BRAND_PENALTY_PAYMENT:"company"!==this.paymentTypeFromUrl&&"delinquent"!==this.paymentTypeFromUrl||(e=c.j.PAYMENT);let t="";t="?&attachmentType="+e+"&submissionType="+c.B.ORIGINAL,this.fileStorageService.pushFileToStorage(c.n.attachmentDocument,this.selectedFile,t).subscribe(e=>{this.uploadedPaymentFile=e.responseData.data,this.addToAttachmentDocuments(this.uploadedPaymentFile),"brand"===this.paymentTypeFromUrl?(this.brandPenalty.brandPenaltyAttachmentReference=this.uploadedPaymentFile.brandPenaltyAttachmentReference,this.objAttachmentReference.brandPenaltyAttachmentReference=this.brandPenalty.brandPenaltyAttachmentReference):"company"===this.paymentTypeFromUrl?(this.companyPenalty.paymentAttachmentReference=this.uploadedPaymentFile.paymentAttachmentReference,this.objAttachmentReference.paymentAttachmentReference=this.companyPenalty.paymentAttachmentReference):"delinquent"===this.paymentTypeFromUrl&&(this.payment.paymentAttachmentReference=this.uploadedPaymentFile.paymentAttachmentReference,this.objAttachmentReference.paymentAttachmentReference=this.payment.paymentAttachmentReference),this.hideSpinner(),this.sweetAlertService.customSuccessMessage("Attachment successfully uploaded."),this.selectedFile=null,(this.brandPenalty.brandPenaltyAttachmentReference||this.companyPenalty.paymentAttachmentReference||"delinquent"===this.payment.paymentAttachmentReference)&&this.getAttachmentDocument()},e=>{this.hideSpinner(),this.sweetAlertService.error(e)},()=>{})}else this.selectedFile=null})}saveBrandPenalty(){this.apiService.save(`${c.n.brandPenalties}/payment-type-id/${this.paymentType.id}/payment/submit`,this.brandPenalty).subscribe(e=>{this.brandPenalty=new s,this.paymentType=new m.o,this.attachment=null,this.previewDocument=!1,this.sweetAlertService.customSuccessMessage("Voucher fund successfully submitted.")},e=>{console.log(e),this.sweetAlertService.error(e)})}approvePenalty(){"brand"===this.paymentTypeFromUrl?y.a.fire({text:"Are you sure you want to approve this Brand Penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value?(this.paymentMethod.paymentDate=new Date,this.brandPenalty.paymentMethod=this.paymentMethod,this.brandPenalty.brandPenaltyAttachmentReference=this.attachmentDocument.brandPenaltyAttachmentReference,console.log(this.paymentMethod),this.apiService.save(c.n.approveBrandPenalty,this.brandPenalty).subscribe(e=>{this.sweetAlertService.customSuccessMessage("Brand penalty approved successfully."),this.router.navigate(["asc/page/accounting/payments/","brand-penalties"])})):this.attachment=null}):"company"===this.paymentTypeFromUrl?y.a.fire({text:"Are you sure you want to approve this Company Penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{var t,n;e.value?(this.companyPenalty.paymentMethod=this.paymentMethod,this.companyPenalty.paymentAttachmentReference=this.attachmentDocument.paymentAttachmentReference,console.log(this.paymentMethod),console.log(this.companyPenalty),console.log(this.attachmentDocument.paymentAttachmentReference),this.companyPenaltyList[0].paymentMethod=this.paymentMethod,this.companyPenaltyList[0].paymentAttachmentReference=this.attachmentDocument.paymentAttachmentReference,this.apiService.save(`${c.n.companyPenalties}/submit-penalty-payment?amountReceived=${this.paymentMethod.amount}&paymentTypeId=${null===(n=null===(t=this.paymentMethod)||void 0===t?void 0:t.paymentType)||void 0===n?void 0:n.id}`,this.companyPenaltyList[0]).subscribe(e=>{this.sweetAlertService.customSuccessMessage("Company penalty approved successfully."),this.router.navigate(["asc/page/accounting/payments/","company-penalties"])},e=>{e.error.message||(e.error.message=e.error.responseMessage),this.sweetAlertService.error(e)})):this.attachment=null}):"delinquent"===this.paymentTypeFromUrl&&(this.paymentMethod.amount<this.payment.amountDue?this.sweetAlertService.customErrorMessage("Amount Received/Transferred is lower than Amount Due."):y.a.fire({text:"Are you sure you want to approve this Delinquent Company?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value?(this.payment.paymentMethod=this.paymentMethod,this.payment.amountReceive=Number(this.paymentMethod.amount),console.log(this.paymentMethod),console.log(this.payment),this.apiService.save(""+c.n.approveDelinquentCompany,this.payment).subscribe(e=>{this.sweetAlertService.customSuccessMessage("Delinquent company approved successfully."),this.router.navigate(["asc/page/accounting/payments/","delinquent-companies"])},e=>{e.error.message||(e.error.message=e.error.responseMessage),this.sweetAlertService.error(e)})):this.attachment=null}))}viewPayment(){var e,t,n;if("brand"===this.paymentTypeFromUrl)this.apiService.findById(c.n.brandPenalties,this.id).subscribe(e=>{var t;const n=e.responseData.data;this.penaltyBrand=n.brand.description,(null==n?void 0:n.paymentMethod)&&(this.paymentType=null===(t=null==n?void 0:n.paymentMethod)||void 0===t?void 0:t.paymentType,this.paymentMethod=null==n?void 0:n.paymentMethod),this.brandPenalty=n,this.brandPenalty.brandPenaltyAttachmentReference&&(this.objAttachmentReference.brandPenaltyAttachmentReference=this.brandPenalty.brandPenaltyAttachmentReference,this.getAttachmentDocuments())});else if("company"===this.paymentTypeFromUrl)this.apiService.findById(c.n.companyPenalties+"/company",this.id).subscribe(e=>{e.responseData.data&&(this.companyPenaltyList=e.responseData.data,this.companyPenaltyList[0].paymentAttachmentReference&&(this.objAttachmentReference.paymentAttachmentReference=this.companyPenalty.paymentAttachmentReference,this.getAttachmentDocuments()),this.penaltyCompany=this.companyPenaltyList[0].company.companyName,this.totalBalance=this.companyPenaltyList.filter(e=>"PAID"!==e.paymentStatus).map(e=>e.penaltyAmount).reduce((e,t)=>e+t,0),this.previewRemarks=this.companyPenaltyList.filter(e=>"PAID"!==e.paymentStatus).map(e=>e.remarks?e.remarks+". ":"").reduce((e,t)=>e+t,""))});else if("delinquent"===this.paymentTypeFromUrl){this.payment=this.dataStorageService.getPayment();const a=null===(t=null===(e=this.payment)||void 0===e?void 0:e.applicationForm)||void 0===t?void 0:t.companyName;this.company.companyName=a,this.getAppFormsByCompanyId(null===(n=this.payment)||void 0===n?void 0:n.companyId)}}getAppFormsByCompanyId(e){this.apiService.findAll(c.n.getAppFormsByCompanyId+e).subscribe(e=>{this.delinquentAppForms=e.responseData.data,this.dataSource=new l.p(this.delinquentAppForms),this.dataSource.paginator=this.paginator})}getAttachmentDocuments(){let e;this.brandPenalty.brandPenaltyAttachmentReference?e="brand-penalty-attachment-reference/"+this.brandPenalty.brandPenaltyAttachmentReference:this.companyPenalty.paymentAttachmentReference&&(e="payment-attachment-reference/"+this.companyPenaltyList[0].paymentAttachmentReference),this.apiService.findByParam(c.n.attachmentDocument,e).subscribe(e=>{e&&(this.attachmentDocument=e.responseData.data),this.previewDocument=!0,this.safeURLBrand=this.sanitizer.bypassSecurityTrustResourceUrl(this.attachmentDocument.fileURL)})}addToAttachmentDocuments(e){this.attachmentDocument.brandPenaltyAttachmentReference=e.brandPenaltyAttachmentReference,this.attachmentDocument.id=e.id,this.attachmentDocument.originalFilename=e.originalFilename,this.attachmentDocument.filename=e.filename,this.attachmentDocument.fileExtension=e.fileExtension,this.attachmentDocument.fileURL=e.fileURL,this.attachmentDocument.attachmentType=e.attachmentType,this.attachmentDocument.documentFormat=e.documentFormat}hideSpinner(){setTimeout(()=>{this.spinner.hide()},1)}getAttachmentDocument(){if(this.spinner.show(),"brand"===this.paymentTypeFromUrl)this.apiService.findByParam(c.n.brandPenaltyAttachmentDocument,this.brandPenalty.brandPenaltyAttachmentReference).subscribe(e=>{e&&(this.attachmentDocument=e),this.hideSpinner()},e=>{this.hideSpinner(),console.error(e)});else{let e="";"company"===this.paymentTypeFromUrl?e=this.companyPenalty.paymentAttachmentReference:"delinquent"===this.paymentTypeFromUrl&&(e=this.payment.paymentAttachmentReference),this.apiService.findByParam(c.n.paymentAttachmentReference,e).subscribe(e=>{var t;e&&(this.attachmentDocument=null===(t=null==e?void 0:e.responseData)||void 0===t?void 0:t.data),this.hideSpinner()},e=>{this.hideSpinner(),console.error(e)})}}viewDocument(){this.uploadedPaymentFile?window.open(this.uploadedPaymentFile.fileURL):window.open(this.attachmentDocument.fileURL)}comparePaymentMethod(e,t){if(e&&t)return e.paymentDescription===t.paymentDescription}compareCompany(e,t){if(e&&t)return e.id===t.id}navigateToList(){y.a.fire({text:"Are you sure you want to go back to payment list?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value&&("brand"===this.paymentTypeFromUrl?this.router.navigate(["asc/page/accounting/payments/","brand-penalties"]):"company"===this.paymentTypeFromUrl?this.router.navigate(["asc/page/accounting/payments/","company-penalties"]):"delinquent"===this.paymentTypeFromUrl&&this.router.navigate(["asc/page/accounting/payments/","delinquent-companies"]))})}updatePayment(){this.apiService.update(c.n.companyPenalties,this.companyPenalty).subscribe(e=>{console.log("Update companyPenalties: ",e)},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](r.b),h["\u0275\u0275directiveInject"](f.b),h["\u0275\u0275directiveInject"](f.e),h["\u0275\u0275directiveInject"](g.b),h["\u0275\u0275directiveInject"](v.a),h["\u0275\u0275directiveInject"](r.a),h["\u0275\u0275directiveInject"](b.c),h["\u0275\u0275directiveInject"](S.a),h["\u0275\u0275directiveInject"](f.c))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-penalty"]],viewQuery:function(e,t){var n;1&e&&h["\u0275\u0275viewQuery"](i.a,!0),2&e&&h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.paginator=n.first)},inputs:{safeURLBrand:"safeURLBrand"},decls:24,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"column"],[1,"col-md-12","title"],["mat-raised-button","",1,"button-right","button-red","button-center",3,"click"],[1,"material-icons","color__white"],["class","col-md-12","appearance","outline",4,"ngIf"],["class","column",4,"ngIf"],["approveDelinquent",""],["addBrandPenalty",""],["addCompanyPenalty",""],["appearance","outline",1,"col-md-12"],["matInput","","disabled","",3,"value",4,"ngIf"],["class","file-upload","type","file","accept",".pdf",3,"hidden","change",4,"ngIf"],["matInput","","disabled","",3,"value"],["type","file","accept",".pdf",1,"file-upload",3,"hidden","change"],[4,"ngTemplateOutlet"],["mat-raised-button","","class","button-red button-right",3,"click",4,"ngIf"],["mat-raised-button","","class","button-red button-right",3,"disabled","hidden","click",4,"ngIf"],["class","row col-md-12","appearance","outline",4,"ngIf"],["mat-raised-button","",1,"button-red","button-right",3,"click"],[1,"material-icons","add-document"],["mat-raised-button","",1,"button-red","button-right",3,"disabled","hidden","click"],["appearance","outline",1,"row","col-md-12"],[1,"file-upload"],["type","application/pdf","width","100%","height","400",3,"data"],["width","100%","height","400",3,"src"],[1,"col-md-12",2,"padding","0 2em"],["matInput","","name","penaltyBrand","readonly","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","name","amountDue","type","text","readonly","",1,"numbers-input",3,"value","keydown"],[1,"mat-elevation-z8","fields"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","referenceCode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","brand"],["matColumnDef","typeOfMedium"],["matColumnDef","paymentStatus"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-record",3,"hidden"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-raised-button","","class","button-right button-red",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-header-row",""],["mat-row",""],["mat-raised-button","",1,"button-right","button-red",3,"click"],["matInput","","name","amount","type","text",3,"ngModel","ngModelOptions","ngModelChange","keydown"],["matInput","","name","remarks",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[4,"ngIf"],["mat-raised-button","","class","button-right button-red button-right__approve",3,"click",4,"ngIf"],[1,"col-md-4",3,"ngModel","ngModelOptions","ngModelChange"],["name","brand",3,"value",4,"ngFor","ngForOf"],["name","brand",3,"value"],["name","paymentType",1,"col-md-4",3,"ngModel","compareWith","disabled","ngModelChange"],["name","paymentType",3,"value",4,"ngFor","ngForOf"],["name","paymentType",3,"value"],["matInput","","name","amount","type","text",3,"ngModel","ngModelOptions","readonly","ngModelChange","keydown"],["mat-raised-button","",1,"button-right","button-red","button-right__approve",3,"click"],[1,"col-md-4",3,"ngModel","ngModelOptions","compareWith","ngModelChange"],["name","company",3,"value",4,"ngFor","ngForOf"],["name","company",3,"value"],["matInput","","name","penaltyCompany","readonly","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","name","totalBalance","readonly","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","name","remarks",3,"ngModel","readonly","ngModelOptions","ngModelChange"],["matInput","","name","previewRemarks","readonly","",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"form"),h["\u0275\u0275elementStart"](1,"div",0),h["\u0275\u0275elementStart"](2,"div",1),h["\u0275\u0275elementStart"](3,"div",2),h["\u0275\u0275elementStart"](4,"div",3),h["\u0275\u0275elementStart"](5,"mat-label"),h["\u0275\u0275text"](6),h["\u0275\u0275pipe"](7,"titlecase"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"button",4),h["\u0275\u0275listener"]("click",(function(){return t.navigateToList()})),h["\u0275\u0275elementStart"](9,"i",5),h["\u0275\u0275text"](10,"list"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](11," BACK TO LIST "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](12,"hr"),h["\u0275\u0275template"](13,I,8,2,"div",6),h["\u0275\u0275template"](14,T,2,1,"div",6),h["\u0275\u0275template"](15,U,7,3,"div",6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](16,L,2,1,"div",7),h["\u0275\u0275template"](17,q,2,1,"div",7),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](18,ee,32,14,"ng-template",null,8,h["\u0275\u0275templateRefExtractor"]),h["\u0275\u0275template"](20,se,18,14,"ng-template",null,9,h["\u0275\u0275templateRefExtractor"]),h["\u0275\u0275template"](22,Ae,14,11,"ng-template",null,10,h["\u0275\u0275templateRefExtractor"])),2&e&&(h["\u0275\u0275advance"](6),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](7,6,t.paymentTypeFromUrl)," Penalties "),h["\u0275\u0275advance"](7),h["\u0275\u0275property"]("ngIf","brand"===t.paymentTypeFromUrl||"company"===t.paymentTypeFromUrl),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","delinquent"===t.paymentTypeFromUrl),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","brand"===t.paymentTypeFromUrl||"company"===t.paymentTypeFromUrl||"delinquent"===t.paymentTypeFromUrl),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","brand"===t.paymentTypeFromUrl),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","company"===t.paymentTypeFromUrl))},directives:[x.J,x.u,x.v,C.g,P.b,a.t,A.b,a.A,C.c,x.d,x.t,x.w,l.o,w.a,l.c,l.i,l.b,l.k,l.n,i.a,l.h,l.a,l.j,l.m,M.a,a.s,R.m],pipes:[a.F,a.g,a.G],styles:['.column[_ngcontent-%COMP%]{float:left;width:50%;padding:10px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.button-right__approve[_ngcontent-%COMP%]{margin:0}.button-center[_ngcontent-%COMP%]{margin:-5px auto}.numbers-input[_ngcontent-%COMP%]{text-align:end}']}),e})()}];let Me=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.f.forChild(we)],r.f]}),e})();var Re=n("tk/3");let Ee=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,Me,Re.b,x.D,x.n,c.k]]}),e})()},XLGj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{}},an1Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{}},piSE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));class a{}},sKXY:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return r})),n.d(t,"k",(function(){return o})),n.d(t,"o",(function(){return i})),n.d(t,"q",(function(){return l})),n.d(t,"r",(function(){return m})),n.d(t,"u",(function(){return c})),n.d(t,"v",(function(){return s})),n.d(t,"w",(function(){return p.a})),n.d(t,"y",(function(){return d})),n.d(t,"x",(function(){return u})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return h})),n.d(t,"p",(function(){return f})),n.d(t,"t",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"n",(function(){return S})),n.d(t,"l",(function(){return x})),n.d(t,"m",(function(){return C})),n.d(t,"s",(function(){return P})),n.d(t,"f",(function(){return A.a})),n.d(t,"e",(function(){return w.a})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return R})),n.d(t,"d",(function(){return E}));class a{}class r{}class o{}class i{}class l{}class m{}class c{}class s{}var p=n("50w+");class d{}class u{}class y{}class h{}class f{}class g{}class v{}var b=n("piSE");class S{constructor(){this.paymentMethod=new b.a,this.filedBirForm=!1,this.filedBirForm=!1,this.remarks=""}}class x{setTotalAmounts(e){this.totalSales=e.totalSales,this.totalAmountDue=e.totalAmountDue,this.totalVat=e.totalVat,this.totalWithholdingtax=e.totalWithholdingtax}}class C{}class P{}var A=n("XLGj"),w=n("an1Z");class M{}class R extends M{}class E extends M{}}}]);