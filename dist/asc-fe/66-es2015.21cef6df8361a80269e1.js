(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"98s5":function(e,t,n){"use strict";n.r(t),n.d(t,"LoginImagesModule",(function(){return R}));var i=n("ofXK"),o=n("tyNb"),l=n("+0xr"),a=n("3swC"),r=n("M0ag"),s=n("VjNL"),c=n("PSD3"),m=n.n(c),d=n("fXoL"),u=n("dJ3e"),g=n("3Pt+"),p=n("HMc/"),h=n("jhN1"),f=n("JqCM"),v=n("TMp0"),I=n("kmnG"),y=n("TPGS"),S=n("DeKZ"),w=n("qFsG"),F=n("bTqV");const b=["docInput"],L=["docFile"];function E(e,t){if(1&e&&d["\u0275\u0275element"](0,"input",13,14),2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("value",null==e.loginImage?null:e.loginImage.originalFilename)}}function C(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"button",15),d["\u0275\u0275listener"]("click",(function(){d["\u0275\u0275restoreView"](e);const t=d["\u0275\u0275nextContext"]();return t.viewDocument(t.loginImage)})),d["\u0275\u0275elementStart"](1,"i",16),d["\u0275\u0275text"](2,"open_in_new"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](3," VIEW IMAGE "),d["\u0275\u0275elementEnd"]()}}const j=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,l,a){this.apiService=e,this.formBuilder=t,this.sweetAlertService=n,this.dateService=i,this.sanitizer=o,this.spinner=l,this.fileStorageService=a,this.displayedColumns=["originalFilename","fileURL","fileExtension"],this.loginImage=new s.a,this.loginImageList=[],this.isShowUploadButton=!1}ngOnInit(){this.setFormValidator(),this.getLoginImageList()}getLoginImageList(){this.apiService.findAll(r.n.loginImage).subscribe(e=>{this.loginImageList=e.responseData.data,this.dataSource=new l.p(e.responseData.data)})}save(){m.a.fire({text:"Are you sure you want to upload this image?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value?(this.spinner.show(),this.fileStorageService.uploadImage(r.n.loginImage+"?displayed=true",this.selectedFile).subscribe(e=>{this.uploadedLoginImage=e.responseData.data,this.hideSpinner(),this.selectedFile=null,this.isShowUploadButton=!1,this.loginImage.originalFilename=null,this.sweetAlertService.customSuccessMessage("Image successfully uploaded."),this.getLoginImageList(),this.myDocInput.nativeElement.value="",this.myDocFile.nativeElement.value="",this.loginImage=new s.a},e=>{this.hideSpinner(),this.sweetAlertService.error(e)},()=>{this.hideSpinner()})):this.selectedFile=null})}viewLoginImageList(){this.apiService.findById(r.n.loginImage,this.formListComponent.idForUpdate).subscribe(e=>{var t;this.loginImage=null===(t=null==e?void 0:e.responseData)||void 0===t?void 0:t.data})}viewDocument(e){window.open(e.fileURL)}delete(){m.a.fire({text:"Are you sure you want to delete this login image?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{this.apiService.deleteById(r.n.loginImage,this.formListComponent.idForUpdate).subscribe(e=>{this.myDocInput.nativeElement.value="",this.myDocFile.nativeElement.value="",this.sweetAlertService.customSuccessMessage("Login image successfully deleted."),this.getLoginImageList(),this.loginImage=new s.a})})}selectFile(e){if(e.target.files[0]){this.fileSize=e.target.files[0].size;const t=URL.createObjectURL(e.target.files[0]);this.safeURL=this.sanitizer.bypassSecurityTrustResourceUrl(t);const n=new FileReader,[i]=e.target.files;n.readAsDataURL(i),n.onload=()=>{},this.selectedFile=e.target.files[0]}}compareImageLogin(e,t){if(e&&t)return e.id===t.id}setFormValidator(){this.loginImageForm=this.formBuilder.group({originalFileName:[""],displayed:[""]})}resetFormValidator(){this.loginImage=new s.a}hideSpinner(){setTimeout(()=>{this.spinner.hide()},1)}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](u.b),d["\u0275\u0275directiveInject"](g.g),d["\u0275\u0275directiveInject"](u.e),d["\u0275\u0275directiveInject"](p.a),d["\u0275\u0275directiveInject"](h.b),d["\u0275\u0275directiveInject"](f.c),d["\u0275\u0275directiveInject"](v.a))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-login-images"]],viewQuery:function(e,t){var n;1&e&&(d["\u0275\u0275viewQuery"](a.a,!0),d["\u0275\u0275viewQuery"](b,!0),d["\u0275\u0275viewQuery"](L,!0)),2&e&&(d["\u0275\u0275queryRefresh"](n=d["\u0275\u0275loadQuery"]())&&(t.formListComponent=n.first),d["\u0275\u0275queryRefresh"](n=d["\u0275\u0275loadQuery"]())&&(t.myDocInput=n.first),d["\u0275\u0275queryRefresh"](n=d["\u0275\u0275loadQuery"]())&&(t.myDocFile=n.first))},decls:27,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-8"],["matInput","","disabled","",3,"value",4,"ngIf"],["type","file","accept","image/jpg, image/jpeg",1,"file-upload",3,"hidden","change"],["docFile",""],[1,"col-md-12"],["appearance","outline",1,"col-md-7"],["mat-raised-button","","class","button-red button-right",3,"click",4,"ngIf"],[3,"childObject","childForm","saveFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],["matInput","","disabled","",3,"value"],["docInput",""],["mat-raised-button","",1,"button-red","button-right",3,"click"],[1,"material-icons","color__white"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"form"),d["\u0275\u0275elementStart"](1,"div",0),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"mat-label"),d["\u0275\u0275text"](5," Login Image "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](6,"hr"),d["\u0275\u0275elementStart"](7,"form",3),d["\u0275\u0275elementStart"](8,"div",1),d["\u0275\u0275elementStart"](9,"div",4),d["\u0275\u0275elementStart"](10,"mat-label"),d["\u0275\u0275text"](11,"Filename: "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](12,"br"),d["\u0275\u0275template"](13,E,2,1,"input",5),d["\u0275\u0275elementStart"](14,"input",6,7),d["\u0275\u0275listener"]("change",(function(e){return t.selectFile(e)})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"div",8),d["\u0275\u0275element"](17,"br"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"div",9),d["\u0275\u0275template"](19,C,4,0,"button",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](20,"br"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](21,"app-form-action-buttons",11),d["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](22,"div",8),d["\u0275\u0275element"](23,"hr"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](24,"div",8),d["\u0275\u0275element"](25,"br"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"app-form-list",12),d["\u0275\u0275listener"]("selectInListFunction",(function(){return t.viewLoginImageList()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("formGroup",t.loginImageForm),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngIf",null==t.loginImage?null:t.loginImage.originalFilename),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("hidden",null==t.loginImage?null:t.loginImage.originalFilename),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("ngIf",null==t.loginImage?null:t.loginImage.originalFilename),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("childObject",t.loginImage)("childForm",t.loginImageForm),d["\u0275\u0275advance"](5),d["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns))},directives:[g.J,g.u,g.v,I.g,g.l,i.t,y.a,S.a,w.b,F.b],styles:[""]}),e})()}];let D=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f.forChild(j)],o.f]}),e})();var x=n("tk/3"),B=n("7Tf7");let R=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,D,x.b,g.D,r.k,B.a]]}),e})()}}]);