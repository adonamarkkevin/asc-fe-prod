(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"0jzb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}},VOEw:function(e,t,n){"use strict";n.r(t),n.d(t,"MultipleApplicationsModule",(function(){return re}));var i=n("ofXK"),a=n("tyNb"),l=n("M9IT"),o=n("Dh3D"),r=n("+0xr"),p=n("M0ag"),m=n("0IaG"),s=n("sKXY"),d=n("XLGj"),c=n("0jzb"),u=n("PSD3"),f=n.n(u),h=n("fXoL"),y=n("jhN1"),v=n("dJ3e"),S=n("TMp0"),g=n("kmnG"),A=n("NFeN"),M=n("3Pt+"),E=n("qFsG"),b=n("d3UM"),D=n("FKr1"),w=n("bTqV");function C(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div"),h["\u0275\u0275elementStart"](1,"div",27),h["\u0275\u0275elementStart"](2,"object",28),h["\u0275\u0275elementStart"](3,"iframe",29),h["\u0275\u0275elementStart"](4,"p"),h["\u0275\u0275text"](5,"This browser does not support PDF!"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("data",e.safeURLProofOfPayment,h["\u0275\u0275sanitizeResourceUrl"]),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("src",e.safeURLProofOfPayment,h["\u0275\u0275sanitizeResourceUrl"])}}function x(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",30),h["\u0275\u0275text"](1," Reference Code "),h["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"td",31),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](null==e?null:e.referenceCode)}}function P(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",30),h["\u0275\u0275text"](1," Ad Title "),h["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"td",31),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](null==e?null:e.adTitle)}}function L(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",30),h["\u0275\u0275text"](1," Medium And Length"),h["\u0275\u0275elementEnd"]())}function T(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"td",31),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](null==e?null:e.typeOfMediumDisplay)}}function F(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",30),h["\u0275\u0275text"](1," Amount"),h["\u0275\u0275elementEnd"]())}function I(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"td",32),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"number"),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind2"](2,1,null==e?null:e.amount,"1.2-2"))}}function N(e,t){1&e&&h["\u0275\u0275element"](0,"tr",33)}function j(e,t){1&e&&h["\u0275\u0275element"](0,"tr",34)}function k(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"mat-option",35),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275property"]("value",e),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,2,null==e?null:e.paymentDescription)," ")}}function $(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"span"),h["\u0275\u0275elementStart"](1,"i"),h["\u0275\u0275text"](2,"Please contact ASC admin to check the Maintenance of Fees."),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"div",1),h["\u0275\u0275elementStart"](1,"div",36),h["\u0275\u0275template"](2,$,3,0,"span",6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"div",37),h["\u0275\u0275elementStart"](4,"button",38),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const t=h["\u0275\u0275nextContext"]();return t.uploadDocument(t.multipleApplication)})),h["\u0275\u0275elementStart"](5,"i",39),h["\u0275\u0275text"](6,"task_alt"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](7," SUBMIT "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}if(2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngIf",e.multipleApplication&&0===(null==e.multipleApplication?null:e.multipleApplication.totalAmount)),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("disabled",!e.paymentType||!e.previewDocument||0===(null==e.multipleApplication?null:e.multipleApplication.totalAmount))}}const U=function(){return{standalone:!0}},V=function(){return[5,10,20]};let z=(()=>{class e{constructor(e,t,n,i,a,l,o,r){this.sanitizer=e,this.apiService=t,this.dataStorage=n,this.fileStorageService=i,this.sweetAlertService=a,this.router=l,this.dialogRef=o,this.data=r,this.displayedColumns=["referenceCode","adTitle","mediumAndLength","amount"],this.multipleApplicationList=[],this.s1Application=new s.q,this.payment=new s.n,this.previewDocument=!1,this.attachmentDocument=new s.h,this.applicationSingleMedia=new d.a,this.attachmentDocuments=[],this.isSubmitted=!1,this.paymentTypeList=[],this.multipleApplication=new c.a,this.isDisabled=!1,this.typeOfMediumDisplay="",r&&(this.multipleApplication=r,this.multipleApplication.paymentStatus!==p.u.FOR_PAYMENT&&(this.isDisabled=!0),this.getPaymentDetails())}ngOnInit(){this.getMultipleApplicationList(),this.getPaymentList()}getPaymentDetails(){this.apiService.findAll(p.n.multiplePaymentDetails+this.multipleApplication.id).subscribe(e=>{this.paymentDetails=e})}getMultipleApplicationList(){this.apiService.findAll(p.n.getMultipleAppFormsWithNoRejected+this.multipleApplication.id).subscribe(e=>{this.multipleApplicationList=e.responseData.data,console.log(this.multipleApplicationList),this.multipleApplicationList.forEach(e=>{var t,n;switch((null==e?void 0:e.refTypeOfMedium)||(null===(n=null===(t=null==e?void 0:e.applicationFormS2)||void 0===t?void 0:t.applicationForm)||void 0===n?void 0:n.refTypeOfMedium)){case"SINGLE MEDIA":this.getApplicationSingleMedia(null==e?void 0:e.appFormReference);break;case"MULTIMEDIA-MOVING":this.getMultimediaMoving(null==e?void 0:e.appFormReference);break;case"MULTIMEDIA-STATIC":this.getMultimediaStatic(null==e?void 0:e.appFormReference)}}),this.dataSource=new r.p(this.multipleApplicationList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},e=>{e.error.message=p.o.under_maintenance,this.sweetAlertService.error(e)})}getPaymentList(){this.apiService.findAll(p.n.paymentType).subscribe(e=>{if(this.currentUser.userRole.name===p.E.ROLE_APPLICANT){const e=this.paymentTypeList.findIndex(e=>"Credit Card"===e.paymentDescription);this.paymentTypeList.splice(e,1)}this.paymentTypeList=e.responseData.data})}selectFile(e){const t=e.target.files[0].size;if("application/pdf"!==e.target.files[0].type)return this.sweetAlertService.customErrorMessage("Attachment should be in PDF format only."),void(e.target.value="");if(t>15e6)return this.sweetAlertService.customErrorMessage("Attachments' total file size should not exceed 15MB."),void(e.target.value="");{const t=URL.createObjectURL(e.target.files[0]);this.safeURLProofOfPayment=this.sanitizer.bypassSecurityTrustResourceUrl(t),this.previewDocument=!0;const n=new FileReader,[i]=e.target.files;n.readAsDataURL(i),n.onload=()=>{}}this.selectedFiles=e.target.files}uploadDocument(e){f.a.fire({text:"Are you sure you want to submit this PROOF OF PAYMENT?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(t=>{if(t.value){this.dataStorage.setDisplayProgressbar(!0);let t="";t="?&attachmentType="+p.j.PAYMENT+"&submissionType="+p.B.ORIGINAL,this.fileStorageService.pushFileToStorage(p.n.attachmentDocument,this.selectedFiles.item(0),t).subscribe(t=>{const n=t.responseData.data;console.log(n),this.s1Application.paymentAttachmentReference=n.paymentAttachmentReference,this.payment.paymentAttachmentReference=n.paymentAttachmentReference,this.payment.amountDue=this.totalAmount,this.payment.multipleApplication=e,this.payment.filename=n.filename,this.saveProofOfPayment(),this.selectedFiles=void 0},e=>{this.sweetAlertService.error(e)},()=>{this.dataStorage.setDisplayProgressbar(!1)})}})}saveProofOfPayment(){console.log("Saving payment..."),this.dataStorage.setDisplayProgressbar(!0),this.payment.paymentStatus=p.u.FOR_APPROVAL,this.payment.id=0,this.payment.officialReceiptNo="",this.payment.paymentMethod=null,this.payment.amountDue=this.multipleApplication.totalAmount,console.log("PAYMENT : ",this.payment),console.log(this.paymentType.id),this.apiService.save(`${p.n.applicationFormPresentor}payment-type-id/${this.paymentType.id}/payment-multiple/submit`,this.payment).subscribe(e=>{console.log("SAVED STATUS: ",e.responseData.data),this.safeURLProofOfPayment=this.sanitizer.bypassSecurityTrustResourceUrl(e.responseData.data.fileURL),this.isSubmitted=!0,this.sweetAlertService.customSuccessMessage("Proof of payment successfully submitted."),this.closeModal()},e=>{console.log(e),this.sweetAlertService.error(e),this.dataStorage.setDisplayProgressbar(!1)},()=>{this.dataStorage.setDisplayProgressbar(!1)})}closeModal(){this.dialogRef.close(),this.router.navigate(["asc/page/application/multiple-applications"])}ngOnDestroy(){}getApplicationSingleMedia(e){var t,n,i,a,l,o,m,s;void 0===e&&(e=null===(n=null===(t=this.payment)||void 0===t?void 0:t.applicationForm)||void 0===n?void 0:n.appFormReference),(null===(l=null===(a=null===(i=this.payment)||void 0===i?void 0:i.applicationFormS2)||void 0===a?void 0:a.applicationForm)||void 0===l?void 0:l.refTypeOfMedium)&&(e=null===(s=null===(m=null===(o=this.payment)||void 0===o?void 0:o.applicationFormS2)||void 0===m?void 0:m.applicationForm)||void 0===s?void 0:s.appFormReference),this.apiService.findByParam(p.n.applicationSingleMedia,"app-form-reference/"+e).subscribe(t=>{var n,i,a,l;t.responseData.data.length>0?(this.applicationSingleMedia=t.responseData.data[0],this.typeOfMediumDisplay=`${null===(a=null===(i=null===(n=this.applicationSingleMedia)||void 0===n?void 0:n.mediumExecution)||void 0===i?void 0:i.typeOfMedium)||void 0===a?void 0:a.description} (${null===(l=this.applicationSingleMedia)||void 0===l?void 0:l.sizeLength})`,console.log("view applicationSingleMedia: ",this.typeOfMediumDisplay),this.multipleApplicationList.forEach((t,n)=>{t.appFormReference===e&&(this.multipleApplicationList[n]=Object.assign(Object.assign({},this.multipleApplicationList[n]),{typeOfMediumDisplay:this.typeOfMediumDisplay}))}),this.dataSource=new r.p(this.multipleApplicationList),this.dataSource.paginator=this.paginator):(this.applicationSingleMedia=new d.a,this.typeOfMediumDisplay="")},e=>{this.applicationSingleMedia=new d.a,this.typeOfMediumDisplay=""})}getMultimediaStatic(e){var t,n;void 0===e&&(e=null===(n=null===(t=this.payment)||void 0===t?void 0:t.applicationForm)||void 0===n?void 0:n.appFormReference),this.apiService.findByParam(p.n.applicationMultimedia,"app-form-reference/"+e).subscribe(t=>{if(t.responseData.data.length>0){const n=new Set(t.responseData.data.map(e=>{var t;return`${null===(t=null==e?void 0:e.typeOfMedium)||void 0===t?void 0:t.description} (${null==e?void 0:e.multimediaSizeLength})`}));this.typeOfMediumDisplay="";let i=1;for(const e of n)i!==n.size?(this.typeOfMediumDisplay+=e+", ",i++):this.typeOfMediumDisplay+=e;this.multipleApplicationList.forEach((t,n)=>{console.log(t),t.appFormReference===e&&(this.multipleApplicationList[n]=Object.assign(Object.assign({},this.multipleApplicationList[n]),{typeOfMediumDisplay:this.typeOfMediumDisplay}))}),this.dataSource=new r.p(this.multipleApplicationList),this.dataSource.paginator=this.paginator}else this.typeOfMediumDisplay=""},e=>{this.typeOfMediumDisplay=""})}getMultimediaMoving(e){var t,n;void 0===e&&(e=null===(n=null===(t=this.payment)||void 0===t?void 0:t.applicationForm)||void 0===n?void 0:n.appFormReference),this.apiService.findByParam(p.n.applicationMultimedia,"app-form-reference/"+e).subscribe(t=>{if(t.responseData.data.length>0){const n=new Set(t.responseData.data.map(e=>{var t;return`${null===(t=null==e?void 0:e.typeOfMedium)||void 0===t?void 0:t.description} (${null==e?void 0:e.multimediaSizeLength})`}));this.typeOfMediumDisplay="";let i=1;for(const e of n)i!==n.size?(this.typeOfMediumDisplay+=e+", ",i++):this.typeOfMediumDisplay+=e;this.multipleApplicationList.forEach((t,n)=>{console.log(t),t.appFormReference===e&&(this.multipleApplicationList[n]=Object.assign(Object.assign({},this.multipleApplicationList[n]),{typeOfMediumDisplay:this.typeOfMediumDisplay}))}),this.dataSource=new r.p(this.multipleApplicationList),this.dataSource.paginator=this.paginator}else this.typeOfMediumDisplay=""},e=>{this.typeOfMediumDisplay=""})}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](y.b),h["\u0275\u0275directiveInject"](v.b),h["\u0275\u0275directiveInject"](v.c),h["\u0275\u0275directiveInject"](S.a),h["\u0275\u0275directiveInject"](v.e),h["\u0275\u0275directiveInject"](a.b),h["\u0275\u0275directiveInject"](m.h,8),h["\u0275\u0275directiveInject"](m.a,8))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["app-modal-multiple-applications"]],viewQuery:function(e,t){var n;1&e&&(h["\u0275\u0275viewQuery"](l.a,!0),h["\u0275\u0275viewQuery"](o.a,!0),h["\u0275\u0275viewQuery"](r.o,!0)),2&e&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.sort=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.table=n.first))},inputs:{s1Application:"s1Application"},decls:72,vars:32,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[1,"row","col-md-12"],[1,"row","col-md-6"],["type","file","accept",".pdf",1,"file-upload",3,"ngModel","ngModelOptions","disabled","ngModelChange","change"],[4,"ngIf"],["appearance","outline",1,"col-md-12"],["matInput","","name","companyName","readonly","",3,"value"],["matInput","","name","amount","readonly","",1,"numbers-input",3,"value"],["matInput","","name","amount","readonly","",1,"numbers-input","total",3,"value"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","referenceCode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","adTitle"],["matColumnDef","mediumAndLength"],["matColumnDef","amount"],["mat-cell","","class","numbers-input",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-record",3,"hidden"],["showFirstLastButtons","",3,"pageSizeOptions"],[3,"ngModel","ngModelOptions","disabled","ngModelChange"],["name","paymentType",3,"value",4,"ngFor","ngForOf"],["matInput","","name","remarks",3,"ngModel","readonly","ngModelChange"],["class","row",4,"ngIf"],[1,"file-upload"],["type","application/pdf","width","100%","height","500",3,"data"],["width","100%","height","500",3,"src"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"numbers-input"],["mat-header-row",""],["mat-row",""],["name","paymentType",3,"value"],[1,"col-md-10"],[1,"col-md-2"],["mat-raised-button","",1,"button-red",3,"disabled","click"],[1,"material-icons","color__white"]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"div",1),h["\u0275\u0275elementStart"](2,"div",2),h["\u0275\u0275elementStart"](3,"mat-label"),h["\u0275\u0275elementStart"](4,"mat-icon"),h["\u0275\u0275text"](5,"view_list"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](6," Schedule of Fees - Multiple Applications "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](7,"hr"),h["\u0275\u0275element"](8,"br"),h["\u0275\u0275elementStart"](9,"div",3),h["\u0275\u0275elementStart"](10,"div",4),h["\u0275\u0275elementStart"](11,"div"),h["\u0275\u0275elementStart"](12,"mat-label"),h["\u0275\u0275text"](13,"Proof of Payment: \xa0\xa0\xa0"),h["\u0275\u0275elementStart"](14,"span"),h["\u0275\u0275text"](15,"PDF file only!"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](16,"br"),h["\u0275\u0275elementStart"](17,"input",5),h["\u0275\u0275listener"]("ngModelChange",(function(e){return t.attachment=e}))("change",(function(e){return t.selectFile(e)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](18,C,6,2,"div",6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](19,"div",4),h["\u0275\u0275elementStart"](20,"mat-form-field",7),h["\u0275\u0275elementStart"](21,"mat-label"),h["\u0275\u0275text"](22,"Advertiser"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](23,"input",8),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](24,"mat-form-field",7),h["\u0275\u0275elementStart"](25,"mat-label"),h["\u0275\u0275text"](26,"Vatable Sales"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](27,"input",9),h["\u0275\u0275pipe"](28,"number"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](29,"mat-form-field",7),h["\u0275\u0275elementStart"](30,"mat-label"),h["\u0275\u0275text"](31,"VAT"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](32,"input",9),h["\u0275\u0275pipe"](33,"number"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](34,"mat-form-field",7),h["\u0275\u0275elementStart"](35,"mat-label"),h["\u0275\u0275text"](36,"Total Sales (VAT Inclusive)"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](37,"input",10),h["\u0275\u0275pipe"](38,"number"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](39,"div"),h["\u0275\u0275elementStart"](40,"table",11),h["\u0275\u0275elementContainerStart"](41,12),h["\u0275\u0275template"](42,x,2,0,"th",13),h["\u0275\u0275template"](43,O,2,1,"td",14),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](44,15),h["\u0275\u0275template"](45,P,2,0,"th",13),h["\u0275\u0275template"](46,R,2,1,"td",14),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](47,16),h["\u0275\u0275template"](48,L,2,0,"th",13),h["\u0275\u0275template"](49,T,2,1,"td",14),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](50,17),h["\u0275\u0275template"](51,F,2,0,"th",13),h["\u0275\u0275template"](52,I,3,4,"td",18),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](53,N,1,0,"tr",19),h["\u0275\u0275template"](54,j,1,0,"tr",20),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](55,"div",21),h["\u0275\u0275text"](56," No record found. "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](57,"mat-paginator",22),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](58,"div"),h["\u0275\u0275element"](59,"br"),h["\u0275\u0275element"](60,"hr"),h["\u0275\u0275element"](61,"br"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](62,"mat-form-field",7),h["\u0275\u0275elementStart"](63,"mat-label"),h["\u0275\u0275text"](64,"Payment Mode"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](65,"mat-select",23),h["\u0275\u0275listener"]("ngModelChange",(function(e){return t.paymentType=e})),h["\u0275\u0275template"](66,k,3,4,"mat-option",24),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](67,"mat-form-field",7),h["\u0275\u0275elementStart"](68,"mat-label"),h["\u0275\u0275text"](69,"Remarks"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](70,"textarea",25),h["\u0275\u0275listener"]("ngModelChange",(function(e){return t.payment.remarks=e})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](71,B,8,2,"div",26),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275advance"](17),h["\u0275\u0275property"]("ngModel",t.attachment)("ngModelOptions",h["\u0275\u0275pureFunction0"](29,U))("disabled",t.isDisabled),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!0===t.previewDocument&&!t.isDisabled),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("value",null==t.multipleApplication||null==t.multipleApplication.company?null:t.multipleApplication.company.companyName),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("value",h["\u0275\u0275pipeBind2"](28,20,null==t.paymentDetails?null:t.paymentDetails.basicRate,"1.2-2")),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("value",h["\u0275\u0275pipeBind2"](33,23,null==t.paymentDetails?null:t.paymentDetails.vat,"1.2-2")),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("value",h["\u0275\u0275pipeBind2"](38,26,null==t.paymentDetails?null:t.paymentDetails.amountDue,"1.2-2")),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("dataSource",t.dataSource),h["\u0275\u0275advance"](13),h["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("hidden",t.dataSource&&(null==t.dataSource||null==t.dataSource.data?null:t.dataSource.data.length)>0),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](30,V)),h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("ngModel",t.paymentType)("ngModelOptions",h["\u0275\u0275pureFunction0"](31,U))("disabled","FOR_PAYMENT"!==(null==t.multipleApplication?null:t.multipleApplication.paymentStatus)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngForOf",t.paymentTypeList),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("ngModel",t.payment.remarks)("readonly","FOR_PAYMENT"!==(null==t.multipleApplication?null:t.multipleApplication.paymentStatus)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!t.isDisabled||void 0===(null==t.multipleApplication?null:t.multipleApplication.paymentStatus)||0===(null==t.multipleApplication?null:t.multipleApplication.totalAmount)))},directives:[g.g,A.a,M.d,M.t,M.w,i.t,g.c,E.b,r.o,o.a,r.c,r.i,r.b,r.k,r.n,l.a,b.a,i.s,r.h,r.a,r.j,r.m,D.m,w.b],pipes:[i.g,i.G],styles:["span[_ngcontent-%COMP%]{color:red}.grandTotal[_ngcontent-%COMP%]{font-weight:900;float:right;padding-right:20%}.numbers-input[_ngcontent-%COMP%]{text-align:end}.total[_ngcontent-%COMP%]{font-weight:900}"]}),e})();function _(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," REFERENCE CODE "),h["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.adTitle),"")}}function q(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," TYPE OF APPLICATION"),h["\u0275\u0275elementEnd"]())}function Y(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e||null==e.applicationType?null:e.applicationType.description))}}function G(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," BRAND"),h["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e||null==e.brand?null:e.brand.description))}}function J(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," PRODUCT"),h["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e||null==e.product?null:e.product.description))}}function K(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," APPLICANT COMPANY NAME"),h["\u0275\u0275elementEnd"]())}function W(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.company.companyName))}}function Z(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," PAYMENT STATUS"),h["\u0275\u0275elementEnd"]())}function ee(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e||null==e.paymentStatus?null:e.paymentStatus.replaceAll("_"," ")))}}function te(e,t){1&e&&h["\u0275\u0275element"](0,"tr",22)}function ne(e,t){1&e&&h["\u0275\u0275element"](0,"tr",23)}const ie=function(){return[10,20,50]},ae=[{path:"",component:(()=>{class e{constructor(e,t,n){this.apiService=e,this.dialog=t,this.dataStorage=n,this.displayedColumns=["adTitle","typeOfApplication","brand","product","applicantCompanyName","paymentStatus"],this.paymentList=[]}ngOnInit(){this.currentUser=this.dataStorage.getUserAccount(),this.getS1MultiplePaymentList()}getS1MultiplePaymentList(){this.apiService.findAll(p.n.applicationFormPresentor+(this.currentUser.id+"/multiple-application?paymentStatus=FOR_PAYMENT")).subscribe(e=>{this.paymentList=e.responseData.data,this.dataSource=new r.p(this.paymentList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},e=>{})}openModal(e){this.dialog.open(z,{width:"60%",height:"85%",data:e}).afterClosed().subscribe(e=>{e&&(console.log(e),this.getS1MultiplePaymentList())})}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](v.b),h["\u0275\u0275directiveInject"](m.b),h["\u0275\u0275directiveInject"](v.c))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["app-multiple-applications"]],viewQuery:function(e,t){var n;1&e&&(h["\u0275\u0275viewQuery"](l.a,!0),h["\u0275\u0275viewQuery"](o.a,!0),h["\u0275\u0275viewQuery"](r.o,!0)),2&e&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.sort=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.table=n.first))},decls:39,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],["fxLayout","","fxLayoutAlign","center center",1,"col-md-12"],["appearance","outline",1,"col-md-12"],["matInput","","type","text","placeholder","Company Name"],[1,"mat-elevation-z8","fields"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","adTitle"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","typeOfApplication"],["matColumnDef","brand"],["matColumnDef","product"],["matColumnDef","applicantCompanyName"],["matColumnDef","paymentStatus"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-record",3,"hidden"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"form"),h["\u0275\u0275elementStart"](1,"div",0),h["\u0275\u0275elementStart"](2,"div",1),h["\u0275\u0275elementStart"](3,"div",2),h["\u0275\u0275elementStart"](4,"mat-label"),h["\u0275\u0275elementStart"](5,"mat-icon"),h["\u0275\u0275text"](6,"view_list"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](7," Multiple Applications - For Payment "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](8,"hr"),h["\u0275\u0275element"](9,"br"),h["\u0275\u0275elementStart"](10,"div",3),h["\u0275\u0275elementStart"](11,"mat-form-field",4),h["\u0275\u0275element"](12,"input",5),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](13,"div",6),h["\u0275\u0275elementStart"](14,"table",7),h["\u0275\u0275elementContainerStart"](15,8),h["\u0275\u0275template"](16,_,2,0,"th",9),h["\u0275\u0275template"](17,Q,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](18,11),h["\u0275\u0275template"](19,q,2,0,"th",9),h["\u0275\u0275template"](20,Y,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](21,12),h["\u0275\u0275template"](22,G,2,0,"th",9),h["\u0275\u0275template"](23,H,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](24,13),h["\u0275\u0275template"](25,J,2,0,"th",9),h["\u0275\u0275template"](26,X,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](27,14),h["\u0275\u0275template"](28,K,2,0,"th",9),h["\u0275\u0275template"](29,W,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](30,15),h["\u0275\u0275template"](31,Z,2,0,"th",9),h["\u0275\u0275template"](32,ee,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](33,te,1,0,"tr",16),h["\u0275\u0275template"](34,ne,1,0,"tr",17),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](35,"div",18),h["\u0275\u0275text"](36," No record found. "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](37,"mat-paginator",19),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](38,"br"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275advance"](14),h["\u0275\u0275property"]("dataSource",t.dataSource),h["\u0275\u0275advance"](19),h["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("hidden",t.dataSource&&(null==t.dataSource||null==t.dataSource.data?null:t.dataSource.data.length)>0),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](5,ie)))},directives:[M.J,M.u,M.v,g.g,A.a,g.c,E.b,r.o,o.a,r.c,r.i,r.b,r.k,r.n,l.a,r.h,o.b,r.a,r.j,r.m],pipes:[i.G],styles:[""]}),e})()}];let le=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.f.forChild(ae)],a.f]}),e})();var oe=n("tk/3");let re=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,le,oe.b,M.D,M.n,p.k,r.q]]}),e})()}}]);