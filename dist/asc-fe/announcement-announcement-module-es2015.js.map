{"version":3,"sources":["./src/app/modules/pages/announcement/announcement.module.ts","./src/app/modules/pages/announcement/announcement.component.ts","./src/app/modules/pages/announcement/announcement.component.html","./src/app/modules/pages/announcement/announcement-routing.module.ts","./src/app/core/models/announcement.model.ts"],"names":[],"mappings":"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","file":"announcement-announcement-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AnnouncementRoutingModule } from './announcement-routing.module';\nimport { AngularMaterialModule } from '@shared';\nimport { AnnouncementComponent } from './announcement.component';\n\n\n@NgModule({\n  declarations: [AnnouncementComponent],\n  imports: [\n    CommonModule,\n    AnnouncementRoutingModule,\n    AngularMaterialModule\n  ]\n})\nexport class AnnouncementModule { }\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { ApiService } from '@services';\nimport { ENDPOINTS } from '@shared';\nimport { Announcement } from 'app/core/models/announcement.model';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Component({\n  selector: 'app-announcement',\n  templateUrl: './announcement.component.html',\n  styleUrls: ['./announcement.component.scss']\n})\nexport class AnnouncementComponent implements OnInit {\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\n  dataSource: MatTableDataSource<Announcement>;\n  announcement = new Announcement();\n  announcementList = [];\n  announcementListFilter = [];\n  viewCounter: number = 0;\n  constructor(\n    private apiService: ApiService,\n    private spinner: NgxSpinnerService\n  ) { }\n\n  ngOnInit(): void {\n    this.getAnnouncementList();\n  }\n\n  getAnnouncementList(): void {\n    this.spinner.show();\n    this.apiService.findAll(ENDPOINTS.activeAnnouncements).subscribe(\n      (res: any) => {\n        if (res.data) {\n          this.announcement = res.data;\n          this.announcementList = res.data;\n          this.announcementListFilter =  this.announcementList.slice(0*5, 0*5 + 5);\n          setTimeout(() => {\n            this.spinner.hide();\n          }, 1);\n        }\n      }\n    )\n  }\n\n  countView(data): void{\n    this.announcement = data;\n    data.counter++;\n    this.apiService.update(ENDPOINTS.announcements, this.announcement).subscribe(\n      (res:any) => {});\n  }\n\n  onPageChange($event) {\n    this.announcementListFilter =  this.announcementList.slice($event.pageIndex*$event.pageSize, $event.pageIndex*$event.pageSize + $event.pageSize);\n  }\n\n}\n","<form>\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-md-12 title\">\n        <mat-label>\n          <mat-icon>announcement</mat-icon> Announcements\n        </mat-label>\n      </div>\n    </div>\n    <hr>\n    <div class=\"announcement-content\" *ngFor=\"let announcement of announcementListFilter\">\n\n      <div class=\"announcement-title\">\n        <h3>\n          <span class=\"material-icons\">campaign</span><a [href]=\"announcement?.link\" (click)=\"countView(announcement);\" target=\"_blank\">{{announcement?.title}}</a>\n          <p><span class=\"material-icons\">event_available</span>{{announcement.postingDate| date:'fullDate'}}</p>\n          <p><span class=\"material-icons\">visibility</span> {{announcement.counter}}&nbsp;&nbsp;&nbsp; <label style=\"color: black; font-weight: 800;\">|</label> &nbsp;&nbsp;&nbsp;</p> \n        </h3>\n      </div>\n      <div class=\"announcement-details\">\n        <p>{{announcement?.details}}</p>\n      </div>\n\n      <div class=\"link-content\">\n      </div>\n\n    </div>\n    <div class=\"no-announcements\" *ngIf=\"announcementList.length==0\">No announcements.</div>\n\n\n    <hr>\n    <mat-paginator \n              (page)=\"onPageChange($event)\"\n              [length]=\"announcementListFilter.length\"\n              [pageSize]=\"5\"\n              [pageSizeOptions]=\"[5, 10, 25]\">\n</mat-paginator>\n  </div>\n \n\n<!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator> -->\n</form>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AnnouncementComponent } from './announcement.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AnnouncementComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AnnouncementRoutingModule { }\n","export class Announcement {\n  id: number;\n  details: string;\n  noOfView: number;\n  postingDate: Date;\n  status: string;\n  title: string;\n  link: string;\n  counter: number;\n}\n"],"sourceRoot":"webpack:///"}