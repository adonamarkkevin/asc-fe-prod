!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"1f37":function(e,t,n){"use strict";n.r(t),n.d(t,"AffiliationModule",(function(){return y}));var r,o,l=n("ofXK"),f=n("tyNb"),s=n("Y9a5"),u=n("fXoL"),c=[{path:"",component:s.a}],m=((r=i((function e(){a(this,e)}))).\u0275mod=u["\u0275\u0275defineNgModule"]({type:r}),r.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||r)},imports:[[f.f.forChild(c)],f.f]}),r),d=n("tk/3"),p=n("3Pt+"),v=n("M0ag"),h=n("7Tf7"),y=((o=i((function e(){a(this,e)}))).\u0275mod=u["\u0275\u0275defineNgModule"]({type:o}),o.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(e){return new(e||o)},imports:[[l.c,m,d.b,p.D,v.k,h.a]]}),o)},Y9a5:function(t,n,r){"use strict";r.d(n,"a",(function(){return M}));var o=r("M0ag"),l=r("+0xr"),f=r("3Pt+"),s=r("sKXY"),u=r("3swC"),c=r("PSD3"),m=r.n(c),d=r("fXoL"),p=r("dJ3e"),v=r("kmnG"),h=r("NFeN"),y=r("qFsG"),b=r("d3UM"),g=r("ofXK"),S=r("TPGS"),C=r("DeKZ"),w=r("FKr1");function F(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",13),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n," ")}}function A(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",13),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n.status),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.status," ")}}function E(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"mat-form-field",7),d["\u0275\u0275elementStart"](1,"mat-label"),d["\u0275\u0275text"](2,"Status"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"mat-select",14),d["\u0275\u0275listener"]("ngModelChange",(function(e){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().affiliation.status=e})),d["\u0275\u0275template"](4,A,2,2,"mat-option",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){var i=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",i.affiliation.status),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",i.statusList)}}var M=function(){var t=function(){function t(n,i,r){a(this,t),this.apiService=n,this.formBuilder=i,this.sweetAlertService=r,this.displayedColumns=["affiliationDesc","member","status"],this.statusList=e(o.B),this.yesNoList=e(o.H),this.affiliation=new s.a,this.affiliationList=[]}return i(t,[{key:"ngOnInit",value:function(){this.getList(),this.setFormValidator()}},{key:"getList",value:function(){var e=this;this.apiService.findAll(o.n.affiliation).subscribe((function(t){e.affiliationList=t.responseData.data,e.dataSource=new l.p(t.responseData.data),e.dataSource.paginator=e.formListComponent.paginator,e.dataSource.sort=e.formListComponent.sort}))}},{key:"save",value:function(){var e=this;"No"===this.affiliation.member.toString()&&(this.affiliation.member=this.setValue(this.affiliation.member)),this.affiliation.status=o.m.ACTIVE,this.apiService.save(o.n.affiliation,this.affiliation).subscribe((function(t){void 0!==t&&e.sweetAlertService.success(t)}),(function(t){e.sweetAlertService.error(t)}),(function(){e.resetFormValidator(),e.getList()}))}},{key:"getAffiliation",value:function(){var e=this;this.apiService.findById(o.n.affiliation,this.formListComponent.idForUpdate).subscribe((function(t){t&&(e.affiliation=t.responseData.data)}))}},{key:"confirmUpdate",value:function(){var e=this;"INACTIVE"===this.affiliation.status?m.a.fire({text:"Admin should manually change the company's membership affiliation value to its equivalent non member value. Continue?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){t.value&&e.update()})):this.update()}},{key:"update",value:function(){var e=this;this.affiliation.member=this.setValue(this.affiliation.member),this.apiService.update(o.n.affiliation,this.affiliation).subscribe((function(t){void 0!==t&&e.sweetAlertService.success(t)}),(function(t){e.sweetAlertService.error(t)}),(function(){e.resetFormValidator(),e.getList()}))}},{key:"setFormValidator",value:function(){this.affiliation.status=o.m.ACTIVE,this.affiliation.member=!0,this.affiliationForm=this.formBuilder.group({description:["",f.H.required],member:["",f.H.required],status:[""]})}},{key:"resetFormValidator",value:function(){this.affiliation=new s.a,this.affiliation.status=o.m.ACTIVE,this.affiliation.member=!0,this.affiliationForm.markAsUntouched(),this.affiliationForm.markAsPristine()}},{key:"setValue",value:function(e){return"Yes"===e||!0===e}},{key:"compareMember",value:function(e,t){if(e)return e===(t?"Yes":"No")}},{key:"delete",value:function(){var e=this;m.a.fire({text:"Are you sure you want to delete this brand?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){t.value&&e.apiService.deleteById(o.n.affiliation,e.affiliation.id).subscribe((function(){e.sweetAlertService.customSuccessMessage("Affiliation successfully deleted."),e.resetFormValidator(),e.getList()}))}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d["\u0275\u0275directiveInject"](p.b),d["\u0275\u0275directiveInject"](f.g),d["\u0275\u0275directiveInject"](p.e))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-affiliation"]],viewQuery:function(e,t){var n;1&e&&d["\u0275\u0275viewQuery"](u.a,!0),2&e&&d["\u0275\u0275queryRefresh"](n=d["\u0275\u0275loadQuery"]())&&(t.formListComponent=n.first)},decls:26,vars:10,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-8"],[1,"required-field"],["matInput","","name","description","formControlName","description",3,"ngModel","ngModelChange"],["appearance","outline",1,"col-md-4"],["name","member","formControlName","member",3,"ngModel","compareWith","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-4","appearance","outline",4,"ngIf"],[3,"childObject","childForm","saveFunction","updateFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],[3,"value"],["name","status","formControlName","status",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"form"),d["\u0275\u0275elementStart"](1,"div",0),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"mat-label"),d["\u0275\u0275elementStart"](5,"mat-icon"),d["\u0275\u0275text"](6,"groups"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](7," Member's Affiliation "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](8,"hr"),d["\u0275\u0275elementStart"](9,"form",3),d["\u0275\u0275elementStart"](10,"div",1),d["\u0275\u0275elementStart"](11,"mat-form-field",4),d["\u0275\u0275elementStart"](12,"mat-label"),d["\u0275\u0275text"](13,"Member's Affiliation "),d["\u0275\u0275elementStart"](14,"span",5),d["\u0275\u0275text"](15,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"input",6),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.affiliation.description=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](17,"mat-form-field",7),d["\u0275\u0275elementStart"](18,"mat-label"),d["\u0275\u0275text"](19,"Member"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](20,"mat-select",8),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.affiliation.member=e})),d["\u0275\u0275template"](21,F,2,2,"mat-option",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](22,E,5,2,"mat-form-field",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"app-form-action-buttons",11),d["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("updateFunction",(function(){return t.confirmUpdate()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](24,"br"),d["\u0275\u0275elementStart"](25,"app-form-list",12),d["\u0275\u0275listener"]("selectInListFunction",(function(){return t.getAffiliation()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("formGroup",t.affiliationForm),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngModel",t.affiliation.description),d["\u0275\u0275advance"](4),d["\u0275\u0275property"]("ngModel",t.affiliation.member)("compareWith",t.compareMember),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.yesNoList),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.affiliation.id),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("childObject",t.affiliation)("childForm",t.affiliationForm),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns))},directives:[f.J,f.u,f.v,v.g,h.a,f.l,v.c,y.b,f.d,f.t,f.j,b.a,g.s,g.t,S.a,C.a,w.m],styles:[""]}),t}()}}])}();