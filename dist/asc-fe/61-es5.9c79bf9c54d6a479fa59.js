!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{LSHe:function(t,a,r){"use strict";r.r(a),r.d(a,"BrandPenaltiesModule",(function(){return A}));var i=r("ofXK"),o=r("tyNb"),s=r("3Pt+"),l=r("+0xr"),d=r("3swC"),c=r("sKXY"),u=r("M0ag"),m=r("nOv4"),p=r("PSD3"),f=r.n(p),b=r("fXoL"),v=r("dJ3e"),h=r("kmnG"),y=r("NFeN"),P=r("d3UM"),g=r("qFsG"),S=r("TPGS"),w=r("DeKZ"),F=r("FKr1");function B(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",11),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.description," ")}}var C,L,k,E=[{path:"",component:(C=function(){function t(n,a,r,i,o){e(this,t),this.router=n,this.apiService=a,this.formBuilder=r,this.sweetAlertService=i,this.datepipe=o,this.displayedColumns=["brandDescription","brandPenaltyAmount"],this.brandPenalties=new m.a,this.brand=new c.i,this.brandPenaltiesList=[],this.brandList=[]}return n(t,[{key:"ngOnInit",value:function(){this.setFormValidator(),this.getBrandList(),this.getBrandPenaltiesList()}},{key:"getBrandPenaltiesList",value:function(){var e=this;this.apiService.findAll(u.n.brandPenalties).subscribe((function(t){t&&(e.brandPenaltiesList=t.responseData.data,e.dataSource=new l.p(t.responseData.data),e.dataSource.paginator=e.formListComponent.paginator,e.dataSource.sort=e.formListComponent.sort,e.brand=new c.i,e.brand=e.brandPenalties.brand,e.brand)&&(e.brand.penalty=!1,0===e.brandPenaltiesList.filter((function(t){var n,a;return(null===(n=null==t?void 0:t.brand)||void 0===n?void 0:n.id)===(null===(a=e.brand)||void 0===a?void 0:a.id)})).length&&e.apiService.update(u.n.brand,e.brand).subscribe())}),(function(e){console.log(e)}),(function(){e.resetFormValidator()}))}},{key:"getBrandPenalties",value:function(){var e=this;this.apiService.findById(u.n.brandPenalties,this.formListComponent.idForUpdate).subscribe((function(t){t&&(e.brandPenalties=t.responseData.data)}))}},{key:"getBrandList",value:function(){var e=this;this.apiService.findAll(u.n.activeBrands).subscribe((function(t){t&&(e.brandList=t.responseData.data)}))}},{key:"save",value:function(){var e=this;this.formatDate(),this.apiService.save(u.n.brandPenalties,this.brandPenalties).subscribe((function(t){t?(e.sweetAlertService.success(t),e.router.navigate(["asc/page/maintenance/brand-penalties"])):e.sweetAlertService.error(t),e.getBrandPenaltiesList()}))}},{key:"update",value:function(){var e=this;this.apiService.update(u.n.brandPenalties,this.brandPenalties).subscribe((function(t){t?(e.sweetAlertService.success(t),e.router.navigate(["asc/page/maintenance/brand-penalties"])):e.sweetAlertService.error(t),e.getBrandPenaltiesList()}))}},{key:"setFormValidator",value:function(){this.brandPenaltiesForm=this.formBuilder.group({brand:["",s.H.required],amount:["",s.H.required]})}},{key:"resetFormValidator",value:function(){this.brandPenalties=new m.a,this.brandPenaltiesForm.markAsUntouched(),this.brandPenaltiesForm.markAsPristine()}},{key:"compareBrandPenalties",value:function(e,t){if(e&&t)return e.description===t.description}},{key:"formatDate",value:function(){this.datepipe.transform(this.brandPenalties.penaltyDate,"yyyy-MM-dd")}},{key:"test",value:function(){alert(this.brandPenalties.penaltyDate)}},{key:"delete",value:function(){var e=this;f.a.fire({text:"Are you sure you want to delete this brand penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){t.value&&e.apiService.deleteById(u.n.brandPenalties,e.brandPenalties.id).subscribe((function(){e.sweetAlertService.customSuccessMessage("Brand penalty successfully deleted."),e.getBrandList(),e.getBrandPenaltiesList()}))}))}}]),t}(),C.\u0275fac=function(e){return new(e||C)(b["\u0275\u0275directiveInject"](o.b),b["\u0275\u0275directiveInject"](v.b),b["\u0275\u0275directiveInject"](s.g),b["\u0275\u0275directiveInject"](v.e),b["\u0275\u0275directiveInject"](i.f))},C.\u0275cmp=b["\u0275\u0275defineComponent"]({type:C,selectors:[["app-brand-penalties"]],viewQuery:function(e,t){var n;1&e&&b["\u0275\u0275viewQuery"](d.a,!0),2&e&&b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.formListComponent=n.first)},decls:28,vars:9,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-6"],[1,"required-field"],["name","brand","formControlName","brand",3,"ngModel","compareWith","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","amount","formControlName","amount",3,"ngModel","ngModelChange"],[3,"childObject","childForm","saveFunction","updateFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],[3,"value"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"form"),b["\u0275\u0275elementStart"](1,"div",0),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"div",2),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275elementStart"](5,"mat-icon"),b["\u0275\u0275text"](6,"turned_in"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275text"](7," Brand Penalties "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](8,"hr"),b["\u0275\u0275elementStart"](9,"form",3),b["\u0275\u0275elementStart"](10,"div",1),b["\u0275\u0275elementStart"](11,"mat-form-field",4),b["\u0275\u0275elementStart"](12,"mat-label"),b["\u0275\u0275text"](13,"Brand "),b["\u0275\u0275elementStart"](14,"span",5),b["\u0275\u0275text"](15,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"mat-select",6),b["\u0275\u0275listener"]("ngModelChange",(function(e){return t.brandPenalties.brand=e})),b["\u0275\u0275template"](17,B,2,2,"mat-option",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](18,"mat-form-field",4),b["\u0275\u0275elementStart"](19,"mat-label"),b["\u0275\u0275text"](20,"Penalty Amount "),b["\u0275\u0275elementStart"](21,"span",5),b["\u0275\u0275text"](22,"*"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](23,"input",8),b["\u0275\u0275listener"]("ngModelChange",(function(e){return t.brandPenalties.amount=e})),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](24,"div",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](25,"app-form-action-buttons",9),b["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("updateFunction",(function(){return t.update()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](26,"br"),b["\u0275\u0275elementStart"](27,"app-form-list",10),b["\u0275\u0275listener"]("selectInListFunction",(function(){return t.getBrandPenalties()})),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](9),b["\u0275\u0275property"]("formGroup",t.brandPenaltiesForm),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngModel",t.brandPenalties.brand)("compareWith",t.compareBrandPenalties),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",t.brandList),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngModel",t.brandPenalties.amount),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("childObject",t.brandPenalties)("childForm",t.brandPenaltiesForm),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns))},directives:[s.J,s.u,s.v,h.g,y.a,s.l,h.c,P.a,s.t,s.j,i.s,g.b,s.d,S.a,w.a,F.m],styles:[""]}),C)}],M=((L=n((function t(){e(this,t)}))).\u0275mod=b["\u0275\u0275defineNgModule"]({type:L}),L.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(e){return new(e||L)},imports:[[o.f.forChild(E)],o.f]}),L),j=r("tk/3"),I=r("7Tf7"),A=((k=n((function t(){e(this,t)}))).\u0275mod=b["\u0275\u0275defineNgModule"]({type:k}),k.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(e){return new(e||k)},imports:[[i.c,M,j.b,s.D,u.k,I.a]]}),k)}}])}();