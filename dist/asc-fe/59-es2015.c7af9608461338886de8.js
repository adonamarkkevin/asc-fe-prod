(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{jfQZ:function(e,t,n){"use strict";n.r(t),n.d(t,"AnnouncementContentModule",(function(){return x}));var a=n("ofXK"),o=n("tyNb"),r=n("3Pt+"),i=n("+0xr"),s=n("3swC"),l=n("M0ag"),m=n("dszm"),c=n("PSD3"),d=n.n(c),u=n("fXoL"),p=n("dJ3e"),f=n("HMc/"),h=n("kmnG"),g=n("NFeN"),S=n("qFsG"),v=n("iadO"),E=n("d3UM"),C=n("TPGS"),y=n("DeKZ"),w=n("FKr1");function F(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",19),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e.status),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.status," ")}}const b=[{path:"",component:(()=>{class e{constructor(e,t,n,a){this.apiService=e,this.formBuilder=t,this.sweetAlertService=n,this.dateService=a,this.displayedColumns=["title","details","noOfView","postingDate","status"],this.statusList=[...l.B],this.announcement=new m.a,this.announcementList=[],this.disabledWeekEnds=e=>{const t=(e||new Date).getDay();return 0!==t&&6!==t}}ngOnInit(){this.getList(),this.setFormValidator()}getList(){this.apiService.findAll(l.n.announcements).subscribe(e=>{this.announcementList=e.responseData.data,this.dataSource=new i.p(e.responseData.data),this.dataSource.paginator=this.formListComponent.paginator,this.dataSource.sort=this.formListComponent.sort})}save(){this.announcement.postingDate=this.dateService.setDate(this.announcement.postingDate),this.apiService.save(l.n.announcements,this.announcement).subscribe(e=>{void 0!==e&&this.sweetAlertService.success(e)},e=>{this.sweetAlertService.error(e)},()=>{this.resetFormValidator(),this.getList()})}getAnnouncement(){this.apiService.findById(l.n.announcements,this.formListComponent.idForUpdate).subscribe(e=>{e&&(this.announcement=e.responseData.data,console.log(e))})}update(){this.announcement.postingDate=this.dateService.setDate(this.announcement.postingDate),this.apiService.update(l.n.announcements,this.announcement).subscribe(e=>{void 0!==e&&this.sweetAlertService.success(e)},e=>{this.sweetAlertService.error(e)},()=>{this.resetFormValidator(),this.getList()})}setFormValidator(){this.announcement.status=l.m.ACTIVE,this.announcementForm=this.formBuilder.group({title:["",r.H.required],details:["",r.H.required],noOfView:["",r.H.required],postingDate:["",r.H.required],status:[""],link:[""]})}resetFormValidator(){this.announcement=new m.a,this.announcement.status=l.m.ACTIVE,this.announcementForm.markAsUntouched(),this.announcementForm.markAsPristine()}delete(){d.a.fire({text:"Are you sure you want to delete this announcement?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value&&this.apiService.deleteById(l.n.announcements,this.announcement.id).subscribe(()=>{this.sweetAlertService.customSuccessMessage("Announcement successfully deleted."),this.resetFormValidator(),this.getList()})})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](p.b),u["\u0275\u0275directiveInject"](r.g),u["\u0275\u0275directiveInject"](p.e),u["\u0275\u0275directiveInject"](f.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-announcement-content"]],viewQuery:function(e,t){var n;1&e&&u["\u0275\u0275viewQuery"](s.a,!0),2&e&&u["\u0275\u0275queryRefresh"](n=u["\u0275\u0275loadQuery"]())&&(t.formListComponent=n.first)},decls:50,vars:15,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-12"],[1,"required-field"],["matInput","","name","title","formControlName","title",3,"ngModel","ngModelChange"],["matInput","","name","details","formControlName","details",3,"ngModel","ngModelChange"],["matInput","","name","link","formControlName","link",3,"ngModel","ngModelChange"],["appearance","outline",1,"col-md-4"],["matInput","","name","noOfView","formControlName","noOfView",3,"ngModel","ngModelChange"],["matInput","","placeholder","Date","readonly","","name","postingDate","formControlName","postingDate",3,"matDatepicker","matDatepickerFilter","ngModel","ngModelChange"],["matSuffix","",3,"for"],["color","warn","disabled","false"],["postingDate",""],["name","status","formControlName","status",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"childObject","childForm","saveFunction","updateFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],[3,"value"]],template:function(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"form"),u["\u0275\u0275elementStart"](1,"div",0),u["\u0275\u0275elementStart"](2,"div",1),u["\u0275\u0275elementStart"](3,"div",2),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275elementStart"](5,"mat-icon"),u["\u0275\u0275text"](6,"announcement"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275text"](7," Announcements "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](8,"hr"),u["\u0275\u0275elementStart"](9,"form",3),u["\u0275\u0275elementStart"](10,"div",1),u["\u0275\u0275elementStart"](11,"mat-form-field",4),u["\u0275\u0275elementStart"](12,"mat-label"),u["\u0275\u0275text"](13,"Title "),u["\u0275\u0275elementStart"](14,"span",5),u["\u0275\u0275text"](15,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"input",6),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcement.title=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"mat-form-field",4),u["\u0275\u0275elementStart"](18,"mat-label"),u["\u0275\u0275text"](19,"Details "),u["\u0275\u0275elementStart"](20,"span",5),u["\u0275\u0275text"](21,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](22,"textarea",7),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcement.details=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](23,"mat-form-field",4),u["\u0275\u0275elementStart"](24,"mat-label"),u["\u0275\u0275text"](25,"Link "),u["\u0275\u0275elementStart"](26,"span",5),u["\u0275\u0275text"](27,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](28,"textarea",8),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcement.link=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](29,"mat-form-field",9),u["\u0275\u0275elementStart"](30,"mat-label"),u["\u0275\u0275text"](31,"Number Of View "),u["\u0275\u0275elementStart"](32,"span",5),u["\u0275\u0275text"](33,"*"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](34,"input",10),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcement.noOfView=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](35,"mat-form-field",9),u["\u0275\u0275elementStart"](36,"mat-label"),u["\u0275\u0275text"](37,"Posting Date"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](38,"input",11),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcement.postingDate=e})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](39,"mat-datepicker-toggle",12),u["\u0275\u0275element"](40,"mat-datepicker",13,14),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](42,"mat-form-field",9),u["\u0275\u0275elementStart"](43,"mat-label"),u["\u0275\u0275text"](44,"Status"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](45,"mat-select",15),u["\u0275\u0275listener"]("ngModelChange",(function(e){return t.announcement.status=e})),u["\u0275\u0275template"](46,F,2,2,"mat-option",16),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](47,"app-form-action-buttons",17),u["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("updateFunction",(function(){return t.update()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](48,"br"),u["\u0275\u0275elementStart"](49,"app-form-list",18),u["\u0275\u0275listener"]("selectInListFunction",(function(){return t.getAnnouncement()})),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275reference"](41);u["\u0275\u0275advance"](9),u["\u0275\u0275property"]("formGroup",t.announcementForm),u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("ngModel",t.announcement.title),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngModel",t.announcement.details),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngModel",t.announcement.link),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngModel",t.announcement.noOfView),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("matDatepicker",e)("matDatepickerFilter",t.disabledWeekEnds)("ngModel",t.announcement.postingDate),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("for",e),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngModel",t.announcement.status),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",t.statusList),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("childObject",t.announcement)("childForm",t.announcementForm),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns)}},directives:[r.J,r.u,r.v,h.g,g.a,r.l,h.c,S.b,r.d,r.t,r.j,v.h,v.j,h.j,v.f,E.a,a.s,C.a,y.a,w.m],styles:[""]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f.forChild(b)],o.f]}),e})();var D=n("7Tf7"),k=n("tk/3");let x=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,M,k.b,r.D,l.k,D.a]]}),e})()}}]);