{"version":3,"sources":["./src/app/modules/pages/maintenance/weekly-user-schedule/weekly-user-schedule.module.ts","./src/app/modules/pages/maintenance/weekly-user-schedule/weekly-user-schedule.component.ts","./src/app/modules/pages/maintenance/weekly-user-schedule/weekly-user-schedule.component.html","./src/app/modules/pages/maintenance/weekly-user-schedule/weekly-user-schedule-routing.module.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AAES;AACH;AACL;AACyB;AACM;AACS;;AAajF;UAAM,wBAAwB;;2GAAxB,wBAAwB;8KAAxB,wBAAwB,kBAT1B;gBACP,4DAAY;gBACZ,oGAA+B;gBAC/B,qEAAgB;gBAChB,kEAAmB;gBACnB,6DAAqB;gBACrB,sFAAe;aAChB;;;;wHAEU,wBAAwB,mBAVpB,2FAA2B,CAAC,EAAD,UAExC,4DAAY;YACZ,oGAA+B;YAC/B,qEAAgB;YAChB,kEAAmB;YACnB,6DAAqB;YACrB,sFAAe;AAAA;;;;;;;;;;;;;;AClBnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoC;AAE4C;AAC9C;AAC2B;;;;;;;;;;;;;;;QCYvC,iFACG;QADmD,0XAA4B;QAC/E,uDACH;QAAA,4DAAa;;;;QAF0B,0EAAc;QAClD,0DACH;QADG,sHACH;;;;;;QAIJ,0EACE;QAAA,uFAOe;QAHX,qcAAqD;QAGzD,4DAAe;QACnB,4DAAM;;;;QANE,0DAAqB;QAArB,qFAAqB;;;;;QAbjC,yEACI;QAAA,qFACI;QAAA,4EAAW;QAAA,4EAAiB;QAAA,4DAAY;QACxC,iFACE;QAAA,4IACG;QAEL,4DAAa;QACf,4DAAiB;QAEjB,8HACE;QASR,4DAAM;;;;QAhBgB,0DAA0B;QAA1B,iFAA0B;QAMC,0DAAa;QAAb,8EAAa;;;;;QAgBtD,yEAAwC;QAAA,iEAAK;QAAA,4DAAK;;;;;;QAClD,yEACG;QAAA,6EAAqG;QAApC,mZAAmC;QAAC,iEAAM;QAAA,4DAAS;QACpH,2EAAwB;QAAA,uDAAgC;QAAA,4DAAO;QAClE,4DAAK;;;;;QADsB,0DAAgC;QAAhC,kIAAgC;;;;;QAI/D,oEAA4D;;;;;QAC5D,oEAAkE;;;ADlC3E;UAAM,2BAA2B;QAYtC,YACU,UAAsB;YAAtB,eAAU,GAAV,UAAU,CAAY;YAThC,kBAAa,GAAU,EAAE,CAAC;YAC1B,sBAAiB,GAAU,EAAE,CAAC;YAE9B,uBAAkB,GAAQ,IAAI,CAAC;YAE/B,qBAAgB,GAAa,CAAC,MAAM,CAAC,CAAC;QAKlC,CAAC;QAEL,QAAQ;YACN,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC;QAC9B,CAAC;QAED,gBAAgB,CAAC,CAAC,EAAE,QAAQ;YAC1B,MAAM,IAAI,GAAG,uDAAM,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;YACrC,IAAI,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE;gBAChD,OAAO;aACR;YAED,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,EAAE;gBAC7C,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC/B;iBAAM;gBACL,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;gBAC5D,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aACrC;YACD,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;YAEjC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC1B,CAAC;QAED,YAAY,CAAC,IAAI;YACf,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC9C,CAAC;QAED,UAAU,CAAC,iBAAiB;YAC1B,OAAO,CAAC,IAAI,EAAE,EAAE;;gBACd,OAAO,OAAO,CAAC,CAAD,KAAC,iBAAiB,CAAC,aAAa,0CAAE,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,uDAAM,CAAC,IAAI,EAAE,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;oBAC9F,CAAC,CAAC,UAAU;oBACZ,CAAC,CAAC,IAAI,CAAC;YACT,CAAC;QACH,CAAC;QAED,iBAAiB;YACf,MAAM,OAAO,GAAG;gBACd,OAAO,EAAE,IAAI,CAAC,YAAY;gBAC1B,uBAAuB,EAAE,IAAI,CAAC,oBAAoB,EAAE;gBACpD,EAAE,EAAE,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI;aAChE;YAED,IAAI,IAAI,CAAC,kBAAkB,EAAE;gBAC3B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,iDAAS,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;oBAC3E,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;gBAC9C,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,iDAAS,CAAC,kBAAkB,EAAE,MAAF,0BAAO,OAAO,KAAE,uBAAuB,EAAE,EAAE,KAAG,IAAI,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;oBACrH,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,iDAAS,CAAC,kBAAkB,EAAE,MAAF,0BAAO,OAAO,KAAE,EAAE,EAAE,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAE,CAAC,SAAS,CAAC,GAAG,EAAE;wBAC7G,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;oBAC9C,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;aACJ;QACH,CAAC;QAED,WAAW,CAAC,IAAI;YACd,OAAO,uDAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,aAAa,CAAC,CAAC;QAC/C,CAAC;QAED,UAAU,CAAC,IAAI;YACb,MAAM,aAAa,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;YAC1E,IAAI,aAAa,KAAK,CAAC,CAAC,EAAE;gBACxB,MAAM,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB;qBACvD,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,uDAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,YAAY,CAAC,KAAK,uDAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC,EAAE,CAAC;gBACzG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,iDAAS,CAAC,oBAAoB,EAAE,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,EAAE;oBAC5E,MAAM,KAAK,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;oBAC5F,IAAI,CAAC,kBAAkB,CAAC,uBAAuB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;oBACjE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAC1B,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;gBAClD,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;aAC3B;QACH,CAAC;QAED,cAAc,CAAC,IAAI;YACjB,MAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC;YACtE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;YAC5C,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;QACnC,CAAC;QAEO,gBAAgB;YACtB,IAAI,CAAC,UAAU,GAAG,IAAI,0EAAkB,CACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,CAAE,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAC/G,CAAC;QACJ,CAAC;QAEO,oBAAoB;YAC1B,OAAO,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gBAChC,IAAI,YAAY,GAAG,IAAI,CAAC;gBACxB,IAAI,IAAI,CAAC,kBAAkB,EAAE;oBAC3B,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,uBAAuB;yBAC7D,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,uDAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,YAAY,CAAC,KAAK,uDAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE,YAAY,CAAC,CAAE,CAAC;iBACrG;gBACD,OAAO,YAAY,aAAZ,YAAY,cAAZ,YAAY,CAAC,CAAD,CAAI,EAAE,YAAY,EAAE,CAAC,EAAE,CAAC;YAC/C,CAAC,CAAC,CAAC;QACL,CAAC;QAEO,eAAe;YACrB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,iDAAS,CAAC,eAAe,WAAW,CAAC,CAAC,SAAS,CACxE,CAAC,GAAQ,EAAE,EAAE;gBACZ,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC;YACtC,CAAC,CAAC,CAAC;QACL,CAAC;QAEO,SAAS;YACf,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,iBAAiB,GAAG,EAAE,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;YACjC,IAAI,CAAC,gBAAgB,EAAE,CAAC;QAC1B,CAAC;QAEO,mBAAmB,CAAC,IAAI;YAC9B,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,GAAI,iDAAS,CAAC,8BAA+B,eAAgB,IAAI,CAAC,EAAG,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,EAAE,EAAE;gBACjH,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE;oBACnB,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;oBAClB,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,uBAAuB,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,uDAAM,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,YAAY,CAAC,CAAC,CAAC;oBAChH,IAAI,CAAC,aAAa,GAAG,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBACjD,IAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC;oBAC9B,IAAI,CAAC,gBAAgB,EAAE,CAAC;oBACxB,IAAI,CAAC,QAAQ,CAAC,gBAAgB,EAAE,CAAC;iBAClC;qBAAM;oBACL,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;iBAChC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;;0GA/IU,2BAA2B;+GAA3B,2BAA2B;YAAA;;;;;;;;;gBCZxC,uEACI;gBAAA,yEACI;gBAAA,yEACI;gBAAA,yEACI;gBAAA,4EACE;gBAAA,iFACF;gBAAA,4DAAY;gBAChB,4DAAM;gBACV,4DAAM;gBACN,gEAEA;gBAAA,uEACI;gBAAA,uHACI;gBAoBR,4DAAO;gBAEP,yEACI;gBAAA,4EACI;gBAAA,4EACI;gBAAA,uHAAwC;gBACxC,uHACG;gBAGP,qEAAe;gBAEf,uHAAuD;gBACvD,wHAA6D;gBAEjE,4DAAQ;gBACR,2EACI;gBAAA,8EACJ;gBAAA,4DAAM;gBACN,2EACI;gBAAA,8EAAiI;gBAA9B,oJAAS,uBAAmB,IAAC;gBAAC,gEAAI;gBAAA,4DAAS;gBAClJ,4DAAM;gBACV,4DAAM;gBAtDV,4DACI;gBAFR,4DACI;;;gBAWyB,0DAAa;gBAAb,2EAAa;gBAwBb,0DAAyB;gBAAzB,sFAAyB;gBASnB,0DAAmC;gBAAnC,iGAAmC;gBAC1C,0DAAgD;gBAAhD,kGAAgD;gBAGzC,0DAAoD;gBAApD,qHAAoD;gBAI5B,0DAAqC;gBAArC,kGAAqC;;;;;;;;;;;;;;;;;;ACrDhG;AAAA;AAAA;AAAA;AAAA;AAAyC;AACc;AACwB;;;AAE/E,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2FAA2B;KACvC;CACF,CAAC;AAMK;UAAM,+BAA+B;;kHAA/B,+BAA+B;4LAA/B,+BAA+B,kBAHjC,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC,EAC9B,4DAAY,CAAC,EAAD;;;mIAEX,+BAA+B,uFAFhC,4DAAY,CAAC,EAAD","file":"weekly-user-schedule-weekly-user-schedule-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { FragmentsModule } from 'app/modules/fragments/fragments.module';\r\nimport { WeeklyUserScheduleComponent } from './weekly-user-schedule.component';\r\nimport { WeeklyUserScheduleRoutingModule } from './weekly-user-schedule-routing.module';\r\n\r\n@NgModule({\r\n  declarations: [WeeklyUserScheduleComponent],\r\n  imports: [\r\n    CommonModule,\r\n    WeeklyUserScheduleRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    AngularMaterialModule,\r\n    FragmentsModule\r\n  ]\r\n})\r\nexport class WeeklyUserScheduleModule { }\r\n","import { ENDPOINTS } from '@shared';\r\nimport { ApiService } from '@services';\r\nimport { Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { format } from 'date-fns';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\n\r\n@Component({\r\n  selector: 'app-weekly-user-schedule',\r\n  templateUrl: './weekly-user-schedule.component.html',\r\n  styleUrls: ['./weekly-user-schedule.component.scss'],\r\n  encapsulation: ViewEncapsulation.None\r\n})\r\nexport class WeeklyUserScheduleComponent implements OnInit {\r\n\r\n  users: any[];\r\n  todayDate: Date;\r\n  selectedDates: any[] = [];\r\n  originalUserDates: any[] = [];\r\n  selectedUser: any;\r\n  userExistingRecord: any = null;\r\n  dataSource: MatTableDataSource<any[]>;\r\n  displayedColumns: string[] = ['date'];\r\n  @ViewChild('calendar') calendar: any;\r\n\r\n  constructor(\r\n    private apiService: ApiService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.initializeUsers();\r\n    this.todayDate = new Date();\r\n  }\r\n\r\n  onCalendarUpdate(e, calendar): void {\r\n    const date = format(e, 'yyyy-MM-dd');\r\n    if (this.originalUserDates.find(d => d === date)) {\r\n      return;\r\n    }\r\n\r\n    if (!this.selectedDates.find(e => e === date)) {\r\n      this.selectedDates.push(date);\r\n    } else {\r\n      const index = this.selectedDates.findIndex(e => e === date);\r\n      this.selectedDates.splice(index, 1);\r\n    }\r\n    this.calendar.updateTodaysDate();\r\n\r\n    this.updateDataSource();\r\n  }\r\n\r\n  onSelectUser(user): void {\r\n    this.selectedUser = user;\r\n    this.initializeUserDates(this.selectedUser);\r\n  }\r\n\r\n  isSelected(componentInstance): any {\r\n    return (date) => {\r\n      return Boolean(componentInstance.selectedDates?.find((e) => format(date, 'yyyy-MM-dd') === e)) \r\n      ? 'selected' \r\n      : null;\r\n    }\r\n  }\r\n\r\n  saveSelectedDates(): void {\r\n    const payload = {\r\n      account: this.selectedUser,\r\n      weeklyUserScheduleDates: this.convertSelectedDates(),\r\n      id: this.userExistingRecord ? this.userExistingRecord.id : null\r\n    }\r\n\r\n    if (this.userExistingRecord) {\r\n      this.apiService.update(ENDPOINTS.weeklyUserSchedule, payload).subscribe(() => {\r\n        this.initializeUserDates(this.selectedUser);\r\n      });\r\n    } else {\r\n      this.apiService.insert(ENDPOINTS.weeklyUserSchedule, { ...payload, weeklyUserScheduleDates: []}, true).subscribe((e) => {\r\n        this.apiService.update(ENDPOINTS.weeklyUserSchedule, { ...payload, id: e.responseData.data.id}).subscribe(() => {\r\n          this.initializeUserDates(this.selectedUser);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  convertDate(date): string {\r\n    return format(new Date(date), 'MMM/dd/yyyy');\r\n  }\r\n\r\n  deleteDate(date): void {\r\n    const indexOriginal = this.originalUserDates.findIndex((e) => e === date);\r\n    if (indexOriginal !== -1) {\r\n      const id = this.userExistingRecord.weeklyUserScheduleDates\r\n        .find(e => format(new Date(e.scheduleDate), 'yyyy-MM-dd') === format(new Date(date), 'yyyy-MM-dd')).id;\r\n      this.apiService.deleteById(ENDPOINTS.weeklyScheduledUsers, id).subscribe(() => {\r\n        const index = this.userExistingRecord.weeklyUserScheduleDates.findIndex((e) => e.id === id);\r\n        this.userExistingRecord.weeklyUserScheduleDates.splice(index, 1);\r\n        this.deletionUpdate(date);\r\n        this.originalUserDates.splice(indexOriginal, 1);\r\n      });\r\n    } else {\r\n      this.deletionUpdate(date);\r\n    }\r\n  }\r\n\r\n  deletionUpdate(date): void {\r\n    const indexSelected = this.selectedDates.findIndex((e) => e === date);\r\n    this.selectedDates.splice(indexSelected, 1);\r\n    this.updateDataSource();\r\n    this.calendar.updateTodaysDate();\r\n  }\r\n\r\n  private updateDataSource(): void {\r\n    this.dataSource = new MatTableDataSource<any>(\r\n      this.selectedDates.sort((a,b) => (new Date(b).valueOf()) - (new Date(a).valueOf()) ).map((date) => ({ date }))\r\n    );\r\n  }\r\n\r\n  private convertSelectedDates(): any[] {\r\n    return this.selectedDates.map((e) => {\r\n        let originalDate = null;\r\n        if (this.userExistingRecord) {\r\n          originalDate = this.userExistingRecord.weeklyUserScheduleDates\r\n          .find((c) => format(new Date(c.scheduleDate), 'yyyy-MM-dd') === format(new Date(e), 'yyyy-MM-dd') );\r\n        }\r\n        return originalDate ?? { scheduleDate: e };\r\n    });\r\n  }\r\n\r\n  private initializeUsers(): void {\r\n    this.apiService.findAll(`${ENDPOINTS.userAccountType}/ASC_USER`).subscribe(\r\n      (res: any) => {\r\n       this.users = res.responseData.data;\r\n    });\r\n  }\r\n\r\n  private clearData(): void {\r\n    this.selectedDates = [];\r\n    this.originalUserDates = [];\r\n    this.calendar.updateTodaysDate();\r\n    this.updateDataSource();\r\n  }\r\n\r\n  private initializeUserDates(user): void {\r\n    this.clearData();\r\n    this.apiService.findAll(`${ ENDPOINTS.weeklyUserScheduleCustomSearch }?&accountId=${ user.id }`).subscribe((res) => {\r\n      if (res.data.length) {\r\n        res = res.data[0];\r\n        this.originalUserDates = res.weeklyUserScheduleDates.map((e) => format(new Date(e.scheduleDate), 'yyyy-MM-dd'));\r\n        this.selectedDates = [...this.originalUserDates];\r\n        this.userExistingRecord = res;\r\n        this.updateDataSource();\r\n        this.calendar.updateTodaysDate();\r\n      } else {\r\n        this.userExistingRecord = null;\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<form>\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 title\">\r\n                <mat-label>\r\n                  Weekly User Schedule\r\n                </mat-label>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n\r\n        <form>\r\n            <div class=\"row\" *ngIf=\"users\">\r\n                <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                    <mat-label>ASC Internal User</mat-label>\r\n                    <mat-select name=\"status\">\r\n                      <mat-option *ngFor=\"let user of users\" [value]=\"user\" (click)=\"onSelectUser(user)\">\r\n                         {{user.firstName + ' ' + user.lastName}}\r\n                      </mat-option>\r\n                    </mat-select>\r\n                  </mat-form-field>\r\n\r\n                  <div class=\"col-md-5\" appearance=\"outline\" *ngIf=\"users\">\r\n                    <mat-calendar\r\n                        #calendar \r\n                        [minDate]=\"todayDate\" \r\n                        [hidden]=\"!selectedUser\"\r\n                        (selectedChange)=\"onCalendarUpdate($event, calendar)\"\r\n                        [dateClass]=\"isSelected(this)\"\r\n                    >\r\n                    </mat-calendar>\r\n                </div>\r\n            </div>\r\n        </form>\r\n\r\n        <div class=\"mat-elevation-z8 fields\">\r\n            <table mat-table [dataSource]=\"dataSource\" mat-sort>\r\n                <ng-container matColumnDef=\"date\">\r\n                    <th mat-header-cell *matHeaderCellDef > Date </th>\r\n                    <td mat-cell *matCellDef=\"let element\">\r\n                       <button class=\"button-red col-md-1 delete-btn\" mat-raised-button (click)=\"deleteDate(element?.date)\">Delete</button>\r\n                       <span class=\"date-text\">{{ convertDate(element?.date) }}</span>\r\n                    </td>\r\n                </ng-container>\r\n\r\n                <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n                <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n\r\n            </table>\r\n            <div class=\"no-record\" [hidden]=\"selectedDates && selectedDates.length > 0\">\r\n                No record found.\r\n            </div>\r\n            <div class=\"col-md-12\">\r\n                <button class=\"button-red col-md-3 margin\" [hidden]=\"selectedDates.length === 0\" mat-raised-button (click)=\"saveSelectedDates()\">Save</button>\r\n            </div>\r\n        </div>\r\n        ","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { WeeklyUserScheduleComponent } from './weekly-user-schedule.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: WeeklyUserScheduleComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class WeeklyUserScheduleRoutingModule { }\r\n"],"sourceRoot":"webpack:///"}