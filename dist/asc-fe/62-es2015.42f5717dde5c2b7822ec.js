(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{uZqy:function(e,t,n){"use strict";n.r(t),n.d(t,"CompanyPenaltiesModule",(function(){return E}));var a=n("ofXK"),i=n("tyNb"),o=n("3Pt+"),r=n("+0xr"),s=n("3swC"),l=n("M0ag"),m=n("fJLi"),c=n("PSD3"),p=n.n(c),d=n("fXoL"),u=n("dJ3e"),y=n("kmnG"),h=n("NFeN"),f=n("d3UM"),v=n("qFsG"),P=n("TPGS"),S=n("DeKZ"),C=n("FKr1");function g(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",11),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.companyName," ")}}const F=[{path:"",component:(()=>{class e{constructor(e,t,n,a){this.apiService=e,this.formBuilder=t,this.sweetAlertService=n,this.datepipe=a,this.displayedColumns=["companyDescription","companyPenaltyAmount"],this.companyPenalties=new m.a,this.companyPenaltiesList=[],this.companyList=[]}ngOnInit(){this.setFormValidator(),this.getCompanyList(),this.getCompanyPenaltiesList()}getCompanyPenaltiesList(){this.apiService.findAll(l.n.companyPenalties).subscribe(e=>{e&&(this.companyPenaltiesList=e.responseData.data,this.dataSource=new r.p(e.responseData.data),this.dataSource.paginator=this.formListComponent.paginator,this.dataSource.sort=this.formListComponent.sort)})}getCompanyPenalties(){this.apiService.findById(l.n.companyPenalties,this.formListComponent.idForUpdate).subscribe(e=>{e&&(this.companyPenalties=e.responseData.data,console.log(this.companyPenalties))})}getCompanyList(){this.apiService.findAll(l.n.activeCompanies).subscribe(e=>{e&&(this.companyList=e.responseData.data)})}save(){this.formatDate(),this.apiService.save(l.n.companyPenalties,this.companyPenalties).subscribe(e=>{e?this.sweetAlertService.success(e):this.sweetAlertService.error(e),this.getCompanyPenaltiesList(),this.resetFormValidator()})}update(){this.apiService.update(l.n.companyPenalties,this.companyPenalties).subscribe(e=>{e?this.sweetAlertService.success(e):this.sweetAlertService.error(e),this.getCompanyPenaltiesList(),this.resetFormValidator()})}setFormValidator(){this.companyPenaltiesForm=this.formBuilder.group({company:["",o.H.required],penaltyAmount:["",o.H.required]})}resetFormValidator(){this.companyPenalties=new m.a,this.companyPenaltiesForm.markAsUntouched(),this.companyPenaltiesForm.markAsPristine()}compareCompanyPenalties(e,t){if(e&&t)return e.description===t.description}formatDate(){this.datepipe.transform(this.companyPenalties.penaltyDate,"yyyy-MM-dd")}delete(){p.a.fire({text:"Are you sure you want to delete this company penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value&&this.apiService.deleteById(l.n.companyPenalties,this.companyPenalties.id).subscribe(()=>{this.sweetAlertService.customSuccessMessage("Company penalty successfully deleted."),this.resetFormValidator(),this.getCompanyList(),this.getCompanyPenaltiesList()})})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](u.b),d["\u0275\u0275directiveInject"](o.g),d["\u0275\u0275directiveInject"](u.e),d["\u0275\u0275directiveInject"](a.f))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-company-penalties"]],viewQuery:function(e,t){var n;1&e&&d["\u0275\u0275viewQuery"](s.a,!0),2&e&&d["\u0275\u0275queryRefresh"](n=d["\u0275\u0275loadQuery"]())&&(t.formListComponent=n.first)},decls:28,vars:9,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-6"],[1,"required-field"],["name","company","formControlName","company",3,"ngModel","compareWith","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","penaltyAmount","formControlName","penaltyAmount",3,"ngModel","ngModelChange"],[3,"childObject","childForm","saveFunction","updateFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"form"),d["\u0275\u0275elementStart"](1,"div",0),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"mat-label"),d["\u0275\u0275elementStart"](5,"mat-icon"),d["\u0275\u0275text"](6,"turned_in"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275text"](7," Company Penalties "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](8,"hr"),d["\u0275\u0275elementStart"](9,"form",3),d["\u0275\u0275elementStart"](10,"div",1),d["\u0275\u0275elementStart"](11,"mat-form-field",4),d["\u0275\u0275elementStart"](12,"mat-label"),d["\u0275\u0275text"](13,"Company "),d["\u0275\u0275elementStart"](14,"span",5),d["\u0275\u0275text"](15,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"mat-select",6),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.companyPenalties.company=e})),d["\u0275\u0275template"](17,g,2,2,"mat-option",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](18,"mat-form-field",4),d["\u0275\u0275elementStart"](19,"mat-label"),d["\u0275\u0275text"](20,"Penalty Amount "),d["\u0275\u0275elementStart"](21,"span",5),d["\u0275\u0275text"](22,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"input",8),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.companyPenalties.penaltyAmount=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](24,"div",1),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](25,"app-form-action-buttons",9),d["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("updateFunction",(function(){return t.update()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](26,"br"),d["\u0275\u0275elementStart"](27,"app-form-list",10),d["\u0275\u0275listener"]("selectInListFunction",(function(){return t.getCompanyPenalties()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](9),d["\u0275\u0275property"]("formGroup",t.companyPenaltiesForm),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngModel",t.companyPenalties.company)("compareWith",t.compareCompanyPenalties),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",t.companyList),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngModel",t.companyPenalties.penaltyAmount),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("childObject",t.companyPenalties)("childForm",t.companyPenaltiesForm),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns))},directives:[o.J,o.u,o.v,y.g,h.a,o.l,y.c,f.a,o.t,o.j,a.s,v.b,o.d,P.a,S.a,C.m],styles:[""]}),e})()}];let b=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.f.forChild(F)],i.f]}),e})();var w=n("tk/3"),L=n("7Tf7");let E=(()=>{class e{}return e.\u0275mod=d["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=d["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,b,w.b,o.D,l.k,L.a]]}),e})()}}]);