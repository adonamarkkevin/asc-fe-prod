{"version":3,"sources":["webpack:///src/app/modules/pages/applications/schedule-of-fees/special-applications/special-applications.component.ts","webpack:///src/app/modules/pages/applications/schedule-of-fees/special-applications/special-applications.component.html","webpack:///src/app/core/models/multiple-application.model.ts","webpack:///src/app/core/models/comment.model.ts","webpack:///src/app/modules/pages/applications/preview-attachments/preview-attachments.component.ts","webpack:///src/app/modules/pages/applications/preview-attachments/preview-attachments.component.html","webpack:///src/app/modules/pages/applications/preview-application/preview-application.component.ts","webpack:///src/app/modules/pages/applications/preview-application/preview-application.component.html","webpack:///src/app/modules/pages/applications/schedule-of-fees/multiple-applications/modal-multiple-applications/modal-multiple-applications.component.ts","webpack:///src/app/modules/pages/applications/schedule-of-fees/multiple-applications/modal-multiple-applications/modal-multiple-applications.component.html","webpack:///src/app/modules/pages/applications/reassignment/reassignment.component.ts","webpack:///src/app/modules/pages/applications/reassignment/reassignment.component.html","webpack:///src/app/modules/pages/applications/applications.module.ts","webpack:///src/app/modules/fragments/update-multiple-application/update-multiple-application.component.ts","webpack:///src/app/modules/fragments/update-multiple-application/update-multiple-application.component.html","webpack:///src/app/modules/pages/company/company-routing.module.ts","webpack:///src/app/modules/pages/company/add-company/add-company-routing.module.ts","webpack:///src/app/modules/pages/applications/schedule-of-fees/single-application/single-application.component.ts","webpack:///src/app/modules/pages/applications/schedule-of-fees/single-application/single-application.component.html","webpack:///src/app/modules/pages/applications/schedule-of-fees/multiple-applications/multiple-applications.component.ts","webpack:///src/app/modules/pages/applications/schedule-of-fees/multiple-applications/multiple-applications.component.html","webpack:///src/app/modules/pages/applications/schedule-of-fees/special-applications/modal-special-applications/modal-special-applications.component.ts","webpack:///src/app/modules/pages/applications/schedule-of-fees/special-applications/modal-special-applications/modal-special-applications.component.html","webpack:///src/app/core/models/media-models/mulstimedia-static.const.ts","webpack:///src/app/modules/pages/accounting/index.ts","webpack:///src/app/modules/pages/applications/applications-routing.module.ts","webpack:///src/app/modules/pages/applications/s2-application/add-s2-application/add-s2-application.component.ts","webpack:///src/app/modules/pages/applications/s2-application/add-s2-application/add-s2-application.component.html","webpack:///src/app/modules/pages/applications/attachment-document/attachment-document.component.ts","webpack:///src/app/modules/pages/applications/attachment-document/attachment-document.component.html","webpack:///src/app/modules/pages/accounting/upload-payment/upload-payment.component.ts","webpack:///src/app/modules/pages/accounting/upload-payment/upload-payment.component.html","webpack:///src/app/modules/fragments/s1-form-type/s1-form-type.component.ts","webpack:///src/app/modules/fragments/s1-form-type/s1-form-type.component.html","webpack:///src/app/modules/pages/applications/reassignment/reassignment-routing.module.ts","webpack:///src/app/modules/pages/applications/comment/comment.component.ts","webpack:///src/app/modules/pages/applications/comment/comment.component.html","webpack:///src/app/core/models/comments.model.ts","webpack:///src/app/modules/pages/company/add-company/add-company.module.ts","webpack:///src/app/modules/pages/applications/s2-application/list-s2-application/list-s2-application.component.ts","webpack:///src/app/modules/pages/applications/s2-application/list-s2-application/list-s2-application.component.html","webpack:///src/app/modules/pages/applications/client-information/client-information.component.ts","webpack:///src/app/modules/pages/applications/client-information/client-information.component.html","webpack:///src/app/core/models/media-models/multimedia-moving.const.ts","webpack:///src/app/modules/pages/applications/index.ts","webpack:///src/app/modules/pages/applications/s1-application/add-s1-application/add-s1-application.component.ts","webpack:///src/app/modules/pages/applications/s1-application/add-s1-application/add-s1-application.component.html","webpack:///src/app/modules/fragments/update-special-application/update-special-application.component.ts","webpack:///src/app/modules/fragments/update-special-application/update-special-application.component.html","webpack:///src/app/modules/pages/applications/s1-application/list-s1-application/list-s1-application.component.ts","webpack:///src/app/modules/pages/applications/s1-application/list-s1-application/list-s1-application.component.html","webpack:///src/app/modules/pages/applications/s1-application/list-s1-application/list-s1-dialog.html","webpack:///src/app/modules/pages/maintenance/index.ts","webpack:///src/app/modules/pages/company/company.module.ts","webpack:///src/app/core/models/copy-claims.model.ts","webpack:///src/app/modules/pages/applications/material-information/material-information.component.ts","webpack:///src/app/modules/pages/applications/material-information/material-information.component.html","webpack:///src/app/modules/pages/applications/performance-metrics/performance-metrics.component.ts","webpack:///src/app/modules/pages/applications/performance-metrics/performance-metrics.component.html","webpack:///src/app/modules/pages/applications/reassignment/reassignment.module.ts","webpack:///src/app/modules/pages/company/index.ts"],"names":["SpecialApplicationsComponent","apiService","dialog","dataStorage","displayedColumns","paymentList","currentUser","getUserAccount","getS2PaymentList","findAll","scheduleOfFeesS2Special","subscribe","res","dataSource","paginator","sort","dialogRef","open","width","height","data","afterClosed","result","ngOnInit","MultipleApplication","MultipleApplicationId","Comment","PreviewAttachmentsComponent","previewAttachmentsList","console","log","attachmentUrl","window","PreviewApplicationComponent","attachmentDocuments","originalAttachmentDocuments","revisionAttachmentDocuments","complianceAttachmentDocuments","applicationSingleMedia","multimediaDTO","supportiveDocumentList","multimediaMovingList","multimediaStaticList","typeOfDocument","previewS1Application","submissionType","ORIGINAL","REVISION","revisionLetterAttachment","COMPLIANCE","decisionStatus","INCOMPLETE","MAIN","mainDoc","filter","attachmentType","fileURL","SUPPORTIVE","supportiveDoc","REVISION_LETTER","revisionLetterDoc","ELEMENT_DATA","referenceCode","amount","ModalMultipleApplicationsComponent","sanitizer","fileStorageService","sweetAlertService","router","multipleApplicationList","s1Application","payment","previewDocument","attachmentDocument","isSubmitted","paymentTypeList","multipleApplication","isDisabled","typeOfMediumDisplay","paymentStatus","FOR_PAYMENT","getPaymentDetails","getMultipleApplicationList","getPaymentList","multiplePaymentDetails","id","paymentDetails","getMultipleAppFormsWithNoRejected","responseData","forEach","refTypeOfMedium","applicationFormS2","applicationForm","getApplicationSingleMedia","appFormReference","getMultimediaMoving","getMultimediaStatic","err","error","message","under_maintenance","paymentType","userRole","name","ROLE_APPLICANT","creditCardIndex","findIndex","element","paymentDescription","splice","event","attachmentSize","target","files","size","type","customErrorMessage","value","pdfURL","URL","createObjectURL","safeURLProofOfPayment","bypassSecurityTrustResourceUrl","reader","FileReader","file","readAsDataURL","onload","selectedFiles","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","setDisplayProgressbar","params","PAYMENT","pushFileToStorage","item","obj","paymentAttachmentReference","amountDue","totalAmount","filename","saveProofOfPayment","undefined","FOR_APPROVAL","officialReceiptNo","paymentMethod","save","applicationFormPresentor","customSuccessMessage","closeModal","close","navigate","findByParam","length","mediumExecution","typeOfMedium","description","sizeLength","index","applicationMultimedia","multimediaList","Set","map","mappedList","multimediaSizeLength","mediaCtrl","media","selectFile","ReassignmentComponent","formBuilder","spinner","s2Application","userList","s1ApplicationList","s1ApplicationDisplayedColumns","s2ApplicationList","s2ApplicationDisplayedColumns","applicationOwnerName","displayedContent","getS1ApplicationList","setFormValidator","getUserList","applicationType","show","admin","filteredS1List","appliedS2","s1ApplicationDataSource","formListComponent","hide","s2ApplicationDataSource","findById","idForUpdate","applicationOwner","lastName","firstName","assignedUser","endpoint","currentObj","applicationReassignment","s2ApplicationReassignment","actionStatus","assignedEncoder","assignedAdSpecialist","success","resetFormValidator","s1ApplicationForm","group","adTitle","assignedReviewer","assignedScreener","markAsUntouched","markAsPristine","userAccount","filteredUsers","selected","evt","tab","textLabel","changeTab","ApplicationsModule","UpdateMultipleApplicationComponent","datepipe","company","multipleS1Application","multipleS1ApplicationList","isAscUser","isDisableFieldOnUpdate","isDisabledSubmitButton","canForwardMultipleApp","isAllApplicationsHasMainDoc","warningNote","formType","MULTIPLE","ascUserRoleList","role","ascUser","brand","product","currentUserRole","includes","getUserRole","getS1FormsByMultipleApplication","ROLE_ADMIN","ROLE_SUPER_ADMIN","getMultipleAppForms","filteredList","mainAttachmentReference","supportingAttachmentReference","hasNoSupportingDocs","today","transform","Date","approvedDate","dateOfSubmission","submissionStatus","status","checkForwardStatus","countVerifiedApplicationForm","actualNumberOfApplicationForm","displayStatus","endpointExtension","actionDate","actionBy","username","update","multipleId","ctr","numberOfApplication","result2","user","forwardMultipleAppFormToScreener","forwardMultipleAppFormToReviewer","filteredS1App","routes","path","children","LIST_COMPANY","loadChildren","m","ListCompanyModule","ADD_COMPANY","AddCompanyModule","UPDATE_COMPANY","CompanyRoutingModule","forChild","component","AddCompanyRoutingModule","SingleApplicationComponent","getS1PaymentList","maxHeight","MultipleApplicationsComponent","getS1MultiplePaymentList","ModalSpecialApplicationsComponent","specialPaymentDetails","vat","toFixed","navigateByUrl","UNPAID","s2ApplicationFormPresentor","uploadDocument","MultiMediaStaticConst","Array","multimediaStaticMedium","hasSelected","S1_APPLICATION","S1ApplicationModule","S2_APPLICATION","S2ApplicationModule","SCHEDULE_OF_FEES_SINGLE_APPLICATION","SingleApplicationModule","SCHEDULE_OF_FEES_MULTIPLE_APPLICATIONS","MultipleApplicationsModule","SCHEDULE_OF_FEES_SPECIAL_APPLICATIONS","SpecialApplicationsModule","ACCOUNTS_PAYABLE","AccountsPayableModule","APPLICATION_REASSIGNMENT","ReassignmentModule","ApplicationsRoutingModule","AddS2ApplicationComponent","route","spinnerMessageEmitter","title","rationaleS2","report","s2OriginalAttachmentDocuments","s2OriginalAttachmentObservable","s2ComplianceAttachmentDocuments","affiliationList","companyList","selectedMultimediaList","rationaleOthersList","rationaleLists","isNewCompany","showCompanyAddress","spinnerMessage","todayDate","tempCompliance","audioVideo","isAudioVideo","isShowUploadButton","rationaleDisplay","isSuperAdmin","isAdmin","isAccounting","isApplicant","isEvaluator","isAdSpecialist","isScreener","isReviewer","previewAttachmentsDisplayedColumns","applicationStage","Number","snapshot","paramMap","get","initUserRole","getAffiliationList","getCompanyList","viewS2Application","ROLE_ACCOUNTING","ROLE_SCREENER","ROLE_REVIEWER","ROLE_AD_SPECIALIST","ROLE_ENCODER","clientInformation","materialInformation","finalMaterialAttachmentReference","getS2AttachmentDocument","setApplicationStage","hideSpinner","SINGLE_MEDIA","MULTIMEDIA_MOVING","MULTIMEDIA_STATIC","getAttachmentDocuments","DISAPPROVED","internalStatus","getRationaleList","clearanceAndToa","previewAttachmentsData","previewAttachmentsListDataSource","comment","getCommentsS2","swalMessage","s2ApplicationFormPresentorSubmit","s2ApplicationFormEncoderVerify","s2ApplicationFormAdSpe","APPROVED","navigateToS2List","s2ApplicationForm","externalStatus","action","attachmentDocumentByAppFormReference","SAVED","next","supportiveDocument","i","validityDate","incompleteDisapprovedRationale","activeMembersAffiliation","activeCompanies","companyName","affiliation","required","attachmentComponent","eventParam","byteToMegaByte","finalMaterialType","maxFileSize","fileSize","toLowerCase","safeURLFile","selectedFile","appFormRef","FINAL_MATERIAL","uploadedFinalMaterialFile","addToAttachmentDocuments","myFinalMaterialFileInputC","nativeElement","myFinalMaterialFileC","myFinalMaterialFileInput","myFinalMaterialFile","originalFilename","fileExtension","documentFormat","createdBy","createdDate","attachmentDocumentByS2AppFormReference","setTimeout","applicationRationaleS2","others","rationaleListS2","format","module","applicationFormS2Id","printReport","generateReports","newBlob","Blob","downloadURL","s2ManualRelease","accordion","AttachmentDocumentComponent","dataStorageService","s2SupportAttchmentDocuments","s2DocObservable","s2SupportDocument","S2SupportDoc","tempRevisionAttachmentDocuments","tempComplianceAttachmentDocuments","s2Appplication","labelMainDocument","showMainDocumentUploadButton","showMainDocumentUploadButtonR","showMainDocumentUploadButtonC","showMainDocumentViewButton","showMainDocumentViewButtonR","showMainDocumentViewButtonC","showSupportDocumentFrame","showSupportDocumentFrameR","showSupportDocumentFrameC","showSupportiveDocumentUploadButton","showSupportiveDocumentUploadButtonR","showSupportiveDocumentUploadButtonC","showSupportiveDocumentViewButton","showSupportiveDocumentViewButtonR","showSupportiveDocumentViewButtonC","showRevisionLetterViewButton","showRevisionLetterUploadButton","mainDocAttachmentSize","supportDocAttachmentSize","revisionDocAttachmentSize","progress","percentage","changes","hasMain","Boolean","find","c","hasSupportive","r","accountType","label","attachmentSizeForUpload","safeURLSupportDoc","safeURLMainDoc","safeURLRevisionLetter","S1_APPLICATION_REVIEWED","COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER","safeURLMainDocR","safeURLSupportDocR","revisionLetterAttachmentReference","safeURLMainDocC","safeURLSupportDocC","replaceAll","currentFileUpload","uploadedFileSupportive","s2SupportDocAddToAttachmentDocument","uploadedFileMain","uploadedFileRevision","push","JSON","parse","stringify","myMainFile","myMainInput","isOriginal","documentType","currentSubType","REVISION_SCREENED","S1_APPLICATION_REJECTED","mySupportiveFile","mySupportiveInput","myRevisionLetterFile","attachmentDocumentForm","attachmentReference","language","dialect","multimediaLength","multimediaSize","applicationMultimediaStatic","applicationMultimediaMoving","UploadPaymentComponent","paymentForm","remarks","pt","S1FormTypeComponent","numberOfMultipleApplicationAllowed","applicationTypeList","formTypeList","showNumberOfApplications","isMultiple","isSpecial","isPresentation","getApplicationTypeList","getNoOfMultipleApplicationsAllowed","noOfMultipleApplicationAllowed","INDIVIDUAL","toLocaleLowerCase","apptype","formtype","numberOfApplications","min","parseInt","minimum","toString","max","maximum","navigateToS1Application","formAndAppType","appType","setS1FormAndAppType","setNumberOfApplications","FOR_PRESENTATION","proceedS1Application","checkType","setAsMultiple","setAsForPresentation","ReassignmentRoutingModule","CommentComponent","commentS1Application","commentS2Application","internalComment","externalComment","copyClaims","commentList","internalCommentList","externalCommentList","replyInternalComment","copyClaimsList","commentId","commentTypeList","commentType","internalCommentProcess","externalCommentProcess","copyClaimesProcess","disabledComment","editCopyClaimsComment","editExternalComment","replyEditorConfig","editable","spellcheck","minHeight","minWidth","translate","enableToolbar","showToolbar","placeholder","defaultParagraphSeparator","defaultFontName","defaultFontSize","fonts","customClasses","tag","uploadUrl","uploadWithCredentials","sanitize","toolbarPosition","toolbarHiddenButtons","editorConfig","screenerDecisionComment","reviewerDecisionComment","releaseStatus","getComments","getCopyClaims","commentS2","applicationFormType","S2","S1","setHtml5Value","dateTransformed","isReply","parentId","addInternalComment","replyEditorIsEnabled","deleteById","commentForm","internalComments","externalComments","commentBody","commentHtmlOutput","cancel","CommentThread","parent","ListS2ApplicationComponent","commonService","pageSize","pageNo","pageSizeOptions","s2TotalItems","s2ApplicationListForClearance","forClearanceDisplayedColumns","s2SpecialTotalItems","s2SpecialApplicationList","s2SpecialApplicationDisplayedColumns","applicationRequest","currentPage","originalTabDataCount","complianceTabDataCount","releasedAppealTabDataCount","toaTabDataCount","click","timeLeft","refreshButtonEnabled","isTimerValueDisplay","s2ApplicationCountList","applicationCountS2","viewApplicationType","url","getListCount","applicationTypeTitle","getSpecialS2ApplicationList","getList","badgeCountByApplicationOwnerS2","badgeCountByAscUserS2","param","toUpperCase","TOA","s2ApplicationFormEncoder","s2ApplicationFormAdmin","totalItems","statuses","s2SpecialClearingApplicationRequestsAdmin","applicationOwnerId","s2SpecialClearingApplicationRequests","s2SpecialApplicationDataSource","pageIndex","setPageSizeOptionsInput","split","str","formStatus","OPEN","takeApplication","specialClearing","elementId","getForDecisionAndComment","paginatorFalse","a","b","reverse","sendClickEvent","startTimer","interval","setInterval","clearInterval","timerDisplay","minutes","Math","floor","refresh","ClientInformationComponent","addressService","checkInactiveAffiliation","hasErrorFields","memberAffiliationList","brandList","productList","regionsList","provinceList","cityMunicipalityList","barangayList","countryList","notInSelection","ngUnsubscribe","getBrandList","getCountries","setProductList","clientInformationForm","category","companyAddress","country","membersAffiliation","valueChanges","pipe","checkInvalidFields","activeBrands","productsByBrand","INACTIVE","checkInactiveAffiliationFunction","dataForModal","isFromModal","isUpdate","getDefaultCountry","setS1NewCompany","getS1NewCompany","getS1NewBrand","currentStatus","getS1NewProduct","code","countries","setDefaultCountry","isInactiveAffiliation","emit","complete","MultiMediaMovingConstant","multimediaMovingMedium","activeHolidayDates","activeWeekendDates","AddS1ApplicationComponent","cd","commonServices","_snackBar","exportTime","hour","minute","meriden","presentorDetails","rationale","specialApplicationType","screenerList","reviewerList","applicantList","mediaTypeListTemp","adSpecialistList","applicationSingleMediaTemp","currentSizeLengthMultimedia","toDeleteMultimediaList","hasMultimediaLengthToEnableSubmit","disableSubmitButtonByMedia","hasErrorsClient","badgeCounter","isChecked","isSubmit","noDocumentAttached","accordionDisable","accordionExpanded","validationMessage","buttonDisabled","adSpecButtonDisabled","maxSizeLength","getDay","getS1FormAndAppType","getS1Application","getSpecialS1Application","submissionDate","autoSubmit","viewApplication","tagLine","sequenceOrder","disableFieldOnUpdate","getUserTypeForList","checkSingleMediaChanges","getAllActiveHolidays","getAllActiveWeekends","that","date","isDateHoliday","newMultimediaList","detectChanges","sessionStorage","removeItem","setAppType","fetchMultimedia","scheduleSubmission","onChangeDate","getPresentorDetails","APPROVED_WITH_CAUTION","COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE","REVISION_VERIFIED_BY_AD_SPE","getDecisionStatus","stampedMaterialAndDecisionForms","userLogin","previewApplication","currentSizeLength","mappedMultimedia","suppDoc","getSupportiveDocuments","viewPayment","res1","paymentAttachment","safeURL","submissionDateValue","controls","reset","disableSaveAndSubmitButton","decision","account","applicationFormScreener","defaultReviewer","reviewer","ascDefault","otherReviewers","buttonValidation","ACTIVE","process","saveOrUpdateApplication","validateAscRates","saveStatus","getNumberOfApplications","setAndSaveS1Data","isScheduleSendIsEmpty","setTypeOfMediumDisplay","saveUpdateApplicationSingleMedia","saveUpdateMultimedia","movingStatic","currentTOM","multimediaToDelete","replace","SAVE","saveAppForm","SUBMIT","processAppForm","typeOfMultimedia","navigateToS1List","supportingDocuments","newSupportiveDocumentList","BATCH","dateFetched","api","newStatus","multipleApplicationReturnToAdSpe","multipleApplicationReturnToScreener","applicationFormReviewer","S1_APPLICATION_VERIFIED_BY_AD_SPE","S1_APPLICATION_SCREENED","reAssignScreenerForMultipleApplication","applicationFormAdSpecialist","reAssignReviewerForMultipleApplication","currentDate","msg","S1_APPLICATION_SUBMITTED","S1_APPLICATION_CANCELLED","CANCEL","REJECT","VERIFY","SCREEN","ACCEPT","checkNullValues","selectedApplicationOwner","saveSupportingDocuments","responseMessage","forwardMultipleAppsTo","checkCutOffTime","horizontalPosition","verticalPosition","duration","submitDecisionAndCommentScreener","submitDecisionAndCommentReviewer","forwardMultipleAppFormToAdSpe","releaseMultipleApplication","SUBMITTED_DOCUMENT_FOR_COMPLIANCE","revisionNo","submitApplicationForm","hasSpecialClearing","applicationRequests","d","day","weekendDate","holidayDate","setDecisionStatus","incompleteDisapprovedModal","applicationFormEncoder","decisionFormFileURL","stampMaterialFileURL","applicationFormId","applicationRationale","rationaleList","hasMultimediaLengthChange","modifyApprovedS1ApplicationFormMultimedia","modifyApprovedS1ApplicationFormSingleMedia","newMedia","mediaType","multimediaListChanges","hasSizeLengthChange","multimediaSizeLengthNew","filteredMedia","filteredRes","hasNewMultimediaType","multimedia","some","currMedia","applicationMultimediaMovingList","medium","applicationMultimediaStaticList","typeofMedium","s1ManualRelease","regex","RegExp","startTime","endTime","currentTime","String","getHours","getMinutes","getSeconds","holidays","holidayType","penalty","delinquent","isSaveAndRequestForApprovalDisabled","UpdateSpecialApplicationComponent","ListS1ApplicationComponent","webSocketService","totalPages","returnedApps","multipleApplicationDisplayedColumns","multipleTotalItems","specialApplicationList","specialApplicationDisplayedColumns","specialTotalItems","assignedApplicationList","assignedApplicationDisplayedColumns","forReleaseApplicationsList","forReleaseTotalItems","forReleaseApplicationDisplayedColumns","applicationList","revisionTabDataCount","decisionCommentTabDataCount","s1ApplicationTitle","doFilter","trim","doFilterS1MultipleApplicationList","multipleApplicationDataSource","doFilterSpecialS1ApplicationList","specialApplicationDataSource","doFilterAssignedS1ApplicationList","assignedApplicationDataSource","doFilterForReleaseApplicationList","forReleaseApplicationDataSource","listen","badgeCountByAscUser","getListCounts","refreshApplicationBadgeCount","match","screenedCount","badgeCountByApplicationOwner","response","screenedApplications","getMultipleS1ApplicationList","getSpecialS1ApplicationList","getAssignAppFormBy","getForReleaseApplicationList","getReleasedApplicationList","applicationFormAdmin","stats","PAID","ASSIGN_TO_PRESENTOR","ascEndpoint","assignedASCUser","s1SpecialApplicationRequestsAdmin","s1SpecialApplicationRequests","retrieveReassignLength","getForReleaseApplicationAdSpe","getForReleaseApplicationsReviewer","getAdminSuperAdminForReleaseApplication","getReleaseApplicationsAdSpe","currentAssignee","lockedBy","setS1Application","setSpecialS1Application","promise","Promise","resolve","reject","saveUserAccount","getCompanyById","typeOfExecution","ListS1Dialog","s1App","application","fetchedData","validateApp","LOCKED","userType","getAllAdSpeReturnedApps","getAllScreenerReturnedApps","respose","indexOf","$event","preventDefault","isS2","hasToa","s2ApplicationFormPresentorSave","proceedToS2","requestForClearingAndClearance","CompanyModule","CopyClaims","MaterialInformationComponent","validateFieldService","util","checkSingleMediaChangesFunction","checkMultimediaChangesFunction","typeOfMediumList","executionList","dialectList","typeOfDocumentList","setMultimediaList","selectedMultimediaStringList","supportingDocument","newApplicationSingleMedia","selectMultimedia","previewMainDocument","showSupportiveDocumentDownloadButton","showRevisionLetterDownloadButton","previewSupportiveDocument","isDigitalStatic","savedTypeOfMedium","selectedTypeOfMedium","multimediaMovingDTO","multimediaStaticDTO","getTypeOfDocumentList","emitSingleMediaChanges","initializeMultimediaMovingObj","initializeMultimediaStaticObj","getTypeOfMedium","getExecutionDialectList","materialInformationForm","previousRefCode","basedOn","variant","dateOfLaunch","expiresOn","input","typeOfMediumSingleMedia","typeOfMediumMultiMediaMoving","MULTIMEDIA","typeOfMediumMultiMediaStatic","resetValues","typeOfMainDocument","executionEnable","lengthEnable","sizeLengthEnable","typeOfExecutionsByMedium","dialects","keepValues","key","checkIfDocumentAlreadyExist","expiresOnEnable","supportingDocumentIndex","number","numbersOnly","PerformanceMetricsComponent","performanceMetricsList","getPerformanceMatricsList","performanceMetrics","closeDialog"],"mappings":"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","file":"applications-applications-module-es5.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport { ModalSpecialApplicationsComponent } from './modal-special-applications/modal-special-applications.component';\r\n\r\n\r\n@Component({\r\n  selector: 'app-special-applications',\r\n  templateUrl: './special-applications.component.html',\r\n  styleUrls: ['./special-applications.component.scss']\r\n})\r\nexport class SpecialApplicationsComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<Object>;\r\n\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['referenceCode', 'typeOfApplication', 'brand', 'medium', 'applicantCompanyName', 'paymentStatus'];\r\n  paymentList = [];\r\n\r\n  currentUser: any;\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dialog: MatDialog,\r\n    private dataStorage: DataStorageService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getS2PaymentList();\r\n  }\r\n\r\n  getS2PaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.scheduleOfFeesS2Special).subscribe((res: any) => {\r\n      this.paymentList = res;\r\n\r\n      this.dataSource = new MatTableDataSource<any>(this.paymentList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    });\r\n  }\r\n\r\n  openModal(res) {\r\n\r\n    const dialogRef = this.dialog.open(ModalSpecialApplicationsComponent, {\r\n      width: '60%',\r\n      height: '85%',\r\n      data: res\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.ngOnInit();\r\n    });\r\n\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <mat-icon>view_list</mat-icon> Special Clearing - For Payment\r\n        </mat-label>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <br>\r\n    <div class=\"col-md-12\" fxLayout fxLayoutAlign=\"center center\">\r\n      <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n        <input matInput type=\"text\" placeholder=\"Company Name\">\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"mat-elevation-z8 fields\">\r\n      <table mat-table [dataSource]=\"dataSource\" matSort>\r\n        <ng-container matColumnDef=\"referenceCode\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\"> {{element?.applicationForm?.referenceCode | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"typeOfApplication\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.applicationType.description | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"brand\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.brand.description | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"medium\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> MEDIUM</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.typeOfMedium | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"applicantCompanyName\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICANT COMPANY NAME</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationForm?.company.companyName | uppercase}}</td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"paymentStatus\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> PAYMENT STATUS</th>\r\n          <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.paymentStatus?.replaceAll('_',' ') | uppercase}}</td>\r\n        </ng-container>\r\n\r\n\r\n\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n      </table>\r\n      <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n        No record found.\r\n      </div>\r\n      <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n    </div>\r\n    <br>\r\n  </div>\r\n</form>\r\n","import { Company } from './company.model';\r\nimport { Brand } from './brand.model';\r\nimport { ApplicationType } from './application-type.model';\r\nimport { UserAccount } from './user-account.model';\r\nimport { Product } from './product.model';\r\nimport { Category } from '@models';\r\n\r\nexport class MultipleApplication {\r\n    id: number;\r\n    actionBy: string;\r\n    actionDate: Date;\r\n    adTitle: string;\r\n    applicationOwner: UserAccount;\r\n    applicationType: ApplicationType;\r\n    brand: Brand;\r\n    company: Company;\r\n    dateOfSubmission: Date;\r\n    numberOfApplication: number;\r\n    status: string;\r\n    tagLine: string;\r\n\r\n    actionStatus: string;\r\n    submissionStatus: string;\r\n    assignedAdSpecialist: UserAccount;\r\n    assignedEncoder: UserAccount;\r\n    assignedScreener: UserAccount;\r\n    assignedReviewer: UserAccount;\r\n    actualNumberOfApplicationForm: number;\r\n    countVerifiedApplicationForm: number;\r\n\r\n    totalAmount: number;\r\n    paymentStatus: string;\r\n\r\n    product: Product;\r\n\r\n}\r\n\r\nexport class MultipleApplicationId {\r\n  id: number;\r\n}\r\n\r\n","import { S2Application } from './s2-application.model';\r\nimport { UserAccount } from './user-account.model';\r\n\r\nexport class Comment {\r\n    id: number;\r\n    comment: string;\r\n    revisionNo: number;\r\n    actionBy: UserAccount;\r\n    role: string;\r\n    actionDate: Date;\r\n    commentType: string; // INTERNAL, EXTERNAL, EMAIL, REJECT\r\n    applicationFormType: string; // S1, S2\r\n    appFormReference: string;\r\n    applicationFormS2: S2Application;\r\n    // modifiedBy: string;\r\n    // modifiedDate: Date;\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  Input,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { MatPaginator } from \"@angular/material/paginator\";\r\nimport { MatSort } from \"@angular/material/sort\";\r\nimport { MatTable, MatTableDataSource } from \"@angular/material/table\";\r\n\r\n@Component({\r\n  selector: \"app-preview-attachments\",\r\n  templateUrl: \"./preview-attachments.component.html\",\r\n  styleUrls: [\"./preview-attachments.component.scss\"],\r\n})\r\nexport class PreviewAttachmentsComponent implements OnInit, AfterViewInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<object>;\r\n  @Input() previewAttachmentsList = [];\r\n  @Input() dataSource: MatTableDataSource<object>;\r\n  @Input() displayedColumns = \"\";\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  ngAfterViewInit(): void {\r\n    console.log(this.dataSource);\r\n    if (this.dataSource) {\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    }\r\n  }\r\n\r\n  viewFormOrMaterial(attachmentUrl) {\r\n    if (attachmentUrl) {\r\n      window.open(attachmentUrl);\r\n    }\r\n  }\r\n}\r\n","<div class=\"mat-elevation-z8\">\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n\r\n        <ng-container matColumnDef=\"decisionFormFilename\">\r\n            <th mat-header-cell *matHeaderCellDef> Decision Form Filename </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.decisionFormFilename }} </td>\r\n        </ng-container>\r\n\r\n        <!-- VIEW ICON START -->\r\n        <ng-container matColumnDef=\"viewDecisionFormIcon\">\r\n            <th mat-header-cell *matHeaderCellDef> View Decision Form </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                <span class=\"material-icons\" *ngIf=\"element?.decisionFormFileURL\" matTooltip=\"View Decision Form\"\r\n                    (click)=\"viewFormOrMaterial(element?.decisionFormFileURL)\">open_in_new</span>\r\n            </td>\r\n        </ng-container>\r\n        <!-- VIEW ICON END -->\r\n\r\n        <ng-container matColumnDef=\"stampMaterialFilename\">\r\n            <th mat-header-cell *matHeaderCellDef> Stamp Material Filename </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.stampMaterialFilename }} </td>\r\n        </ng-container>\r\n\r\n        <!-- VIEW ICON START -->\r\n        <ng-container matColumnDef=\"viewStampMaterialIcon\">\r\n            <th mat-header-cell *matHeaderCellDef> View Stamp Material </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                <span class=\"material-icons\" *ngIf=\"element?.stampMaterialFileURL\" matTooltip=\"View Stamp Material\"\r\n                    (click)=\"viewFormOrMaterial(element?.stampMaterialFileURL)\">open_in_new</span>\r\n            </td>\r\n        </ng-container>\r\n        <!-- VIEW ICON END -->\r\n\r\n        <ng-container matColumnDef=\"clearanceToaFilename\">\r\n            <th mat-header-cell *matHeaderCellDef> Clearance TOA Filename </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.clearanceToaFilename }} </td>\r\n        </ng-container>\r\n\r\n        <!-- VIEW ICON START -->\r\n        <ng-container matColumnDef=\"viewClearanceToaIcon\">\r\n            <th mat-header-cell *matHeaderCellDef> View Clearance TOA </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                <span class=\"material-icons\" *ngIf=\"element?.clearanceToaFileUrl\" matTooltip=\"View Clearance TOA\"\r\n                    (click)=\"viewFormOrMaterial(element?.clearanceToaFileUrl)\">open_in_new</span>\r\n            </td>\r\n        </ng-container>\r\n        <!-- VIEW ICON END -->\r\n\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n    <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n        No record found.\r\n    </div>\r\n    <mat-paginator [pageSizeOptions]=\"[10, 20, 30]\" showFirstLastButtons></mat-paginator>\r\n\r\n</div>","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { S1Application } from '@models';\r\nimport { ApiService } from '@services';\r\nimport { APP_DECISION_STATUS, ATTACHMENT_TYPE, SUBMISSION_TYPE } from '@shared';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { ApplicationSingleMedia } from '../../../../core/models/application-single-media.model';\r\nimport { AttachmentDocumentComponent } from '../attachment-document/attachment-document.component';\r\n\r\n@Component({\r\n  selector: 'app-preview-application',\r\n  templateUrl: './preview-application.component.html',\r\n  styleUrls: ['./preview-application.component.scss']\r\n})\r\nexport class PreviewApplicationComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  dataSource: MatTableDataSource<any>;\r\n  displayedColumns: string[] = ['typeOfDocument', 'variant', 'expiresOn', 'basedOn', 'remarks'];\r\n  @ViewChild(AttachmentDocumentComponent, { static: false }) materialAttachmentDocument: AttachmentDocumentComponent\r\n    ;\r\n\r\n  @Input() previewS1Application: any;// = new S1Application();\r\n  attachmentDocuments = [];\r\n  @Input() originalAttachmentDocuments = [];\r\n  @Input() revisionAttachmentDocuments = [];\r\n  @Input() complianceAttachmentDocuments = [];\r\n  @Input() applicationSingleMedia = new ApplicationSingleMedia();\r\n  @Input() revisionLetterAttachment: any;\r\n  @Input() multimediaDTO: any = {};\r\n\r\n  supportiveDocumentList = [];\r\n  multimediaMovingList = [];\r\n  multimediaStaticList = [];\r\n\r\n  constructor(\r\n    private apiService: ApiService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // console.log('Preview..', this.previewS1Application);\r\n  }\r\n\r\n\r\n  viewDocument(typeOfDocument) {\r\n    if (this.previewS1Application.submissionType === SUBMISSION_TYPE.ORIGINAL) {\r\n      this.attachmentDocuments = this.originalAttachmentDocuments;\r\n    } else if (this.previewS1Application.submissionType === SUBMISSION_TYPE.REVISION) {\r\n      this.attachmentDocuments = this.revisionLetterAttachment;\r\n    } else if (this.previewS1Application.submissionType === SUBMISSION_TYPE.COMPLIANCE\r\n      || this.previewS1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE) {\r\n      this.attachmentDocuments = this.complianceAttachmentDocuments;\r\n    }\r\n\r\n    if (typeOfDocument === ATTACHMENT_TYPE.MAIN) {\r\n      const mainDoc = this.attachmentDocuments.filter(res => res.attachmentType === ATTACHMENT_TYPE.MAIN)[0];\r\n      window.open(this.attachmentDocuments[0].fileURL);\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n      const supportiveDoc = this.attachmentDocuments.filter(res => res.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE)[0];\r\n      window.open(supportiveDoc.fileURL);\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n      // this.attachmentDocuments.filter(res => res.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER)[0];\r\n      const revisionLetterDoc = this.revisionLetterAttachment;\r\n      window.open(revisionLetterDoc.fileURL);\r\n    }\r\n  }\r\n\r\n}\r\n","<!--  -->\r\n<div class=\"row fields\">\r\n  <h4>\r\n    <i class=\"material-icons\">preview</i> &nbsp;<b>CLIENT'S INFORMATION</b>\r\n    <hr>\r\n  </h4>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Company Name</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.company?.companyName\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Membership Affiliation</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.company?.membersAffiliation?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\"></div>\r\n  </div>\r\n\r\n  <div class=\"row\"><br></div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Brand</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.brand?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Product</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.product?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.product?.category?.description\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <br><br><br>\r\n</div>\r\n\r\n<!--  -->\r\n<div class=\"row fields\">\r\n  <h4>\r\n    <i class=\"material-icons\">preview</i> &nbsp;<b>MATERIAL INFORMATION</b>\r\n    <hr>\r\n  </h4>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-12\" appearance=\"outline\">\r\n      <mat-label>Ad Title</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.adTitle\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\"><br></div>\r\n\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Reference Code of Previously-Approved Material</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.previousRefCode\" disabled>\r\n    </div>\r\n    <div class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Tag line</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.tagLine\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"previewS1Application?.refTypeOfMedium\">\r\n    <div class=\"col-md-12\">\r\n      <hr>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\" *ngIf=\"previewS1Application?.refTypeOfMedium\">\r\n    <div class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Media Type</mat-label>\r\n      <input matInput [value]=\"previewS1Application?.refTypeOfMedium\" disabled>\r\n    </div>\r\n  </div>\r\n  <div class=\"row\"><br></div>\r\n  <div class=\"row\" *ngIf=\"applicationSingleMedia\">\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.mediumExecution?.typeOfMedium?.description\">\r\n      <mat-label>Type of Medium</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.mediumExecution?.typeOfMedium?.description\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.mediumExecution\">\r\n      <mat-label>Execution</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.mediumExecution?.typeOfExecution?.typeOfExecution\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.dialect\">\r\n      <mat-label>Language/Dialect</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.dialect?.dialect\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.others\">\r\n      <mat-label>Others</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.others\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.sizeLength\">\r\n      <mat-label>Size Length</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.sizeLength\" disabled>\r\n    </div>\r\n    <div class=\"col-md-3\" appearance=\"outline\" *ngIf=\"applicationSingleMedia?.width\">\r\n      <mat-label>Width</mat-label>\r\n      <input matInput [value]=\"applicationSingleMedia?.width\" disabled>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- TO BE DELETED ONCE VERIFIED -->\r\n  <!-- <div class=\"row\" *ngIf=\"multimediaMovingList?.length>0\">\r\n    <span *ngFor=\"let i of multimediaMovingList\">\r\n      <table>\r\n        <tr>\r\n          <td class=\"col-md-4\">\r\n            <mat-checkbox [checked]=\"true\" disabled>{{i?.typeOfMedium?.description}}</mat-checkbox>\r\n          </td>\r\n          <td class=\"col-md-1\">Length:</td>\r\n          <td class=\"col-md-2\">\r\n            <input matInput [value]=\"i?.multimediaSizeLength\" disabled>\r\n          </td>\r\n          <td class=\"col-md-5\"></td>\r\n        </tr>\r\n      </table>\r\n    </span>\r\n  </div>\r\n\r\n  <div class=\"row\" *ngIf=\"multimediaStaticList?.length>0\">\r\n    <span *ngFor=\"let i of multimediaStaticList\">\r\n      <table>\r\n        <tr>\r\n          <td class=\"col-md-4\">\r\n            <mat-checkbox [checked]=\"true\" disabled>{{i?.typeOfMedium?.description}}</mat-checkbox>\r\n          </td>\r\n          <td class=\"col-md-1\">Size</td>\r\n          <td class=\"col-md-2\">\r\n            <input matInput [value]=\"i?.multimediaSizeLength\" disabled>\r\n          </td>\r\n          <td class=\"col-md-5\"></td>\r\n        </tr>\r\n      </table>\r\n    </span>\r\n  </div> -->\r\n\r\n  <!-- New Multimedia List -->\r\n  <div class=\"row\" *ngIf=\"multimediaDTO\">\r\n    <table class=\"mx-3 mb-3\">\r\n      <ng-container *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC'\">\r\n        <ng-container *ngFor=\"let i of multimediaDTO.applicationMultimediaStaticList\">\r\n          <tr *ngIf=\"i?.hasSelected\" style=\"height: 30px;\">\r\n            <td class=\"col-md-4\">\r\n              <mat-checkbox [checked]=\"i?.hasSelected\" disabled>\r\n                {{i?.multimediaStaticMedium | uppercase}}\r\n              </mat-checkbox>\r\n            </td>\r\n            <td class=\"col-md-1\" \r\n              *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC' && i?.multimediaStaticMedium !== 'digital static'\">\r\n              Size\r\n            </td>\r\n            <td class=\"col-md-2\">\r\n              <input matInput \r\n                *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC' && i?.multimediaStaticMedium !== 'digital static'\" \r\n                [value]=\"i?.sizeLength\" disabled>\r\n            </td>\r\n            <td class=\"col-md-5\"></td>\r\n          </tr>\r\n        </ng-container>\r\n      </ng-container>\r\n\r\n      <ng-container *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING'\">\r\n        <ng-container *ngFor=\"let i of multimediaDTO.applicationMultimediaMovingList\" style=\"height: 30px;\">\r\n          <tr *ngIf=\"i?.hasSelected\">\r\n            <td class=\"col-md-4\">\r\n              <mat-checkbox [checked]=\"true\" disabled>\r\n                {{i?.multimediaMovingMedium | uppercase}}\r\n              </mat-checkbox>\r\n            </td>\r\n            <td class=\"col-md-1\" *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING'\">Length</td>\r\n            <td class=\"col-md-2\">\r\n              <input matInput *ngIf=\"previewS1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING'\" [value]=\"multimediaDTO?.sizeLength\" disabled>\r\n            </td>\r\n            <td class=\"col-md-5\"></td>\r\n          </tr>\r\n        </ng-container>\r\n      </ng-container>\r\n    </table>\r\n  </div>\r\n\r\n  <app-attachment-document [s1Application]=\"previewS1Application\" [applicationStage]=\"'S1-Preview'\"\r\n  [isAscUser]=\"'true'\" [isDisableFieldOnUpdate]=\"'true'\"\r\n  [originalAttachmentDocuments]=\"originalAttachmentDocuments\" [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\" [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"></app-attachment-document>\r\n\r\n  <div class=\"row\" *ngIf=\"supportiveDocumentList.length>0\">\r\n    <div class=\"col-md-12\" appearance=\"outline\">\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"dataSource||supportiveDocumentList\" matSort>\r\n\r\n          <ng-container matColumnDef=\"typeOfDocument\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF DOCUMENT </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.typeOfDocument?.description }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"variant\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> VARIANT </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.variant==undefined ? 'N/A' : element?.variant }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"expiresOn\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> EXPIRES ON </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.expiresOn==undefined ? 'N/A' : element?.expiresOn | date:'yyyy-MM-dd' }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"basedOn\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> BASED ON </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.basedOn ==undefined ? 'N/A' : element?.basedOn | date:'yyyy-MM-dd' }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"remarks\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> REMARKS </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{ element?.remarks==undefined ? 'N/A' : element?.remarks }} </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n          *ngIf=\"supportiveDocumentList.length==0\">\r\n          No supporting document found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n      </div>\r\n      <div class=\"row\"><br></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!--  -->\r\n<div class=\"row fields\" *ngIf=\"previewS1Application.autoSubmit==true&&previewS1Application?.externalStatus!='SAVED'\">\r\n  <h4>\r\n    <i class=\"material-icons\">schedule_send</i> &nbsp;<b>AUTO-SUBMISSION DETAILS</b>\r\n    <hr>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Date</mat-label>\r\n        <input matInput [value]=\"previewS1Application.submissionDate\" disabled>\r\n      </div>\r\n      <!-- <div class=\"col-md-3\" appearance=\"outline\">\r\n        <mat-label>Time</mat-label>\r\n        <input matInput [value]=\"previewS1Application.autoSubmitTime+' AM'\" disabled>\r\n      </div> -->\r\n    </div>\r\n  </h4>\r\n</div>\r\n","import { Component, Inject, Input, OnDestroy, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { AttachmentDocument, Payment, S1Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ATTACHMENT_TYPE, ENDPOINTS, ERROR_MESSAGES, PAYMENT_STATUS, SUBMISSION_TYPE, USER_ROLES } from '@shared';\r\nimport { ApplicationSingleMedia } from 'app/core/models/application-single-media.model';\r\nimport { MultipleApplication } from 'app/core/models/multiple-application.model';\r\nimport { FileStorageService } from 'app/core/services/file.storage.service';\r\nimport Swal from 'sweetalert2';\r\n\r\nexport interface companyDetails {\r\n  referenceCode: string;\r\n  amount: number;\r\n}\r\n\r\nconst ELEMENT_DATA: companyDetails[] = [\r\n  { referenceCode: 'Company one ', amount: 3000, },\r\n  { referenceCode: 'Company two ', amount: 4000, },\r\n  { referenceCode: 'Company three ', amount: 5000, },\r\n  { referenceCode: 'Company two ', amount: 6000, },\r\n  { referenceCode: 'Company three ', amount: 7000, },\r\n];\r\n\r\n@Component({\r\n  selector: 'app-modal-multiple-applications',\r\n  templateUrl: './modal-multiple-applications.component.html',\r\n  styleUrls: ['./modal-multiple-applications.component.scss']\r\n})\r\nexport class ModalMultipleApplicationsComponent implements OnInit, OnDestroy {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<ModalMultipleApplicationsComponent>;\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['referenceCode', 'adTitle', 'mediumAndLength', 'amount'];\r\n  multipleApplicationList = [];\r\n\r\n  @Input() s1Application = new S1Application();\r\n  payment = new Payment();\r\n  safeURLProofOfPayment: any;\r\n  selectedFiles: any;\r\n  previewDocument = false;\r\n  attachmentDocument = new AttachmentDocument();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  currentUser: any;\r\n  attachmentDocuments = [];\r\n  isSubmitted = false;\r\n  paymentTypeList = [];\r\n  paymentType: any;\r\n  attachment: any;\r\n  multipleApplication = new MultipleApplication();\r\n  totalAmount: any;\r\n  paymentDetails: any;\r\n  isDisabled = false;\r\n  typeOfMediumDisplay = '';\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private apiService: ApiService,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    @Optional() public dialogRef: MatDialogRef<ModalMultipleApplicationsComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      this.multipleApplication = data;\r\n      if (this.multipleApplication.paymentStatus !== PAYMENT_STATUS.FOR_PAYMENT) {\r\n        this.isDisabled = true;\r\n      }\r\n      this.getPaymentDetails();\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getMultipleApplicationList();\r\n    this.getPaymentList();\r\n  }\r\n\r\n  getPaymentDetails() {\r\n    this.apiService.findAll(ENDPOINTS.multiplePaymentDetails + this.multipleApplication.id).subscribe((res: any) => {\r\n      this.paymentDetails = res;\r\n    });\r\n  }\r\n\r\n\r\n  getMultipleApplicationList() {\r\n    this.apiService.findAll(ENDPOINTS.getMultipleAppFormsWithNoRejected + this.multipleApplication.id).subscribe((res: any) => {\r\n      this.multipleApplicationList = res.responseData.data;\r\n      console.log(this.multipleApplicationList);\r\n      // this.totalAmount = this.multipleApplicationList.map(mapped => mapped.amount).reduce((previousValue, currentValue) =>\r\n      //   previousValue + currentValue,\r\n      //   0);\r\n\r\n      this.multipleApplicationList.forEach((multipleApplication) => {\r\n        switch (multipleApplication?.refTypeOfMedium || multipleApplication?.applicationFormS2?.applicationForm?.refTypeOfMedium) {\r\n          case 'SINGLE MEDIA':\r\n            this.getApplicationSingleMedia(multipleApplication?.appFormReference);\r\n            break;\r\n          case 'MULTIMEDIA-MOVING':\r\n            this.getMultimediaMoving(multipleApplication?.appFormReference);\r\n            break;\r\n          case 'MULTIMEDIA-STATIC':\r\n            this.getMultimediaStatic(multipleApplication?.appFormReference);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      });\r\n\r\n\r\n      this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n\r\n    }, (err: any) => {\r\n      err.error.message = ERROR_MESSAGES.under_maintenance;\r\n      this.sweetAlertService.error(err);\r\n    });\r\n  }\r\n\r\n  getPaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.paymentType).subscribe((res: any) => {\r\n      const currentUser = this.dataStorage.getUserAccount();\r\n      if (currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        const creditCardIndex = this.paymentTypeList\r\n          .findIndex((element) => element.paymentDescription === 'Credit Card');\r\n        this.paymentTypeList.splice(creditCardIndex, 1);\r\n      }\r\n      this.paymentTypeList = res.responseData.data;\r\n    });\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n\r\n        // env.showSpinner = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadDocument(multipleApplication) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this PROOF OF PAYMENT?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.PAYMENT + '&submissionType=' + SUBMISSION_TYPE.ORIGINAL;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n          .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            console.log(obj);\r\n            this.s1Application.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.amountDue = this.totalAmount;\r\n            this.payment.multipleApplication = multipleApplication;\r\n            this.payment.filename = obj.filename;\r\n            this.saveProofOfPayment();\r\n            this.selectedFiles = undefined;\r\n          }, (err: any) => {\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            // actions after subscription\r\n            this.dataStorage.setDisplayProgressbar(false);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  saveProofOfPayment() {\r\n    console.log('Saving payment...');\r\n    this.dataStorage.setDisplayProgressbar(true);\r\n    this.payment.paymentStatus = PAYMENT_STATUS.FOR_APPROVAL;\r\n    this.payment.id = 0;\r\n    this.payment.officialReceiptNo = '';\r\n    this.payment.paymentMethod = null;\r\n    this.payment.amountDue = this.multipleApplication.totalAmount;\r\n    console.log('PAYMENT : ', this.payment);\r\n    console.log(this.paymentType.id);\r\n\r\n\r\n    this.apiService.save(`${ENDPOINTS.applicationFormPresentor}payment-type-id/${this.paymentType.id}/payment-multiple/submit`, this.payment)\r\n      .subscribe((res: any) => {\r\n        console.log('SAVED STATUS: ', res.responseData.data);\r\n\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(res.responseData.data.fileURL);\r\n        this.isSubmitted = true;\r\n        this.sweetAlertService.customSuccessMessage('Proof of payment successfully submitted.');\r\n        this.closeModal();\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.sweetAlertService.error(err);\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      }, () => {\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      });\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.dialogRef.close();\r\n    this.router.navigate(['asc/page/application/multiple-applications']);\r\n  }\r\n  ngOnDestroy(): void {\r\n    // this.s1Application = null;\r\n  }\r\n\r\n  getApplicationSingleMedia(appFormReference = this.payment?.applicationForm?.appFormReference) {\r\n    if (this.payment?.applicationFormS2?.applicationForm?.refTypeOfMedium) {\r\n      appFormReference = this.payment?.applicationFormS2?.applicationForm?.appFormReference;\r\n    }\r\n    this.apiService.findByParam(ENDPOINTS.applicationSingleMedia,\r\n      `app-form-reference/${appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n\r\n            this.typeOfMediumDisplay = `${this.applicationSingleMedia?.mediumExecution?.typeOfMedium?.description} (${this.applicationSingleMedia?.sizeLength})`;\r\n            console.log('view applicationSingleMedia: ', this.typeOfMediumDisplay);\r\n\r\n            this.multipleApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleApplicationList[index] = {\r\n                  ...this.multipleApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaStatic(appFormReference = this.payment?.applicationForm?.appFormReference) {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleApplicationList.forEach((element, index) => {\r\n              console.log(element);\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleApplicationList[index] = {\r\n                  ...this.multipleApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaMoving(appFormReference = this.payment?.applicationForm?.appFormReference) {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleApplicationList.forEach((element, index) => {\r\n              console.log(element);\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleApplicationList[index] = {\r\n                  ...this.multipleApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(this.multipleApplicationList);\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n}\r\n","<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n            <mat-label>\r\n                <mat-icon>view_list</mat-icon> Schedule of Fees - Multiple Applications\r\n            </mat-label>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <br>\r\n    <div class=\"row col-md-12\">\r\n        <div class=\"row col-md-6\">\r\n            <div>\r\n                <mat-label>Proof of Payment: &nbsp;&nbsp;&nbsp;<span>PDF file only!</span></mat-label><br>\r\n                <input class=\"file-upload\" type=\"file\" [(ngModel)]=\"attachment\" [ngModelOptions]=\"{standalone: true}\"\r\n                    accept=\".pdf\" (change)=\"selectFile($event)\" [disabled]=\"isDisabled\">\r\n            </div>\r\n            <div *ngIf=\"previewDocument===true && !isDisabled\">\r\n                <div class=\"file-upload\">\r\n                    <object [data]=\"safeURLProofOfPayment\" type=\"application/pdf\" width=\"100%\" height=\"500\">\r\n                        <iframe [src]=\"safeURLProofOfPayment\" width=\"100%\" height=\"500\">\r\n                            <p>This browser does not support PDF!</p>\r\n                        </iframe>\r\n                    </object>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row col-md-6\">\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>Advertiser</mat-label>\r\n            <input matInput name=\"companyName\" [value]=\"multipleApplication?.company?.companyName\" readonly>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>Vatable Sales</mat-label>\r\n            <input matInput class=\"numbers-input\" name=\"amount\" [value]=\"paymentDetails?.basicRate | number : '1.2-2'\" readonly>\r\n        </mat-form-field>\r\n\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>VAT</mat-label>\r\n            <input matInput class=\"numbers-input\" name=\"amount\" [value]=\"paymentDetails?.vat | number : '1.2-2'\" readonly>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label>Total Sales (VAT Inclusive)</mat-label>\r\n            <input matInput class=\"numbers-input total\" name=\"amount\" [value]=\"paymentDetails?.amountDue | number : '1.2-2'\" readonly>\r\n        </mat-form-field>\r\n\r\n        <div>\r\n          <table mat-table [dataSource]=\"dataSource\" matSort>\r\n              <ng-container matColumnDef=\"referenceCode\">\r\n                  <th mat-header-cell *matHeaderCellDef> Reference Code </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\">{{element?.referenceCode}}</td>\r\n              </ng-container>\r\n              <ng-container matColumnDef=\"adTitle\">\r\n                  <th mat-header-cell *matHeaderCellDef> Ad Title </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\">{{element?.adTitle}}</td>\r\n              </ng-container>\r\n              <ng-container matColumnDef=\"mediumAndLength\">\r\n                <th mat-header-cell *matHeaderCellDef> Medium And Length</th>\r\n                <td mat-cell *matCellDef=\"let element; let i = index\">{{ element?.typeOfMediumDisplay }}</td>\r\n              </ng-container>\r\n              <ng-container matColumnDef=\"amount\">\r\n                  <th mat-header-cell *matHeaderCellDef> Amount</th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" class=\"numbers-input\">{{element?.amount | number : '1.2-2'}}</td>\r\n              </ng-container>\r\n              <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n              <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n          </table>\r\n          <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n              No record found.\r\n          </div>\r\n          <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n          <!-- <div class=\"grandTotal\">\r\n            <mat-label>TOTAL: &nbsp;&nbsp;&nbsp;<span>{{multipleApplication?.totalAmount | number : '1.2-2'}}</span></mat-label>\r\n          </div> -->\r\n        </div>\r\n\r\n        <div><br><hr><br></div>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Payment Mode</mat-label>\r\n                <mat-select [(ngModel)]=\"paymentType\" [ngModelOptions]=\"{standalone: true}\" [disabled]=\"multipleApplication?.paymentStatus !== 'FOR_PAYMENT'\">\r\n                    <mat-option *ngFor=\"let i of paymentTypeList\" [value]=\"i\" name=\"paymentType\">\r\n                        {{i?.paymentDescription | uppercase}}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Remarks</mat-label>\r\n                <textarea matInput name=\"remarks\" [(ngModel)]=\"payment.remarks\" [readonly]=\"multipleApplication?.paymentStatus !== 'FOR_PAYMENT'\"></textarea>\r\n            </mat-form-field>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\" *ngIf=\"!isDisabled || multipleApplication?.paymentStatus === undefined || multipleApplication?.totalAmount === 0\">\r\n        <div class=\"col-md-10\"><span *ngIf=\"multipleApplication && multipleApplication?.totalAmount === 0\">\r\n          <i>Please contact ASC admin to check the Maintenance of Fees.</i></span></div>\r\n        <div class=\"col-md-2\">\r\n            <button mat-raised-button class=\"button-red\" [disabled]=\"!paymentType || !previewDocument || multipleApplication?.totalAmount === 0\" (click)=\"uploadDocument(multipleApplication)\">\r\n                <i class=\"material-icons color__white\">task_alt</i> SUBMIT\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { FormListComponent } from '@fragments';\r\nimport { S1Application, S2Application } from '@models';\r\nimport { ApiService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS, USER_ROLES } from '@shared';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\n@Component({\r\n  selector: 'app-reassignment',\r\n  templateUrl: './reassignment.component.html',\r\n  styleUrls: ['./reassignment.component.scss']\r\n})\r\nexport class ReassignmentComponent implements OnInit {\r\n  @ViewChild(FormListComponent) formListComponent: FormListComponent;\r\n\r\n  // ojects\r\n  s1Application = new S1Application();\r\n  s2Application = new S2Application();\r\n\r\n  // lists\r\n  userList = [];\r\n\r\n  // for displayed list\r\n  // s1\r\n  s1ApplicationList = [];\r\n  s1ApplicationDataSource: MatTableDataSource<S1Application>;\r\n  s1ApplicationDisplayedColumns = [\r\n    'referenceCode',\r\n    'adTitle',\r\n    'applicationOwner',\r\n    'assignedEncoder',\r\n    'assignedAdSpecialist',\r\n    'assignedScreener',\r\n    'assignedReviewer',\r\n    'assignedUser',\r\n  ];\r\n\r\n  // s2\r\n  // TODO update when endpoint is available\r\n  s2ApplicationList = [];\r\n  s2ApplicationDataSource: MatTableDataSource<S2Application>;\r\n  s2ApplicationDisplayedColumns = [\r\n    'referenceCode',\r\n    'adTitle',\r\n    'applicationOwner',\r\n    'assignedEncoder',\r\n    'assignedAdSpecialist',\r\n    // 'assignedScreener',\r\n    // 'assignedReviewer',\r\n    'assignedUser',\r\n  ];\r\n\r\n  // form\r\n  s1ApplicationForm: FormGroup;\r\n\r\n  // others\r\n  applicationOwnerName = '';\r\n  displayedContent = 'S1';\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService,\r\n    private spinner: NgxSpinnerService,\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getS1ApplicationList();\r\n    this.setFormValidator();\r\n    this.getUserList();\r\n  }\r\n\r\n  getS1ApplicationList(applicationType = 'S1'): void {\r\n    this.spinner.show();\r\n    if (applicationType === 'S1') {\r\n      this.apiService.findAll(ENDPOINTS.admin).subscribe((res: any) => {\r\n        this.s1ApplicationList = res.responseData.data;\r\n        this.s1ApplicationList = this.s1ApplicationList.filter(filteredS1List => !filteredS1List.appliedS2);\r\n\r\n        this.s1ApplicationDataSource = new MatTableDataSource<S1Application>(this.s1ApplicationList);\r\n        this.s1ApplicationDataSource.paginator = this.formListComponent.paginator;\r\n        this.s1ApplicationDataSource.sort = this.formListComponent.sort;\r\n      }, (err) => {\r\n        console.error(err);\r\n        this.spinner.hide();\r\n      }, () => {\r\n        this.spinner.hide();\r\n      });\r\n    } else if (applicationType === 'S2') {\r\n      this.apiService.findAll(ENDPOINTS.s2Application).subscribe((res: any) => {\r\n        this.s2ApplicationList = res.responseData.data;\r\n\r\n        this.s2ApplicationDataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n        this.s2ApplicationDataSource.paginator = this.formListComponent.paginator;\r\n        this.s2ApplicationDataSource.sort = this.formListComponent.sort;\r\n      }, (err) => {\r\n        console.error(err);\r\n        this.spinner.hide();\r\n      }, () => {\r\n        this.spinner.hide();\r\n      });\r\n    }\r\n  }\r\n\r\n  getS1Application(): void {\r\n    this.apiService.findById(ENDPOINTS.applicationForm, this.formListComponent.idForUpdate).subscribe((res: any) => {\r\n      if (res) {\r\n        this.s1Application = res.responseData.data;\r\n        this.applicationOwnerName = this.s1Application.applicationOwner\r\n          ? this.s1Application.applicationOwner.lastName + ', ' + this.s1Application.applicationOwner.firstName\r\n          : '';\r\n        if (this.s1Application.assignedUser) {\r\n          this.getUserList(this.s1Application.assignedUser.userRole.name);\r\n        } else {\r\n          this.getUserList('N/A');\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  getS2Application(): void {\r\n    this.apiService.findById(ENDPOINTS.applicationFormS2, this.formListComponent.idForUpdate).subscribe((res: any) => {\r\n      if (res) {\r\n\r\n        this.s2Application = res.responseData.data;\r\n        if (this.s2Application.applicationForm) {\r\n          this.applicationOwnerName = this.s2Application.applicationForm.applicationOwner\r\n            ? this.s2Application.applicationForm.applicationOwner.lastName + ', '\r\n            + this.s2Application.applicationForm.applicationOwner.firstName\r\n            : '';\r\n        }\r\n        if (this.s2Application.assignedUser) {\r\n          this.getUserList(this.s2Application.assignedUser.userRole.name);\r\n        } else {\r\n          this.getUserList('N/A');\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n\r\n  update(): void {\r\n    this.spinner.show();\r\n\r\n    let endpoint = '';\r\n    let currentObj: any;\r\n    if (this.displayedContent === 'S1') {\r\n      endpoint = ENDPOINTS.applicationReassignment\r\n      currentObj = this.s1Application;\r\n    } else if (this.displayedContent === 'S2') {\r\n      endpoint = ENDPOINTS.s2ApplicationReassignment;\r\n      // endpoint = ENDPOINTS.applicationFormS2;\r\n      if (this.s2Application.actionStatus === 'ASSIGN_TO_ENCODER') {\r\n        this.s2Application.assignedEncoder = this.s2Application.assignedUser;\r\n      } else if (this.s2Application.actionStatus === 'ASSIGN_TO_ADSPE') {\r\n        this.s2Application.assignedAdSpecialist = this.s2Application.assignedUser;\r\n      }\r\n\r\n      currentObj = this.s2Application;\r\n    }\r\n\r\n    this.apiService.save(endpoint, currentObj).subscribe(\r\n      (res: any) => {\r\n        if (res) {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.success(res);\r\n        }\r\n      }, (err: any) => {\r\n        this.spinner.hide();\r\n        this.sweetAlertService.error(err);\r\n      }, () => {\r\n        // actions after subscription\r\n        this.spinner.hide();\r\n        this.getUserList();\r\n        this.resetFormValidator();\r\n        if (this.displayedContent === 'S1') {\r\n          this.getS1ApplicationList();\r\n        } else if (this.displayedContent === 'S2') {\r\n          this.getS1ApplicationList('S2');\r\n        }\r\n      });\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.s1ApplicationForm = this.formBuilder.group({\r\n      referenceCode: [''],\r\n      adTitle: [''],\r\n      applicationOwner: [''],\r\n      assignedAdSpecialist: [''],\r\n      assignedEncoder: [''],\r\n      assignedReviewer: [''],\r\n      assignedScreener: [''],\r\n      assignedUser: [''],\r\n    });\r\n  }\r\n\r\n  resetFormValidator(): void {\r\n    this.s1Application = new S1Application();\r\n    this.s2Application = new S2Application();\r\n    this.s1ApplicationForm.markAsUntouched();\r\n    this.s1ApplicationForm.markAsPristine();\r\n  }\r\n\r\n\r\n  getUserList(userRole = '') {\r\n    this.apiService.findAll(ENDPOINTS.userAccount).subscribe(\r\n      (res: any) => {\r\n        this.userList = res.responseData.data;\r\n        this.userList = this.userList.filter(\r\n          filteredUsers => filteredUsers?.userRole?.name !== USER_ROLES.ROLE_APPLICANT);\r\n        if (userRole) {\r\n          this.userList = this.userList.filter(\r\n            filteredUsers => filteredUsers?.userRole?.name === userRole);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  compareAssignedUser(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.id === selected.id;\r\n    }\r\n  }\r\n\r\n  changeTab(evt) {\r\n    if (evt.tab) {\r\n      this.displayedContent = evt.tab.textLabel;\r\n    }\r\n\r\n    if (evt.index === 0) {\r\n      this.getS1ApplicationList();\r\n    } else if (evt.index === 1) {\r\n      this.getS1ApplicationList('S2');\r\n    }\r\n  }\r\n\r\n}\r\n","<form>\r\n    <!-- <div class=\"spinner\">\r\n        <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"large\" color=\"#fff\" type=\"line-spin-fade\" [fullScreen]=\"false\">\r\n            <p> Loading list of Applications </p>\r\n        </ngx-spinner>\r\n    </div> -->\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 title\">\r\n                <mat-label>\r\n                    <mat-icon>view_list</mat-icon> Application Reassignment\r\n                </mat-label>\r\n            </div>\r\n        </div>\r\n        <hr>\r\n        <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n            <mat-tab label=\"S1\">\r\n                <ng-container *ngTemplateOutlet=\"s1ApplicationFormDisplay\"></ng-container>\r\n            </mat-tab>\r\n            <mat-tab label=\"S2\">\r\n                <ng-container *ngTemplateOutlet=\"s2ApplicationFormDisplay\"></ng-container>\r\n            </mat-tab>\r\n        </mat-tab-group>\r\n\r\n        <span *ngIf=\"displayedContent === 'S1' \">\r\n            <ng-container *ngTemplateOutlet=\"s1ApplicationList\"></ng-container>\r\n        </span>\r\n        <span *ngIf=\"displayedContent === 'S2' \">\r\n            <ng-container *ngTemplateOutlet=\"s2ApplicationList\"></ng-container>\r\n        </span>\r\n\r\n    </div>\r\n</form>\r\n\r\n\r\n<!-- ****************************** FORM ****************************** -->\r\n\r\n<ng-template #s1ApplicationFormDisplay>\r\n    <form [formGroup]=\"s1ApplicationForm\" *ngIf=\"s1Application?.id\">\r\n        <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Reference Code</mat-label>\r\n                <input matInput [(ngModel)]=\"s1Application.referenceCode\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s1Application?.internalStatus!=='S1_APPLICATION_REJECTED'\">\r\n                <input matInput [(ngModel)]=\"s1Application.referenceCodeRejected\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s1Application?.internalStatus==='S1_APPLICATION_REJECTED'\">\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Application Owner</mat-label>\r\n                <input matInput [(ngModel)]=\"applicationOwnerName \" name=\"applicationOwner\"\r\n                    formControlName=\"applicationOwner\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>AD Title</mat-label>\r\n                <input matInput [(ngModel)]=\"s1Application.adTitle\" name=\"adTitle\" formControlName=\"adTitle\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Assigned User</mat-label>\r\n                <mat-select [(ngModel)]=\"s1Application.assignedUser\" name=\"assignedUser\" formControlName=\"assignedUser\"\r\n                    [compareWith]=\"compareAssignedUser\">\r\n                    <mat-option *ngFor=\"let i of userList\" [value]=\"i\">\r\n                        {{ i?.firstName }} {{ i?.lastName }}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n        </div>\r\n        <app-form-action-buttons [childObject]=\"s1Application\" [childForm]=\"s1ApplicationForm\"\r\n            (updateFunction)=\"update()\" (cancelFunction)=\"resetFormValidator()\"></app-form-action-buttons>\r\n    </form>\r\n</ng-template>\r\n\r\n<ng-template #s2ApplicationFormDisplay>\r\n    <form [formGroup]=\"s1ApplicationForm\" *ngIf=\"s2Application?.id\">\r\n        <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Reference Code</mat-label>\r\n                <input matInput [(ngModel)]=\"s2Application.applicationForm.referenceCode\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s2Application?.internalStatus!=='S1_APPLICATION_REJECTED'\">\r\n                <input matInput [(ngModel)]=\"s1Application.referenceCodeRejected\" name=\"referenceCode\"\r\n                    formControlName=\"referenceCode\" readonly\r\n                    *ngIf=\"s2Application?.internalStatus==='S1_APPLICATION_REJECTED'\">\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Application Owner</mat-label>\r\n                <input matInput [(ngModel)]=\"applicationOwnerName\" name=\"applicationOwner\"\r\n                    formControlName=\"applicationOwner\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>AD Title</mat-label>\r\n                <input matInput [(ngModel)]=\"s2Application.applicationForm.adTitle\" name=\"adTitle\" formControlName=\"adTitle\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Assigned User</mat-label>\r\n                <mat-select [(ngModel)]=\"s2Application.assignedUser\" name=\"assignedUser\" formControlName=\"assignedUser\"\r\n                    [compareWith]=\"compareAssignedUser\">\r\n                    <mat-option *ngFor=\"let i of userList\" [value]=\"i\">\r\n                        {{ i?.firstName }} {{ i?.lastName }}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n        </div>\r\n        <app-form-action-buttons [childObject]=\"s2Application\" [childForm]=\"s1ApplicationForm\"\r\n            (updateFunction)=\"update()\" (cancelFunction)=\"resetFormValidator()\"></app-form-action-buttons>\r\n    </form>\r\n</ng-template>\r\n\r\n\r\n\r\n\r\n<!-- ****************************** LISTING ****************************** -->\r\n\r\n<ng-template #s1ApplicationList>\r\n    <br>\r\n    <app-form-list [dataSource]=\"s1ApplicationDataSource\" [displayedColumns]=\"s1ApplicationDisplayedColumns\"\r\n        (selectInListFunction)=\"getS1Application()\"></app-form-list>\r\n</ng-template>\r\n\r\n<ng-template #s2ApplicationList>\r\n    <br>\r\n    <app-form-list [dataSource]=\"s2ApplicationDataSource\" [displayedColumns]=\"s2ApplicationDisplayedColumns\"\r\n        (selectInListFunction)=\"getS2Application()\"></app-form-list>\r\n</ng-template>\r\n","import { CustomAngularEditorModule } from './editor/lib/angular-editor.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ApplicationsRoutingModule } from './applications-routing.module';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { CommentComponent } from './comment/comment.component';\r\nimport { ClientInformationComponent, MaterialInformationComponent, PreviewApplicationComponent } from '@applications';\r\nimport { UploadPaymentComponent } from '../accounting/upload-payment/upload-payment.component';\r\nimport { AddPaymentModule } from '@accounting';\r\nimport { SingleApplicationComponent } from './schedule-of-fees/single-application/single-application.component';\r\nimport { MultipleApplicationsComponent } from './schedule-of-fees/multiple-applications/multiple-applications.component';\r\nimport { ReassignmentModule } from './reassignment/reassignment.module';\r\nimport { PerformanceMetricsComponent } from './performance-metrics/performance-metrics.component';\r\nimport { SpecialApplicationsComponent } from './schedule-of-fees/special-applications/special-applications.component';\r\nimport { AttachmentDocumentComponent } from './attachment-document/attachment-document.component';\r\nimport { PreviewAttachmentsComponent } from './preview-attachments/preview-attachments.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PreviewApplicationComponent,\r\n    ClientInformationComponent,\r\n    MaterialInformationComponent,\r\n    CommentComponent,\r\n    UploadPaymentComponent,\r\n    SingleApplicationComponent,\r\n    MultipleApplicationsComponent,\r\n    PerformanceMetricsComponent,\r\n    SpecialApplicationsComponent,\r\n    AttachmentDocumentComponent,\r\n    PreviewAttachmentsComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    ApplicationsRoutingModule,\r\n    AngularMaterialModule,\r\n    AddPaymentModule,\r\n    ReassignmentModule,\r\n    CustomAngularEditorModule\r\n  ],\r\n  exports: [\r\n    PreviewApplicationComponent,\r\n    ClientInformationComponent,\r\n    MaterialInformationComponent,\r\n    CommentComponent,\r\n    UploadPaymentComponent,\r\n    PerformanceMetricsComponent,\r\n    AttachmentDocumentComponent,\r\n    PreviewAttachmentsComponent,\r\n  ]\r\n})\r\nexport class ApplicationsModule { }\r\n","import { DatePipe } from \"@angular/common\";\r\nimport { Component, Inject, OnInit, Optional, ViewChild } from \"@angular/core\";\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from \"@angular/material/dialog\";\r\nimport { MatPaginator } from \"@angular/material/paginator\";\r\nimport { MatSort } from \"@angular/material/sort\";\r\nimport { MatTableDataSource } from \"@angular/material/table\";\r\nimport { Router } from \"@angular/router\";\r\nimport { Company, S1Application } from \"@models\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport {\r\n  APPFORM_TYPE,\r\n  ENDPOINTS,\r\n  ERROR_MESSAGES,\r\n  FORM_TYPE,\r\n  ROLES,\r\n  USER_ROLES,\r\n} from \"@shared\";\r\nimport { ApplicationSingleMedia } from \"app/core/models/application-single-media.model\";\r\nimport { MultipleApplication } from \"app/core/models/multiple-application.model\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n@Component({\r\n  selector: \"app-update-multiple-application\",\r\n  templateUrl: \"./update-multiple-application.component.html\",\r\n  styleUrls: [\"./update-multiple-application.component.scss\"],\r\n})\r\nexport class UpdateMultipleApplicationComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n\r\n  company = new Company();\r\n  s1Application = new S1Application();\r\n  multipleS1Application = new MultipleApplication();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  multipleS1ApplicationList = [];\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  displayedColumns: string[] = [\r\n    \"referenceCode\",\r\n    \"typeOfMediumDisplay\",\r\n    \"mainAttachmentReference\",\r\n    \"supportingAttachmentReference\",\r\n    \"brand\",\r\n    \"status\",\r\n    \"decisionStatus\",\r\n  ];\r\n\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n\r\n  isAscUser = false;\r\n  isDisableFieldOnUpdate = true;\r\n  isDisabledSubmitButton = true;\r\n  canForwardMultipleApp = false;\r\n  isAllApplicationsHasMainDoc = false;\r\n  warningNote =\r\n    \"Note: To submit multiple application, please make sure that every application has complete details and has necessary attachments.\";\r\n  typeOfMediumDisplay = \"\";\r\n\r\n  formType = APPFORM_TYPE.MULTIPLE;\r\n\r\n  ascUserRoleList = [\r\n    ...ROLES.filter((role: any) => role.ascUser === true).map(\r\n      (role: any) => role.role\r\n    ),\r\n  ];\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private router: Router,\r\n    private spinner: NgxSpinnerService,\r\n    private datepipe: DatePipe,\r\n    @Optional()\r\n    public dialogRef: MatDialogRef<UpdateMultipleApplicationComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      this.multipleS1Application = data;\r\n      this.s1Application.formType = this.formType;\r\n\r\n      // Client Info\r\n      this.s1Application.company = this.multipleS1Application.company;\r\n      this.company = this.multipleS1Application.company;\r\n      // this.s1Application.membersAffiliation = this.multipleS1Application.membersAffiliation;\r\n      this.s1Application.brand = this.multipleS1Application.brand;\r\n      this.s1Application.product = this.multipleS1Application.product;\r\n      // this.s1Application.category = this.multipleS1Application.category;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.isAscUser = this.ascUserRoleList.includes(\r\n      this.dataStorage.getUserRole()\r\n    );\r\n    this.getS1FormsByMultipleApplication();\r\n    if (this.currentUserRole !== USER_ROLES.ROLE_APPLICANT) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfMediumDisplay\",\r\n        \"mainAttachmentReference\",\r\n        \"supportingAttachmentReference\",\r\n        \"brand\",\r\n        \"status\",\r\n        \"ASCstatus\",\r\n        \"decisionStatus\",\r\n      ];\r\n    }\r\n  }\r\n\r\n  getS1FormsByMultipleApplication() {\r\n    let endpoint = \"\";\r\n    if (\r\n      this.currentUserRole === USER_ROLES.ROLE_APPLICANT ||\r\n      this.currentUserRole === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUserRole === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      endpoint = ENDPOINTS.getMultipleAppForms + this.multipleS1Application.id;\r\n    } else {\r\n      endpoint =\r\n        ENDPOINTS.getMultipleAppFormsWithNoRejected +\r\n        this.multipleS1Application.id;\r\n    }\r\n    // this.apiService.findAll(ENDPOINTS.applicationFormPresentor + `multiple-application/${this.multipleS1Application.id}/applications`)\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.multipleS1ApplicationList = res.responseData.data;\r\n\r\n        this.isAllApplicationsHasMainDoc = this.multipleS1ApplicationList.filter(\r\n          (filteredList) => !filteredList.mainAttachmentReference\r\n        ).length\r\n          ? false\r\n          : true;\r\n\r\n        this.multipleS1ApplicationList.forEach((value, index) => {\r\n          this.s1Application = value;\r\n          this.multipleS1ApplicationList[index] = value;\r\n          switch (\r\n            value?.refTypeOfMedium ||\r\n            value?.applicationFormS2?.applicationForm?.refTypeOfMedium\r\n          ) {\r\n            case \"SINGLE MEDIA\":\r\n              this.getApplicationSingleMedia();\r\n              break;\r\n            case \"MULTIMEDIA-MOVING\":\r\n              this.getMultimediaMoving();\r\n              break;\r\n            case \"MULTIMEDIA-STATIC\":\r\n              this.getMultimediaStatic();\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        });\r\n\r\n        this.dataSource = new MatTableDataSource<S1Application>(\r\n          this.multipleS1ApplicationList\r\n        );\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n\r\n        // will be disabled if there's an application without main doc uploaded\r\n        this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n          (filteredList) => !filteredList.mainAttachmentReference\r\n        ).length\r\n          ? true\r\n          : false;\r\n\r\n        this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n          (filteredList) =>\r\n            !filteredList.supportingAttachmentReference &&\r\n            !filteredList.hasNoSupportingDocs\r\n        ).length\r\n          ? true\r\n          : false;\r\n\r\n        // if earlier or later than the approved date\r\n\r\n        const today = this.datepipe.transform(new Date(), \"yyyy-MM-dd\");\r\n        const approvedDate = this.datepipe.transform(\r\n          this.multipleS1Application.dateOfSubmission,\r\n          \"yyyy-MM-dd\"\r\n        );\r\n\r\n        if (\r\n          this.multipleS1Application.submissionStatus !== \"PROCESSED\" &&\r\n          approvedDate !== today &&\r\n          this.multipleS1Application.status !== \"DISAPPROVED\"\r\n        ) {\r\n          this.isDisabledSubmitButton = true;\r\n          this.warningNote =\r\n            \"Note: Applicant can only submit multiple application on approved date.\";\r\n        }\r\n\r\n        this.checkForwardStatus();\r\n      },\r\n      (err: any) => {\r\n        err.error.message = ERROR_MESSAGES.under_maintenance;\r\n        this.sweetAlertService.error(err);\r\n      }\r\n    );\r\n  }\r\n\r\n  checkForwardStatus() {\r\n    if (\r\n      this.multipleS1Application.countVerifiedApplicationForm ===\r\n      this.multipleS1Application.actualNumberOfApplicationForm\r\n    ) {\r\n      this.canForwardMultipleApp = true;\r\n    }\r\n  }\r\n\r\n  viewApplication(data) {\r\n    this.dialogRef.close();\r\n    this.router.navigate([`asc/page/application/s1/update/${data.id}`]);\r\n  }\r\n\r\n  onApproveOrDisapprove(status = \"APPROVED\"): void {\r\n    const displayStatus = status === \"APPROVED\" ? \"approve\" : \"disapprove\";\r\n    Swal.fire({\r\n      text: `Are you sure you want to ${displayStatus} this application?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        const endpointExtension =\r\n          status === \"APPROVED\" ? \"/approve\" : \"/disapprove\";\r\n        this.multipleS1Application.actionDate = new Date();\r\n        this.multipleS1Application.actionBy = this.currentUser.username;\r\n        this.apiService\r\n          .update(\r\n            `${ENDPOINTS.multipleApplication}${endpointExtension}`,\r\n            this.multipleS1Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Multiple application submission request has been \" +\r\n                  displayStatus +\r\n                  \"d.\"\r\n              );\r\n            },\r\n            (err: any) => {\r\n              err.error.message = ERROR_MESSAGES.under_maintenance;\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              this.dialogRef.close(this.multipleS1Application);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateMultipleApplications(multipleId): void {\r\n    // TO DO\r\n    // will only redirect to add new S1 application\r\n    // saving or updating is in add-s1-application.component.ts\r\n    const ctr =\r\n      this.multipleS1ApplicationList.length === 0\r\n        ? 1\r\n        : this.multipleS1ApplicationList.length + 1;\r\n\r\n    this.dialogRef.close();\r\n    this.router.navigate([\r\n      `asc/page/application/s1/add/multiple/${multipleId}/${ctr}`,\r\n    ]);\r\n  }\r\n\r\n  compareProduct(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  // compareCategory(value: any, selected: any): boolean {\r\n  //   if (value && selected) {\r\n  //     return value.description === selected.description;\r\n  //   }\r\n  // }\r\n\r\n  submitMultiple() {\r\n    Swal.fire({\r\n      text: `Are you sure you want to submit this multiple application?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        if (\r\n          this.multipleS1Application.numberOfApplication >\r\n          this.multipleS1ApplicationList.length\r\n        ) {\r\n          Swal.fire({\r\n            text: `Are you sure you want to submit ${this.multipleS1ApplicationList.length} out ${this.multipleS1Application.numberOfApplication} applications only?`,\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Confirm\",\r\n          }).then((result2) => {\r\n            if (result2.value) {\r\n              const endpoint = `${ENDPOINTS.applicationFormPresentor}group-id/${this.multipleS1Application.id}/application-type-id/\r\n                ${this.multipleS1Application.applicationType.id}/batch-multiple-app-form/submit`;\r\n              this.apiService.save(endpoint, null).subscribe(\r\n                (res: any) => {\r\n                  this.sweetAlertService.customSuccessMessage(\r\n                    \"Multiple application successfully submitted.\"\r\n                  );\r\n                  this.getS1FormsByMultipleApplication();\r\n                },\r\n                (err: any) => {\r\n                  err.error.message = ERROR_MESSAGES.under_maintenance;\r\n                  this.sweetAlertService.error(err);\r\n                },\r\n                () => {\r\n                  this.dialogRef.close(this.multipleS1Application);\r\n                }\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          const endpoint = `${ENDPOINTS.applicationFormPresentor}group-id/${this.multipleS1Application.id}/application-type-id/\r\n        ${this.multipleS1Application.applicationType.id}/batch-multiple-app-form/submit`;\r\n          this.apiService.save(endpoint, null).subscribe(\r\n            (res: any) => {\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Multiple application successfully submitted.\"\r\n              );\r\n              this.getS1FormsByMultipleApplication();\r\n            },\r\n            (err: any) => {\r\n              err.error.message = ERROR_MESSAGES.under_maintenance;\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              this.dialogRef.close(this.multipleS1Application);\r\n            }\r\n          );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  forwardMultipleAppsTo(user) {\r\n    Swal.fire({\r\n      text: `Are you sure you want to forward this multiple application?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n\r\n        if (user === \"encoder\") {\r\n          this.multipleS1Application.assignedEncoder = this.multipleS1ApplicationList[0].assignedEncoder;\r\n          // endpoint = ENDPOINTS.forwardMultipleAppFormToAdSpe;\r\n          endpoint = `${ENDPOINTS.s1ApplicationForm}encoder/group-id/${this.multipleS1Application.id}/forward-multiple-app-form`;\r\n        } else if (user === \"ad-specialist\") {\r\n          this.multipleS1Application.assignedAdSpecialist = this.multipleS1ApplicationList[0].assignedAdSpecialist;\r\n          this.multipleS1Application.assignedScreener = this.multipleS1ApplicationList[0].assignedScreener;\r\n          endpoint = ENDPOINTS.forwardMultipleAppFormToScreener;\r\n        } else if (user === \"screener\") {\r\n          this.multipleS1Application.assignedReviewer = this.multipleS1ApplicationList[0].assignedReviewer;\r\n          endpoint = ENDPOINTS.forwardMultipleAppFormToReviewer;\r\n        }\r\n\r\n        this.apiService.save(endpoint, this.multipleS1Application).subscribe(\r\n          (res: any) => {\r\n            console.log(res);\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage(\r\n              \"Multiple application successfully forwarded to the next user.\"\r\n            );\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n            err.error.message = ERROR_MESSAGES.under_maintenance;\r\n            this.sweetAlertService.error(err);\r\n          },\r\n          () => {\r\n            this.spinner.hide();\r\n            this.dialogRef.close(this.multipleS1Application);\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  getApplicationSingleMedia(\r\n    appFormReference = this.s1Application?.appFormReference\r\n  ) {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationSingleMedia,\r\n        `app-form-reference/${appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n\r\n            this.typeOfMediumDisplay = `${this.applicationSingleMedia?.mediumExecution?.typeOfMedium?.description} (${this.applicationSingleMedia?.sizeLength})`;\r\n\r\n            this.multipleS1ApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleS1ApplicationList[index] = {\r\n                  ...this.multipleS1ApplicationList[index],\r\n                  typeOfMediumDisplay:\r\n                    this.typeOfMediumDisplay === \"undefined (0)\"\r\n                      ? \"\"\r\n                      : this.typeOfMediumDisplay,\r\n                };\r\n              }\r\n            });\r\n\r\n            this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n              (filteredS1App) => filteredS1App.typeOfMediumDisplay === \"\"\r\n            ).length\r\n              ? true\r\n              : false;\r\n\r\n            this.dataSource = new MatTableDataSource<any>(\r\n              this.multipleS1ApplicationList\r\n            );\r\n            this.dataSource.paginator = this.paginator;\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n            this.typeOfMediumDisplay = \"\";\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          this.typeOfMediumDisplay = \"\";\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaStatic(appFormReference = this.s1Application?.appFormReference) {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(\r\n              res.responseData.data.map(\r\n                (mappedList) =>\r\n                  `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`\r\n              )\r\n            );\r\n\r\n            this.typeOfMediumDisplay = \"\";\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleS1ApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleS1ApplicationList[index] = {\r\n                  ...this.multipleS1ApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay,\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(\r\n              this.multipleS1ApplicationList\r\n            );\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n            this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n              (filteredList) => !filteredList.typeOfMediumDisplay\r\n            ).length\r\n              ? true\r\n              : false;\r\n          } else {\r\n            this.typeOfMediumDisplay = \"\";\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.typeOfMediumDisplay = \"\";\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaMoving(appFormReference = this.s1Application?.appFormReference) {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(\r\n              res.responseData.data.map(\r\n                (mappedList) =>\r\n                  `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`\r\n              )\r\n            );\r\n\r\n            this.typeOfMediumDisplay = \"\";\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n\r\n            this.multipleS1ApplicationList.forEach((element, index) => {\r\n              if (element.appFormReference === appFormReference) {\r\n                this.multipleS1ApplicationList[index] = {\r\n                  ...this.multipleS1ApplicationList[index],\r\n                  typeOfMediumDisplay: this.typeOfMediumDisplay,\r\n                };\r\n              }\r\n            });\r\n            this.dataSource = new MatTableDataSource<any>(\r\n              this.multipleS1ApplicationList\r\n            );\r\n            this.dataSource.paginator = this.paginator;\r\n\r\n            this.isDisabledSubmitButton = this.multipleS1ApplicationList.filter(\r\n              (filteredList) => !filteredList.typeOfMediumDisplay\r\n            ).length\r\n              ? true\r\n              : false;\r\n          } else {\r\n            this.typeOfMediumDisplay = \"\";\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.typeOfMediumDisplay = \"\";\r\n        }\r\n      );\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row title\">\r\n      <div class=\"col-md-12\">\r\n\r\n        <table class=\"application-details\">\r\n          <tr>\r\n            <td *ngIf=\"multipleS1Application?.status\">\r\n              <span>\r\n                Status:\r\n              </span>\r\n            </td>\r\n            <td *ngIf=\"multipleS1Application?.status\">\r\n              <span>\r\n                <b>{{multipleS1Application?.status?.replaceAll('_',' ') | uppercase}}</b>\r\n              </span>\r\n            </td>\r\n            <!-- <td class=\"no-border\">\r\n                        <button class=\"button-right button-red\" mat-raised-button\r\n                        (click)=\"dialogRef.close()\">\r\n                          <i class=\"material-icons color__white\">list</i> VIEW APPLICATIONS\r\n                        </button>\r\n                      </td> -->\r\n          <tr>\r\n            <td class=\"no-border\">\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td *ngIf=\"multipleS1Application?.numberOfApplication\">\r\n              <span>\r\n                Number of Applications:\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span>\r\n                <b *ngIf=\"(multipleS1Application?.status === 'FOR_APPROVAL' || multipleS1Application?.submissionStatus==='PROCESSED' || multipleS1Application?.status === 'DISAPPROVED') &&\r\n                (currentUser.userRole.name==='ROLE_ADMIN' || currentUser.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser.userRole.name === 'ROLE_APPLICANT')\">\r\n                  {{multipleS1Application?.submissionStatus==='PROCESSED' && multipleS1Application?.status !== 'DISAPPROVED' && multipleS1Application?.status !== 'FOR_APPROVAL'\r\n                  ? multipleS1Application.actualNumberOfApplicationForm\r\n                  : multipleS1Application?.numberOfApplication}}</b>\r\n\r\n                  <b *ngIf=\"multipleS1Application?.submissionStatus==='PROCESSED'\">\r\n                    {{currentUser.userRole.name !== 'ROLE_APPLICANT' && currentUser.userRole.name!=='ROLE_ADMIN' && currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' ? multipleS1Application?.countVerifiedApplicationForm : ''}}\r\n                     of {{multipleS1Application?.actualNumberOfApplicationForm}}</b>\r\n\r\n                <b *ngIf=\"multipleS1Application?.status === 'APPROVED' && (currentUser.userRole.name==='ROLE_ADMIN' || currentUser.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser.userRole.name === 'ROLE_APPLICANT') && multipleS1Application?.submissionStatus!=='PROCESSED'\">\r\n                  {{multipleS1ApplicationList.length}} of {{multipleS1Application?.numberOfApplication}}</b>\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\"\r\n              *ngIf=\"multipleS1Application?.status==='APPROVED'&&currentUser.userRole.name==='ROLE_APPLICANT'\"\r\n              [hidden]=\"multipleS1Application?.submissionStatus==='PROCESSED'\">\r\n              <button class=\"button-right button-red\" mat-raised-button\r\n              [disabled]=\"multipleS1Application?.actualNumberOfApplicationForm === multipleS1Application?.numberOfApplication\"\r\n                (click)=\"updateMultipleApplications(multipleS1Application?.id)\">\r\n                <i class=\"material-icons color__white\">add</i> ADD APPLICATION\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n\r\n        <hr>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\"><br></div>\r\n    <div class=\"row\">\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Form Type</mat-label>\r\n        <input matInput [value]=\"formType\" readonly>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <input matInput [value]=\"multipleS1Application?.applicationType?.description\" readonly>\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel [expanded]=\"\r\n                  ((currentUser?.userRole?.name=='ROLE_APPLICANT'&&s1Application?.internalStatus!='SAVED')\r\n                  ||(s1Application?.internalStatus==undefined))\r\n                  &&((multipleS1Application?.status !== 'APPROVED')\r\n                  ||(multipleS1Application?.status === 'APPROVED' && multipleS1ApplicationList.length==0))\" *ngIf=\"\r\n                  (currentUser?.userRole?.name=='ROLE_APPLICANT'&&s1Application?.internalStatus=='SAVED')\r\n                  ||(currentUser?.userRole?.name!='ROLE_APPLICANT')\r\n                  ||(s1Application?.internalStatus==undefined)\">\r\n\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Initial Information\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <br>\r\n\r\n          <app-client-information [multipleApplication]=\"multipleS1Application\" [s1Application]=\"s1Application\" [isAscUser]=\"isAscUser\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\" [company]=\"company\"></app-client-information>\r\n\r\n          <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Ad Title</mat-label>\r\n              <input matInput [value]=\"multipleS1Application?.adTitle\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Tag Line</mat-label>\r\n              <input matInput [value]=\"multipleS1Application?.tagLine\" readonly>\r\n            </mat-form-field>\r\n          </div>\r\n\r\n          <div class=\"row\">\r\n            <mat-form-field appearance=\"outline\" class=\"col-md-6\">\r\n              <mat-label>Date of Submission</mat-label>\r\n                <input matInput placeholder=\"Date\" readonly\r\n                  [value]=\"multipleS1Application?.dateOfSubmission | date: 'MMMM d, y'\"\r\n                  name=\"dateOfSubmission\" *ngIf=\"multipleS1Application?.status !== 'DISAPPROVED'\"/>\r\n                <input matInput placeholder=\"Date\" readonly\r\n                  value=\"N/A - Request was disapproved\"\r\n                  name=\"dateOfSubmission\" *ngIf=\"multipleS1Application?.status === 'DISAPPROVED'\"/>\r\n            </mat-form-field>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <!-- FOR Admin Users only -->\r\n        <mat-expansion-panel *ngIf=\"currentUser?.userRole?.name === 'ROLE_ADMIN' || currentUser?.userRole?.name === 'ROLE_SUPER_ADMIN' \">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Presentor Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Personal Details\r\n              <i class=\"material-icons\">person</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n                <mat-label>Company Name</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.company?.companyName\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-11\" appearance=\"outline\">\r\n                <mat-label>Address</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.company?.completeAddress\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-8\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.applicationOwner?.firstName+' '+multipleS1Application?.applicationOwner?.lastName\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Mobile Number</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.applicationOwner?.mobileNumber\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-3\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Telephone Number</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.company?.companyTelephoneNo\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"multipleS1Application.id!= null\">\r\n                <mat-label>Email Address</mat-label>\r\n                <input matInput [value]=\"multipleS1Application?.applicationOwner?.username\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n      </mat-accordion>\r\n      <!-- </form> -->\r\n\r\n      <div class=\"row\"><br></div>\r\n      <!-- ADD TABLE HERE -->\r\n      <div class=\"mat-elevation-z8 fields\" *ngIf=\"multipleS1Application?.status==='APPROVED'\">\r\n        <table mat-table [dataSource]=\"dataSource||multipleS1ApplicationList\" matSort>\r\n\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              {{ element?.referenceCode ? element?.referenceCode : '-' | uppercase}} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfMediumDisplay\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> MEDIUM (Length) </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"> {{ element?.typeOfMediumDisplay }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"mainAttachmentReference\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> HAS MAIN DOC </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              <i *ngIf=\"element?.mainAttachmentReference\" class=\"material-icons\">check_circle</i>\r\n              <i *ngIf=\"!element?.mainAttachmentReference\" class=\"material-icons cancel\">cancel</i>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"supportingAttachmentReference\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> HAS SUPPORT DOC </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              <i *ngIf=\"element?.supportingAttachmentReference\" class=\"material-icons\">check_circle</i>\r\n              <i *ngIf=\"!element?.supportingAttachmentReference && !element?.hasNoSupportingDocs\" class=\"material-icons cancel\">cancel</i>\r\n              <i *ngIf=\"element?.hasNoSupportingDocs\" class=\"material-icons\">cancel</i>\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> BRAND </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\">\r\n              {{ element?.brand?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> APPLICATION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"\r\n            [ngStyle]=\"{'background-color': element?.internalStatus === 'S1_APPLICATION_REJECTED' ? 'lightpink' : '' }\">\r\n              {{ element?.externalStatus?.replaceAll('_',' ') | uppercase }}\r\n          </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"ASCstatus\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> INTERNAL STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"\r\n            [ngStyle]=\"{'background-color': element?.internalStatus === 'S1_APPLICATION_REJECTED' ? 'lightpink' : '' }\"> {{\r\n              element?.internalStatus?.replaceAll('_',' ') | uppercase }}</td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"decisionStatus\">\r\n            <th mat-header-cell class=\"center-table-text\" *matHeaderCellDef> DECISION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewApplication(element)\"\r\n            [ngStyle]=\"{'background-color': element?.internalStatus === 'S1_APPLICATION_REJECTED' ? 'lightpink' : '' }\">\r\n              {{ element?.decisionStatus ? element?.decisionStatus : '-' | uppercase }}\r\n          </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n          *ngIf=\"multipleS1ApplicationList.length==0\">\r\n          No results found.\r\n        </div>\r\n        <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n        <div class=\"row\"><br></div>\r\n      </div>\r\n      <hr>\r\n\r\n      <div class=\"row\"><br>\r\n      <b *ngIf=\"isDisabledSubmitButton && currentUser.userRole.name==='ROLE_APPLICANT'\"><b class=\"material-icons\">error_outline</b> {{warningNote}}</b>\r\n      </div>\r\n\r\n      <div class=\"row\"><br></div>\r\n      <div class=\"no-border\" [hidden]=\"multipleS1Application?.submissionStatus==='PROCESSED'\"\r\n      *ngIf=\"multipleS1ApplicationList.length>0 && currentUser.userRole.name==='ROLE_APPLICANT' &&\r\n            multipleS1Application?.status !== 'FOR_APPROVAL' && isAllApplicationsHasMainDoc\">\r\n        <button class=\"button-right button-red\" mat-raised-button [disabled]=\"isDisabledSubmitButton\"\r\n          (click)=\"submitMultiple()\">\r\n          <i class=\"material-icons color__white\">send</i> SUBMIT\r\n          <br>\r\n        </button>\r\n      </div>\r\n      <br>\r\n      <!-- //////////////////////////////////////// ACTION BUTTONS //////////////////////////////////////////////////////////// -->\r\n      <div class=\"row\" *ngIf=\"multipleS1Application?.status === 'FOR_APPROVAL' && isAscUser && !multipleS1Application?.assignedReviewer\">\r\n        <div mat-dialog-actions>\r\n          <div class=\"dialog-button-content\" align=\"end\">\r\n            <button class=\"confirm\" (click)=\"onApproveOrDisapprove()\"><i\r\n                class=\"material-icons\">thumb_up_alt</i>Approve</button>\r\n            <button class=\"warn\" (click)=\"onApproveOrDisapprove('DISAPPROVED')\"><i\r\n                class=\"material-icons\">thumb_down_alt</i>Disapprove</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <!-- //////////////////////////////////////// ASC USERS //////////////////////////////////////////////////////////// -->\r\n      <!-- <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_ENCODER'&&canForwardMultipleApp && !multipleS1Application?.assignedReviewer\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('encoder')\">\r\n          <i class=\"material-icons color__white\">verified</i> FORWARD TO AD SPECIALIST\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_AD_SPECIALIST'&&canForwardMultipleApp && !multipleS1Application?.assignedReviewer\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('ad-specialist')\">\r\n          <i class=\"material-icons color__white\">verified</i> FORWARD TO SCREENER\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_SCREENER'&&canForwardMultipleApp && !multipleS1Application?.assignedReviewer\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('screener')\">\r\n          <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n        </button>\r\n      </div> -->\r\n\r\n      <!-- <div class=\"no-border\"\r\n        *ngIf=\"currentUser.userRole.name==='ROLE_REVIEWER'&&canForwardMultipleApp\">\r\n        <button class=\"button-right button-red\" mat-raised-button (click)=\"forwardMultipleAppsTo('reviewer')\">\r\n          <i class=\"material-icons color__white\">assignment_turned_in</i> REVIEWED\r\n        </button>\r\n      </div> -->\r\n\r\n      <br>\r\n    </div>\r\n  </div>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { URL_PATHS } from '@shared';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    children: [\r\n      {\r\n        path: URL_PATHS.LIST_COMPANY,\r\n        loadChildren: () => import('./list-company/list-company.module')\r\n          .then(m => m.ListCompanyModule)\r\n      },\r\n      {\r\n        path: URL_PATHS.ADD_COMPANY,\r\n        loadChildren: () => import('./add-company/add-company.module')\r\n          .then(m => m.AddCompanyModule)\r\n      },\r\n      {\r\n        path: URL_PATHS.UPDATE_COMPANY + '/:id',\r\n        loadChildren: () => import('./add-company/add-company.module')\r\n          .then(m => m.AddCompanyModule)\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CompanyRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AddCompanyComponent } from './add-company.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddCompanyComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AddCompanyRoutingModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport { ModalSingleApplicationComponent } from './modal-single-application/modal-single-application.component';\r\n\r\n@Component({\r\n  selector: 'app-single-application',\r\n  templateUrl: './single-application.component.html',\r\n  styleUrls: ['./single-application.component.scss']\r\n})\r\nexport class SingleApplicationComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<Object>;\r\n\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['referenceCode', 'typeOfApplication', 'brand', 'medium', 'applicantCompanyName', 'paymentStatus'];\r\n  paymentList = [];\r\n\r\n  currentUser: any;\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dialog: MatDialog,\r\n    private dataStorage: DataStorageService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getS1PaymentList();\r\n  }\r\n\r\n  getS1PaymentList() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationFormPresentor + this.currentUser.id,\r\n      'payment-status/FOR_PAYMENT/schedule-of-fees').subscribe((res: any) => {\r\n        this.paymentList = res.responseData.data;\r\n        this.dataSource = new MatTableDataSource<any>(this.paymentList);\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n      });\r\n  }\r\n\r\n  openModal(res) {\r\n\r\n    const dialogRef = this.dialog.open(ModalSingleApplicationComponent, {\r\n      width: '80%',\r\n      height: 'fit-content',\r\n      maxHeight: '85vh',\r\n      data: res\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.ngOnInit();\r\n    });\r\n\r\n  }\r\n}\r\n","<form>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n          <mat-label>\r\n            <mat-icon>view_list</mat-icon> Individual Applications - For Payment\r\n          </mat-label>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <br>\r\n      <div class=\"col-md-12\" fxLayout fxLayoutAlign=\"center center\">\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n          <input matInput type=\"text\" placeholder=\"Company Name\">\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"dataSource\" matSort>\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\"> {{element?.referenceCode | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationType.description | uppercase}} - {{element?.formType?.replaceAll('_',' ') | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.brand.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"medium\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> MEDIUM</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.typeOfMedium | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"applicantCompanyName\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICANT COMPANY NAME</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.company.companyName | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"paymentStatus\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> PAYMENT STATUS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.paymentStatus?.replaceAll('_',' ') | uppercase}}</td>\r\n          </ng-container>\r\n\r\n\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n      </div>\r\n      <br>\r\n    </div>\r\n  </form>\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ApiService, DataStorageService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport { ModalMultipleApplicationsComponent } from './modal-multiple-applications/modal-multiple-applications.component';\r\n\r\n\r\nexport interface companyDetails {\r\n  referenceCode: string;\r\n  amount: number;\r\n}\r\n\r\nconst ELEMENT_DATA: companyDetails[] = [\r\n  { referenceCode: 'Company one ', amount: 3000, },\r\n  { referenceCode: 'Company two ', amount: 4000, },\r\n  { referenceCode: 'Company three ', amount: 5000, },\r\n  { referenceCode: 'Company two ', amount: 6000, },\r\n  { referenceCode: 'Company three ', amount: 7000, },\r\n];\r\n\r\n@Component({\r\n  selector: 'app-multiple-applications',\r\n  templateUrl: './multiple-applications.component.html',\r\n  styleUrls: ['./multiple-applications.component.scss']\r\n})\r\nexport class MultipleApplicationsComponent implements OnInit {\r\n\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<Object>;\r\n\r\n  dataSource: MatTableDataSource<any>\r\n  displayedColumns: string[] = ['adTitle', 'typeOfApplication', 'brand', 'product', 'applicantCompanyName', 'paymentStatus'];\r\n  paymentList = [];\r\n  currentUser: any;\r\n\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dialog: MatDialog,\r\n    private dataStorage: DataStorageService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getS1MultiplePaymentList();\r\n  }\r\n\r\n  getS1MultiplePaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.applicationFormPresentor + `${this.currentUser.id}/multiple-application?paymentStatus=FOR_PAYMENT`)\r\n    .subscribe((res: any) => {\r\n      this.paymentList = res.responseData.data;\r\n\r\n      this.dataSource = new MatTableDataSource<any>(this.paymentList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  openModal(res) {\r\n    const dialogRef = this.dialog.open(ModalMultipleApplicationsComponent, {\r\n      width: '60%',\r\n      height: '85%',\r\n      data: res\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        console.log(result);\r\n        this.getS1MultiplePaymentList();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n}\r\n","<form>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n          <mat-label>\r\n            <mat-icon>view_list</mat-icon> Multiple Applications - For Payment\r\n          </mat-label>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <br>\r\n      <div class=\"col-md-12\" fxLayout fxLayoutAlign=\"center center\">\r\n        <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n          <input matInput type=\"text\" placeholder=\"Company Name\">\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"dataSource\" matSort>\r\n          <ng-container matColumnDef=\"adTitle\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\"> {{element?.adTitle | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.applicationType?.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.brand?.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"product\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> PRODUCT</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.product?.description | uppercase}}</td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"applicantCompanyName\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICANT COMPANY NAME</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.company.companyName | uppercase}}</td>\r\n          </ng-container>\r\n          <!-- <ng-container matColumnDef=\"countVerifiedApplicationForm\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> NUMBER OF VERIFIED APPLICATIONS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.countVerifiedApplicationForm}}</td>\r\n          </ng-container> -->\r\n          <ng-container matColumnDef=\"paymentStatus\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> PAYMENT STATUS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"openModal(element)\">{{element?.paymentStatus?.replaceAll('_',' ') | uppercase}}</td>\r\n          </ng-container>\r\n\r\n\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n      </div>\r\n      <br>\r\n    </div>\r\n  </form>\r\n","import { USER_ROLES } from './../../../../../../shared/utils/constants';\r\nimport { Component, Inject, Input, OnDestroy, OnInit, Optional } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { AttachmentDocument, Payment, S2Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ATTACHMENT_TYPE, ENDPOINTS, PAYMENT_STATUS } from '@shared';\r\nimport { ApplicationSingleMedia } from 'app/core/models/application-single-media.model';\r\nimport { FileStorageService } from 'app/core/services/file.storage.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-modal-special-applications',\r\n  templateUrl: './modal-special-applications.component.html',\r\n  styleUrls: ['./modal-special-applications.component.scss']\r\n})\r\nexport class ModalSpecialApplicationsComponent implements OnInit, OnDestroy {\r\n\r\n  @Input() s2Application = new S2Application();\r\n  attachmentDocument = new AttachmentDocument();\r\n  payment = new Payment();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n\r\n\r\n  paymentTypeList = [];\r\n  attachmentDocuments = [];\r\n\r\n\r\n  paymentType: any;\r\n  safeURLProofOfPayment: any;\r\n  selectedFiles: any;\r\n  currentUser: any;\r\n  attachment: any;\r\n  previewDocument = false;\r\n  isSubmitted = false;\r\n  paymentDetails: any;\r\n  typeOfMediumDisplay = '';\r\n\r\n  paymentForm: FormGroup;\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private apiService: ApiService,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    private spinner: NgxSpinnerService,\r\n    @Optional() public dialogRef: MatDialogRef<ModalSpecialApplicationsComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      if (data) {\r\n        this.s2Application = data;\r\n        console.log('S2', this.s2Application);\r\n        switch (this.s2Application?.applicationForm?.refTypeOfMedium || this.payment?.applicationFormS2?.applicationForm?.refTypeOfMedium) {\r\n          case 'SINGLE MEDIA':\r\n            this.getApplicationSingleMedia();\r\n            break;\r\n          case 'MULTIMEDIA-MOVING':\r\n            this.getMultimediaMoving();\r\n            break;\r\n          case 'MULTIMEDIA-STATIC':\r\n            this.getMultimediaStatic();\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        this.getPaymentDetails();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getPaymentList();\r\n  }\r\n\r\n  getPaymentDetails() {\r\n    this.apiService.findAll(ENDPOINTS.specialPaymentDetails + this.s2Application.id).subscribe((res: any) => {\r\n      this.paymentDetails = res;\r\n      this.paymentDetails.vat = this.paymentDetails.vat.toFixed(2);\r\n    });\r\n  }\r\n\r\n  getPaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.paymentType).subscribe((res: any) => {\r\n      this.paymentTypeList = res.responseData.data;\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        const creditCardIndex = this.paymentTypeList\r\n          .findIndex((element) => element.paymentDescription === 'Credit Card');\r\n        this.paymentTypeList.splice(creditCardIndex, 1);\r\n      }\r\n    });\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n        // env.showSpinner = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadDocument(s2Application) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this PROOF OF PAYMENT?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.PAYMENT + '&submissionType=' + s2Application.submissionType;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n          .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            console.log(obj);\r\n            this.s2Application.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.amountDue = s2Application.amount;\r\n            this.payment.applicationFormS2 = s2Application;\r\n            this.payment.appFormReference = s2Application.appFormReference;\r\n            this.payment.filename = obj.filename;\r\n            this.saveProofOfPayment();\r\n            // this.previewDocument = true;\r\n            this.selectedFiles = undefined;\r\n            this.spinner.hide();\r\n            this.router.navigateByUrl('asc/page/application/special-applications');\r\n          }, (err: any) => {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            // actions after subscription\r\n            this.spinner.hide();\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  saveProofOfPayment() {\r\n    console.log('Saving payment...');\r\n    this.dataStorage.setDisplayProgressbar(true);\r\n    this.payment.paymentStatus = PAYMENT_STATUS.UNPAID;\r\n    this.payment.id = 0;\r\n    this.payment.officialReceiptNo = '';\r\n    this.payment.paymentMethod = null;\r\n    console.log('PAYMENT : ', this.payment);\r\n\r\n    this.apiService.save(`${ENDPOINTS.s2ApplicationFormPresentor}payment-type-id/${this.paymentType.id}\r\n    /payment-special-clearing/submit`, this.payment).subscribe((res: any) => {\r\n      console.log('SAVED STATUS: ', res.responseData.data);\r\n\r\n      this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(res.responseData.data.fileURL);\r\n      this.isSubmitted = true;\r\n      this.sweetAlertService.customSuccessMessage('Proof of payment successfully submitted.');\r\n      this.closeModal();\r\n    }, (err) => {\r\n      console.log(err);\r\n      this.sweetAlertService.error(err);\r\n      this.dataStorage.setDisplayProgressbar(false);\r\n    }, () => {\r\n      this.dataStorage.setDisplayProgressbar(false);\r\n    });\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.dialogRef.close();\r\n    this.router.navigate(['asc/page/application/special-applications']);\r\n  }\r\n  ngOnDestroy(): void {\r\n    // this.s2Application = null;\r\n  }\r\n\r\n  getApplicationSingleMedia() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationSingleMedia,\r\n      `app-form-reference/${this.s2Application?.applicationForm?.appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n            this.typeOfMediumDisplay = `${this.applicationSingleMedia?.mediumExecution?.typeOfMedium?.description} (${this.applicationSingleMedia?.sizeLength})`;\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaStatic() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${this.s2Application?.applicationForm?.appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n  getMultimediaMoving() {\r\n    this.apiService.findByParam(ENDPOINTS.applicationMultimedia,\r\n      `app-form-reference/${this.s2Application?.applicationForm?.appFormReference}`).subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            const multimediaList = new Set(res.responseData.data.map(mappedList => `${mappedList?.typeOfMedium?.description} (${mappedList?.multimediaSizeLength})`));\r\n\r\n            this.typeOfMediumDisplay = '';\r\n            let mediaCtrl = 1;\r\n            for (const media of multimediaList) {\r\n              if (mediaCtrl !== multimediaList.size) {\r\n                this.typeOfMediumDisplay += `${media}, `;\r\n                mediaCtrl++;\r\n              } else {\r\n                this.typeOfMediumDisplay += media;\r\n              }\r\n            }\r\n          } else {\r\n            this.typeOfMediumDisplay = '';\r\n          }\r\n        }, (err: any) => {\r\n          this.typeOfMediumDisplay = '';\r\n        });\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12 title\">\r\n            <mat-label>\r\n                <mat-icon>view_list</mat-icon> <b>Schedule of Fees - Special Application</b>\r\n            </mat-label>\r\n        </div>\r\n    </div>\r\n    <hr>\r\n    <br>\r\n    <div class=\"row col-md-12\">\r\n        <div class=\"row col-md-6\">\r\n            <div>\r\n                <mat-label>Proof of Payment: &nbsp;&nbsp;&nbsp;<span>PDF file only!</span></mat-label><br>\r\n                <input class=\"file-upload\" type=\"file\" [(ngModel)]=\"attachment\" [ngModelOptions]=\"{standalone: true}\"\r\n                    accept=\".pdf\" (change)=\"selectFile($event)\">\r\n            </div>\r\n            <div *ngIf=\"previewDocument===true\">\r\n                <div class=\"file-upload\">\r\n                    <object [data]=\"safeURLProofOfPayment\" type=\"application/pdf\" width=\"100%\" height=\"500\">\r\n                        <iframe [src]=\"safeURLProofOfPayment\" width=\"100%\" height=\"500\">\r\n                            <p>This browser does not support PDF!</p>\r\n                        </iframe>\r\n                    </object>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"row col-md-6\">\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Reference Code</mat-label>\r\n                <input matInput [value]=\"s2Application?.applicationForm?.referenceCode\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Advertiser</mat-label>\r\n                <input matInput name=\"companyName\" [value]=\"s2Application?.applicationForm?.company?.companyName\"\r\n                    readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Ad Title - Medium (Length)</mat-label>\r\n                <input matInput name=\"refTypeOfMedium\"\r\n                    [value]=\"s2Application?.applicationForm?.adTitle + ' - ' + typeOfMediumDisplay\" readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Vatable Sales</mat-label>\r\n                <input matInput class=\"numbers-input\" name=\"amount\"\r\n                    [value]=\"paymentDetails?.basicRate | number : '1.2-2'\" readonly>\r\n            </mat-form-field>\r\n\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>VAT</mat-label>\r\n                <input matInput class=\"numbers-input\" name=\"amount\" [value]=\"paymentDetails?.vat | number : '1.2-2'\"\r\n                    readonly>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Total Sales (VAT Inclusive)</mat-label>\r\n                <input matInput class=\"numbers-input total\" name=\"amount\"\r\n                    [value]=\"paymentDetails?.amountDue | number : '1.2-2'\" readonly>\r\n            </mat-form-field>\r\n\r\n            <hr>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Payment Mode <span class=\"required-field\">\r\n                        <mat-icon>notification_important</mat-icon>\r\n                    </span></mat-label>\r\n                <mat-select [(ngModel)]=\"paymentType\" [ngModelOptions]=\"{standalone: true}\">\r\n                    <mat-option *ngFor=\"let i of paymentTypeList\" [value]=\"i\" name=\"paymentType\">\r\n                        {{i?.paymentDescription | uppercase}}\r\n                    </mat-option>\r\n                </mat-select>\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label>Remarks</mat-label>\r\n                <textarea matInput name=\"remarks\" [(ngModel)]=\"payment.remarks\"></textarea>\r\n            </mat-form-field>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-10\"><span *ngIf=\"paymentType && paymentDetails?.amountDue === 0\">\r\n                <i>Please contact ASC admin to check the Maintenance of Fees.</i></span></div>\r\n        <div class=\"col-md-2\">\r\n            <button mat-raised-button class=\"button-red\"\r\n                [disabled]=\"!paymentType || !previewDocument || paymentDetails?.amountDue === 0\"\r\n                (click)=\"uploadDocument(s2Application)\">\r\n                <i class=\"material-icons color__white\">task_alt</i> SUBMIT\r\n            </button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { MultiMediaStatic } from './multimedia-static.model';\r\nexport class MultiMediaStaticConst{\r\n    data: Array<MultiMediaStatic> = new Array<MultiMediaStatic>();\r\n    constructor(){\r\n        this.data = [\r\n            {\r\n                id: 0,\r\n                multimediaStaticMedium: 'collaterals',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              },\r\n              {\r\n                id: 1,\r\n                multimediaStaticMedium: 'digital static',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              },\r\n              {\r\n                id: 2,\r\n                multimediaStaticMedium: 'ooh',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              },\r\n              {\r\n                id: 3,\r\n                multimediaStaticMedium: 'print',\r\n                hasSelected: false,\r\n                sizeLength: 0\r\n              }\r\n        ]\r\n    }\r\n}","export * from './accounting.module';\r\nexport * from './add-payment/add-payment.component';\r\nexport * from './add-payment/add-payment.module';\r\nexport * from './list-payment/list-payment.component';\r\nexport * from './list-payment/list-payment.module';","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { URL_PATHS } from '@shared';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: URL_PATHS.S1_APPLICATION,\r\n    loadChildren: () => import('./s1-application/s1-application.module')\r\n      .then(m => m.S1ApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.S2_APPLICATION,\r\n    loadChildren: () => import('./s2-application/s2-application.module')\r\n      .then(m => m.S2ApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SINGLE_APPLICATION,\r\n    loadChildren: () => import('./schedule-of-fees/single-application/single-application.module')\r\n      .then(m => m.SingleApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SINGLE_APPLICATION + '/:id',\r\n    loadChildren: () => import('./schedule-of-fees/single-application/single-application.module')\r\n      .then(m => m.SingleApplicationModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_MULTIPLE_APPLICATIONS,\r\n    loadChildren: () => import('./schedule-of-fees/multiple-applications/multiple-applications.module')\r\n      .then(m => m.MultipleApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_MULTIPLE_APPLICATIONS + '/:id',\r\n    loadChildren: () => import('./schedule-of-fees/multiple-applications/multiple-applications.module')\r\n      .then(m => m.MultipleApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SPECIAL_APPLICATIONS,\r\n    loadChildren: () => import('./schedule-of-fees/special-applications/special-applications.module')\r\n      .then(m => m.SpecialApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.ACCOUNTS_PAYABLE,\r\n    loadChildren: () => import('./schedule-of-fees/accounts-payable/accounts-payable.module')\r\n      .then(m => m.AccountsPayableModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.SCHEDULE_OF_FEES_SPECIAL_APPLICATIONS + '/:id',\r\n    loadChildren: () => import('./schedule-of-fees/special-applications/special-applications.module')\r\n      .then(m => m.SpecialApplicationsModule)\r\n  },\r\n  {\r\n    path: URL_PATHS.APPLICATION_REASSIGNMENT,\r\n    loadChildren: () => import('./reassignment/reassignment.module')\r\n      .then(m => m.ReassignmentModule)\r\n  }\r\n];\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ApplicationsRoutingModule { }\r\n","import { Observable, Subject } from \"rxjs\";\r\nimport { AttachmentDocumentComponent } from \"./../../attachment-document/attachment-document.component\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  OnInit,\r\n  Output,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { MatAccordion } from \"@angular/material/expansion\";\r\nimport { MatTableDataSource } from \"@angular/material/table\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport {\r\n  AttachmentDocument,\r\n  Company,\r\n  S1Application,\r\n  S2Application,\r\n} from \"@models\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport {\r\n  APPLICATION_STAGE,\r\n  APPLICATION_STATUS_S2,\r\n  ENDPOINTS,\r\n  USER_ROLES,\r\n  ATTACHMENT_TYPE,\r\n  TYPE_OF_MEDIUM,\r\n  APPLICATION_STATUS,\r\n  APP_DECISION_STATUS,\r\n  APPLICATION_STATUS_FOR_COMPLIANCE,\r\n  SUBMISSION_TYPE,\r\n  ROLES,\r\n} from \"@shared\";\r\nimport { ApplicationSingleMedia } from \"app/core/models/application-single-media.model\";\r\nimport { RationaleS2 } from \"app/core/models/rationale-s2.model\";\r\nimport { Report } from \"app/core/models/report.model\";\r\nimport { CommonServices } from \"app/core/services/common-services.service\";\r\nimport { FileStorageService } from \"app/core/services/file.storage.service\";\r\nimport { IncompleteDisapprovedRationaleComponent } from \"app/modules/fragments/incomplete-disapproved-rationale/incomplete-disapproved-rationale.component\";\r\nimport { RejectDisapprovedReasonComponent } from \"app/modules/fragments/reject-disapproved-reason/reject-disapproved-reason.component\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport Swal from \"sweetalert2\";\r\nimport { ClientInformationComponent } from \"../../client-information/client-information.component\";\r\nimport { CommentComponent } from \"../../comment/comment.component\";\r\nimport { MaterialInformationComponent } from \"../../material-information/material-information.component\";\r\n\r\n@Component({\r\n  selector: \"app-add-s2-application\",\r\n  templateUrl: \"./add-s2-application.component.html\",\r\n  styleUrls: [\"./add-s2-application.component.scss\"],\r\n})\r\nexport class AddS2ApplicationComponent implements OnInit {\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  @ViewChild(ClientInformationComponent, { static: false })\r\n  clientInformation: ClientInformationComponent;\r\n  @ViewChild(MaterialInformationComponent, { static: false })\r\n  materialInformation: MaterialInformationComponent;\r\n  @ViewChild(CommentComponent, { static: false }) comment: CommentComponent;\r\n  // @ViewChild(LayoutComponent, { static: false }) layoutComponent: LayoutComponent;\r\n\r\n  @ViewChild(\"finalMaterialFileInput\") myFinalMaterialFileInput: ElementRef;\r\n  @ViewChild(\"finalMaterialFile\") myFinalMaterialFile: ElementRef;\r\n\r\n  @ViewChild(\"finalMaterialFileInputC\") myFinalMaterialFileInputC: ElementRef;\r\n  @ViewChild(\"finalMaterialFileC\") myFinalMaterialFileC: ElementRef;\r\n\r\n  @ViewChild(AttachmentDocumentComponent, { static: false })\r\n  attachmentComponent: AttachmentDocumentComponent;\r\n\r\n  @Output() spinnerMessageEmitter = new EventEmitter<string>();\r\n\r\n  title = \"ASC Online System\";\r\n  s2Application = new S2Application();\r\n  s1Application = new S1Application();\r\n  company = new Company();\r\n  rationaleS2 = new RationaleS2();\r\n  attachmentDocument = new AttachmentDocument();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  report = new Report();\r\n  attachmentDocuments: any = {};\r\n  originalAttachmentDocuments = [];\r\n  revisionAttachmentDocuments = [];\r\n  complianceAttachmentDocuments = [];\r\n  s2OriginalAttachmentDocuments = [];\r\n  s2OriginalAttachmentObservable: Subject<any> = new Subject();\r\n  s2ComplianceAttachmentDocuments = [];\r\n  supportiveDocumentList = [];\r\n  affiliationList = [];\r\n  companyList = [];\r\n  multimediaStaticList = [];\r\n  multimediaMovingList = [];\r\n  selectedMultimediaList = [];\r\n  rationaleOthersList = [];\r\n  rationaleLists = [];\r\n  isNewCompany = false;\r\n  showCompanyAddress = false;\r\n  id: number;\r\n  spinnerMessage = \"\";\r\n  todayDate: Date = new Date();\r\n  s2ApplicationForm: FormGroup;\r\n  selectedFile: File;\r\n  tempCompliance = new AttachmentDocument();\r\n\r\n  selected: any; // in html but not existing in component -- encountered during 'ng serve --aot'\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n  decisionStatus = \"\";\r\n  audioVideo = \"Video\";\r\n  isAudioVideo = false;\r\n  isShowUploadButton = false;\r\n  rationaleDisplay = false;\r\n  fileSize: number;\r\n  safeURLFile: any;\r\n  uploadedFinalMaterialFile: any;\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isEvaluator = false;\r\n  isAdSpecialist = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n\r\n  previewAttachmentsList = [];\r\n  previewAttachmentsDisplayedColumns: string[] = [\r\n    \"clearanceToaFilename\",\r\n    \"viewClearanceToaIcon\",\r\n  ];\r\n  previewAttachmentsListDataSource: MatTableDataSource<object>;\r\n  isAscUser: boolean = false;\r\n  ascUserRoleList = [\r\n    ...ROLES.filter((role: any) => role.ascUser === true).map(\r\n      (role: any) => role.role\r\n    ),\r\n  ];\r\n  applicationStage: string = \"S2-APPLICATION\";\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private fileStorageService: FileStorageService,\r\n    private dialog: MatDialog\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.setFormValidator();\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.isAscUser = this.ascUserRoleList.includes(\r\n      this.dataStorage.getUserRole()\r\n    );\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.id = Number(this.route.snapshot.paramMap.get(\"id\"));\r\n    this.initUserRole();\r\n    this.getAffiliationList();\r\n    this.getCompanyList();\r\n    if (this.id) {\r\n      this.viewS2Application();\r\n    }\r\n  }\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n  viewS2Application(): void {\r\n    this.spinner.show();\r\n    this.spinnerMessage = \"Loading S2 Application\";\r\n    this.apiService.findById(ENDPOINTS.applicationFormS2, this.id).subscribe(\r\n      (res: any) => {\r\n        console.log(\"s2 = \");\r\n        this.s2Application = res.responseData.data;\r\n        console.log(\"S2 Form: \", this.s2Application);\r\n\r\n        this.s1Application = this.s2Application.applicationForm;\r\n        this.clientInformation.s1Application = this.s2Application.applicationForm;\r\n        this.materialInformation.s1Application = this.s2Application.applicationForm;\r\n\r\n        if (this.s2Application.finalMaterialAttachmentReference) {\r\n          this.isShowUploadButton = true;\r\n          this.getS2AttachmentDocument();\r\n        }\r\n\r\n        this.setApplicationStage(this.s2Application);\r\n        this.hideSpinner();\r\n        if (\r\n          this.s2Application.applicationForm.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n        ) {\r\n          this.getApplicationSingleMedia();\r\n        } else if (\r\n          this.s2Application.applicationForm.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n        ) {\r\n          this.getMultimediaMoving();\r\n        } else if (\r\n          this.s2Application.applicationForm.refTypeOfMedium ===\r\n          TYPE_OF_MEDIUM.MULTIMEDIA_STATIC\r\n        ) {\r\n          this.getMultimediaStatic();\r\n        }\r\n        this.getAttachmentDocuments();\r\n        // this.getSupportiveDocuments();\r\n\r\n        if (\r\n          (this.s2Application.decisionStatus ===\r\n            APP_DECISION_STATUS.INCOMPLETE ||\r\n            this.s2Application.decisionStatus ===\r\n              APP_DECISION_STATUS.DISAPPROVED) &&\r\n          this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST\r\n        ) {\r\n          if (\r\n            this.s2Application.internalStatus ===\r\n              \"RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER\" &&\r\n            this.s2Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n          ) {\r\n            this.getRationaleList();\r\n          }\r\n        }\r\n\r\n        if (\r\n          this.isAdmin ||\r\n          this.isSuperAdmin ||\r\n          this.isApplicant ||\r\n          this.isAdSpecialist\r\n        ) {\r\n          console.log(\r\n            ENDPOINTS.clearanceAndToa + this.s2Application?.appFormReference\r\n          );\r\n          this.apiService\r\n            .findByParam(\r\n              ENDPOINTS.clearanceAndToa,\r\n              this.s2Application?.appFormReference\r\n            )\r\n            .subscribe((previewAttachmentsData) => {\r\n              console.log(previewAttachmentsData);\r\n\r\n              this.previewAttachmentsList =\r\n                previewAttachmentsData.responseData.data;\r\n              this.previewAttachmentsListDataSource = new MatTableDataSource<object>(\r\n                this.previewAttachmentsList\r\n              );\r\n            });\r\n        }\r\n      },\r\n      (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    );\r\n  }\r\n\r\n  setApplicationStage(data): void {\r\n    this.clientInformation.applicationStage = APPLICATION_STAGE.S2_APPLICATION;\r\n    this.materialInformation.applicationStage =\r\n      APPLICATION_STAGE.S2_APPLICATION;\r\n    if (this.currentUserRole !== USER_ROLES.ROLE_APPLICANT) {\r\n      this.comment.applicationStage = APPLICATION_STAGE.S2_APPLICATION;\r\n      this.comment.getCommentsS2(data);\r\n    }\r\n  }\r\n\r\n  saveStatus(): void {\r\n    if (\r\n      this.s2Application.appFormReference &&\r\n      this.s2Application.appFormReference !== \"\" &&\r\n      this.s2Application.appFormReference !== undefined\r\n    ) {\r\n      let endpoint;\r\n      let swalMessage;\r\n\r\n      if (this.currentUserRole === USER_ROLES.ROLE_APPLICANT) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormPresentorSubmit;\r\n        swalMessage = \"S2 application has been submitted.\";\r\n      } else if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormEncoderVerify;\r\n        swalMessage = \"S2 application has been verified.\";\r\n        this.s2Application.assignedUser = this.s2Application.applicationForm.assignedAdSpecialist;\r\n      } else if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n        if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n          endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"incomplete\";\r\n          swalMessage = \"S2 Application Incomplete\";\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n          endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"disapproved\";\r\n          swalMessage = \"S2 Application Disapproved\";\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n          endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"approved\";\r\n          swalMessage = \"S2 Application Approved!\";\r\n        }\r\n      }\r\n\r\n      // this.s2Application.modifiedBy = this.currentUser;\r\n      // this.s2Application.modifiedDate = this.todayDate;\r\n\r\n      Swal.fire({\r\n        text: \"Are you sure you want to submit the application?\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Confirm\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n            this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n            this.s2Application.decisionStatus =\r\n              APPLICATION_STATUS_S2.INCOMPLETE;\r\n          } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n            this.s2Application.decisionStatus = APPLICATION_STATUS_S2.APPROVED;\r\n          } else if (\r\n            this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED\r\n          ) {\r\n            this.s2Application.decisionStatus =\r\n              APPLICATION_STATUS_S2.DISAPPROVED;\r\n          }\r\n          this.apiService.save(endpoint, this.s2Application).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(swalMessage);\r\n              this.navigateToS2List();\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n        }\r\n      });\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Missing application form reference.\"\r\n      );\r\n    }\r\n  } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  saveStatusForCompliance(): void {\r\n    let endpoint;\r\n    let swalMessage;\r\n\r\n    if (this.currentUserRole === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"compliance/presentor/submit\";\r\n      swalMessage = \"S2 Application has been re-submitted successfully\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"compliance/encoder/verify\";\r\n      swalMessage =\r\n        \"S2 Application has been re-submitted successfully verified by ENCODER\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"incomplete\";\r\n        swalMessage = \"S2 Application Incomplete\";\r\n      } else if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"disapproved\";\r\n        swalMessage = \"S2 Application Disapproved\";\r\n      } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n        endpoint =\r\n          ENDPOINTS.s2ApplicationForm + \"compliance/ad-specialist/verify\";\r\n        swalMessage = \"S2 Application has been verified by AD-SPECIALIST\";\r\n        // this.s2Application.decisionStatus = APPLICATION_STATUS_S2.APPROVED;\r\n      }\r\n    }\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to re-submit this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        if (this.decisionStatus === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n          this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.INCOMPLETE;\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.APPROVED;\r\n        } else if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.DISAPPROVED;\r\n        }\r\n        this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n        this.apiService.save(endpoint, this.s2Application).subscribe(\r\n          (res: any) => {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage(swalMessage);\r\n            this.navigateToS2List();\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  saveStatusForClearance(): void {\r\n    let endpoint;\r\n    let swalMessage;\r\n\r\n    if (this.currentUserRole === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"clearance/presentor/submit\";\r\n      swalMessage = \"S2 Application clearance has been submitted successfully\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n      endpoint = ENDPOINTS.s2ApplicationForm + \"clearance/encoder/verify\";\r\n      swalMessage =\r\n        \"S2 Application clearance has been verified successfully by ENCODER\";\r\n    } else if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n        endpoint = ENDPOINTS.s2ApplicationFormAdSpe + \"disapproved\";\r\n        swalMessage = \"S2 Application clearance Disapproved\";\r\n      } else if (this.decisionStatus === APPLICATION_STATUS_S2.APPROVED) {\r\n        endpoint =\r\n          ENDPOINTS.s2ApplicationForm + \"clearance/ad-specialist/verify\";\r\n        swalMessage =\r\n          \"S2 Application clearance has been approved by AD-SPECIALIST\";\r\n        this.s2Application.internalStatus = APPLICATION_STATUS_S2.APPROVED;\r\n        this.s2Application.externalStatus = APPLICATION_STATUS_S2.APPROVED;\r\n      }\r\n    }\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to submit this application clearance?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        if (this.decisionStatus === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n          this.s2Application.decisionStatus = APPLICATION_STATUS_S2.DISAPPROVED;\r\n        }\r\n        this.spinner.show();\r\n        this.apiService.save(endpoint, this.s2Application).subscribe(\r\n          (res: any) => {\r\n            this.hideSpinner();\r\n            this.sweetAlertService.customSuccessMessage(swalMessage);\r\n            this.navigateToS2List();\r\n          },\r\n          (err: any) => {\r\n            this.hideSpinner();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  applyApplicationForClearance(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to apply this application to Clearance?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.s2ApplicationForm + \"clearance/presentor/submit\",\r\n            this.s2Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              this.hideSpinner();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Application with reference no is applied for Clearance successfully.\"\r\n                )\r\n              );\r\n              this.navigateToS2List();\r\n            },\r\n            (err: any) => {\r\n              this.hideSpinner();\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  rejectDisapprovedModal(ascUser = \"\", action = \"\", status = \"\"): void {\r\n    // Swal.fire({\r\n    //   text: 'Are you sure you want to REJECT this application?',\r\n    //   icon: 'question',\r\n    //   showCancelButton: true,\r\n    //   confirmButtonColor: '#3085d6',\r\n    //   cancelButtonColor: '#d33',\r\n    //   confirmButtonText: 'Confirm'\r\n    // }).then((result) => {\r\n    //   if (result.value) {\r\n    //     this.apiService.save(ENDPOINTS.s2ApplicationFormEncoderReject, this.s2Application).subscribe(\r\n    //       (res: any) => {\r\n    //         this.sweetAlertService.customSuccessMessage('Application has been rejected successfully');\r\n    //         this.router.navigateByUrl('asc/page/application/s2/lists');\r\n    //       }\r\n    //     );\r\n    //   }\r\n    // })\r\n    const dialogRef = this.dialog.open(RejectDisapprovedReasonComponent, {\r\n      width: \"40%\",\r\n      height: \"45%\",\r\n      data: {\r\n        s2Application: this.s2Application,\r\n        ascUser: ascUser,\r\n        action: action,\r\n        status: status,\r\n        applicationStage: \"s2\",\r\n      },\r\n    });\r\n  }\r\n\r\n  incompleteDisapprovedRationale(ascUser = \"\", action = \"\", status = \"\"): void {\r\n    const dialogRef = this.dialog.open(\r\n      IncompleteDisapprovedRationaleComponent,\r\n      {\r\n        width: \"40%\",\r\n        height: \"65%\",\r\n        data: {\r\n          s2Application: this.s2Application,\r\n          ascUser: ascUser,\r\n          action: action,\r\n          status: status,\r\n          applicationStage: \"s2\",\r\n        },\r\n      }\r\n    );\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      console.log(\"The dialog was closed\", result);\r\n      if (result) {\r\n        this.getRationaleList();\r\n      }\r\n    });\r\n  }\r\n\r\n  getApplicationSingleMedia() {\r\n    this.spinner.show();\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationSingleMedia,\r\n        `app-form-reference/${this.s2Application.applicationForm.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          }\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          this.hideSpinner();\r\n        }\r\n      );\r\n  }\r\n\r\n  getAttachmentDocuments() {\r\n    console.log(\r\n      \"apForm\",\r\n      this.s2Application.applicationForm,\r\n      ENDPOINTS.attachmentDocumentByAppFormReference +\r\n        this.s2Application.applicationForm.appFormReference\r\n    );\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.attachmentDocumentByAppFormReference +\r\n          this.s2Application.applicationForm.appFormReference\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.attachmentDocuments = res.responseData.data;\r\n\r\n        this.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n        this.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n        this.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n\r\n        console.log(this.originalAttachmentDocuments);\r\n\r\n        if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n          this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n        ) {\r\n          this.materialInformation.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n          this.materialInformation.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n          this.materialInformation.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n        }\r\n        console.log(\"view S2 attachmentDocuments: \", this.attachmentDocuments);\r\n        this.s2OriginalAttachmentObservable.next({\r\n          type: \"document\",\r\n          value: this.originalAttachmentDocuments,\r\n        });\r\n        this.s2OriginalAttachmentObservable.next({\r\n          type: \"application\",\r\n          value: this.s2Application,\r\n        });\r\n      });\r\n  }\r\n\r\n  getSupportiveDocuments() {\r\n    this.spinner.show();\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.supportiveDocument,\r\n        `application-form-id/${this.s2Application.applicationForm.id}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log(\"getSupportiveDocuments() \", res);\r\n          if (res.responseData.data.length > 0) {\r\n            this.supportiveDocumentList = res.responseData.data;\r\n          }\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.hideSpinner();\r\n          this.supportiveDocumentList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaStatic() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s2Application.applicationForm.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaStaticList = res.responseData.data;\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s2Application.applicationForm.externalStatus ===\r\n                APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaStaticList;\r\n            }\r\n\r\n            this.selectedMultimediaList = this.multimediaStaticList;\r\n          } else {\r\n            this.multimediaStaticList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          // this.multimediaStaticList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaMoving() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s2Application.applicationForm.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaMovingList = res.responseData.data;\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s2Application.applicationForm.externalStatus ===\r\n                APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaMovingList;\r\n            }\r\n            this.selectedMultimediaList = this.multimediaMovingList;\r\n          } else {\r\n            this.multimediaMovingList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.multimediaMovingList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  setDecisionStatus(i) {\r\n    this.decisionStatus = i;\r\n    // if (e === APPLICATION_STATUS_S2.DISAPPROVED) {\r\n    //   this.incompleteDisapprovedRationale('ad-specialist', 'disapproved', 'S2 APPLICATION DISAPPROVED');\r\n    // }else if(e === APPLICATION_STATUS_S2.INCOMPLETE) {\r\n    //   this.incompleteDisapprovedRationale('ad-specialist', 'incomplete', 'INCOMPLETE');\r\n    // }\r\n\r\n    if (\r\n      (i === APP_DECISION_STATUS.INCOMPLETE ||\r\n        i === APP_DECISION_STATUS.DISAPPROVED) &&\r\n      this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      if (\r\n        this.s2Application.internalStatus ===\r\n          \"RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER\" &&\r\n        this.s2Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n      ) {\r\n        this.s2Application.validityDate = null;\r\n        // this.s2Application.decisionStatus = i;\r\n        this.incompleteDisapprovedRationale();\r\n      }\r\n    }\r\n  }\r\n\r\n  getAffiliationList() {\r\n    this.spinner.show();\r\n    this.apiService.findAll(ENDPOINTS.activeMembersAffiliation).subscribe(\r\n      (res: any) => {\r\n        this.affiliationList = res.responseData.data;\r\n        this.hideSpinner();\r\n      },\r\n      (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCompanyList() {\r\n    this.spinner.show();\r\n    this.apiService.findAll(ENDPOINTS.activeCompanies).subscribe(\r\n      (res: any) => {\r\n        this.companyList = res.responseData.data;\r\n        this.hideSpinner();\r\n      },\r\n      (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    );\r\n  }\r\n\r\n  getCompanyAddress(companyName) {\r\n    this.spinner.show();\r\n    this.showCompanyAddress = true;\r\n    this.isNewCompany = false;\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.company,\r\n        `/custom/search?companyName=` + companyName\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.company = res.responseData.data;\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.hideSpinner();\r\n        }\r\n      );\r\n  }\r\n\r\n  clear(): void {\r\n    this.s2Application = new S2Application();\r\n    this.s1Application = new S1Application();\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.s2ApplicationForm = this.formBuilder.group({\r\n      affiliation: [\"\", Validators.required],\r\n      validityDate: [\"\", Validators.required],\r\n      company: [\"\"],\r\n      decisionStatus: [\"\", Validators.required],\r\n    });\r\n  }\r\n\r\n  resetFormValidator(): void {\r\n    this.s2Application = new S2Application();\r\n    this.s1Application = new S1Application();\r\n    this.s2ApplicationForm.markAsUntouched();\r\n    this.s2ApplicationForm.markAsPristine();\r\n  }\r\n\r\n  showAudioVideo() {\r\n    this.isAudioVideo = !this.isAudioVideo;\r\n    this.audioVideo = this.isAudioVideo ? \"Audio\" : \"Video\";\r\n  }\r\n\r\n  selectFile(event, typeOfDocument) {\r\n    this.attachmentComponent.selectFile(event, typeOfDocument);\r\n  }\r\n\r\n  onAddFile(eventParam) {\r\n    const byteToMegaByte = 1000000; // 1 million byte = 1 mega byte\r\n\r\n    let finalMaterialType = \"\"; // temporary variable; TODO: remove\r\n    finalMaterialType = \"video\";\r\n    const maxFileSize =\r\n      finalMaterialType === \"video\"\r\n        ? 50\r\n        : finalMaterialType === \"audio\"\r\n        ? 20\r\n        : finalMaterialType === \"layout\"\r\n        ? 10\r\n        : 0;\r\n\r\n    if (eventParam.target.files) {\r\n      this.isShowUploadButton = false;\r\n      this.fileSize = eventParam.target.files[0].size;\r\n\r\n      // TODO validation of file size\r\n      if (\r\n        (this.fileSize > 50 * byteToMegaByte &&\r\n          finalMaterialType.toLowerCase() === \"video\") ||\r\n        (this.fileSize > 20 * byteToMegaByte &&\r\n          finalMaterialType.toLowerCase() === \"audio\") ||\r\n        (this.fileSize > 10 * byteToMegaByte &&\r\n          finalMaterialType.toLowerCase() === \"layout\")\r\n      ) {\r\n        this.sweetAlertService.customErrorMessage(\r\n          `Attachments total file size should not exceed ${maxFileSize}MB.`\r\n        );\r\n        eventParam.target.value = \"\";\r\n        return;\r\n      } else {\r\n        this.isShowUploadButton = true;\r\n        const fileURL = URL.createObjectURL(eventParam.target.files[0]);\r\n        this.safeURLFile = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n          fileURL\r\n        );\r\n\r\n        const reader = new FileReader();\r\n        const [file] = eventParam.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {};\r\n\r\n        this.selectedFile = eventParam.target.files[0];\r\n      }\r\n    }\r\n  }\r\n\r\n  uploadAudioOrVideo() {\r\n    Swal.fire({\r\n      text: `Are you sure you want to upload this Final Material?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let params = \"\";\r\n        let appFormRef = \"\";\r\n\r\n        if (this.s2Application.appFormReference) {\r\n          appFormRef = `&appFormReference=${this.s2Application.appFormReference}`;\r\n        }\r\n\r\n        if (\r\n          this.s2Application.internalStatus ===\r\n            APPLICATION_STATUS_FOR_COMPLIANCE.INCOMPLETE ||\r\n          this.s2Application.internalStatus === \"S2_APPLICATION_REJECTED\"\r\n        ) {\r\n          this.s2Application.submissionType = SUBMISSION_TYPE.COMPLIANCE;\r\n        }\r\n\r\n        params =\r\n          \"?&attachmentType=\" +\r\n          ATTACHMENT_TYPE.FINAL_MATERIAL +\r\n          \"&submissionType=\" +\r\n          this.s2Application.submissionType +\r\n          appFormRef;\r\n        this.fileStorageService\r\n          .pushFileToStorage(\r\n            ENDPOINTS.attachmentDocument,\r\n            this.selectedFile,\r\n            params\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(res);\r\n\r\n              if (\r\n                !this.s2Application.appFormReference ||\r\n                this.s2Application.appFormReference === \"\"\r\n              ) {\r\n                this.s2Application.appFormReference =\r\n                  res.responseData.data.appFormReference;\r\n              }\r\n\r\n              if (\r\n                this.s2Application.submissionType === SUBMISSION_TYPE.COMPLIANCE\r\n              ) {\r\n                this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n                this.tempCompliance = res.responseData.data;\r\n                this.s2Application.finalMaterialAttachmentReference = this.tempCompliance?.finalMaterialAttachmentReference;\r\n              } else {\r\n                this.uploadedFinalMaterialFile = res.responseData.data;\r\n                this.addToAttachmentDocuments(this.uploadedFinalMaterialFile);\r\n                this.s2Application.finalMaterialAttachmentReference = this.uploadedFinalMaterialFile?.finalMaterialAttachmentReference;\r\n\r\n                if (this.s2Application.finalMaterialAttachmentReference) {\r\n                  this.getS2AttachmentDocument();\r\n                }\r\n              }\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Attachment successfully uploaded.\"\r\n              );\r\n              this.selectedFile = null;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              // actions after subscription\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      } else {\r\n        this.selectedFile = null;\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUploadedFile2(obj) {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.tempCompliance = null;\r\n        this.isShowUploadButton = false;\r\n        this.safeURLFile = null;\r\n        this.apiService\r\n          .save(ENDPOINTS.attachmentDocument + `/id/${obj.id}`, null)\r\n          .subscribe(\r\n            (res) => {\r\n              this.spinner.hide();\r\n              if (\r\n                obj.submissionType === SUBMISSION_TYPE.COMPLIANCE ||\r\n                obj.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n              ) {\r\n                this.s2ComplianceAttachmentDocuments = this.s2ComplianceAttachmentDocuments.filter(\r\n                  (data) => data?.id !== obj.id\r\n                );\r\n                this.myFinalMaterialFileInputC.nativeElement.value = \"\";\r\n                this.myFinalMaterialFileC.nativeElement.value = \"\";\r\n                this.tempCompliance = null;\r\n              } else {\r\n                this.s2OriginalAttachmentDocuments = this.s2OriginalAttachmentDocuments.filter(\r\n                  (data) => data?.id !== obj.id\r\n                );\r\n                this.myFinalMaterialFileInput.nativeElement.value = \"\";\r\n                this.myFinalMaterialFile.nativeElement.value = \"\";\r\n                console.log(\r\n                  \"s2 orig => \",\r\n                  this.s2ComplianceAttachmentDocuments\r\n                );\r\n              }\r\n              console.log(\"Attachment successfully deleted.\");\r\n\r\n              this.s2Application.finalMaterialAttachmentReference = null;\r\n              this.isShowUploadButton = false;\r\n              this.selectedFile = null;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUploadedFile() {\r\n    if (\r\n      this.s2Application.internalStatus === APPLICATION_STATUS.INCOMPLETE ||\r\n      this.s2Application.internalStatus === \"S2_APPLICATION_REJECTED\"\r\n    ) {\r\n      this.tempCompliance = null;\r\n      this.myFinalMaterialFileInputC.nativeElement.value = \"\";\r\n      this.myFinalMaterialFileC.nativeElement.value = \"\";\r\n    } else {\r\n      this.s2OriginalAttachmentDocuments[0] = null;\r\n      this.myFinalMaterialFileInput.nativeElement.value = \"\";\r\n      this.myFinalMaterialFile.nativeElement.value = \"\";\r\n    }\r\n    this.s2Application.finalMaterialAttachmentReference = null;\r\n    this.isShowUploadButton = false;\r\n    this.selectedFile = null;\r\n  }\r\n\r\n  addToAttachmentDocuments(obj: any) {\r\n    if (obj) {\r\n      this.attachmentDocument.finalMaterialAttachmentReference =\r\n        obj.finalMaterialAttachmentReference;\r\n      this.attachmentDocument.id = obj.id;\r\n      this.attachmentDocument.originalFilename = obj.originalFilename;\r\n      this.attachmentDocument.filename = obj.filename;\r\n      this.attachmentDocument.fileExtension = obj.fileExtension;\r\n      this.attachmentDocument.fileURL = obj.fileURL;\r\n      this.attachmentDocument.attachmentType = obj.attachmentType;\r\n      this.attachmentDocument.documentFormat = obj.documentFormat;\r\n      this.attachmentDocument.createdBy = this.currentUser.username;\r\n      this.attachmentDocument.createdDate = this.todayDate;\r\n\r\n      // if (this.s2Application.submissionType === SUBMISSION_TYPE.COMPLIANCE) {\r\n      //   this.tempCompliance = res.responseData.data;\r\n      //   this.addToAttachmentDocuments(this.tempCompliance);\r\n      // } else {\r\n      // }\r\n    } else {\r\n      this.spinner.hide();\r\n      console.log(\"Null attachment.\");\r\n      this.myFinalMaterialFile.nativeElement.value = \"\";\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment cannot be uploaded.\"\r\n      );\r\n    }\r\n  }\r\n\r\n  getS2AttachmentDocument() {\r\n    this.spinner.show();\r\n    // TODO: Fetch list of existing compliance attachments\r\n    console.log(\r\n      ENDPOINTS.attachmentDocumentByS2AppFormReference +\r\n        this.s2Application.appFormReference\r\n    );\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.attachmentDocumentByS2AppFormReference +\r\n          this.s2Application.appFormReference\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data) {\r\n            console.log(\r\n              \"S2 attachments: \",\r\n              res.responseData.data.originalAttachmentDocuments\r\n            );\r\n\r\n            this.attachmentDocuments = res.responseData.data;\r\n            this.s2OriginalAttachmentDocuments =\r\n              res.responseData.data.originalAttachmentDocuments;\r\n            // this.s2OriginalAttachmentObservable.next(this.s2OriginalAttachmentDocuments);\r\n            this.s2ComplianceAttachmentDocuments =\r\n              res.responseData.data.complianceAttachmentDocuments;\r\n            this.s2ComplianceAttachmentDocuments = this.s2ComplianceAttachmentDocuments?.filter(\r\n              (data) => data?.status !== \"UNPROCESSED\"\r\n            );\r\n            console.log(\"s2 Original => \", this.attachmentDocuments);\r\n            if (this.attachmentDocument.filename) {\r\n              this.isAudioVideo = this.attachmentDocument.documentFormat.includes(\r\n                \"audio\"\r\n              )\r\n                ? false\r\n                : true;\r\n            }\r\n          }\r\n          this.hideSpinner();\r\n        },\r\n        (err: any) => {\r\n          this.hideSpinner();\r\n          console.error(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  viewFinalMedia(obj) {\r\n    window.open(obj.fileURL);\r\n  }\r\n\r\n  hideSpinner() {\r\n    setTimeout(() => {\r\n      this.spinner.hide();\r\n    }, 1);\r\n  }\r\n\r\n  navigateToS2List() {\r\n    setTimeout(() => {\r\n      this.router.navigateByUrl(\"asc/page/application/s2/lists\");\r\n    }, 2000);\r\n  }\r\n\r\n  getRationaleList(): void {\r\n    // Rationale Object\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationRationaleS2,\r\n        `application-form-id/${this.s2Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleOthersList = res.responseData.data;\r\n        this.rationaleOthersList = this.rationaleOthersList.filter(\r\n          (data) => data.others !== \"\"\r\n        );\r\n        console.log(\"RATIONALE LIST\", this.rationaleOthersList);\r\n      });\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.rationaleListS2,\r\n        `application-s2/${this.s2Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleLists = res;\r\n        console.log(\"APPLICATION RATIONALE\", this.rationaleLists);\r\n      });\r\n  }\r\n\r\n  viewReport(id, filename) {\r\n    this.report.filename = filename;\r\n    this.report.format = \"pdf\";\r\n    (this.report.module = \"Form\"),\r\n      (this.report.params = { applicationFormS2Id: id });\r\n    console.log(this.report);\r\n    this.spinner.show();\r\n    this.apiService\r\n      .printReport(ENDPOINTS.generateReports, this.report)\r\n      .subscribe(\r\n        (data: any) => {\r\n          const newBlob = new Blob([data], { type: \"application/pdf\" });\r\n          const downloadURL = URL.createObjectURL(newBlob);\r\n          this.spinner.hide();\r\n          window.open(downloadURL);\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n  }\r\n\r\n  submitAppeal() {\r\n    let endpoint;\r\n    if (this.isAdmin) {\r\n      endpoint = ENDPOINTS.admin + `/s2/verify/appeal`;\r\n    } else if (this.isAdSpecialist) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdSpe + `verify/appeal`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    this.apiService.save(endpoint, this.s2Application).subscribe(\r\n      (res: any) => {\r\n        this.spinner.hide();\r\n        this.sweetAlertService.success(res);\r\n        console.log(\"submitAppeal : \", res.responseData.data);\r\n        this.navigateToS2List();\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  sendDecisionOrStampMaterialManual(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to send this application form?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.s2ManualRelease + `/${this.s2Application.id}`,\r\n            this.s2Application\r\n          )\r\n          .subscribe((res: any) => {\r\n            this.sweetAlertService.customSuccessMessage(res.message);\r\n          });\r\n      }\r\n    });\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <!-- <div class=\"spinner\">\r\n      <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"large\" color=\"#fff\" type=\"line-spin-fade\" [fullScreen]=\"false\">\r\n        <p> {{spinnerMessage}} </p>\r\n      </ngx-spinner>\r\n    </div> -->\r\n    <!-- <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <mat-icon>list_alt</mat-icon> S2 APPLICATION\r\n        </mat-label>\r\n      </div>\r\n    </div> -->\r\n    <table>\r\n      <tr>\r\n        <td class=\"details-title\">Reference Code:</td>\r\n        <td class=\"details\">\r\n          <span>{{\r\n            s2Application?.externalStatus == \"S2_APPLICATION_REJECTED\"\r\n              ? s2Application?.referenceCodeRejected\r\n              : (s2Application?.applicationForm?.referenceCode | uppercase)\r\n          }}</span>\r\n        </td>\r\n        <td>\r\n          <div class=\"action-buttons\">\r\n            <button mat-button class=\"button-red\" (click)=\"accordion.openAll()\">\r\n              <mat-icon>open_in_full</mat-icon>\r\n            </button>\r\n            &nbsp;\r\n            <button\r\n              mat-button\r\n              class=\"button-red\"\r\n              (click)=\"accordion.closeAll()\"\r\n            >\r\n              <mat-icon>close_fullscreen</mat-icon>\r\n            </button>\r\n          </div>\r\n          <button\r\n            class=\"button-right button-red\"\r\n            mat-raised-button\r\n            [routerLink]=\"['/asc/page/application/s2/lists']\"\r\n          >\r\n            <mat-icon>list</mat-icon> VIEW APPLICATIONS\r\n          </button>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td class=\"details-title\">Status:</td>\r\n        <td class=\"details\">\r\n          <span>{{\r\n            s2Application?.externalStatus?.replaceAll(\"_\", \" \") | uppercase\r\n          }}</span>\r\n        </td>\r\n        <!-- <td class=\"action-buttons\" *ngIf=\"s2Application?.internalStatus=='APPROVED' || s2Application?.internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || s2Application?.internalStatus=='FOR_CLEARANCE_S2_APPLICATION' ||\r\n        s2Application?.internalStatus=='FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER'\"><span\r\n            class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">domain_verification</i> APPLICATION FOR TOA/CLEARANCE</span></td> -->\r\n        <td\r\n          class=\"action-buttons\"\r\n          *ngIf=\"\r\n            s2Application?.amount &&\r\n            s2Application?.submissionType === 'ORIGINAL'\r\n          \"\r\n        >\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">paid</i>\r\n            {{ s2Application?.paymentStatus?.replaceAll(\"_\", \" \") }} : \r\n            {{ s2Application?.amount }}\r\n          </span>\r\n        </td>\r\n        <td class=\"action-buttons\" *ngIf=\"s2Application?.specialClearing\">\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">domain_verification</i> SPECIAL\r\n            CLEARING</span\r\n          >\r\n        </td>\r\n        <td class=\"action-buttons\" *ngIf=\"s2Application?.hasToa\">\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">domain_verification</i> Apply for\r\n            TOA</span\r\n          >\r\n        </td>\r\n        <td\r\n          class=\"action-buttons\"\r\n          *ngIf=\"s2Application?.decisionStatus === 'APPROVED'\"\r\n        >\r\n          <span class=\"badge bg-warning text-dark\">\r\n            <i class=\"material-icons\">check</i> Valid Until:\r\n            {{ s2Application?.validityDate | date: \"MM/dd/yyyy\" }}</span\r\n          >\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <hr />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (isAdmin || isSuperAdmin || isAdSpecialist) &&\r\n            s2Application?.internalStatus === 'APPROVED'\r\n          \"\r\n          (click)=\"viewReport(s2Application.id, 'S2_Clearance')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> CLEARANCE\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (isAdmin || isSuperAdmin || isAdSpecialist) &&\r\n            s2Application?.internalStatus ===\r\n              'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER'\r\n          \"\r\n          (click)=\"viewReport(s2Application.id, 'S2_Clearance')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> PENDING FORM\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_ADMIN') &&\r\n            (s2Application?.releaseStatus === 'FOR_RELEASE' ||\r\n              s2Application?.releaseStatus === 'RELEASED')\r\n          \"\r\n          (click)=\"sendDecisionOrStampMaterialManual()\"\r\n        >\r\n          <i class=\"material-icons color__white\">send</i> SEND CLEARANCE OR TOA\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <form>\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel>\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Client Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Affiliation and Company details\r\n              <mat-icon>perm_contact_calendar</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-client-information [s2Application]=\"s2Application\">\r\n          </app-client-information>\r\n        </mat-expansion-panel>\r\n\r\n        <mat-expansion-panel>\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Material Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Ads Details\r\n              <mat-icon>ads_click</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n          <app-material-information\r\n            [s1Application]=\"s1Application\"\r\n            [s2Application]=\"s2Application\"\r\n            [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n            [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n            [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"\r\n            [selectedMultimediaList]=\"selectedMultimediaList\"\r\n            [applicationSingleMedia]=\"applicationSingleMedia\"\r\n          >\r\n          </app-material-information>\r\n        </mat-expansion-panel>\r\n\r\n        <!-- PREVIEW -->\r\n        <mat-expansion-panel [expanded]=\"true\">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Final Material\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Audio, Video, or Layout\r\n              <mat-icon>upload</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <div class=\"row\">\r\n            <div class=\"col-md-12\" appearance=\"outline\">\r\n              <div class=\"row fields\">\r\n                <h4>\r\n                  <i class=\"material-icons\">upload</i> &nbsp;Final Material\r\n                </h4>\r\n                <br />\r\n\r\n                <!-- FOR COMPLIANCE -->\r\n                <div\r\n                  *ngIf=\"\r\n                    s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                    s2Application?.internalStatus === 'S2_APPLICATION_REJECTED'\r\n                  \"\r\n                >\r\n                  <div class=\"col-md-12\" appearance=\"outline\">\r\n                    <b>FOR COMPLIANCE</b><br />\r\n                    <mat-label *ngIf=\"tempCompliance?.originalFilename\"\r\n                      >Filename:\r\n                    </mat-label>\r\n\r\n                    <input\r\n                      #finalMaterialFileInputC\r\n                      matInput\r\n                      [value]=\"tempCompliance?.originalFilename\"\r\n                      *ngIf=\"tempCompliance?.originalFilename\"\r\n                      disabled\r\n                    />\r\n\r\n                    <input\r\n                      #finalMaterialFileC\r\n                      class=\"file-upload\"\r\n                      *ngIf=\"\r\n                        isApplicant &&\r\n                        (s2Application?.decisionStatus === 'INCOMPLETE' ||\r\n                          s2Application?.internalStatus ===\r\n                            'S2_APPLICATION_REJECTED')\r\n                      \"\r\n                      type=\"file\"\r\n                      accept=\"video/mp4, audio/mp3, image/jpg, image/jpeg, application/pdf, image/gif\"\r\n                      (change)=\"onAddFile($event)\"\r\n                      [hidden]=\"\r\n                        tempCompliance?.finalMaterialAttachmentReference\r\n                      \"\r\n                    />\r\n                  </div>\r\n                  <div class=\"col-md-12\"><br /></div>\r\n                  <div class=\"col-md-12\" appearance=\"outline\">\r\n                    <button\r\n                      mat-raised-button\r\n                      *ngIf=\"tempCompliance?.finalMaterialAttachmentReference\"\r\n                      class=\"button-red button-right\"\r\n                      (click)=\"viewFinalMedia(tempCompliance)\"\r\n                    >\r\n                      <i class=\"material-icons color__white\">open_in_new</i>\r\n                      VIEW MATERIAL\r\n                    </button>\r\n                    &nbsp; &nbsp;\r\n                    <button\r\n                      mat-raised-button\r\n                      class=\"button-red button-right\"\r\n                      (click)=\"deleteUploadedFile2(tempCompliance)\"\r\n                      *ngIf=\"\r\n                        isApplicant &&\r\n                        (s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                          s2Application?.internalStatus ===\r\n                            'S2_APPLICATION_REJECTED') &&\r\n                        tempCompliance?.finalMaterialAttachmentReference\r\n                      \"\r\n                    >\r\n                      <i class=\"material-icons color__white\">delete</i> DELETE\r\n                      ATTACHMENT\r\n                    </button>\r\n                    &nbsp; &nbsp;\r\n                    <button\r\n                      mat-raised-button\r\n                      class=\"button-red button-right\"\r\n                      (click)=\"uploadAudioOrVideo()\"\r\n                      *ngIf=\"isApplicant && safeURLFile\"\r\n                      [hidden]=\"\r\n                        tempCompliance?.finalMaterialAttachmentReference\r\n                      \"\r\n                    >\r\n                      <i class=\"material-icons color__white\">upload</i> UPLOAD\r\n                    </button>\r\n                  </div>\r\n                  <div class=\"row\"><br /><br /></div>\r\n                  <div class=\"row\"><hr /></div>\r\n                </div>\r\n                <!-- END OF FOR COMPLIANCE -->\r\n\r\n                <!-- FOR ORIGINAL ONLY -->\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <!-- <b>{{s2OriginalAttachmentDocuments[0]?.submissionType | uppercase}}</b><br> -->\r\n                  <mat-label\r\n                    *ngIf=\"s2OriginalAttachmentDocuments[0]?.originalFilename\"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #finalMaterialFileInput\r\n                    matInput\r\n                    [value]=\"s2OriginalAttachmentDocuments[0]?.originalFilename\"\r\n                    *ngIf=\"s2OriginalAttachmentDocuments[0]?.originalFilename\"\r\n                    disabled\r\n                  />\r\n\r\n                  <input\r\n                    #finalMaterialFile\r\n                    class=\"file-upload\"\r\n                    *ngIf=\"\r\n                      isApplicant &&\r\n                      (s2Application?.internalStatus === 'SAVED' ||\r\n                        s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                        s2Application?.internalStatus ===\r\n                          'S2_APPLICATION_REJECTED')\r\n                    \"\r\n                    type=\"file\"\r\n                    accept=\"video/mp4, audio/mp3, image/jpg, image/jpeg, application/pdf, image/gif\"\r\n                    (change)=\"onAddFile($event)\"\r\n                    [hidden]=\"\r\n                      s2Application?.decisionStatus === 'INCOMPLETE' ||\r\n                      s2Application?.finalMaterialAttachmentReference\r\n                    \"\r\n                  />\r\n                </div>\r\n                <div class=\"col-md-12\"><br /></div>\r\n                <div\r\n                  class=\"col-md-12\"\r\n                  appearance=\"outline\"\r\n                  *ngIf=\"\r\n                    isShowUploadButton ||\r\n                    s2Application?.decisionStatus === 'INCOMPLETE'\r\n                  \"\r\n                >\r\n                  <button\r\n                    mat-raised-button\r\n                    *ngIf=\"\r\n                      s2Application?.finalMaterialAttachmentReference ||\r\n                      s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                      s2Application?.internalStatus ===\r\n                        'S2_APPLICATION_REJECTED'\r\n                    \"\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewFinalMedia(s2OriginalAttachmentDocuments[0])\"\r\n                  >\r\n                    <i class=\"material-icons color__white\">open_in_new</i> VIEW\r\n                    MATERIAL\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"\r\n                      deleteUploadedFile2(s2OriginalAttachmentDocuments[0])\r\n                    \"\r\n                    *ngIf=\"\r\n                      isApplicant &&\r\n                      (s2Application?.internalStatus === 'SAVED' ||\r\n                        s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                        s2Application?.internalStatus ===\r\n                          'S2_APPLICATION_REJECTED') &&\r\n                      s2Application?.finalMaterialAttachmentReference\r\n                    \"\r\n                    [hidden]=\"s2Application?.decisionStatus === 'INCOMPLETE'\"\r\n                  >\r\n                    <i class=\"material-icons color__white\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadAudioOrVideo()\"\r\n                    *ngIf=\"\r\n                      isApplicant &&\r\n                      (s2Application?.internalStatus === 'SAVED' ||\r\n                        s2Application?.internalStatus === 'INCOMPLETE' ||\r\n                        s2Application?.internalStatus ===\r\n                          'S2_APPLICATION_REJECTED') &&\r\n                      !s2Application?.finalMaterialAttachmentReference\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons color__white\">upload</i> UPLOAD\r\n                  </button>\r\n                </div>\r\n                <!-- END OF ORIGINAL ONLY -->\r\n\r\n                <div class=\"col-md-12\"><br /></div>\r\n\r\n                <!---------- EXISTING COMPLIANCE ---------->\r\n                <div *ngIf=\"s2Application?.decisionStatus === 'INCOMPLETE'\">\r\n                  <div class=\"row\"><hr /></div>\r\n                  <h4>\r\n                    <i class=\"material-icons\">bookmark</i> &nbsp;ATTACHMENTS FOR\r\n                    COMPLIANCE\r\n                  </h4>\r\n                  <br />\r\n                  <div\r\n                    class=\"row\"\r\n                    *ngFor=\"\r\n                      let i of s2ComplianceAttachmentDocuments;\r\n                      let index = index\r\n                    \"\r\n                  >\r\n                    <div *ngIf=\"i !== null\">\r\n                      <div class=\"col-md-12\" appearance=\"outline\">\r\n                        <mat-label *ngIf=\"i?.originalFilename\"\r\n                          >Filename:\r\n                        </mat-label>\r\n                        <input\r\n                          #mainInput\r\n                          matInput\r\n                          [value]=\"i?.originalFilename\"\r\n                          disabled\r\n                          *ngIf=\"i?.originalFilename\"\r\n                        /><br />\r\n                      </div>\r\n\r\n                      <div class=\"row\"><br /></div>\r\n                      <div class=\"col-md-12\" appearance=\"outline\">\r\n                        <button\r\n                          mat-raised-button\r\n                          class=\"button-red button-right\"\r\n                          (click)=\"viewFinalMedia(i)\"\r\n                        >\r\n                          <i class=\"material-icons add-document\">open_in_new</i>\r\n                          VIEW DOCUMENT\r\n                        </button>\r\n                        &nbsp; &nbsp;\r\n                        <button\r\n                          mat-raised-button\r\n                          class=\"button-red button-right\"\r\n                          (click)=\"deleteUploadedFile2(i)\"\r\n                          *ngIf=\"i?.status === 'UNPROCESSED'\"\r\n                        >\r\n                          <i class=\"material-icons add-document\">delete</i>\r\n                          DELETE ATTACHMENT\r\n                        </button>\r\n                        &nbsp; &nbsp;\r\n                      </div>\r\n                      <div class=\"col-md-12\"><br /></div>\r\n                      <div class=\"col-md-12\">\r\n                        <hr />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div\r\n                    class=\"no-record\"\r\n                    *ngIf=\"\r\n                      (s2ComplianceAttachmentDocuments?.length === 0 &&\r\n                        s2ComplianceAttachmentDocuments[0]?.originalFilename ===\r\n                          undefined) ||\r\n                      s2ComplianceAttachmentDocuments?.length === null\r\n                    \"\r\n                  >\r\n                    No existing attachments for compliance.\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <!-- /////////////////////////////// -->\r\n\r\n              <!-- FOR AD SPE - S2 APP -->\r\n              <!-- <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Valid Until</mat-label>\r\n                <input type=\"tel\" matInput placeholder=\"Search\">\r\n                <mat-icon matSuffix>calendar_today</mat-icon>\r\n              </mat-form-field> -->\r\n            </div>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <!--\r\n\r\n          SUPPORT DOCUMENT\r\n          -->\r\n        <mat-expansion-panel [expanded]=\"true\">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <mat-icon>label_important</mat-icon> &nbsp;Support Document\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              PDF\r\n              <mat-icon>upload</mat-icon>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n          <app-attachment-document\r\n            [s1Application]=\"s1Application\"\r\n            [labelMainDocument]=\"'Support Document'\"\r\n            [isAscUser]=\"isAscUser\"\r\n            [s2Appplication]=\"s2Application\"\r\n            [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"\r\n            [s2SupportAttchmentDocuments]=\"s2OriginalAttachmentDocuments\"\r\n            [s2DocObservable]=\"s2OriginalAttachmentObservable\"\r\n            [applicationStage]=\"applicationStage\"\r\n            [S2SupportDoc]=\"true\"\r\n          ></app-attachment-document>\r\n\r\n          <!-- \r\n    \r\n                        START UPLOAD SUPPORTING\r\n    \r\n    \r\n                       -->\r\n        </mat-expansion-panel>\r\n        <!-- END SUPPORT -->\r\n\r\n        <app-comment\r\n          *ngIf=\"!isApplicant\"\r\n          [commentS2Application]=\"s2Application\"\r\n        >\r\n        </app-comment>\r\n      </mat-accordion>\r\n\r\n      <!-- ATTACHMENTS FOR STAMPED MATERIAL AND DECISION FORM -->\r\n      <div\r\n        *ngIf=\"\r\n          (isAdmin || isSuperAdmin || isApplicant || isAdSpecialist) &&\r\n          previewAttachmentsList.length\r\n        \"\r\n      >\r\n        <br />\r\n        <div class=\"row fields\">\r\n          <h4>\r\n            <i class=\"material-icons\">label_important</i> &nbsp;Clearance and\r\n            TOA\r\n          </h4>\r\n          <br />\r\n          <app-preview-attachments\r\n            [previewAttachmentsList]=\"previewAttachmentsList\"\r\n            [displayedColumns]=\"previewAttachmentsDisplayedColumns\"\r\n            [dataSource]=\"previewAttachmentsListDataSource\"\r\n          ></app-preview-attachments>\r\n          <div class=\"row\"><br /></div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n\r\n    <hr />\r\n\r\n    <!-- For adSpe only -->\r\n    <div\r\n      class=\"row\"\r\n      [hidden]=\"\r\n        s2Application?.internalStatus ===\r\n          'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n        s2Application?.internalStatus === 'S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n      \"\r\n      [formGroup]=\"s2ApplicationForm\"\r\n    >\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"\r\n          isAdSpecialist || (isAdSpecialist && s2Application?.hasOngoingAppeal)\r\n        \"\r\n      >\r\n        <mat-label>Decision:</mat-label>\r\n        <mat-select\r\n          (selectionChange)=\"setDecisionStatus($event.value)\"\r\n          name=\"decisionStatus\"\r\n          formControlName=\"decisionStatus\"\r\n        >\r\n          <mat-option value=\"APPROVED\">APPROVED</mat-option>\r\n          <mat-option\r\n            *ngIf=\"\r\n              s2Application?.internalStatus !=\r\n              'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER'\r\n            \"\r\n            value=\"INCOMPLETE\"\r\n            >INCOMPLETE</mat-option\r\n          >\r\n          <mat-option value=\"DISAPPROVED\">DISAPPROVED</mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          s2Application?.internalStatus !=\r\n            'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER' &&\r\n          decisionStatus === 'APPROVED'\r\n        \"\r\n      >\r\n        <mat-label>Choose validity date</mat-label>\r\n        <input\r\n          matInput\r\n          placeholder=\"Date\"\r\n          [matDatepicker]=\"validityDate\"\r\n          readonly\r\n          [min]=\"todayDate\"\r\n          [(ngModel)]=\"s2Application.validityDate\"\r\n          name=\"expiresOn\"\r\n          formControlName=\"validityDate\"\r\n          [readonly]=\"true\"\r\n        />\r\n        <mat-datepicker-toggle matSuffix [for]=\"validityDate\">\r\n          <mat-datepicker color=\"warn\" #validityDate></mat-datepicker>\r\n        </mat-datepicker-toggle>\r\n      </mat-form-field>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"rationaleLists?.length > 0 || rationaleOthersList?.length > 0\"\r\n        [hidden]=\"\r\n          rationaleLists?.length === 0 && rationaleOthersList.length === 0\r\n        \"\r\n      >\r\n        <div class=\"col-md-6 rationale\">\r\n          <label>RATIONALE</label>\r\n          <div class=\"rationale-list\" *ngIf=\"rationaleLists.length > 0\">\r\n            <label>Rationale List:</label>\r\n            <div *ngFor=\"let i of rationaleLists\">\r\n              <p>\r\n                <span class=\"material-icons\">help</span>\r\n                {{ i?.typeOfRationale?.rationale }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            class=\"rational-other-comment\"\r\n            *ngIf=\"rationaleOthersList?.length > 0\"\r\n          >\r\n            <label>Other comments:</label>\r\n            <div *ngFor=\"let i of rationaleOthersList\">\r\n              <p><span class=\"material-icons\">help</span> {{ i?.others }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <br />\r\n    <div class=\"row\">\r\n      <b\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          s2Application?.decisionStatus === 'APPROVED' &&\r\n          s2Application?.validityDate === null\r\n        \"\r\n        ><b class=\"material-icons\">error_outline</b> Note: To submit approve\r\n        application, please add validity date.</b\r\n      ><br />\r\n    </div>\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <!-- ORIGINAL -->\r\n        <button\r\n          *ngIf=\"\r\n            s2Application?.decisionStatus !== 'INCOMPLETE' &&\r\n            s2Application?.internalStatus !== 'S2_APPLICATION_REJECTED'\r\n          \"\r\n          mat-raised-button\r\n          class=\"button-red\"\r\n          (click)=\"saveStatus()\"\r\n          [hidden]=\"\r\n            s2Application?.internalStatus ===\r\n              'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s2Application?.internalStatus ===\r\n              'S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s2Application?.internalStatus === 'APPROVED' ||\r\n            s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION' ||\r\n            s2Application?.internalStatus ==\r\n              'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s2Application?.internalStatus ==\r\n              'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s2Application?.hasOngoingAppeal\r\n          \"\r\n          [disabled]=\"\r\n            s2Application?.finalMaterialAttachmentReference === null ||\r\n            (isAdSpecialist &&\r\n              s2Application?.decisionStatus === 'APPROVED' &&\r\n              s2Application?.validityDate === null)\r\n          \"\r\n        >\r\n          <div *ngIf=\"isApplicant && s2Application?.internalStatus === 'SAVED'\">\r\n            <i class=\"material-icons\">verified</i> SUBMIT\r\n          </div>\r\n          <div *ngIf=\"isEvaluator\">\r\n            <i class=\"material-icons\">verified</i> FORWARD TO AD SPECIALIST\r\n          </div>\r\n          <div *ngIf=\"isAdSpecialist\">\r\n            <i class=\"material-icons\">check</i> SUBMIT\r\n          </div>\r\n        </button>\r\n\r\n        <!-- INCOMPLETE -->\r\n        <button\r\n          mat-raised-button\r\n          *ngIf=\"\r\n            s2Application?.decisionStatus === 'INCOMPLETE' ||\r\n            s2Application?.decisionStatus === 'S2_APPLICATION_REJECTED'\r\n          \"\r\n          class=\"button-red\"\r\n          (click)=\"saveStatusForCompliance()\"\r\n          [disabled]=\"\r\n            !s2Application?.decisionStatus ||\r\n            (isAdSpecialist && decisionStatus === '') ||\r\n            (isAdSpecialist &&\r\n              decisionStatus === 'APPROVED' &&\r\n              s2Application?.validityDate === null) ||\r\n            (isAdSpecialist &&\r\n              (decisionStatus === 'INCOMPLETE' ||\r\n                decisionStatus === 'DISAPPROVED') &&\r\n              rationaleLists.length === 0 &&\r\n              rationaleOthersList.length === 0)\r\n          \"\r\n        >\r\n          <div\r\n            *ngIf=\"isApplicant\"\r\n            [hidden]=\"\r\n              s2Application?.decisionStatus !== 'INCOMPLETE' ||\r\n              s2Application?.internalStatus === 'RE_SUBMITTED_S2_APPLICATION' ||\r\n              s2Application?.internalStatus ===\r\n                'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_ENCODER'\r\n            \"\r\n          >\r\n            <i class=\"material-icons\">fact_check</i> SUBMIT FOR COMPLIANCE\r\n          </div>\r\n          <div *ngIf=\"isEvaluator\">\r\n            <i class=\"material-icons\">fact_check</i> FORWARD TO AD SPECIALIST\r\n            FOR COMPLIANCE\r\n          </div>\r\n          <div *ngIf=\"isAdSpecialist\">\r\n            <i class=\"material-icons\">fact_check</i> SUBMIT COMPLIANCE\r\n          </div>\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          *ngIf=\"\r\n            isEvaluator &&\r\n            s2Application?.internalStatus != 'FOR_CLEARANCE_S2_APPLICATION'\r\n          \"\r\n          class=\"button-red\"\r\n          (click)=\"\r\n            rejectDisapprovedModal(\r\n              'encoder',\r\n              'reject',\r\n              'S2 APPLICATION REJECTED'\r\n            )\r\n          \"\r\n        >\r\n          <i class=\"material-icons color__white\">cancel</i> REJECT\r\n        </button>\r\n\r\n        <!-- ADMIN / SUPERADMIN - RELEASED -->\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-red\"\r\n          (click)=\"submitAppeal()\"\r\n          *ngIf=\"\r\n            (isAdmin || isSuperAdmin) &&\r\n            s2Application?.externalStatus === 'APPROVED' &&\r\n            s1Application?.releaseStatus === 'RELEASED' &&\r\n            !s1Application?.hasOngoingCompliance &&\r\n            !s1Application?.hasOngoingAppeal\r\n          \"\r\n        >\r\n          <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n          &nbsp;RETURN TO ADSPE FOR APPEAL\r\n        </button>\r\n\r\n        <!-- APPEAL - ADSPE -->\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-red\"\r\n          (click)=\"submitAppeal()\"\r\n          *ngIf=\"isAdSpecialist && s2Application?.hasOngoingAppeal\"\r\n        >\r\n          <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n          &nbsp;VERIFY APPEAL\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"row\">\r\n      <div class=\"col\">\r\n        <button mat-raised-button *ngIf=\"s2Application?.internalStatus == 'APPROVED' ||\r\n         s2Application?.internalStatus == 'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n         s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION' ||\r\n         s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION_VERIFIED_BY_ENCODER' \" class=\"button-red\"\r\n          (click)=\"saveStatusForClearance()\" [hidden]=\"\">\r\n          <div *ngIf=\"isApplicant\"><i class=\"material-icons\">fact_check</i> SUBMIT\r\n            APPLICATION FOR CLEARANCE</div>\r\n          <div *ngIf=\"isEvaluator\"><i class=\"material-icons\">fact_check</i> FORWARD\r\n            TO AD SPECIALIST FOR CLEARANCE</div>\r\n          <div *ngIf=\"isAdSpecialist\"><i class=\"material-icons\">fact_check</i>\r\n            SUBMIT CLEARANCE</div>\r\n        </button>\r\n        <button mat-raised-button\r\n          *ngIf=\"isEvaluator && s2Application?.internalStatus == 'FOR_CLEARANCE_S2_APPLICATION'\"\r\n          class=\"button-red\" (click)=\"rejectApplication()\">\r\n          <i class=\"material-icons color__white\">cancel</i> REJECT\r\n        </button>\r\n      </div>\r\n    </div> -->\r\n\r\n    <!-- <div class=\"row\">\r\n      <div class=\"col\">\r\n        <button mat-raised-button\r\n          *ngIf=\"isApplicant && s2Application?.internalStatus == 'APPROVED' || s2Application?.internalStatus == 'RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE'\"\r\n          [hidden]=\"isAdSpecialist\" class=\"button-red\"\r\n          (click)=\"applyApplicationForClearance()\">\r\n          <i class=\"material-icons color__white\">fact_check</i> APPLY FOR TOA\r\n        </button>\r\n      </div>\r\n    </div> -->\r\n  </div>\r\n</form>\r\n","import { Observable, Subject } from \"rxjs\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  Inject,\r\n  Input,\r\n  OnInit,\r\n  ViewChild,\r\n  OnChanges,\r\n  SimpleChanges,\r\n} from \"@angular/core\";\r\nimport { FormBuilder, FormGroup, Validators } from \"@angular/forms\";\r\nimport {\r\n  ATTACHMENT_TYPE,\r\n  APP_DECISION_STATUS,\r\n  SUBMISSION_TYPE,\r\n  APPLICATION_STATUS,\r\n  APPLICATION_STATUS_REVISION,\r\n  APPLICATION_STATUS_FOR_COMPLIANCE,\r\n} from \"@shared\";\r\nimport {\r\n  AttachmentDocument,\r\n  S1Application,\r\n  S2Application,\r\n  UserAccount,\r\n} from \"@models\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport { ENDPOINTS } from \"@shared\";\r\nimport Swal from \"sweetalert2\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n} from \"@angular/material/dialog\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { FileStorageService } from \"app/core/services/file.storage.service\";\r\n\r\n@Component({\r\n  selector: \"app-attachment-document\",\r\n  templateUrl: \"./attachment-document.component.html\",\r\n  styleUrls: [\"./attachment-document.component.scss\"],\r\n})\r\nexport class AttachmentDocumentComponent implements OnInit, OnChanges {\r\n  attachmentDocuments = [];\r\n  @Input() originalAttachmentDocuments = [];\r\n  @Input() revisionAttachmentDocuments = [];\r\n  @Input() complianceAttachmentDocuments = [];\r\n  @Input() s2SupportAttchmentDocuments = [];\r\n  @Input() s2DocObservable: Subject<any> = new Subject();\r\n  s2SupportDocument: any = {};\r\n  @Input() S2SupportDoc: Boolean = false;\r\n\r\n  tempRevisionAttachmentDocuments = [];\r\n  tempComplianceAttachmentDocuments = [];\r\n\r\n  @Input() s2Appplication = new S2Application();\r\n  @Input() s1Application = new S1Application();\r\n  @Input() labelMainDocument = \"\";\r\n  @Input() isAscUser = false;\r\n  @Input() isDisableFieldOnUpdate = false;\r\n  @Input() applicationStage = \"\";\r\n\r\n  showMainDocumentUploadButton = false;\r\n  showMainDocumentUploadButtonR = false;\r\n  showMainDocumentUploadButtonC = false;\r\n\r\n  showMainDocumentViewButton = false;\r\n  showMainDocumentViewButtonR = false;\r\n  showMainDocumentViewButtonC = false;\r\n\r\n  safeURLMainDoc: any;\r\n  safeURLMainDocR: any;\r\n  safeURLMainDocC: any;\r\n\r\n  uploadedFileMain: any;\r\n  @ViewChild(\"mainFile\")\r\n  myMainFile: ElementRef;\r\n  @ViewChild(\"mainInput\")\r\n  myMainInput: ElementRef;\r\n\r\n  showSupportDocumentFrame = false;\r\n  showSupportDocumentFrameR = false;\r\n  showSupportDocumentFrameC = false;\r\n\r\n  showSupportiveDocumentUploadButton = false;\r\n  showSupportiveDocumentUploadButtonR = false;\r\n  showSupportiveDocumentUploadButtonC = false;\r\n\r\n  showSupportiveDocumentViewButton = false;\r\n  showSupportiveDocumentViewButtonR = false;\r\n  showSupportiveDocumentViewButtonC = false;\r\n\r\n  safeURLSupportDoc: any;\r\n  safeURLSupportDocR: any;\r\n  safeURLSupportDocC: any;\r\n\r\n  uploadedFileSupportive: any;\r\n  @ViewChild(\"supportiveFile\")\r\n  mySupportiveFile: ElementRef;\r\n  @ViewChild(\"supportiveInput\")\r\n  mySupportiveInput: ElementRef;\r\n\r\n  revisionLetterAttachment: any;\r\n  showRevisionLetterViewButton = false;\r\n  showRevisionLetterUploadButton = false;\r\n  safeURLRevisionLetter: any;\r\n  uploadedFileRevision: any;\r\n\r\n  @ViewChild(\"revisionLetterFile\")\r\n  myRevisionLetterFile: ElementRef;\r\n  @ViewChild(\"revisionLetterInput\")\r\n  myRevisionLetterInput: ElementRef;\r\n\r\n  todayDate: Date = new Date();\r\n  attachmentType = ATTACHMENT_TYPE.MAIN;\r\n  submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n  mainDocAttachmentSize = 0;\r\n  supportDocAttachmentSize = 0;\r\n  revisionDocAttachmentSize = 0;\r\n  attachmentSizeForUpload: number;\r\n  selectedFiles: FileList;\r\n  currentFileUpload: File;\r\n  progress: { percentage: number } = { percentage: 0 };\r\n\r\n  attachmentDocumentForm: FormGroup;\r\n  id: any;\r\n  currentUser: UserAccount;\r\n  attachmentDocument = new AttachmentDocument();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private dataStorageService: DataStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private apiService: ApiService,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private dialog: MatDialog,\r\n    private sanitizer: DomSanitizer,\r\n    private fileStorageService: FileStorageService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {}\r\n\r\n  get submitComplianceEnabled() {\r\n    const hasMain = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.MAIN\r\n      )\r\n    );\r\n    const hasSupportive = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n      )\r\n    );\r\n\r\n    return (\r\n      (hasMain && hasSupportive) ||\r\n      (hasMain && this.s1Application.hasNoSupportingDocs)\r\n    );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.s2SupportAttchmentDocuments);\r\n    this.id = Number(this.route.snapshot.paramMap.get(\"id\"));\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.setFormValidator();\r\n    console.log(\"----1 => \", this.s2Appplication);\r\n    this.s2DocObservable.subscribe((res) => {\r\n      if (res.type === \"application\") {\r\n        this.s2Appplication = res.value;\r\n      } else if (res.type === \"document\") {\r\n        console.log(\"s2 document\", res.value);\r\n        this.s2SupportDocument = this.s2SupportAttchmentDocuments.filter(\r\n          (r) => r.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n        )[this.s1Application.hasNoSupportingDocs ? 0 : 1];\r\n      }\r\n    });\r\n\r\n    setTimeout(() => {\r\n      console.log(\"S2222 => \", this.s2SupportAttchmentDocuments);\r\n    }, 5000);\r\n  }\r\n\r\n  validateDeleteBtn(): boolean {\r\n    if (\r\n      this.currentUser.accountType === \"APPLICANT\" &&\r\n      this.s2Appplication.internalStatus &&\r\n      this.s2SupportDocument &&\r\n      this.s2SupportAttchmentDocuments.filter(\r\n        (r) => r.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n      )[this.s1Application.hasNoSupportingDocs ? 0 : 1]\r\n    ) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  changeTab(evt) {\r\n    if (evt.tab) {\r\n      const label = evt.tab.textLabel;\r\n      if (label === \"REVISION\" || label === \"COMPLIANCE\") {\r\n        this.s1Application.hasNoSupportingDocs = false;\r\n      }\r\n    }\r\n  }\r\n  selectS2SupprtDoc(event) {\r\n    console.log(\"================= \", this.s2SupportAttchmentDocuments);\r\n    // checking of file type;\r\n    if (event.target.files[0].type !== \"application/pdf\") {\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment should be in PDF format only.\"\r\n      );\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n\r\n    // getting the file size.\r\n    this.attachmentType = ATTACHMENT_TYPE.SUPPORTIVE;\r\n    console.log(\"S2 Support Doc =>\", event.target.files);\r\n    this.supportDocAttachmentSize = event.target.files[0].size;\r\n\r\n    let attachmentSize =\r\n      this.mainDocAttachmentSize +\r\n      this.supportDocAttachmentSize +\r\n      this.revisionDocAttachmentSize;\r\n\r\n    // file size checking and validation\r\n    if (attachmentSize > 15000000) {\r\n      // 1MB = 1M : FOR INTEGRATION\r\n      this.sweetAlertService.customErrorMessage(\r\n        `Attachments' total file size should not exceed 15MB.`\r\n      );\r\n      event.target.value = \"\";\r\n      return;\r\n    } else {\r\n      // creating document object url\r\n      const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n      this.attachmentSizeForUpload = event.target.files[0].size;\r\n      this.safeURLSupportDoc = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n        pdfURL\r\n      );\r\n      this.showSupportiveDocumentUploadButton = true;\r\n\r\n      const reader = new FileReader();\r\n      const [file] = event.target.files;\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {};\r\n    }\r\n    this.selectedFiles = event.target.files;\r\n  }\r\n  selectFile(event, typeOfDocument) {\r\n    this.attachmentType = typeOfDocument;\r\n    if (event.target.files[0].type === \"application/pdf\") {\r\n      if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n        this.mainDocAttachmentSize = event.target.files[0].size;\r\n      } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n        this.supportDocAttachmentSize = event.target.files[0].size;\r\n      } else if (this.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n        this.revisionDocAttachmentSize = event.target.files[0].size;\r\n      }\r\n      let attachmentSize =\r\n        this.mainDocAttachmentSize +\r\n        this.supportDocAttachmentSize +\r\n        this.revisionDocAttachmentSize;\r\n\r\n      if (attachmentSize > 15000000) {\r\n        // 1MB = 1M : FOR INTEGRATION\r\n        this.sweetAlertService.customErrorMessage(\r\n          `Attachments' total file size should not exceed 15MB.`\r\n        );\r\n        event.target.value = \"\";\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n\r\n        this.attachmentSizeForUpload = event.target.files[0].size;\r\n\r\n        if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n          this.safeURLMainDoc = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n            pdfURL\r\n          );\r\n          this.showMainDocumentUploadButton = true;\r\n        } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n          this.safeURLSupportDoc = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n            pdfURL\r\n          );\r\n          this.showSupportiveDocumentUploadButton = true;\r\n        } else if (this.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n          this.safeURLRevisionLetter = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n            pdfURL\r\n          );\r\n          this.showRevisionLetterUploadButton = true;\r\n        }\r\n\r\n        // original-approved - for revision\r\n        // revision\r\n        if (\r\n          (this.submissionType === SUBMISSION_TYPE.REVISION &&\r\n            this.s1Application.decisionStatus !==\r\n              APP_DECISION_STATUS.INCOMPLETE) ||\r\n          ((this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n            (this.s1Application.decisionStatus ===\r\n              APPLICATION_STATUS.APPROVED ||\r\n              this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\"))\r\n        ) {\r\n          this.safeURLMainDocR = this.safeURLMainDoc;\r\n          this.safeURLSupportDocR = this.safeURLSupportDoc;\r\n\r\n          this.showMainDocumentUploadButtonR = this.showMainDocumentUploadButton;\r\n          this.showSupportiveDocumentUploadButtonR = this.showSupportiveDocumentUploadButton;\r\n\r\n          if (this.tempRevisionAttachmentDocuments.length === 0) {\r\n            this.s1Application.mainAttachmentReference = null;\r\n            this.s1Application.supportingAttachmentReference = null;\r\n            this.s1Application.revisionLetterAttachmentReference = null;\r\n          }\r\n        }\r\n\r\n        // original-incomplete - original\r\n        // revision-incomplete\r\n        // for compliance\r\n        else if (\r\n          this.submissionType === SUBMISSION_TYPE.COMPLIANCE ||\r\n          (this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED &&\r\n            this.s1Application.decisionStatus ===\r\n              APPLICATION_STATUS.INCOMPLETE) ||\r\n          (this.submissionType === SUBMISSION_TYPE.REVISION &&\r\n            this.s1Application.decisionStatus ===\r\n              APP_DECISION_STATUS.INCOMPLETE)\r\n        ) {\r\n          this.safeURLMainDocC = this.safeURLMainDoc;\r\n          this.safeURLSupportDocC = this.safeURLSupportDoc;\r\n\r\n          this.showMainDocumentUploadButtonC = this.showMainDocumentUploadButton;\r\n          this.showSupportiveDocumentUploadButtonC = this.showSupportiveDocumentUploadButton;\r\n\r\n          if (this.tempComplianceAttachmentDocuments.length === 0) {\r\n            this.s1Application.mainAttachmentReference = null;\r\n            this.s1Application.supportingAttachmentReference = null;\r\n            this.s1Application.revisionLetterAttachmentReference = null;\r\n          }\r\n        }\r\n\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {};\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment should be in PDF format only.\"\r\n      );\r\n      event.target.value = \"\";\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadS2SupportDoc() {\r\n    let attachmentType;\r\n    let appFormReference = \"\";\r\n    attachmentType = \"SUPPORTING\";\r\n    this.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to upload the \" +\r\n        attachmentType.replaceAll(\"_\", \" \") +\r\n        \" DOCUMENT?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n\r\n        this.progress.percentage = 0;\r\n        this.currentFileUpload = this.selectedFiles.item(0);\r\n        let params = \"\";\r\n        let appFormRef = \"\";\r\n\r\n        // set appFormReference\r\n        if (this.s2Appplication.appFormReference) {\r\n          console.log(\"------------------------------\");\r\n          appFormRef = `&appFormReference=${this.s2Appplication.appFormReference}`;\r\n        }\r\n\r\n        params = `?&attachmentType=${this.attachmentType}&submissionType=${this.submissionType}${appFormReference}&fileSize=${this.attachmentSizeForUpload}${appFormRef}`;\r\n        this.fileStorageService\r\n          .pushFileToStorage(\r\n            ENDPOINTS.attachmentDocument,\r\n            this.currentFileUpload,\r\n            params\r\n          )\r\n          .subscribe(\r\n            (res) => {\r\n              console.log(this.attachmentType, \" \", res.responseData.data);\r\n\r\n              if (\r\n                !this.s2Appplication.appFormReference ||\r\n                this.s2Appplication.appFormReference === \"\"\r\n              ) {\r\n                this.s2Appplication.appFormReference =\r\n                  res.responseData.data.appFormReference;\r\n                console.log(\r\n                  \"SET APPFORMREF: \",\r\n                  this.s1Application.appFormReference\r\n                );\r\n              }\r\n\r\n              this.uploadedFileSupportive = res.responseData.data;\r\n              this.s2SupportDocAddToAttachmentDocument(\r\n                this.uploadedFileSupportive\r\n              );\r\n              this.showSupportiveDocumentUploadButton = false;\r\n              this.showSupportiveDocumentViewButton = true;\r\n              this.s2Appplication.supportingAttachmentReference = this.uploadedFileSupportive.supportingAttachmentReference;\r\n\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Attachment successfully uploaded.\"\r\n              );\r\n              this.selectedFiles = undefined;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              // actions after subscription\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      } else {\r\n        this.currentFileUpload = null;\r\n      }\r\n    });\r\n    console.log(\"uploaded =======> \", this.s2SupportAttchmentDocuments);\r\n  }\r\n\r\n  uploadDocument() {\r\n    console.log(\"type: \", this.attachmentType);\r\n    let attachmentType;\r\n    let appFormReference = \"\";\r\n    if (\r\n      this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE ||\r\n      this.S2SupportDoc\r\n    ) {\r\n      attachmentType = \"SUPPORTING\";\r\n    } else {\r\n      attachmentType = this.attachmentType;\r\n    }\r\n\r\n    if (!this.S2SupportDoc) {\r\n      // set submission type and appFormReference\r\n      if (\r\n        attachmentType === ATTACHMENT_TYPE.REVISION_LETTER ||\r\n        (this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.decisionStatus === APPLICATION_STATUS.APPROVED ||\r\n            this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\"))\r\n      ) {\r\n        this.submissionType = SUBMISSION_TYPE.REVISION;\r\n        // appFormReference = `&appFormReference=${this.s1Application.appFormReference}`;\r\n      } else if (\r\n        this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n      ) {\r\n        this.submissionType = SUBMISSION_TYPE.COMPLIANCE;\r\n        // appFormReference = `&appFormReference=${this.s1Application.appFormReference}&applicationFormId=${this.s1Application.id}`;\r\n        appFormReference = `&applicationFormId=${this.s1Application.id}`;\r\n      } else {\r\n        this.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n      }\r\n    } else {\r\n      this.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    }\r\n\r\n    console.log(\"NEW SUTYPE: \", this.submissionType);\r\n\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to upload the \" +\r\n        attachmentType.replaceAll(\"_\", \" \") +\r\n        \" DOCUMENT?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n\r\n        this.progress.percentage = 0;\r\n        this.currentFileUpload = this.selectedFiles.item(0);\r\n        let params = \"\";\r\n        let appFormRef = \"\";\r\n\r\n        // set appFormReference\r\n        if (this.s1Application.appFormReference) {\r\n          appFormRef = `&appFormReference=${this.s1Application.appFormReference}`;\r\n        }\r\n        if (this.s2Appplication.appFormReference) {\r\n          appFormRef = `&appFormReference=${this.s2Appplication.appFormReference}`;\r\n        }\r\n\r\n        params = `?&attachmentType=${this.attachmentType}&submissionType=${this.submissionType}${appFormReference}&fileSize=${this.attachmentSizeForUpload}${appFormRef}`;\r\n        this.fileStorageService\r\n          .pushFileToStorage(\r\n            ENDPOINTS.attachmentDocument,\r\n            this.currentFileUpload,\r\n            params\r\n          )\r\n          .subscribe(\r\n            (res) => {\r\n              console.log(this.attachmentType, \" \", res.responseData.data);\r\n\r\n              if (\r\n                !this.s1Application.appFormReference ||\r\n                this.s1Application.appFormReference === \"\"\r\n              ) {\r\n                this.s1Application.appFormReference =\r\n                  res.responseData.data.appFormReference;\r\n                console.log(\r\n                  \"SET APPFORMREF: \",\r\n                  this.s1Application.appFormReference\r\n                );\r\n              }\r\n\r\n              if (!this.S2SupportDoc) {\r\n                if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n                  this.uploadedFileMain = res.responseData.data;\r\n                  this.addToAttachmentDocuments(this.uploadedFileMain);\r\n                  this.showMainDocumentUploadButton = false;\r\n                  this.showMainDocumentViewButton = true;\r\n                  this.showSupportDocumentFrame = true;\r\n                  this.s1Application.mainAttachmentReference = this.uploadedFileMain.mainAttachmentReference;\r\n                } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n                  this.uploadedFileSupportive = res.responseData.data;\r\n                  this.addToAttachmentDocuments(this.uploadedFileSupportive);\r\n                  this.showSupportiveDocumentUploadButton = false;\r\n                  this.showSupportiveDocumentViewButton = true;\r\n                  this.s1Application.supportingAttachmentReference = this.uploadedFileSupportive.supportingAttachmentReference;\r\n                } else if (\r\n                  this.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER\r\n                ) {\r\n                  this.uploadedFileRevision = res.responseData.data;\r\n                  this.addToAttachmentDocuments(this.uploadedFileRevision);\r\n                  this.showRevisionLetterViewButton = true;\r\n                  this.showRevisionLetterUploadButton = false;\r\n                  this.s1Application.revisionLetterAttachmentReference = this.uploadedFileRevision.revisionLetterAttachmentReference;\r\n                  this.revisionLetterAttachment = this.attachmentDocuments.filter(\r\n                    (data) =>\r\n                      data?.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER\r\n                  )[0];\r\n                }\r\n              } else {\r\n                this.uploadedFileSupportive = res.responseData.data;\r\n                this.s2SupportDocAddToAttachmentDocument(\r\n                  this.uploadedFileSupportive\r\n                );\r\n                this.showSupportiveDocumentUploadButton = false;\r\n                this.showSupportiveDocumentViewButton = true;\r\n                this.s2Appplication.supportingAttachmentReference = this.uploadedFileSupportive.supportingAttachmentReference;\r\n              }\r\n\r\n              if (\r\n                (this.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n                  (this.s1Application.decisionStatus ===\r\n                    APPLICATION_STATUS.APPROVED ||\r\n                    this.s1Application.decisionStatus ===\r\n                      \"APPROVED W/ CAUTION\")) ||\r\n                this.submissionType === SUBMISSION_TYPE.REVISION\r\n              ) {\r\n                if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n                  this.showMainDocumentUploadButtonR = this.showMainDocumentUploadButton;\r\n                  this.showMainDocumentViewButtonR = this.showMainDocumentViewButton;\r\n                } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n                  this.showSupportDocumentFrameR = this.showSupportDocumentFrame;\r\n                  this.showSupportiveDocumentUploadButtonR = this.showSupportiveDocumentUploadButton;\r\n                  this.showSupportiveDocumentViewButtonR = this.showSupportiveDocumentViewButton;\r\n                }\r\n              } else if (\r\n                (this.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n                  this.s1Application.decisionStatus ===\r\n                    APP_DECISION_STATUS.INCOMPLETE) ||\r\n                (this.submissionType === SUBMISSION_TYPE.REVISION &&\r\n                  this.s1Application.decisionStatus ===\r\n                    APP_DECISION_STATUS.INCOMPLETE) ||\r\n                this.submissionType === SUBMISSION_TYPE.COMPLIANCE\r\n              ) {\r\n                if (this.attachmentType === ATTACHMENT_TYPE.MAIN) {\r\n                  this.showMainDocumentUploadButtonC = this.showMainDocumentUploadButton;\r\n                  this.showMainDocumentViewButtonC = this.showMainDocumentViewButton;\r\n                } else if (this.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n                  this.showSupportDocumentFrameC = this.showSupportDocumentFrame;\r\n                  this.showSupportiveDocumentUploadButtonC = this.showSupportiveDocumentUploadButton;\r\n                  this.showSupportiveDocumentViewButtonC = this.showSupportiveDocumentViewButton;\r\n                }\r\n              }\r\n\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Attachment successfully uploaded.\"\r\n              );\r\n              this.selectedFiles = undefined;\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            },\r\n            () => {\r\n              // actions after subscription\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      } else {\r\n        this.currentFileUpload = null;\r\n      }\r\n    });\r\n  }\r\n  s2SupportDocAddToAttachmentDocument(obj: any) {\r\n    if (obj.supportingAttachmentReference) {\r\n      this.attachmentDocument.mainAttachmentReference =\r\n        obj.mainAttachmentReference;\r\n      this.attachmentDocument.supportingAttachmentReference =\r\n        obj.supportingAttachmentReference;\r\n      this.attachmentDocument.revisionLetterAttachmentReference =\r\n        obj.revisionLetterAttachmentReference;\r\n      this.attachmentDocument.id = obj.id;\r\n      this.attachmentDocument.originalFilename = obj.originalFilename;\r\n      this.attachmentDocument.filename = obj.filename;\r\n      this.attachmentDocument.fileSize = obj.fileSize;\r\n      this.attachmentDocument.fileExtension = obj.fileExtension;\r\n      this.attachmentDocument.fileURL = obj.fileURL;\r\n      this.attachmentDocument.attachmentType = obj.attachmentType;\r\n      this.attachmentDocument.documentFormat = obj.documentFormat;\r\n      this.attachmentDocument.createdBy = this.currentUser.username;\r\n      this.attachmentDocument.createdDate = this.todayDate;\r\n      console.log(this.attachmentDocuments);\r\n      this.attachmentDocuments[0] = this.attachmentDocument;\r\n      this.s2SupportAttchmentDocuments = this.attachmentDocuments;\r\n      this.s2SupportDocument = obj;\r\n      this.s2SupportAttchmentDocuments.push(obj);\r\n      console.log(\"s2support => \", obj);\r\n\r\n      console.log(this.s2Appplication);\r\n      console.log(\"s2 app\", this.attachmentDocuments);\r\n    }\r\n  }\r\n\r\n  addToAttachmentDocuments(obj: any) {\r\n    if (obj) {\r\n      console.log(\"addToAttachmentDocuments\");\r\n\r\n      if (\r\n        this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n        (this.s1Application.internalStatus === APPLICATION_STATUS.SAVED ||\r\n          this.s1Application.internalStatus === \"\" ||\r\n          this.s1Application.internalStatus === undefined)\r\n      ) {\r\n        this.attachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.originalAttachmentDocuments)\r\n        );\r\n      }\r\n\r\n      this.attachmentDocument.mainAttachmentReference =\r\n        obj.mainAttachmentReference;\r\n      this.attachmentDocument.supportingAttachmentReference =\r\n        obj.supportingAttachmentReference;\r\n      this.attachmentDocument.revisionLetterAttachmentReference =\r\n        obj.revisionLetterAttachmentReference;\r\n      this.attachmentDocument.id = obj.id;\r\n      this.attachmentDocument.originalFilename = obj.originalFilename;\r\n      this.attachmentDocument.filename = obj.filename;\r\n      this.attachmentDocument.fileSize = obj.fileSize;\r\n      this.attachmentDocument.fileExtension = obj.fileExtension;\r\n      this.attachmentDocument.fileURL = obj.fileURL;\r\n      this.attachmentDocument.attachmentType = obj.attachmentType;\r\n      this.attachmentDocument.documentFormat = obj.documentFormat;\r\n      this.attachmentDocument.createdBy = this.currentUser.username;\r\n      this.attachmentDocument.createdDate = this.todayDate;\r\n      console.log(this.attachmentDocuments);\r\n\r\n      if (this.attachmentDocument.attachmentType === \"MAIN\") {\r\n        this.attachmentDocuments[0] = this.attachmentDocument;\r\n      } else if (this.attachmentDocument.attachmentType === \"SUPPORTIVE\") {\r\n        this.attachmentDocuments[1] = this.attachmentDocument;\r\n      } else if (this.attachmentDocument.attachmentType === \"REVISION_LETTER\") {\r\n        this.attachmentDocuments[2] = this.attachmentDocument;\r\n      }\r\n\r\n      if (\r\n        (this.s1Application.submissionType === SUBMISSION_TYPE.REVISION &&\r\n          this.s1Application.decisionStatus !==\r\n            APP_DECISION_STATUS.INCOMPLETE) ||\r\n        (this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.decisionStatus === APPLICATION_STATUS.APPROVED ||\r\n            this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\"))\r\n      ) {\r\n        // this.revisionAttachmentDocuments = this.attachmentDocuments;\r\n        this.tempRevisionAttachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.attachmentDocuments)\r\n        );\r\n      } else if (\r\n        this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n      ) {\r\n        // this.complianceAttachmentDocuments = this.attachmentDocuments;\r\n        this.tempComplianceAttachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.attachmentDocuments)\r\n        );\r\n      } else {\r\n        this.originalAttachmentDocuments = JSON.parse(\r\n          JSON.stringify(this.attachmentDocuments)\r\n        );\r\n      }\r\n\r\n      console.log(this.attachmentDocuments);\r\n      this.attachmentDocument = new AttachmentDocument();\r\n    } else {\r\n      this.spinner.hide();\r\n      console.log(\"Null attachment.\");\r\n      this.myMainFile.nativeElement.value = null;\r\n      this.myMainInput.nativeElement.value = null;\r\n      this.sweetAlertService.customErrorMessage(\r\n        \"Attachment cannot be uploaded.\"\r\n      );\r\n    }\r\n  }\r\n\r\n  viewS2SupportDoc() {\r\n    console.log(\"uploaded\", this.uploadedFileSupportive);\r\n    console.log(\"uploaded\", this.attachmentDocuments);\r\n    console.log(\"s2Upport\", this.s2SupportAttchmentDocuments);\r\n    console.log(\"s2\", this.s2Appplication);\r\n    console.log(\"s1\", this.s1Application);\r\n    // console.log(\"S2 SUPPORTIVE\", );\r\n    console.log(\"S2 SUPPORTIVE!! \", this.s2SupportDocument);\r\n    let fileURL: string = this.s2SupportDocument.fileURL;\r\n    window.open(fileURL);\r\n  }\r\n\r\n  viewDocument(typeOfDocument, isOriginal = true) {\r\n    if (this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL) {\r\n      this.attachmentDocuments = JSON.parse(\r\n        JSON.stringify(this.originalAttachmentDocuments)\r\n      );\r\n    } else if (\r\n      this.s1Application.submissionType === SUBMISSION_TYPE.REVISION &&\r\n      this.s1Application.decisionStatus !== APP_DECISION_STATUS.INCOMPLETE\r\n    ) {\r\n      this.attachmentDocuments = JSON.parse(\r\n        JSON.stringify(this.revisionAttachmentDocuments)\r\n      );\r\n    } else if (\r\n      this.s1Application.submissionType === SUBMISSION_TYPE.COMPLIANCE ||\r\n      this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n    ) {\r\n      this.attachmentDocuments = JSON.parse(\r\n        JSON.stringify(this.complianceAttachmentDocuments)\r\n      );\r\n    }\r\n\r\n    if (typeOfDocument === ATTACHMENT_TYPE.MAIN) {\r\n      console.log(isOriginal, this.uploadedFileMain);\r\n      if (this.uploadedFileMain && !isOriginal) {\r\n        window.open(this.uploadedFileMain.fileURL);\r\n      } else {\r\n        window.open(this.attachmentDocuments[0].fileURL);\r\n      }\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n      if (this.uploadedFileSupportive && !isOriginal) {\r\n        window.open(this.uploadedFileSupportive.fileURL);\r\n      } else {\r\n        const supportiveDoc = this.attachmentDocuments.filter(\r\n          (res) => res.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n        )[0];\r\n        window.open(supportiveDoc.fileURL);\r\n      }\r\n    } else if (typeOfDocument === ATTACHMENT_TYPE.REVISION_LETTER) {\r\n      if (this.uploadedFileRevision && !isOriginal) {\r\n        window.open(this.uploadedFileRevision.fileURL);\r\n      } else {\r\n        // const revisionLetterDoc = this.revisionLetterAttachment;\r\n        const revisionLetterDoc = this.attachmentDocuments.filter(\r\n          (res) => res.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER\r\n        )[0];\r\n        window.open(revisionLetterDoc.fileURL);\r\n      }\r\n    }\r\n  }\r\n\r\n  viewDocument2(i) {\r\n    window.open(i?.fileURL);\r\n  }\r\n\r\n  deleteUploadedFile2(obj) {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        if (\r\n          obj.submissionType === SUBMISSION_TYPE.REVISION &&\r\n          obj.decisionStatus !== APP_DECISION_STATUS.INCOMPLETE\r\n        ) {\r\n          this.revisionAttachmentDocuments = this.revisionAttachmentDocuments.filter(\r\n            (data) => data?.id !== obj.id\r\n          );\r\n        } else if (\r\n          obj.submissionType === SUBMISSION_TYPE.COMPLIANCE ||\r\n          obj.decisionStatus === APP_DECISION_STATUS.INCOMPLETE\r\n        ) {\r\n          this.complianceAttachmentDocuments = this.complianceAttachmentDocuments.filter(\r\n            (data) => data?.id !== obj.id\r\n          );\r\n        }\r\n        this.apiService\r\n          .save(ENDPOINTS.attachmentDocument + `/id/${obj.id}`, null)\r\n          .subscribe(\r\n            (res) => {\r\n              this.spinner.hide();\r\n              console.log(\"Attachment successfully deleted.\");\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteS2SupportDoc() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        if (\r\n          this.s2Appplication.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s2Appplication.internalStatus === APPLICATION_STATUS.SAVED ||\r\n            this.s2Appplication.internalStatus === \"\" ||\r\n            this.s2Appplication.internalStatus === undefined)\r\n        ) {\r\n          this.attachmentDocuments = this.s2SupportAttchmentDocuments;\r\n        }\r\n        let id = this.attachmentDocuments.filter(\r\n          (r) => r.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n        )[this.s1Application.hasNoSupportingDocs ? 0 : 1].id;\r\n        this.supportDocAttachmentSize = 0;\r\n        // this.attachmentDocuments[this.s1Application.hasNoSupportingDocs? 0 : 1] = null;\r\n        this.s2SupportDocument = {};\r\n        this.s2Appplication.supportingAttachmentReference = null;\r\n        // this.showSupportiveDocumentViewButton = false;\r\n        // this.showSupportiveDocumentUploadButton = false;\r\n        // this.mySupportiveFile.nativeElement.value = null;\r\n        // this.mySupportiveInput.nativeElement.value = null;\r\n        // this.s1Application.supportingAttachmentReference = null;\r\n        console.log(\"result\", result);\r\n\r\n        this.apiService\r\n          .save(ENDPOINTS.attachmentDocument + `/id/${id}`, null)\r\n          .subscribe(\r\n            (res) => {\r\n              this.spinner.hide();\r\n              console.log(\"Attachment successfully deleted.\");\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteUploadedFile(documentType) {\r\n    console.log(\"DELETE...\");\r\n\r\n    let currentSubType = SUBMISSION_TYPE.ORIGINAL;\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to delete this document permanently?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let id = \"\";\r\n        // this.spinner.show();\r\n\r\n        // new appform - original\r\n        if (\r\n          this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.internalStatus === APPLICATION_STATUS.SAVED ||\r\n            this.s1Application.internalStatus === \"\" ||\r\n            this.s1Application.internalStatus === undefined)\r\n        ) {\r\n          this.attachmentDocuments = this.originalAttachmentDocuments;\r\n        }\r\n\r\n        // approved - original = for revision\r\n        else if (\r\n          this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL &&\r\n          (this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n          (this.s1Application.decisionStatus === APPLICATION_STATUS.APPROVED ||\r\n            this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\")\r\n        ) {\r\n          this.attachmentDocuments = this.tempRevisionAttachmentDocuments;\r\n          currentSubType = SUBMISSION_TYPE.REVISION;\r\n        }\r\n\r\n        // incomplete - original = for compliance\r\n        // incomplete - compliance = for compliance\r\n        // incomplete - revision = for compliance\r\n        else if (\r\n          this.s1Application.decisionStatus === APPLICATION_STATUS.INCOMPLETE &&\r\n          (this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_REVISION.REVISION_SCREENED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS.S1_APPLICATION_REJECTED)\r\n        ) {\r\n          this.attachmentDocuments = this.tempComplianceAttachmentDocuments;\r\n          currentSubType = SUBMISSION_TYPE.COMPLIANCE;\r\n        }\r\n        console.log(this.attachmentDocuments);\r\n        console.log(\"currentSubType \", currentSubType);\r\n\r\n        if (documentType === ATTACHMENT_TYPE.MAIN) {\r\n          id = this.attachmentDocuments[0].id;\r\n          this.mainDocAttachmentSize = 0;\r\n          this.attachmentDocuments[0] = null;\r\n          this.s1Application.mainAttachmentReference = null;\r\n          this.showMainDocumentViewButton = false;\r\n          this.myMainFile.nativeElement.value = null;\r\n          this.myMainInput.nativeElement.value = null;\r\n          this.showSupportDocumentFrame = false;\r\n          this.showMainDocumentUploadButton = false;\r\n          this.s1Application.mainAttachmentReference = null;\r\n        } else if (documentType === ATTACHMENT_TYPE.SUPPORTIVE) {\r\n          id = this.attachmentDocuments[1].id;\r\n          this.supportDocAttachmentSize = 0;\r\n          this.attachmentDocuments[1] = null;\r\n          // this.attachmentDocuments[1].originalFilename = null;\r\n          this.s1Application.supportingAttachmentReference = null;\r\n          this.showSupportiveDocumentViewButton = false;\r\n          this.showSupportiveDocumentUploadButton = false;\r\n          this.mySupportiveFile.nativeElement.value = null;\r\n          this.mySupportiveInput.nativeElement.value = null;\r\n          this.s1Application.supportingAttachmentReference = null;\r\n        } else {\r\n          id = this.attachmentDocuments[2].id;\r\n          this.revisionDocAttachmentSize = 0;\r\n          this.attachmentDocuments[2] = null;\r\n          // this.attachmentDocuments[2].originalFilename = null;\r\n          this.revisionLetterAttachment = null;\r\n          this.s1Application.revisionLetterAttachmentReference = null;\r\n          this.showRevisionLetterViewButton = false;\r\n          this.showRevisionLetterUploadButton = false;\r\n          this.myRevisionLetterFile.nativeElement.value = null;\r\n          // this.myRevisionLetterInput.nativeElement.value = null;\r\n          // this.attachmentDocuments = this.attachmentDocuments.filter((doc) =>\r\n          //   !doc.attachmentType.includes(ATTACHMENT_TYPE.REVISION_LETTER));\r\n        }\r\n\r\n        console.log(this.attachmentDocuments);\r\n\r\n        if (currentSubType === SUBMISSION_TYPE.REVISION) {\r\n          this.tempRevisionAttachmentDocuments = this.attachmentDocuments;\r\n        } else if (currentSubType === SUBMISSION_TYPE.COMPLIANCE) {\r\n          this.tempComplianceAttachmentDocuments = this.attachmentDocuments;\r\n        } else {\r\n          this.originalAttachmentDocuments = this.attachmentDocuments;\r\n        }\r\n\r\n        if (\r\n          // new - original\r\n          this.s1Application.internalStatus === undefined ||\r\n          this.s1Application.internalStatus === APPLICATION_STATUS.SAVED ||\r\n          // reviewed - approved - for revision\r\n          ((this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n            (this.s1Application.decisionStatus ===\r\n              APPLICATION_STATUS.APPROVED ||\r\n              this.s1Application.decisionStatus === \"APPROVED W/ CAUTION\")) ||\r\n          // reviewed - incomplete - for compliance\r\n          // incomplete - incomplete - for compliance\r\n          ((this.s1Application.internalStatus ===\r\n            APPLICATION_STATUS.S1_APPLICATION_REVIEWED ||\r\n            this.s1Application.internalStatus ===\r\n              APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER) &&\r\n            this.s1Application.decisionStatus === APPLICATION_STATUS.INCOMPLETE)\r\n        ) {\r\n          console.log(\"Trigger delete...\");\r\n\r\n          this.apiService\r\n            .save(ENDPOINTS.attachmentDocument + `/id/${id}`, null)\r\n            .subscribe(\r\n              (res) => {\r\n                this.spinner.hide();\r\n                console.log(\"Attachment successfully deleted.\");\r\n              },\r\n              (err: any) => {\r\n                this.spinner.hide();\r\n                this.sweetAlertService.error(err);\r\n              }\r\n            );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  verifyNoDocumentAttached() {\r\n    this.s1Application.supportingAttachmentReference =\r\n      this.s1Application.supportingAttachmentReference === null ? \"\" : null;\r\n    this.safeURLSupportDoc = null;\r\n  }\r\n\r\n  setFormValidator() {\r\n    this.attachmentDocumentForm = this.formBuilder.group({\r\n      attachmentReference: [\"\"],\r\n      hasNoSupportingDocs: [\"\"],\r\n      typeOfMedium: [\"\"],\r\n      mediumExecution: [\"\"],\r\n      language: [\"\"],\r\n      dialect: [\"\"],\r\n      others: [\"\"],\r\n      sizeLength: [\"\"],\r\n      width: [\"\"],\r\n\r\n      multimediaLength: [\"\"],\r\n      multimediaSize: [\"\"],\r\n      applicationSingleMedia: [\"\"],\r\n      applicationMultimediaStatic: [\"\"],\r\n      applicationMultimediaMoving: [\"\"],\r\n    });\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <b\r\n    *ngIf=\"\r\n      currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n      applicationStage === 'S1-APPLICATION'\r\n    \"\r\n    ><b class=\"material-icons\">error_outline</b> Attachments' total file size\r\n    should not exceed 15MB.</b\r\n  >\r\n\r\n  <form [formGroup]=\"attachmentDocumentForm\">\r\n    <mat-tab-group\r\n      mat-align-tabs=\"center\"\r\n      class=\"mat-tab-group\"\r\n      (selectedTabChange)=\"changeTab($event)\"\r\n    >\r\n      <mat-tab label=\"SUPPORT DOCUMENT\" *ngIf=\"S2SupportDoc\">\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>SUPPORT DOCUMENT</label>\r\n            <div class=\"row\">\r\n              <!-- <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;{{labelMainDocument}}\r\n              </h4> -->\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label *ngIf=\"s2SupportDocument\">Filename: </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  [value]=\"s2SupportDocument?.originalFilename\"\r\n                  disabled\r\n                  *ngIf=\"s2SupportDocument\"\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectS2SupprtDoc($event)\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    s2SupportDocument?.originalFilename != null\r\n                  \"\r\n                  *ngIf=\"\r\n                    s2SupportAttchmentDocuments?.length >= 0 ||\r\n                    (originalAttachmentDocuments?.length >= 1 &&\r\n                      originalAttachmentDocuments[0] === null) ||\r\n                    s1Application?.internalStatus == 'SAVED' ||\r\n                    originalAttachmentDocuments[0]?.originalFilename != null\r\n                  \"\r\n                />\r\n              </div>\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewS2SupportDoc()\"\r\n                  *ngIf=\"validateDeleteBtn() || s2SupportDocument\"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteS2SupportDoc()\"\r\n                  *ngIf=\"validateDeleteBtn()\"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                <!-- [hidden]=\"(!showMainDocumentViewButton) ||\r\n                  (currentUser?.userRole?.name!='ROLE_APPLICANT' && currentUser?.userRole?.name!='ROLE_ENCODER') ||\r\n                  (currentUser.userRole.name=='ROLE_ENCODER' && s1Application?.internalStatus !== undefined ) ||\r\n                  applicationStage === 'S2-APPLICATION' || applicationStage === 'S1-Preview' || s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'\" -->\r\n\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"!safeURLSupportDoc\"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"safeURLSupportDoc\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- TAB FOR ORIGINAL -->\r\n      <mat-tab label=\"ORIGINAL\" *ngIf=\"!S2SupportDoc\">\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>ORIGINAL</label>\r\n            <!-- MAIN DOCUMENT -->\r\n            <div class=\"row\">\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                  labelMainDocument ? labelMainDocument : \"MAIN DOCUMENT\"\r\n                }}\r\n              </h4>\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"originalAttachmentDocuments[0]?.originalFilename\"\r\n                  >Filename:\r\n                </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  [value]=\"originalAttachmentDocuments[0]?.originalFilename\"\r\n                  disabled\r\n                  *ngIf=\"originalAttachmentDocuments[0]?.originalFilename\"\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'MAIN')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    originalAttachmentDocuments[0]?.originalFilename != null\r\n                  \"\r\n                  *ngIf=\"\r\n                    originalAttachmentDocuments?.length == 0 ||\r\n                    (originalAttachmentDocuments?.length >= 1 &&\r\n                      originalAttachmentDocuments[0] === null) ||\r\n                    s1Application?.internalStatus == 'SAVED' ||\r\n                    originalAttachmentDocuments[0]?.originalFilename != null\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('MAIN')\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    originalAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('MAIN')\"\r\n                  [hidden]=\"\r\n                    (currentUser?.userRole?.name != 'ROLE_APPLICANT' &&\r\n                      currentUser?.userRole?.name != 'ROLE_ENCODER') ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus !== undefined) ||\r\n                    applicationStage === 'S2-APPLICATION' ||\r\n                    applicationStage === 'S1-Preview' ||\r\n                    s1Application?.decisionStatus == 'APPROVED' ||\r\n                    s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                    s1Application?.decisionStatus == 'INCOMPLETE'\r\n                  \"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    originalAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                <!-- [hidden]=\"(!showMainDocumentViewButton) ||\r\n                  (currentUser?.userRole?.name!='ROLE_APPLICANT' && currentUser?.userRole?.name!='ROLE_ENCODER') ||\r\n                  (currentUser.userRole.name=='ROLE_ENCODER' && s1Application?.internalStatus !== undefined ) ||\r\n                  applicationStage === 'S2-APPLICATION' || applicationStage === 'S1-Preview' || s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'\" -->\r\n\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"!safeURLMainDoc || !showMainDocumentUploadButton\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    (s1Application?.submissionType === 'ORIGINAL' &&\r\n                      (s1Application?.decisionStatus == 'APPROVED' ||\r\n                        s1Application?.decisionStatus ==\r\n                          'APPROVED W/ CAUTION' ||\r\n                        s1Application?.decisionStatus == 'INCOMPLETE'))\r\n                  \"\r\n                  *ngIf=\"\r\n                    originalAttachmentDocuments[0]?.originalFilename == null ||\r\n                    showMainDocumentUploadButton\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- SUPPORTING DOC -->\r\n            <div\r\n              class=\"row\"\r\n              *ngIf=\"\r\n                showSupportDocumentFrame == true ||\r\n                originalAttachmentDocuments?.length > 0\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n              </h4>\r\n\r\n              <!-- Display if no support document was attached -->\r\n              <div\r\n                class=\"col-md-12\"\r\n                appearance=\"outline\"\r\n                [hidden]=\"\r\n                  (isAscUser && isDisableFieldOnUpdate) ||\r\n                  applicationStage === 'S2-APPLICATION'\r\n                \"\r\n                *ngIf=\"\r\n                  ((s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_REVIEWED' ||\r\n                    s1Application?.internalStatus ===\r\n                      'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                    (s1Application?.decisionStatus == 'APPROVED' ||\r\n                      s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                      s1Application?.decisionStatus === 'INCOMPLETE')) ||\r\n                  originalAttachmentDocuments?.length > 0\r\n                \"\r\n              >\r\n                <mat-checkbox\r\n                  (click)=\"verifyNoDocumentAttached()\"\r\n                  [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n                  (checked)=\"(s1Application.hasNoSupportingDocs)\"\r\n                  formControlName=\"hasNoSupportingDocs\"\r\n                  [hidden]=\"\r\n                    originalAttachmentDocuments[1]?.originalFilename ||\r\n                    s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                    s1Application?.internalStatus ===\r\n                      'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                    s1Application?.internalStatus === 'REVISION_SCREENED' ||\r\n                    (s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REJECTED' &&\r\n                      (s1Application?.decisionStatus == 'APPROVED' ||\r\n                        s1Application?.decisionStatus ==\r\n                          'APPROVED W/ CAUTION' ||\r\n                        s1Application?.decisionStatus == 'INCOMPLETE'))\r\n                  \"\r\n                  *ngIf=\"\r\n                    (currentUser.userRole.name == 'ROLE_APPLICANT' &&\r\n                      originalAttachmentDocuments?.length > 0) ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus === undefined)\r\n                  \"\r\n                >\r\n                  I certify that no supporting document is attached to this S1\r\n                  application.</mat-checkbox\r\n                >\r\n                <br />\r\n              </div>\r\n\r\n              <p\r\n                [hidden]=\"\r\n                  originalAttachmentDocuments[1]?.originalFilename ||\r\n                  (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                    s1Application?.internalStatus === undefined)\r\n                \"\r\n                *ngIf=\"\r\n                  isAscUser ||\r\n                  currentUser.userRole.name == 'ROLE_ADMIN' ||\r\n                  currentUser.userRole.name == 'ROLE_SUPER_ADMIN' ||\r\n                  applicationStage === 'S2-APPLICATION' ||\r\n                  applicationStage === 'S1-Preview' ||\r\n                  (s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_REVIEWED' &&\r\n                    (s1Application?.decisionStatus == 'APPROVED' ||\r\n                      s1Application?.decisionStatus ==\r\n                        'APPROVED W/ CAUTION')) ||\r\n                  (s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE') ||\r\n                  (s1Application?.internalStatus === 'REVISION_SCREENED' &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE') ||\r\n                  (currentUser.userRole.name == 'ROLE_APPLICANT' &&\r\n                    s1Application?.hasNoSupportingDocs &&\r\n                    s1Application?.internalStatus !== 'SAVED' &&\r\n                    s1Application?.internalStatus !== undefined)\r\n                \"\r\n              >\r\n                Supporting Document was not submitted.\r\n              </p>\r\n              <div class=\"col-md-12\"><br /></div>\r\n\r\n              <div\r\n                *ngIf=\"\r\n                  !s1Application.hasNoSupportingDocs ||\r\n                  originalAttachmentDocuments[1]?.originalFilename === null\r\n                \"\r\n              >\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label\r\n                    *ngIf=\"originalAttachmentDocuments[1]?.originalFilename\"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #supportiveInput\r\n                    matInput\r\n                    [value]=\"originalAttachmentDocuments[1]?.originalFilename\"\r\n                    disabled\r\n                    *ngIf=\"originalAttachmentDocuments[1]?.originalFilename\"\r\n                  /><br />\r\n\r\n                  <input\r\n                    #supportiveFile\r\n                    class=\"file-upload\"\r\n                    type=\"file\"\r\n                    accept=\".pdf\"\r\n                    (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      s1Application.hasNoSupportingDocs ||\r\n                      originalAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      s1Application?.internalStatus ===\r\n                        'S1_APPLICATION_REVIEWED' ||\r\n                      (s1Application?.internalStatus ===\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' &&\r\n                        (s1Application?.decisionStatus === 'APPROVED' ||\r\n                          s1Application?.decisionStatus ===\r\n                            'APPROVED W/ CAUTION' ||\r\n                          s1Application?.decisionStatus === 'INCOMPLETE')) ||\r\n                      (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                        s1Application?.internalStatus !== undefined) ||\r\n                      s1Application?.submissionType === 'REVISION' ||\r\n                      s1Application?.submissionType === 'COMPLIANCE'\r\n                    \"\r\n                    *ngIf=\"\r\n                      originalAttachmentDocuments?.length == 1 ||\r\n                      (originalAttachmentDocuments?.length > 1 &&\r\n                        originalAttachmentDocuments[1] === null) ||\r\n                      originalAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      !safeURLSupportDoc ||\r\n                      !showSupportiveDocumentUploadButton\r\n                    \"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument('SUPPORTIVE')\"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      originalAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (currentUser?.userRole?.name != 'ROLE_APPLICANT' &&\r\n                        currentUser?.userRole?.name != 'ROLE_ENCODER') ||\r\n                      (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                        s1Application?.internalStatus !== undefined) ||\r\n                      applicationStage === 'S2-APPLICATION' ||\r\n                      applicationStage === 'S1-Preview' ||\r\n                      s1Application?.decisionStatus == 'APPROVED' ||\r\n                      s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                      s1Application?.decisionStatus == 'INCOMPLETE'\r\n                    \"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      originalAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadDocument()\"\r\n                    [disabled]=\"\r\n                      !safeURLSupportDoc || !showSupportiveDocumentUploadButton\r\n                    \"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      (s1Application?.submissionType === 'ORIGINAL' &&\r\n                        (s1Application?.decisionStatus == 'APPROVED' ||\r\n                          s1Application?.decisionStatus ==\r\n                            'APPROVED W/ CAUTION' ||\r\n                          s1Application?.decisionStatus == 'INCOMPLETE'))\r\n                    \"\r\n                    *ngIf=\"showSupportiveDocumentUploadButton\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                  </button>\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <br />\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"no-record\"\r\n              *ngIf=\"\r\n                originalAttachmentDocuments?.length === 0 &&\r\n                originalAttachmentDocuments[0]?.originalFilename === undefined\r\n              \"\r\n            >\r\n              No results found.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n      <!-- END OF TAB FOR ORIGINAL -->\r\n\r\n      <!-- ////////////////////////////////////////// DYNAMIC ////////////////////////////////////////// -->\r\n\r\n      <!-- TAB FOR REVISION -->\r\n      <mat-tab\r\n        label=\"REVISION\"\r\n        *ngIf=\"\r\n          revisionAttachmentDocuments?.length > 0 ||\r\n          ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n            (s1Application?.decisionStatus == 'APPROVED' ||\r\n              s1Application?.decisionStatus === 'APPROVED W/ CAUTION') &&\r\n            applicationStage !== 'S2-APPLICATION')\r\n        \"\r\n      >\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>REVISION</label>\r\n            <!---------- NEW ATTACHMENTS ---------->\r\n\r\n            <!-- MAIN DOCUMENT -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                showSupportDocumentFrameR ||\r\n                tempRevisionAttachmentDocuments?.length > 0 ||\r\n                ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                  (s1Application?.decisionStatus === 'APPROVED' ||\r\n                    s1Application?.decisionStatus === 'APPROVED W/ CAUTION'))\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                  labelMainDocument ? labelMainDocument : \"MAIN DOCUMENT\"\r\n                }}\r\n              </h4>\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"\r\n                    tempRevisionAttachmentDocuments?.length > 0 &&\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  >Filename:\r\n                </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  *ngIf=\"!s1Application?.hasOngoingRevision\"\r\n                  [value]=\"tempRevisionAttachmentDocuments[0]?.originalFilename\"\r\n                  disabled\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'MAIN')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    (s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                      s1Application?.internalStatus ===\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                    (s1Application?.decisionStatus === 'APPROVED' ||\r\n                      s1Application?.decisionStatus === 'APPROVED W/ CAUTION')\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('MAIN', false)\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('MAIN')\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    tempRevisionAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"\r\n                    !safeURLMainDocR || !showMainDocumentUploadButtonR\r\n                  \"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"showMainDocumentUploadButtonR\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- SUPPORTING DOC -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                showSupportDocumentFrameR ||\r\n                tempRevisionAttachmentDocuments?.length > 0 ||\r\n                ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                  (s1Application?.decisionStatus === 'APPROVED' ||\r\n                    s1Application?.decisionStatus === 'APPROVED W/ CAUTION'))\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n              </h4>\r\n\r\n              <!-- Display if no support document was attached -->\r\n              <div\r\n                class=\"col-md-12\"\r\n                appearance=\"outline\"\r\n                [hidden]=\"\r\n                  (isAscUser && isDisableFieldOnUpdate) ||\r\n                  applicationStage === 'S2-APPLICATION'\r\n                \"\r\n                *ngIf=\"\r\n                  tempRevisionAttachmentDocuments?.length < 2 ||\r\n                  tempRevisionAttachmentDocuments?.length != 2 ||\r\n                  ((s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_REVIEWED' ||\r\n                    s1Application?.internalStatus ===\r\n                      'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE')\r\n                \"\r\n              >\r\n                <mat-checkbox\r\n                  (click)=\"verifyNoDocumentAttached()\"\r\n                  [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n                  (checked)=\"(s1Application.hasNoSupportingDocs)\"\r\n                  formControlName=\"hasNoSupportingDocs\"\r\n                  [hidden]=\"\r\n                    tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    currentUser.userRole.name == 'ROLE_APPLICANT' ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus === undefined)\r\n                  \"\r\n                >\r\n                  I certify that no supporting document is attached to this S1\r\n                  application.</mat-checkbox\r\n                >\r\n                <br />\r\n              </div>\r\n\r\n              <p\r\n                *ngIf=\"\r\n                  (s1Application?.submissionType === 'REVISION' &&\r\n                    s1Application?.hasNoSupportingDocs &&\r\n                    s1Application?.internalStatus !== undefined &&\r\n                    s1Application?.internalStatus !==\r\n                      'S1_APPLICATION_REVIEWED' &&\r\n                    s1Application?.decisionStatus !== 'INCOMPLETE') ||\r\n                  (s1Application?.hasNoSupportingDocs &&\r\n                    applicationStage === 'S1-Preview')\r\n                \"\r\n              >\r\n                Supporting Document was not submitted.\r\n              </p>\r\n              <div class=\"col-md-12\"><br /></div>\r\n\r\n              <div *ngIf=\"!s1Application?.hasNoSupportingDocs\">\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label\r\n                    *ngIf=\"\r\n                      tempRevisionAttachmentDocuments?.length > 0 &&\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #supportiveInput\r\n                    matInput\r\n                    [value]=\"\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    disabled\r\n                    *ngIf=\"\r\n                      tempRevisionAttachmentDocuments?.length > 0 &&\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  /><br />\r\n\r\n                  <input\r\n                    #supportiveFile\r\n                    class=\"file-upload\"\r\n                    type=\"file\"\r\n                    accept=\".pdf\"\r\n                    (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    *ngIf=\"\r\n                      tempRevisionAttachmentDocuments?.length <= 2 ||\r\n                      (tempRevisionAttachmentDocuments?.length == 2 &&\r\n                        tempRevisionAttachmentDocuments[1] === null) ||\r\n                      s1Application?.internalStatus == 'SAVED' ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      ((s1Application?.internalStatus ==\r\n                        'S1_APPLICATION_REVIEWED' ||\r\n                        s1Application?.internalStatus ==\r\n                          'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                        (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n                          s1Application?.decisionStatus == 'APPROVED' ||\r\n                          s1Application?.decisionStatus ==\r\n                            'APPROVED W/ CAUTION'))\r\n                    \"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument('SUPPORTIVE', false)\"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButton ||\r\n                      tempRevisionAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadDocument()\"\r\n                    [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                    *ngIf=\"showSupportiveDocumentUploadButton\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                  </button>\r\n                  <!-- [disabled]=\"!safeURLSupportDocR||!showSupportiveDocumentUploadButtonR\" -->\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <br />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- FOR REVISION - REVISION LETTER -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                (s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                (s1Application?.decisionStatus == 'APPROVED' ||\r\n                  s1Application?.decisionStatus == 'APPROVED W/ CAUTION')\r\n              \"\r\n              [hidden]=\"\r\n                s1Application?.appliedS2 || applicationStage === 'S1-Preview'\r\n              \"\r\n            >\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;REVISION LETTER\r\n              </h4>\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"\r\n                    revisionLetterAttachment?.originalFilename ||\r\n                    (tempRevisionAttachmentDocuments?.length > 0 &&\r\n                      tempRevisionAttachmentDocuments[1]\r\n                        ?.revisionLetterAttachmentReference)\r\n                  \"\r\n                >\r\n                  Filename:\r\n                </mat-label>\r\n                <input\r\n                  #revisionLetterInput\r\n                  matInput\r\n                  [value]=\"\r\n                    revisionLetterAttachment?.originalFilename ||\r\n                    tempRevisionAttachmentDocuments[1]\r\n                      ?.revisionLetterAttachmentReference ||\r\n                    tempRevisionAttachmentDocuments[2]\r\n                      ?.revisionLetterAttachmentReference\r\n                  \"\r\n                  disabled\r\n                  *ngIf=\"revisionLetterAttachment?.originalFilename\"\r\n                /><br />\r\n\r\n                <input\r\n                  #revisionLetterFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'REVISION_LETTER')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    revisionLetterAttachment?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    tempRevisionAttachmentDocuments?.length == 0 ||\r\n                    s1Application?.internalStatus == 'SAVED' ||\r\n                    ((s1Application?.internalStatus ==\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                      s1Application?.internalStatus ==\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                      (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n                        s1Application?.decisionStatus == 'APPROVED' ||\r\n                        s1Application?.decisionStatus == 'APPROVED W/ CAUTION'))\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('REVISION_LETTER', false)\"\r\n                  *ngIf=\"showRevisionLetterViewButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('REVISION_LETTER')\"\r\n                  [hidden]=\"\r\n                    (currentUser?.userRole?.name != 'ROLE_APPLICANT' &&\r\n                      currentUser?.userRole?.name != 'ROLE_ENCODER') ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus !== undefined) ||\r\n                    applicationStage === 'S2-APPLICATION' ||\r\n                    applicationStage === 'S1-Preview'\r\n                  \"\r\n                  *ngIf=\"showRevisionLetterViewButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"\r\n                    !safeURLRevisionLetter || !showRevisionLetterUploadButton\r\n                  \"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"showRevisionLetterUploadButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"row\"><br /></div>\r\n              <br />\r\n              <br />\r\n            </div>\r\n\r\n            <div class=\"row\"><hr /></div>\r\n\r\n            <!---------- EXISTING ---------->\r\n            <div\r\n              class=\"row\"\r\n              *ngFor=\"let i of revisionAttachmentDocuments; let index = index\"\r\n            >\r\n              <div *ngIf=\"i !== null\">\r\n                <h4>\r\n                  <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                    i?.attachmentType\r\n                      ?.replaceAll(\"SUPPORTIVE\", \"SUPPORTING\")\r\n                      ?.replaceAll(\"_\", \" \")\r\n                  }}\r\n                  DOCUMENT\r\n                </h4>\r\n                <br />\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label *ngIf=\"i?.originalFilename\">Filename: </mat-label>\r\n                  <input\r\n                    #mainInput\r\n                    matInput\r\n                    [value]=\"i?.originalFilename\"\r\n                    disabled\r\n                    *ngIf=\"i?.originalFilename\"\r\n                  /><br />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div\r\n                  class=\"col-md-12\"\r\n                  appearance=\"outline\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    i?.mainAttachmentReference ||\r\n                    i?.supportingAttachmentReference ||\r\n                    i?.revisionLetterAttachmentReference\r\n                  \"\r\n                >\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument2(i)\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile2(i)\"\r\n                    *ngIf=\"i?.status === 'UNPROCESSED'\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\">\r\n                  <hr />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"no-record\"\r\n              *ngIf=\"\r\n                (revisionAttachmentDocuments?.length === 0 &&\r\n                  revisionAttachmentDocuments[0]?.originalFilename ===\r\n                    undefined) ||\r\n                revisionAttachmentDocuments?.length === null\r\n              \"\r\n            >\r\n              No existing attachments for revision.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n\r\n      <!-- TAB FOR COMPLIANCE -->\r\n      <mat-tab\r\n        label=\"COMPLIANCE\"\r\n        *ngIf=\"\r\n          complianceAttachmentDocuments?.length > 0 ||\r\n          ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n            s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n            s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n            s1Application?.decisionStatus == 'INCOMPLETE' &&\r\n            applicationStage !== 'S2-APPLICATION')\r\n        \"\r\n      >\r\n        <div class=\"mat-tab\">\r\n          <div class=\"col comment\">\r\n            <label>COMPLIANCE</label>\r\n            <!---------- NEW ATTACHMENTS ---------->\r\n\r\n            <!-- MAIN DOCUMENT -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                (s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                  s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                  s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n                s1Application?.decisionStatus == 'INCOMPLETE'\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                  labelMainDocument ? labelMainDocument : \"MAIN DOCUMENT\"\r\n                }}\r\n              </h4>\r\n              <br />\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-label\r\n                  *ngIf=\"\r\n                    tempComplianceAttachmentDocuments?.length > 0 &&\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  >Filename:\r\n                </mat-label>\r\n                <input\r\n                  #mainInput\r\n                  matInput\r\n                  *ngIf=\"\r\n                    !s1Application?.hasOngoingRevision ||\r\n                    tempComplianceAttachmentDocuments?.length == 0\r\n                  \"\r\n                  [value]=\"\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  disabled\r\n                /><br />\r\n\r\n                <input\r\n                  #mainFile\r\n                  class=\"file-upload\"\r\n                  type=\"file\"\r\n                  accept=\".pdf\"\r\n                  (change)=\"selectFile($event, 'MAIN')\"\r\n                  [hidden]=\"\r\n                    (isAscUser && isDisableFieldOnUpdate) ||\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    (s1Application?.internalStatus ===\r\n                      'S1_APPLICATION_REVIEWED' ||\r\n                      s1Application?.internalStatus ===\r\n                        'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                      s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                      s1Application?.internalStatus ==\r\n                        'S1_APPLICATION_REJECTED') &&\r\n                    s1Application?.decisionStatus === 'INCOMPLETE'\r\n                  \"\r\n                />\r\n              </div>\r\n\r\n              <div class=\"row\"><br /></div>\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"viewDocument('MAIN', false)\"\r\n                  [hidden]=\"\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename ===\r\n                    null\r\n                  \"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButtonC ||\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                  DOCUMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"deleteUploadedFile('MAIN')\"\r\n                  [hidden]=\"\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename ===\r\n                    null\r\n                  \"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButtonC ||\r\n                    tempComplianceAttachmentDocuments[0]?.originalFilename\r\n                  \"\r\n                >\r\n                  <i class=\"material-icons add-document\">delete</i> DELETE\r\n                  ATTACHMENT\r\n                </button>\r\n                &nbsp; &nbsp;\r\n\r\n                <button\r\n                  mat-raised-button\r\n                  class=\"button-red button-right\"\r\n                  (click)=\"uploadDocument()\"\r\n                  [disabled]=\"!safeURLMainDoc || !showMainDocumentUploadButton\"\r\n                  [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  *ngIf=\"showMainDocumentUploadButton\"\r\n                >\r\n                  <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                </button>\r\n              </div>\r\n              <div class=\"col-md-12\">\r\n                <hr />\r\n              </div>\r\n            </div>\r\n\r\n            <!-- SUPPORTING DOC -->\r\n            <div\r\n              class=\"row\"\r\n              [hidden]=\"\r\n                (isAscUser && isDisableFieldOnUpdate) ||\r\n                applicationStage === 'S2-APPLICATION' ||\r\n                (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                  s1Application?.internalStatus !== undefined)\r\n              \"\r\n              *ngIf=\"\r\n                showSupportDocumentFrameC ||\r\n                tempComplianceAttachmentDocuments?.length > 0 ||\r\n                ((s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n                  s1Application?.internalStatus ===\r\n                    'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                  s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                  s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n                  s1Application?.decisionStatus == 'INCOMPLETE')\r\n              \"\r\n            >\r\n              <h4>\r\n                <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n              </h4>\r\n\r\n              <!-- Display if no support document was attached -->\r\n              <div class=\"col-md-12\" appearance=\"outline\">\r\n                <mat-checkbox\r\n                  (click)=\"verifyNoDocumentAttached()\"\r\n                  [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n                  (checked)=\"(s1Application.hasNoSupportingDocs)\"\r\n                  formControlName=\"hasNoSupportingDocs\"\r\n                  [hidden]=\"\r\n                    tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                  \"\r\n                  *ngIf=\"\r\n                    currentUser.userRole.name == 'ROLE_APPLICANT' ||\r\n                    (currentUser.userRole.name == 'ROLE_ENCODER' &&\r\n                      s1Application?.internalStatus === undefined)\r\n                  \"\r\n                >\r\n                  I certify that no supporting document is attached to this S1\r\n                  application.</mat-checkbox\r\n                >\r\n                <br />\r\n              </div>\r\n\r\n              <p\r\n                *ngIf=\"\r\n                  (s1Application?.submissionType === 'COMPLIANCE' &&\r\n                    s1Application?.hasNoSupportingDocs &&\r\n                    s1Application?.internalStatus !== undefined &&\r\n                    s1Application?.internalStatus !==\r\n                      'S1_APPLICATION_REVIEWED' &&\r\n                    s1Application?.decisionStatus !== 'INCOMPLETE') ||\r\n                  (s1Application?.hasNoSupportingDocs &&\r\n                    applicationStage === 'S1-Preview')\r\n                \"\r\n              >\r\n                Supporting Document was not submitted.\r\n              </p>\r\n              <div class=\"col-md-12\"><br /></div>\r\n\r\n              <div *ngIf=\"!s1Application?.hasNoSupportingDocs\">\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label\r\n                    *ngIf=\"\r\n                      tempComplianceAttachmentDocuments?.length > 0 &&\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    >Filename:\r\n                  </mat-label>\r\n                  <input\r\n                    #supportiveInput\r\n                    matInput\r\n                    [value]=\"\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    disabled\r\n                    *ngIf=\"\r\n                      tempComplianceAttachmentDocuments?.length > 0 &&\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  /><br />\r\n\r\n                  <input\r\n                    #supportiveFile\r\n                    class=\"file-upload\"\r\n                    type=\"file\"\r\n                    accept=\".pdf\"\r\n                    (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      (isAscUser && isDisableFieldOnUpdate) ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                    *ngIf=\"\r\n                      tempComplianceAttachmentDocuments?.length <= 2 ||\r\n                      (tempComplianceAttachmentDocuments?.length == 2 &&\r\n                        tempComplianceAttachmentDocuments[1] === null) ||\r\n                      s1Application?.internalStatus == 'SAVED' ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename !=\r\n                        null ||\r\n                      ((s1Application?.internalStatus ==\r\n                        'S1_APPLICATION_REVIEWED' ||\r\n                        s1Application?.internalStatus ==\r\n                          'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                        s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n                        s1Application?.internalStatus ==\r\n                          'S1_APPLICATION_REJECTED') &&\r\n                        s1Application?.decisionStatus == 'INCOMPLETE')\r\n                    \"\r\n                  />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument('SUPPORTIVE', false)\"\r\n                    [hidden]=\"\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename ===\r\n                      null\r\n                    \"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButtonC ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n                    [hidden]=\"\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename ===\r\n                      null\r\n                    \"\r\n                    *ngIf=\"\r\n                      showSupportiveDocumentViewButtonC ||\r\n                      tempComplianceAttachmentDocuments[1]?.originalFilename\r\n                    \"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"uploadDocument()\"\r\n                    [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                    *ngIf=\"showSupportiveDocumentUploadButton\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n                  </button>\r\n                </div>\r\n                <div class=\"row\"><br /></div>\r\n                <br />\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"row\"><hr /></div>\r\n\r\n            <!---------- EXISTING ---------->\r\n            <div\r\n              class=\"row\"\r\n              *ngFor=\"let i of complianceAttachmentDocuments; let index = index\"\r\n            >\r\n              <div *ngIf=\"i !== null\">\r\n                <h4>\r\n                  <i class=\"material-icons\">bookmark</i> &nbsp;{{\r\n                    i?.attachmentType\r\n                      ?.replaceAll(\"SUPPORTIVE\", \"SUPPORTING\")\r\n                      ?.replaceAll(\"_\", \" \")\r\n                  }}\r\n                  DOCUMENT\r\n                </h4>\r\n                <br />\r\n                <div class=\"col-md-12\" appearance=\"outline\">\r\n                  <mat-label *ngIf=\"i?.originalFilename\">Filename: </mat-label>\r\n                  <input\r\n                    #mainInput\r\n                    matInput\r\n                    [value]=\"i?.originalFilename\"\r\n                    disabled\r\n                    *ngIf=\"i?.originalFilename\"\r\n                  /><br />\r\n                </div>\r\n\r\n                <div class=\"row\"><br /></div>\r\n                <div\r\n                  class=\"col-md-12\"\r\n                  appearance=\"outline\"\r\n                  *ngIf=\"\r\n                    showMainDocumentViewButton ||\r\n                    i?.mainAttachmentReference ||\r\n                    i?.supportingAttachmentReference ||\r\n                    i?.revisionLetterAttachmentReference\r\n                  \"\r\n                >\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"viewDocument(i.attachmentType)\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">open_in_new</i> VIEW\r\n                    DOCUMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                  <button\r\n                    mat-raised-button\r\n                    class=\"button-red button-right\"\r\n                    (click)=\"deleteUploadedFile2(i)\"\r\n                    *ngIf=\"i?.status === 'UNPROCESSED'\"\r\n                  >\r\n                    <i class=\"material-icons add-document\">delete</i> DELETE\r\n                    ATTACHMENT\r\n                  </button>\r\n                  &nbsp; &nbsp;\r\n                </div>\r\n                <div class=\"col-md-12\"><br /></div>\r\n                <div class=\"col-md-12\">\r\n                  <hr />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"no-record\"\r\n              *ngIf=\"complianceAttachmentDocuments?.length === 0\"\r\n            >\r\n              No existing attachments for compliance.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </mat-tab>\r\n      <!-- END OF TAB FOR COMPLIANCE -->\r\n    </mat-tab-group>\r\n  </form>\r\n</div>\r\n","import { USER_ROLES } from './../../../../shared/utils/constants';\r\nimport { Component, OnInit, Input } from '@angular/core';\r\nimport { S1Application, AttachmentDocument, Payment, PaymentType } from '@models';\r\nimport { ATTACHMENT_TYPE, ENDPOINTS, PAYMENT_STATUS, SUBMISSION_TYPE } from '@shared';\r\nimport { SweetAlertService, DataStorageService, ApiService } from '@services';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport Swal from 'sweetalert2';\r\nimport { FileStorageService } from '../../../../core/services/file.storage.service';\r\nimport { Router } from '@angular/router';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-upload-payment',\r\n  templateUrl: './upload-payment.component.html',\r\n  styleUrls: ['./upload-payment.component.scss']\r\n})\r\nexport class UploadPaymentComponent implements OnInit {\r\n  @Input() s1Application = new S1Application();\r\n  payment = new Payment();\r\n  safeURLProofOfPayment: any;\r\n  selectedFiles: any;\r\n  previewDocument = false;\r\n  attachmentDocument = new AttachmentDocument();\r\n  currentUser: any;\r\n  attachmentDocuments = [];\r\n  isSubmitted = false;\r\n  paymentTypeList = [];\r\n  paymentType : any;\r\n  paymentForm: FormGroup;\r\n\r\n  constructor(\r\n    private sanitizer: DomSanitizer,\r\n    private apiService: ApiService,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    console.log('Upload Payment');\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.getPaymentList();\r\n    this.setFormValidator();\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.paymentForm = this.formBuilder.group({\r\n      remarks: ['']\r\n    });\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n\r\n        // env.showSpinner = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadDocument(s1Application) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this PROOF OF PAYMENT?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.PAYMENT + '&submissionType=' + SUBMISSION_TYPE.ORIGINAL;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n        .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            console.log(obj);\r\n            this.s1Application.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.paymentAttachmentReference = obj.paymentAttachmentReference;\r\n            this.payment.amountDue = s1Application.amount;\r\n            this.payment.applicationForm = s1Application;\r\n            this.payment.appFormReference = s1Application.appFormReference;\r\n            this.payment.filename = obj.filename;\r\n            this.saveProofOfPayment();\r\n            // this.previewDocument = true;\r\n            this.selectedFiles = undefined;\r\n          }, (err: any) => {\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            // actions after subscription\r\n            this.dataStorage.setDisplayProgressbar(false);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  saveProofOfPayment() {\r\n    console.log('Saving payment...');\r\n    this.dataStorage.setDisplayProgressbar(true);\r\n    this.payment.paymentStatus = PAYMENT_STATUS.UNPAID;\r\n    this.s1Application.paymentStatus = PAYMENT_STATUS.UNPAID;\r\n    this.payment.id = 0;\r\n    this.payment.officialReceiptNo = '';\r\n    this.payment.paymentMethod = null;\r\n    console.log('PAYMENT : ', this.payment);\r\n    console.log('S1 ',this.s1Application);\r\n\r\nreturn false\r\n    this.apiService.save(`${ENDPOINTS.applicationFormPresentor}payment-type-id/${this.paymentType.id}/payment/submit`, this.payment)\r\n    .subscribe((res: any) => {\r\n        console.log('SAVED STATUS: ', res.responseData.data);\r\n\r\n      this.safeURLProofOfPayment = this.sanitizer.bypassSecurityTrustResourceUrl(res.responseData.data.fileURL);\r\n      this.router.navigate(['asc/page/application/s1/lists']);\r\n        this.isSubmitted = true;\r\n        this.sweetAlertService.customSuccessMessage('Proof of payment successfully submitted.');\r\n      }, (err) => {\r\n        console.log(err);\r\n        this.sweetAlertService.error(err);\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      }, () => {\r\n        this.dataStorage.setDisplayProgressbar(false);\r\n      });\r\n  }\r\n\r\n  getPaymentList() {\r\n    this.apiService.findAll(ENDPOINTS.paymentType).subscribe((res: any) => {\r\n      this.paymentTypeList = res.responseData.data;\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        const creditCardIndex = this.paymentTypeList\r\n          .findIndex((element) => element.paymentDescription === 'Credit Card');\r\n        this.paymentTypeList.splice(creditCardIndex, 1);\r\n      }\r\n    });\r\n  }\r\n  selectedPaymentType(res){\r\n    let pt = new PaymentType();\r\n    pt  = res;\r\n    this.paymentType = pt;\r\n  }\r\n\r\n}\r\n","\r\n  <div class=\"row fields\">\r\n    <h4>\r\n      <i class=\"material-icons\">label_important</i> &nbsp;Proof of Payment\r\n    </h4>\r\n    <br>\r\n    <div class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Filename: </mat-label><br>\r\n      <input class=\"file-upload\" type=\"file\" accept=\".pdf\" (change)=\"selectFile($event)\" [hidden]=\"isSubmitted==true\"><br><br>\r\n\r\n      <div class=\"col-md-10\">\r\n        <div class=\"col-md-5\" appearance=\"outline\">\r\n          <mat-label>Amount Due:</mat-label>\r\n            <input type=\"text\" [(ngModel)]=\"s1Application.amount\" class=\"form-control amountDue\" [disabled]=\"true\" name=\"amountDue\">\r\n        </div>\r\n        <br>\r\n        <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n          <mat-label>Payment Mode<span class=\"required-field\"> <mat-icon>notification_important</mat-icon>\r\n          </span></mat-label>\r\n          <mat-select [(ngModel)]=\"payment.paymentMethod\" name=\"paymentMethod\">\r\n            <mat-option *ngFor=\"let i of paymentTypeList\" [value]=\"i\" (click)=\"selectedPaymentType(i)\">\r\n              {{i.paymentDescription}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <br>\r\n        <form [formGroup]=\"paymentForm\">\r\n        <div class=\"col-md-12\" appearance=\"outline\">\r\n          <mat-label>Remarks:</mat-label>\r\n          <textarea width=\"20\"  height=\"20\" [(ngModel)]=\"payment.remarks\" class=\"form-control\" name=\"remarks\" formControlName=\"remarks\"></textarea>\r\n        </div>\r\n\r\n</form>\r\n\r\n      </div>\r\n      <br><br>\r\n      <!-- <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\" *ngIf=\"enableUploadButton==true\">\r\n        <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n      </button> -->\r\n    </div>\r\n    <div class=\"col-md-8\" appearance=\"outline\" *ngIf=\"previewDocument==true\">\r\n      <div class=\"file-upload\">\r\n        <object [data]=\"safeURLProofOfPayment\" type=\"application/pdf\" width=\"100%\" height=\"400\">\r\n          <iframe [src]=\"safeURLProofOfPayment\" width=\"100%\" height=\"400\">\r\n            <p>This browser does not support PDF!</p>\r\n          </iframe>\r\n        </object>\r\n      </div>\r\n    </div>\r\n    <div class=\"row\"><br></div>\r\n    <div class=\"col-md-12\" appearance=\"outline\" [hidden]=\"isSubmitted==true\">\r\n        <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument(s1Application)\" *ngIf=\"previewDocument==true\" [disabled]=\"!paymentType\">\r\n            <i class=\"material-icons add-document\">save</i> SUBMIT\r\n        </button>\r\n    </div>\r\n    <div class=\"row\"><br></div>\r\n  </div>\r\n","import { Component, ElementRef, Inject, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { S1Application } from '@models';\r\nimport { ApiService, DataStorageService } from '@services';\r\nimport { APPFORM_TYPE, ENDPOINTS, FORM_TYPE } from '@shared';\r\nimport { NumberOfMultipleApplicationAllowed } from 'app/core/models/numberOfMultipleApplicationAllowed.model';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-s1-form-type',\r\n  templateUrl: './s1-form-type.component.html',\r\n  styleUrls: ['./s1-form-type.component.scss']\r\n})\r\nexport class S1FormTypeComponent implements OnInit {\r\n\r\n  s1Application = new S1Application();\r\n  numberOfMultipleApplicationAllowed = new NumberOfMultipleApplicationAllowed();\r\n  applicationTypeList = [];\r\n  formTypeList = [...FORM_TYPE];\r\n\r\n  s1ApplicationForm: FormGroup;\r\n\r\n  numberOfApplications: number;\r\n  showNumberOfApplications = false;\r\n  isMultiple = false;\r\n  isSpecial = false;\r\n  isPresentation = false;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private dataStorage: DataStorageService,\r\n    private dialog: MatDialog,\r\n    @Optional() public dialogRef: MatDialogRef<S1FormTypeComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.setFormValidator('');\r\n    this.getApplicationTypeList();\r\n    this.s1Application.formType = 'INDIVIDUAL';\r\n    this.getNoOfMultipleApplicationsAllowed();\r\n  }\r\n\r\n  getNoOfMultipleApplicationsAllowed(): void {\r\n    this.apiService.findAll(ENDPOINTS.noOfMultipleApplicationAllowed).subscribe((res: any) => {\r\n      this.numberOfMultipleApplicationAllowed = res.responseData.data[0];\r\n    });\r\n  }\r\n\r\n  getApplicationTypeList() {\r\n    this.s1Application.applicationType = null;\r\n    this.applicationTypeList = [];\r\n    this.apiService.findAll(ENDPOINTS.applicationType).subscribe((res: any) => {\r\n      this.applicationTypeList = res.responseData.data;\r\n    });\r\n  }\r\n\r\n  setAsMultiple() {\r\n    this.isMultiple = !this.isMultiple;\r\n    this.showNumberOfApplications = !this.showNumberOfApplications;\r\n    if (this.isMultiple) {\r\n      this.s1Application.formType = APPFORM_TYPE.MULTIPLE;\r\n      this.setFormValidator('multiple')\r\n    } else {\r\n      this.setFormValidator('');\r\n      this.s1Application.formType = APPFORM_TYPE.INDIVIDUAL;\r\n    }\r\n  }\r\n\r\n  checkType() {\r\n    if (this.s1Application.applicationType.description.toLocaleLowerCase().includes('special')) {\r\n      this.isSpecial = true;\r\n    } else {\r\n      this.isSpecial = false;\r\n    }\r\n\r\n    if (this.isMultiple) {\r\n      this.setFormValidator('multiple');\r\n    }\r\n\r\n  }\r\n\r\n  setFormValidator(apptype): void {\r\n    let formtype;\r\n    if (this.s1Application.formType) {\r\n      formtype = this.s1Application.formType;\r\n    }\r\n\r\n    if (apptype === 'multiple') {\r\n      this.s1ApplicationForm = this.formBuilder.group({\r\n        formType: [formtype, Validators.required],\r\n        applicationType: [this.s1Application.applicationType, Validators.required],\r\n        numberOfApplications: [\r\n          '', [\r\n            Validators.required,\r\n            Validators.min(parseInt(this.numberOfMultipleApplicationAllowed.minimum.toString(), null)),\r\n            Validators.max(parseInt(this.numberOfMultipleApplicationAllowed.maximum.toString(), null))\r\n          ]\r\n        ],\r\n      });\r\n    } else {\r\n      this.s1ApplicationForm = this.formBuilder.group({\r\n        applicationType: [this.s1Application.applicationType, Validators.required],\r\n      });\r\n      this.showNumberOfApplications = false;\r\n    }\r\n  }\r\n\r\n  proceedS1Application(): void {\r\n    if (!this.isMultiple) {\r\n      Swal.fire({\r\n        text: 'Note: The application to be created is an individual application',\r\n        icon: 'info',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'PROCEED'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.navigateToS1Application();\r\n        }\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.navigateToS1Application();\r\n  }\r\n\r\n  navigateToS1Application(): void {\r\n    this.router.navigate(['/asc/page/application/s1/add']);\r\n    const formAndAppType = {\r\n      formType: this.s1Application.formType,\r\n      appType: this.s1Application.applicationType\r\n    }\r\n\r\n    this.dataStorage.setS1FormAndAppType(formAndAppType);\r\n    this.dataStorage.setNumberOfApplications(this.numberOfApplications);\r\n    this.closeModal();\r\n  }\r\n\r\n  setAsForPresentation() {\r\n    this.isPresentation = !this.isPresentation;\r\n    if (this.isPresentation) {\r\n      Swal.fire({\r\n        text: 'Note: Please be present or available during presentation period.',\r\n        icon: 'info',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'PROCEED'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.s1Application.formType = APPFORM_TYPE.FOR_PRESENTATION;\r\n          this.proceedS1Application();\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<div id=\"form-type-modal\" class=\"row\" [formGroup]=\"s1ApplicationForm\">\r\n    <h1>New S1 Application</h1>\r\n    <hr>\r\n    <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <mat-select [(ngModel)]=\"s1Application.applicationType\" name=\"applicationType\" formControlName=\"applicationType\"\r\n            [disabled]=\"s1Application?.internalStatus!='SAVED'&&s1Application?.internalStatus!=undefined\" (selectionChange)=\"checkType()\">\r\n            <mat-option *ngFor=\"let i of applicationTypeList\" [value]=\"i\">\r\n                {{i?.description | uppercase}}\r\n            </mat-option>\r\n        </mat-select>\r\n    </mat-form-field>\r\n\r\n    <div class=\"col-md-6\">\r\n      <mat-checkbox (click)=\"setAsMultiple()\" [disabled]=\"isPresentation || s1Application.applicationType === null || s1Application.applicationType === undefined\"\r\n      [ngStyle]=\"{'pointer-events': (isPresentation || s1Application.applicationType === null || s1Application.applicationType === undefined) ? 'none' : ''}\">\r\n      Multiple Application</mat-checkbox>\r\n    </div>\r\n    <div class=\"col-md-6\">\r\n      <mat-checkbox  (click)=\"setAsForPresentation()\" [disabled]=\"isMultiple || (s1Application.applicationType === null || s1Application.applicationType === undefined)\"\r\n      [ngStyle]=\"{'pointer-events': (isMultiple || (s1Application.applicationType === null || s1Application.applicationType === undefined ) ) ? 'none' : ''}\"\r\n      >For Presentation</mat-checkbox>\r\n    </div>\r\n\r\n    <!-- <mat-form-field class=\"col-md-12\" appearance=\"outline\" *ngIf=\"isMultiple\">\r\n      <mat-label>Form Type</mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.formType\" name=\"formType\" formControlName=\"formType\"\r\n      [disabled]=\"s1Application?.internalStatus!='SAVED'&&s1Application?.internalStatus!=undefined\">\r\n      <mat-option *ngFor=\"let i of formTypeList\" [value]=\"i.description\" (click)=\"getApplicationTypeList()\">\r\n        {{i?.description | uppercase}}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field> -->\r\n\r\n  <mat-form-field class=\"col-md-12\" appearance=\"outline\" *ngIf=\"showNumberOfApplications && s1Application?.applicationType?.description\">\r\n    <mat-label>Number of Applications</mat-label>\r\n    <input matInput [(ngModel)]=\"numberOfApplications\" formControlName=\"numberOfApplications\">\r\n    <mat-hint>{{numberOfMultipleApplicationAllowed.minimum}} - {{numberOfMultipleApplicationAllowed.maximum}} only</mat-hint>\r\n  </mat-form-field>\r\n\r\n  <div class=\"col-md-12 mt-2\" *ngIf=\"isMultiple||isSpecial\">\r\n    <i>Note: This application type needs Request for Approval.</i>\r\n  </div>\r\n\r\n  <div class=\"col-md-12\"><br></div>\r\n\r\n  <div class=\"col-md-12 action_items\">\r\n    <button class=\"button-red col-md-5\" mat-raised-button\r\n            (click)=\"proceedS1Application()\" [disabled]=\"!s1ApplicationForm.valid||!s1Application.applicationType\">\r\n            <i class=\"material-icons color__white\">send</i> Proceed\r\n        </button>\r\n\r\n        <button class=\"button-red col-md-5\" mat-raised-button (click)=\"closeModal()\">\r\n            <i class=\"material-icons color__white\">cancel</i> Cancel\r\n        </button>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ReassignmentComponent } from './reassignment.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ReassignmentComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ReassignmentRoutingModule { }\r\n","import { AngularEditorConfig } from './../editor/lib/config';\r\nimport { CommentThread } from './../../../../core/models/comments.model';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Component, Inject, Input, OnInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { COMMENT_TYPE, APPFORM_TYPE, APPLICATION_STAGE, APPLICATION_STATUS_FOR_COMPLIANCE, APPLICATION_STATUS } from '@shared';\r\nimport { S1Application, S2Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\nimport Swal from 'sweetalert2';\r\nimport { Comment } from '../../../../core/models/comment.model';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CopyClaims } from 'app/core/models/copy-claims.model';\r\nimport { MatDialog, MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\n\r\n@Component({\r\n  selector: 'app-comment',\r\n  templateUrl: './comment.component.html',\r\n  styleUrls: ['./comment.component.scss']\r\n})\r\nexport class CommentComponent implements OnInit {\r\n  @Input() commentS1Application = new S1Application();\r\n  @Input() commentS2Application = new S2Application();\r\n  @Input() sampleDataTransfer;\r\n\r\n\r\n  comment = new Comment();\r\n  internalComment:CommentThread = new CommentThread();\r\n  externalComment:CommentThread = new CommentThread();\r\n  copyClaims = new CopyClaims();\r\n  commentForm: FormGroup;\r\n  todayDate: Date = new Date();\r\n  commentList = [];\r\n  internalCommentList:Array<CommentThread> = new Array<CommentThread>();\r\n  externalCommentList:Array<CommentThread> = new Array<CommentThread>();\r\n  replyInternalComment:CommentThread = new CommentThread();\r\n  copyClaimsList = [];\r\n  commentId: number = 0;\r\n  commentTypeList = [...COMMENT_TYPE];\r\n  commentType = '';\r\n  applicationStage: string;\r\n  internalCommentProcess = 'Save';\r\n  externalCommentProcess = 'Save';\r\n  copyClaimesProcess = 'Save';\r\n  id: any;\r\n  commentHtmlOutput: string;\r\n  disabledComment = false;\r\n\r\n  currentUser: any;\r\n  editCopyClaimsComment = false;\r\n  editExternalComment = false;\r\n\r\n  replyEditorConfig: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '13m',\r\n    minHeight: '0',\r\n    maxHeight: 'auto',\r\n    width: 'auto',\r\n    minWidth: '0',\r\n    translate: 'no',\r\n    enableToolbar: true,\r\n    showToolbar: true,\r\n    placeholder: 'Enter reply here...',\r\n    defaultParagraphSeparator: 'p',\r\n    defaultFontName: 'Calibri',\r\n    defaultFontSize: '3',\r\n    fonts: [\r\n      { class: 'arial', name: 'Arial' },\r\n      { class: 'times-new-roman', name: 'Times New Roman' },\r\n      { class: 'calibri', name: 'Calibri' },\r\n      { class: 'comic-sans-ms', name: 'Comic Sans MS' }\r\n    ],\r\n\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    uploadUrl: 'v1/image',\r\n    // upload: (file: File) => { ... }\r\n    uploadWithCredentials: false,\r\n    sanitize: true,\r\n    toolbarPosition: 'top',\r\n    toolbarHiddenButtons: [\r\n      ['link',\r\n        'unlink',\r\n        'insertImage',\r\n        'insertVideo',],\r\n    ]\r\n  }\r\n\r\n  editorConfig: AngularEditorConfig = {\r\n    editable: true,\r\n    spellcheck: true,\r\n    height: '15em',\r\n    minHeight: '0',\r\n    maxHeight: 'auto',\r\n    width: 'auto',\r\n    minWidth: '0',\r\n    translate: 'no',\r\n    enableToolbar: true,\r\n    showToolbar: true,\r\n    placeholder: 'Enter text here...',\r\n    defaultParagraphSeparator: 'p',\r\n    defaultFontName: 'Calibri',\r\n    defaultFontSize: '3',\r\n    fonts: [\r\n      { class: 'arial', name: 'Arial' },\r\n      { class: 'times-new-roman', name: 'Times New Roman' },\r\n      { class: 'calibri', name: 'Calibri' },\r\n      { class: 'comic-sans-ms', name: 'Comic Sans MS' }\r\n    ],\r\n\r\n    customClasses: [\r\n      {\r\n        name: 'quote',\r\n        class: 'quote',\r\n      },\r\n      {\r\n        name: 'redText',\r\n        class: 'redText'\r\n      },\r\n      {\r\n        name: 'titleText',\r\n        class: 'titleText',\r\n        tag: 'h1',\r\n      },\r\n    ],\r\n    uploadUrl: 'v1/image',\r\n    // upload: (file: File) => { ... }\r\n    uploadWithCredentials: false,\r\n    sanitize: true,\r\n    toolbarPosition: 'top',\r\n    toolbarHiddenButtons: [\r\n      ['link',\r\n        'unlink',\r\n        'insertImage',\r\n        'insertVideo',],\r\n    ]\r\n  };\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private dataStorageService: DataStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private apiService: ApiService,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private dialog: MatDialog,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n\r\n    this.setFormValidator();\r\n    this.id = Number(this.route.snapshot.paramMap.get('id'));\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    console.log(this.applicationStage);\r\n\r\n    if ((!this.commentS1Application.screenerDecisionComment && !this.commentS1Application.reviewerDecisionComment &&\r\n      (this.commentS1Application.releaseStatus === 'FOR_RELEASE' || this.commentS1Application.releaseStatus === 'RELEASED') &&\r\n      this.currentUser.userRole.name !== 'ROLE_REVIEWER')\r\n      || this.commentS1Application.internalStatus === APPLICATION_STATUS.S1_APPLICATION_REJECTED) {\r\n      this.disabledComment = true;\r\n    }\r\n\r\n\r\n    // if(this.applicationStage != APPLICATION_STAGE.S2_APPLICATION){\r\n    //     this.getComments('');\r\n    // }\r\n    this.getComments();\r\n    this.getCopyClaims();\r\n  }\r\n\r\n  addInternalComment(comment: CommentThread): void {\r\n    let endpoint;\r\n    if (this.applicationStage === APPLICATION_STAGE.S2_APPLICATION) {\r\n      endpoint = ENDPOINTS.commentS2\r\n      this.internalComment.applicationFormType = APPFORM_TYPE.S2;\r\n      this.internalComment.applicationFormS2 = this.commentS2Application;\r\n      console.log('S2 Comment Object', this.internalComment);\r\n    } else {\r\n      endpoint = ENDPOINTS.comment\r\n      this.internalComment.applicationFormType = APPFORM_TYPE.S1;\r\n      this.internalComment.appFormReference = this.commentS1Application.appFormReference;\r\n      console.log('S1 Comment Object', this.internalComment);\r\n    }\r\n\r\n    if (this.internalCommentProcess === 'Save') {\r\n      this.spinner.show();\r\n      comment.actionBy = this.currentUser;\r\n      comment.role = this.dataStorageService.getUserRole();\r\n      comment.actionDate = new Date();\r\n      comment.commentType = 'INTERNAL';\r\n      comment.comment = this.setHtml5Value(comment.comment);\r\n      this.internalCommentList.push(comment);\r\n\r\n      this.apiService.save(endpoint, comment).subscribe(\r\n        (res: any) => {\r\n          console.log('RES', res);\r\n          if (res !== undefined) {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('Internal Comment has been added!');\r\n            this.internalComment = new CommentThread();\r\n            this.getComments();\r\n            this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n          }\r\n        }, (err: any) => {\r\n          this.spinner.hide();\r\n          console.log('errrrrrrrr:::', err);\r\n\r\n          this.sweetAlertService.error(err);\r\n        }, () => {\r\n          this.spinner.hide();\r\n          this.comment = new Comment();\r\n        })\r\n\r\n    } else {\r\n      let dateTransformed = this.datepipe.transform(new Date(), 'yyyy-MM-dd')\r\n\r\n      Swal.fire({\r\n        text: 'Are you sure you want to update this comment?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          // this.internalComment.modifiedBy = this.currentUser.username\r\n          // this.internalComment.modifiedDate = new Date();\r\n          this.internalComment.comment = this.setHtml5Value(this.internalComment.comment);\r\n          this.apiService.update(endpoint, this.internalComment).subscribe(\r\n            (res: any) => {\r\n              // this.internalCommentList = res.responseData.data;\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage('Internal Comment has been Updated!');\r\n              this.internalComment = new CommentThread();\r\n              this.internalCommentProcess = 'Save';\r\n              this.getComments();\r\n              this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  sendReply(comment: CommentThread){\r\n    \r\n    console.log(this.replyInternalComment)\r\n    // this.replyInternalComment.parent = comment;\r\n    this.replyInternalComment.isReply = true;\r\n    this.replyInternalComment.parentId = comment.id;\r\n    this.addInternalComment(this.replyInternalComment);\r\n\r\n  }\r\n  cancelReply(comment: CommentThread){\r\n    comment = new CommentThread();\r\n    comment.replyEditorIsEnabled = false;\r\n  }\r\n\r\n  addExternalComment(): void {\r\n    let endpoint;\r\n    if (this.applicationStage === APPLICATION_STAGE.S2_APPLICATION) {\r\n      endpoint = ENDPOINTS.commentS2\r\n      this.externalComment.applicationFormType = APPFORM_TYPE.S2;\r\n      this.externalComment.applicationFormS2 = this.commentS2Application;\r\n    } else {\r\n      endpoint = ENDPOINTS.comment\r\n      this.externalComment.applicationFormType = APPFORM_TYPE.S1;\r\n      this.externalComment.appFormReference = this.commentS1Application.appFormReference;\r\n    }\r\n\r\n    if (this.externalCommentProcess === 'Save') {\r\n      this.spinner.show();\r\n      this.externalComment.actionBy = this.currentUser;\r\n      this.externalComment.role = this.dataStorageService.getUserRole();\r\n      this.externalComment.actionDate = new Date();\r\n      this.externalComment.commentType = 'EXTERNAL';\r\n      this.externalComment.comment = this.setHtml5Value(this.externalComment.comment);\r\n      this.externalCommentList.push(this.externalComment);\r\n\r\n      this.apiService.save(endpoint, this.externalComment).subscribe(\r\n        (res: any) => {\r\n          if (res !== undefined) {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('External Comment has been added!');\r\n            this.externalComment = new CommentThread();\r\n            this.editExternalComment = false;\r\n            this.getComments();\r\n            this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n          }\r\n        }, (err: any) => {\r\n          this.spinner.hide();\r\n          console.log('errrrrrrrr:::', err);\r\n\r\n          this.sweetAlertService.error(err);\r\n        }, () => {\r\n          this.spinner.hide();\r\n          this.comment = new Comment();\r\n        })\r\n\r\n    } else {\r\n      let dateTransformed = this.datepipe.transform(new Date(), 'yyyy-MM-dd')\r\n\r\n      Swal.fire({\r\n        text: 'Are you sure you want to update this comment?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          // this.externalComment.modifiedBy = this.currentUser.username;\r\n          // this.externalComment.modifiedDate = new Date();\r\n          this.externalComment.comment = this.setHtml5Value(this.externalComment.comment);\r\n          this.apiService.update(endpoint, this.externalComment).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              // this.externalCommentList = res.responseData.data;\r\n              this.sweetAlertService.customSuccessMessage('External Comment has been Updated!');\r\n              this.externalComment = new CommentThread();\r\n              this.externalCommentProcess = 'Save'\r\n              this.editExternalComment = false;\r\n              this.getComments();\r\n              this.getCommentsS2(res.responseData.data.applicationFormS2);\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  addCopyClaims(): void {\r\n    if (this.copyClaimesProcess === 'Save') {\r\n      this.spinner.show();\r\n      this.copyClaims.actionBy = this.currentUser;\r\n      this.copyClaims.role = this.dataStorageService.getUserRole();\r\n      this.copyClaims.actionDate = new Date();\r\n      this.copyClaims.appFormReference = this.commentS1Application.appFormReference;\r\n      this.copyClaims.description = this.setHtml5Value(this.copyClaims.description);\r\n\r\n      this.apiService.save(ENDPOINTS.copyClaims, this.copyClaims).subscribe(\r\n        (res: any) => {\r\n          if (res !== undefined) {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('Copy claims description has been added!');\r\n            this.copyClaims = new CopyClaims();\r\n            this.getCopyClaims();\r\n            this.editCopyClaimsComment = false;\r\n          }\r\n        }, (err: any) => {\r\n          this.spinner.hide();\r\n          // console.log('errrrrrrrr:::', err);\r\n\r\n          this.sweetAlertService.error(err);\r\n        }, () => {\r\n          this.spinner.hide();\r\n          this.copyClaims = new CopyClaims();\r\n        })\r\n    } else {\r\n      Swal.fire({\r\n        text: 'Are you sure you want to update copy claim?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          this.copyClaims.description = this.setHtml5Value(this.copyClaims.description);\r\n          this.apiService.update(ENDPOINTS.copyClaims, this.copyClaims).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage('Copy claims description has been Updated!');\r\n              this.copyClaims = new CopyClaims();\r\n              this.copyClaimesProcess = 'Save'\r\n              this.editCopyClaimsComment = false;\r\n              this.getCopyClaims();\r\n\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  getComments(): void { // comments for S1\r\n    if (this.commentS1Application) {\r\n      this.apiService.findByParam(ENDPOINTS.comment + '/app-form-reference', this.commentS1Application.appFormReference).subscribe(\r\n        (res: any) => {\r\n          this.commentList = res.responseData.data;\r\n          // get internal comments\r\n          this.internalCommentList = this.commentList.filter(internalComment => internalComment.commentType === 'INTERNAL');\r\n          console.log('INTERNAL', this.internalCommentList);\r\n          // get external comments\r\n          this.externalCommentList = this.commentList.filter(externalComment => externalComment.commentType === 'EXTERNAL');\r\n          console.log('EXTERNAL', this.externalCommentList);\r\n          this.spinner.hide();\r\n        }, (err: any) => {\r\n        });\r\n    }\r\n  }\r\n\r\n  getCommentsS2(data): void { // comments for S2\r\n    if (data) {\r\n      this.apiService.findByParam(ENDPOINTS.commentS2 + '/application-form-s2', data.id).subscribe(\r\n        (res: any) => {\r\n          this.commentList = res.responseData.data;\r\n          // get internal comments\r\n          this.internalCommentList = this.commentList.filter(internalComment => internalComment.commentType === 'INTERNAL');\r\n          // get external comments\r\n          this.externalCommentList = this.commentList.filter(externalComment => externalComment.commentType === 'EXTERNAL');\r\n        }, (err: any) => {\r\n        });\r\n    }\r\n  }\r\n\r\n  getCopyClaims(): void {\r\n    this.apiService.findByParam(ENDPOINTS.copyClaims + '/app-form-reference', this.commentS1Application.appFormReference).subscribe(\r\n      (res: any) => {\r\n        this.copyClaimsList = res.responseData.data;\r\n      }, (err: any) => {\r\n      });\r\n  }\r\n\r\n  modifyCopyClaims(data) {\r\n    this.copyClaimesProcess = 'Update';\r\n    this.copyClaims = data;\r\n    this.editCopyClaimsComment = true;\r\n    this.getCopyClaims();\r\n  }\r\n\r\n  modifyInternalComment(data): void {\r\n    this.internalCommentProcess = 'Update';\r\n    this.internalComment = data;\r\n    this.getComments();\r\n    this.getCommentsS2(data);\r\n  }\r\n\r\n  deleteComment(data): void {\r\n    let endpoint;\r\n    if (this.applicationStage === APPLICATION_STAGE.S2_APPLICATION) {\r\n      endpoint = ENDPOINTS.commentS2\r\n    } else {\r\n      endpoint = ENDPOINTS.comment\r\n    }\r\n    Swal.fire({\r\n      text: 'Are you sure you want to delete this comment?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService.deleteById(endpoint, data.id).subscribe(\r\n          (res: any) => {\r\n            if (data?.applicationFormType === 'S1') {\r\n              this.getComments();\r\n            } else {\r\n              this.getCommentsS2(data);\r\n            }\r\n            this.sweetAlertService.customSuccessMessage('Comment has been Deleted!');\r\n          }, (err: any) => {\r\n            this.spinner.hide()\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteCopyClaims(data): void {\r\n\r\n    Swal.fire({\r\n      text: 'Are you sure you want to delete this copy claims?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.apiService.deleteById(ENDPOINTS.copyClaims, data.id).subscribe(\r\n          (res: any) => {\r\n            this.sweetAlertService.customSuccessMessage('Copy claim has been Deleted!');\r\n            this.getCopyClaims();\r\n          }, (err: any) => {\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  modifyExternalComment(data): void {\r\n    this.externalCommentProcess = 'Update';\r\n    this.externalComment = data;\r\n    this.editExternalComment = true;\r\n    this.getComments();\r\n    this.getCommentsS2(data);\r\n  }\r\n\r\n  cancel(): void {\r\n    this.internalComment = new CommentThread();\r\n    this.externalComment = new CommentThread();\r\n    this.copyClaims = new CopyClaims();\r\n    this.internalCommentProcess = 'Save';\r\n    this.externalCommentProcess = 'Save';\r\n    this.copyClaimesProcess = 'Save';\r\n    this.editCopyClaimsComment = false;\r\n    this.editExternalComment = false;\r\n    this.getComments();\r\n    this.getCopyClaims();\r\n\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.commentForm = this.formBuilder.group({\r\n      internalComments: [''],\r\n      externalComments: [''],\r\n      commentType: [''],\r\n      description: [''],\r\n    });\r\n  }\r\n\r\n  setHtml5Value(commentBody: any) {\r\n    this.commentHtmlOutput = \"<!DOCTYPE html><html lang=\" + \"en\" + \"><meta charset=\" + \"utf-8\" + \"><body>\" + commentBody + \"</body></html>\"\r\n    return this.commentHtmlOutput;\r\n  }\r\n\r\n}\r\n","<form [formGroup]=\"commentForm\">\r\n  <mat-tab-group mat-align-tabs=\"center\" class=\"mat-tab-group\">\r\n    <!-- TAB FOR INTERNAL COMMENTS -->\r\n    <mat-tab label=\"Internal Comments Tab\">\r\n      <div class=\"mat-tab\">\r\n        <div class=\"col comment\">\r\n          <label>INTERNAL</label>\r\n          <angular-editor #editorToolBar [(ngModel)]=\"internalComment.comment\" [config]=\"editorConfig\" name=\"internalComments\"\r\n          formControlName=\"internalComments\"\r\n          [hidden]=\"disabledComment\"></angular-editor><br>\r\n\r\n          <div class=\"\">\r\n            <button mat-raised-button color=\"primary\" (click)=\"addInternalComment(internalComment)\" [disabled]=\"!internalComment.comment\"\r\n            [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">comment_bank</i> &nbsp;{{internalCommentProcess}}\r\n            </button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"cancel()\" [disabled]=\"!internalComment.comment\"\r\n            [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">cancel</i> &nbsp;Cancel\r\n            </button>\r\n            <div >\r\n              <!-- CURRENT COMMENT -->\r\n              <div class=\"comment-list\">\r\n                <form class=\"comments\" *ngFor=\"let comment of internalCommentList\">\r\n                  <div class=\"row username-content\">\r\n                    <p> <i class=\"material-icons\">comment</i> {{comment?.actionBy?.firstName}}\r\n                      {{comment.actionBy.lastName}}<b> ({{comment.role.replaceAll('_', ' ').replaceAll('ROLE' , '')}}) |\r\n                        {{comment.actionDate | date:'fullDate'}} | {{comment.actionDate | date:'hh:mm:ss aa'}} </b>\r\n  \r\n                      <b *ngIf=\"comment?.modifiedBy != undefined && comment?.modifiedDate != undefined\"> | Modified by:\r\n                        {{comment.modifiedBy}} ({{comment.modifiedDate}}) </b>\r\n  \r\n                      <span class=\"a-icon\" *ngIf=\"comment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                      [hidden]=\"disabledComment\">\r\n                        <i class=\"material-icons\" (click)=\"deleteComment(comment)\" matTooltip=\"Delete\">delete</i>\r\n                      </span>\r\n                      <span class=\"a-icon\" *ngIf=\"comment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                        [hidden]=\"disabledComment\">\r\n                        <i class=\"material-icons\" style=\"color:blue\" (click)=\"modifyInternalComment(comment)\" matTooltip=\"Edit\">edit</i>\r\n                      </span>\r\n  \r\n                    </p>\r\n                  </div>\r\n                  <div class=\"comment-content\">\r\n                    <div [innerHTML]=\"comment.comment\"></div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n\r\n\r\n              <!-- CURRENT COMMENT END -->\r\n\r\n              <!-- NEW COMMENT IMPL -->\r\n              \r\n              <!-- NEW COMMENT IMPL END -->\r\n              <div class=\"no-record\" *ngIf=\"internalCommentList.length==0 && disabledComment\">\r\n                No results found.\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n    <!-- END OF TAB FOR INTERNAL COMMENTS -->\r\n\r\n    <!-- TAB FOR COPY CLAIMS -->\r\n    <mat-tab label=\"Copy Claims Tab\"\r\n      *ngIf=\"currentUser?.userRole?.name != 'ROLE_ENCODER' && commentS1Application.appliedS2 === false\">\r\n      <div class=\"col comment\">\r\n        <label>COPY/CLAIMS</label>\r\n        <div class=\"\">\r\n          <ng-container *ngIf=\"editCopyClaimsComment || (!editCopyClaimsComment && copyClaimsList?.length === 0)\">\r\n            <angular-editor [(ngModel)]=\"copyClaims.description\" [config]=\"editorConfig\" name=\"description\"\r\n              formControlName=\"description\"\r\n              [hidden]=\"disabledComment\">\r\n            </angular-editor><br>\r\n            <button mat-raised-button color=\"primary\" (click)=\"addCopyClaims()\" [disabled]=\"!copyClaims.description\"\r\n              [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">comment_bank</i> &nbsp;{{copyClaimesProcess}}\r\n            </button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"cancel()\" [disabled]=\"!copyClaims.description\"\r\n              [hidden]=\"disabledComment\">\r\n              <i class=\"material-icons color__white\">cancel</i> &nbsp;Cancel\r\n            </button>\r\n          </ng-container>\r\n          <div class=\"comment-list\">\r\n            <form class=\"comments\" *ngFor=\"let copyClaims of copyClaimsList\">\r\n              <div class=\"row username-content\">\r\n                <p> <i class=\"material-icons color__white\">comment</i> {{copyClaims?.actionBy?.firstName}}\r\n                  {{copyClaims.actionBy.lastName}}<b> ({{copyClaims.role.replaceAll('_', ' ').replaceAll('ROLE', '')}})\r\n                    | {{copyClaims.actionDate | date:'fullDate'}} | {{copyClaims.actionDate | date:'hh:mm:ss aa'}} </b>\r\n\r\n                    <b *ngIf=\"copyClaims?.modifiedBy != undefined && copyClaims?.modifiedDate != undefined\"> | Modified by:\r\n                      {{copyClaims.modifiedBy}} ({{copyClaims.modifiedDate}}) </b>\r\n\r\n                    <!-- <span class=\"a-icon\" *ngIf=\"copyClaims?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                    [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" (click)=\"deleteCopyClaims(copyClaims)\" matTooltip=\"Delete\">delete</i>\r\n                    </span> -->\r\n                    <span class=\"a-icon\" *ngIf=\"copyClaims?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                      [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" style=\"color:blue\" (click)=\"modifyCopyClaims(copyClaims)\" matTooltip=\"Edit\">edit</i>\r\n                    </span>\r\n              </div>\r\n              <div class=\"comment-content\">\r\n                <div [innerHTML]=\"copyClaims.description\"></div>\r\n              </div>\r\n            </form>\r\n            <div class=\"no-record\"\r\n              *ngIf=\"copyClaimsList.length==0 && disabledComment\">\r\n              No results found.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n    <!-- END OF TAB FOR COPY CLAIMS -->\r\n\r\n    <!-- TAB FOR EXTERNAL COMMENTS -->\r\n    <mat-tab label=\"External Comments Tab\">\r\n      <div class=\"col comment\">\r\n        <label>EXTERNAL</label>\r\n        <div class=\"\">\r\n          <ng-container *ngIf=\"editExternalComment || (!editExternalComment && externalCommentList?.length === 0)\">\r\n            <angular-editor [(ngModel)]=\"externalComment.comment\" [config]=\"editorConfig\" name=\"externalComments\"\r\n              formControlName=\"externalComments\"\r\n              [hidden]=\"commentS2Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              (disabledComment)\">\r\n            </angular-editor><br>\r\n            <button mat-raised-button color=\"primary\" (click)=\"addExternalComment()\" [disabled]=\"!externalComment.comment\"\r\n              [hidden]=\"commentS2Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              (disabledComment)\">\r\n              <i class=\"material-icons\">comment_bank</i> &nbsp;{{externalCommentProcess}}\r\n            </button>\r\n            <button mat-raised-button color=\"primary\" (click)=\"cancel()\" [disabled]=\"!externalComment.comment\"\r\n              [hidden]=\"commentS2Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              (disabledComment)\">\r\n              <i class=\"material-icons\">cancel</i> &nbsp;Cancel\r\n            </button>\r\n          </ng-container>\r\n          <div class=\"comment-list\">\r\n            <form class=\"comments\" *ngFor=\"let excomment of externalCommentList\">\r\n              <div class=\"row username-content\">\r\n                <p> <i class=\"material-icons\">comment</i> {{excomment?.actionBy?.firstName}}\r\n                  {{excomment.actionBy.lastName}}<b> ({{excomment.role.replaceAll('_', ' ').replaceAll('ROLE' , '')}}) |\r\n                    {{excomment.actionDate | date:'fullDate'}} | {{excomment.actionDate | date:'hh:mm:ss aa'}} </b>\r\n\r\n                    <b *ngIf=\"excomment?.modifiedBy != undefined && excomment?.modifiedDate != undefined\"> | Modified by:\r\n                      {{excomment.modifiedBy}} ({{excomment.modifiedDate}}) </b>\r\n\r\n                    <!-- <span class=\"a-icon\" *ngIf=\"excomment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                    [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" (click)=\"deleteComment(excomment)\" matTooltip=\"Delete\">delete</i>\r\n                    </span> -->\r\n                    <span class=\"a-icon\" *ngIf=\"excomment?.actionBy?.id === currentUser?.id || currentUser?.userRole?.name === 'ROLE_REVIEWER'\"\r\n                      [hidden]=\"disabledComment\">\r\n                      <i class=\"material-icons\" style=\"color:blue\" (click)=\"modifyExternalComment(excomment)\" matTooltip=\"Edit\">edit</i>\r\n                    </span>\r\n                  </p>\r\n              </div>\r\n              <div class=\"comment-content\">\r\n                <div class=\"inner-html\" [innerHTML]=\"excomment.comment\"></div>\r\n              </div>\r\n            </form>\r\n            <div class=\"no-record\"\r\n              *ngIf=\"externalCommentList.length==0 && disabledComment\">\r\n              No results found.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </mat-tab>\r\n    <!-- END OF TAB FOR EXTERNAL COMMENTS -->\r\n  </mat-tab-group>\r\n</form>\r\n","import { S2Application, UserAccount } from '@models';\r\nexport class CommentThread {\r\n    id:                  number;\r\n    appFormReference:    string;\r\n    applicationFormType: string;\r\n    comment:             string;\r\n    actionBy:            UserAccount;\r\n    commentType:         string;\r\n    role:                string;\r\n    actionDate:          Date;\r\n    isReply:             boolean;\r\n    replies:             Array<CommentThread>;\r\n    parentId:            number;\r\n    parent:              any;\r\n    replyEditorIsEnabled: boolean;\r\n    applicationFormS2: S2Application;\r\n    constructor(){\r\n        this.parent = {};\r\n        this.replyEditorIsEnabled = false;\r\n        this.isReply = false;\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AddCompanyRoutingModule } from './add-company-routing.module';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { AddCompanyComponent } from './add-company.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ AddCompanyComponent ],\r\n  imports: [\r\n    CommonModule,\r\n    AddCompanyRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    AngularMaterialModule,\r\n  ]\r\n})\r\nexport class AddCompanyModule { }\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { S2Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { APPLICATION_STATUS, ENDPOINTS, FORM_STATUS, ROLES, SUBMISSION_TYPE, USER_ROLES } from '@shared';\r\nimport { ApplicationRequest } from 'app/core/models/application-request.model';\r\nimport { ApplicationCountS2 } from 'app/core/models/applicationCountS2.model';\r\nimport { MultipleApplication } from 'app/core/models/multiple-application.model';\r\nimport { CommonServices } from 'app/core/services/common-services.service';\r\nimport { RequestForSpecialClearingComponent } from 'app/modules/fragments/request-for-special-clearing/request-for-special-clearing.component';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-list-s2-application',\r\n  templateUrl: './list-s2-application.component.html',\r\n  styleUrls: ['./list-s2-application.component.scss']\r\n})\r\nexport class ListS2ApplicationComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginatorFalse: MatPaginator;\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n  pageSize = 10;\r\n  pageNo = 0;\r\n  pageSizeOptions: number[] = [10, 20, 50];\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<S2Application>;\r\n  dataSource: MatTableDataSource<S2Application>; // in html but not existing in component -- encountered during 'ng serve --aot'\r\n  displayedColumns = ['referenceCode', 'typeOfApplication', 'companyName', 'brand', 'typeOfMedium', 'status', 'internalStatus', 'icon'];\r\n  s2ApplicationList = [];\r\n  s2TotalItems = 0;\r\n  isAscUser: boolean = false\r\n\r\n  // For clearance list\r\n  forClearanceDataSource: MatTableDataSource<S2Application>;\r\n  s2ApplicationListForClearance = [];\r\n  forClearanceDisplayedColumns = ['referenceCode', 'typeOfApplication', 'companyName', 'brand', 'typeOfMedium', 'status', 'icon'];\r\n  s2SpecialTotalItems = 0;\r\n\r\n  s2SpecialApplicationDataSource: MatTableDataSource<MultipleApplication>;\r\n  s2SpecialApplicationList = []\r\n  s2SpecialApplicationDisplayedColumns = ['adTitle', 'typeOfApplication', 'companyName', 'brand', 'status'];\r\n\r\n  applicationRequest = new ApplicationRequest();\r\n\r\n  currentUser: any;\r\n  viewApplicationType: string;\r\n  applicationTypeTitle: string;\r\n  currentPage = 1;\r\n  // currentSize = 100;\r\n  originalTabDataCount = 0;\r\n  complianceTabDataCount = 0;\r\n  releasedAppealTabDataCount = 0;\r\n  toaTabDataCount = 0;\r\n  click = 0;\r\n  timeLeft: number = 60;\r\n  interval: any;\r\n  refreshButtonEnabled = true;\r\n  timerDisplay: any;\r\n  isTimerValueDisplay = false;\r\n  s2ApplicationCountList = [];\r\n\r\n  displayedContent = 'ORIGINAL';\r\n\r\n  s2Application = new S2Application();\r\n  applicationCountS2 = new ApplicationCountS2();\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n  isAdSpecialist = false;\r\n  isEvaluator = false;\r\n  ascUserRoleList = [...ROLES.filter((role: any) => role.ascUser === true).map((role: any) => role.role)];\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dataStorage: DataStorageService,\r\n    private router: Router,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dialog: MatDialog,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private commonService: CommonServices\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.isAscUser = this.ascUserRoleList.includes(this.dataStorage.getUserRole());\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.viewApplicationType = this.route.parent.snapshot.url[0].path;\r\n    this.getListCount();\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.displayedColumns = ['referenceCode', 'typeOfApplication', 'companyName', 'brand', 'typeOfMedium', 'status', 'icon'];\r\n    }\r\n\r\n    if (this.viewApplicationType === 'special') {\r\n      this.applicationTypeTitle = 'SPECIAL CLEARING';\r\n      this.getSpecialS2ApplicationList();\r\n    } else {\r\n      this.applicationTypeTitle = 'INDIVIDUAL';\r\n      this.getList();\r\n    }\r\n\r\n    this.initUserRole();\r\n  }\r\n\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n\r\n  getListCount(): void {\r\n    let endpoint;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.badgeCountByApplicationOwnerS2;\r\n    } else {\r\n      endpoint = ENDPOINTS.badgeCountByAscUserS2;\r\n    }\r\n    this.apiService.findAll(endpoint + this.currentUser.id).subscribe(\r\n      (res: any) => {\r\n        this.applicationCountS2 = res;\r\n      })\r\n  }\r\n\r\n  getList(submissionType = 'ORIGINAL'): void {\r\n\r\n    this.currentPage = this.pageNo;\r\n    this.currentPage++;\r\n    if (this.currentPage === 0) this.currentPage++;\r\n    let param = submissionType.toUpperCase();\r\n\r\n    if (param === SUBMISSION_TYPE.COMPLIANCE && this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      param = `&complianceForm=true`;\r\n    } else if (param === SUBMISSION_TYPE.COMPLIANCE && this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT) {\r\n      param = `&complianceForm=true`;\r\n    } else if (param === SUBMISSION_TYPE.TOA) {\r\n      param = `&hasToa=true`;\r\n    } else {\r\n      param = `&submissionType=${param}&complianceForm=false`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    let endpoint = `custom/search?page=${this.currentPage}&size=${this.pageSize}${param}`;\r\n\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormPresentor + endpoint + `&applicationOwnerId=${this.currentUser.id}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormEncoder + endpoint + `&assignedEncoderId=${this.currentUser.id}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdSpe + endpoint + `&assignedAdSpecialistId=${this.currentUser.id}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN || this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdmin + endpoint;\r\n    } else {\r\n      endpoint = ENDPOINTS.s2Application + endpoint + `&applicationOwnerId=${this.currentUser.id}`;\r\n    }\r\n\r\n    // console.log(endpoint);\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.s2ApplicationList = res.data;\r\n\r\n        this.s2TotalItems = res.totalItems;\r\n        console.log('s2ApplicationList: ', res);\r\n        this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n        this.dataSource.paginator = this.paginator;\r\n        this.dataSource.sort = this.sort;\r\n        this.hideSpinner();\r\n      }, (err: any) => {\r\n        this.hideSpinner();\r\n      }\r\n    )\r\n  }\r\n\r\n  hideSpinner() {\r\n    setTimeout(() => {\r\n      this.spinner.hide();\r\n    }, 1);\r\n  }\r\n\r\n  getSpecialS2ApplicationList(): void {\r\n    let endpoint = ''; let obj;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN || this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      obj = {\r\n        statuses: ['FOR_APPROVAL', 'APPROVED', 'DISAPPROVED']\r\n      }\r\n      endpoint = ENDPOINTS.s2SpecialClearingApplicationRequestsAdmin;\r\n    } else {\r\n      obj = {\r\n        applicationOwnerId: this.currentUser.id,\r\n        statuses: ['FOR_APPROVAL', 'APPROVED', 'DISAPPROVED']\r\n      }\r\n      endpoint = ENDPOINTS.s2SpecialClearingApplicationRequests;\r\n    }\r\n\r\n    this.currentPage = this.pageNo;\r\n    this.currentPage++;\r\n    if (this.currentPage === 0) this.currentPage++;\r\n\r\n    this.apiService.save(`${endpoint}?page=${this.currentPage}&size=${this.pageSize}`, obj)\r\n      .subscribe((res: any) => {\r\n        this.s2SpecialApplicationList = res.data;\r\n\r\n        console.log('s2SpecialApplicationList: ', res);\r\n        this.s2SpecialTotalItems = res.totalItems;\r\n        this.s2SpecialApplicationDataSource = new MatTableDataSource<MultipleApplication>(this.s2SpecialApplicationList);\r\n        this.s2SpecialApplicationDataSource.paginator = this.paginator;\r\n        this.s2SpecialApplicationDataSource.sort = this.sort;\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }, (err: any) => {\r\n        this.spinner.hide();\r\n      });\r\n  }\r\n\r\n\r\n  pageEvents(event: any) {\r\n    this.pageSize = event.pageSize;\r\n\r\n    if (event.pageIndex > this.pageNo) {\r\n      this.pageNo++;\r\n    } else {\r\n      this.pageNo--;\r\n    }\r\n\r\n    if (event.pageSize > event.length) {\r\n      this.pageNo = 0;\r\n    }\r\n\r\n    this.getList();\r\n  }\r\n\r\n  setPageSizeOptions(setPageSizeOptionsInput: string) {\r\n    if (setPageSizeOptionsInput) {\r\n      this.pageSizeOptions = setPageSizeOptionsInput.split(',').map(str => +str);\r\n    }\r\n  }\r\n\r\n  viewApplication(data: any): void {\r\n    this.s2Application = data;\r\n    console.log('S2 FORM: ', this.s2Application);\r\n\r\n    if (data.formStatus === FORM_STATUS.OPEN && this.s2Application.internalStatus !== APPLICATION_STATUS.S1_APPLICATION_REJECTED\r\n      && (this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT && this.currentUser.userRole.name !== USER_ROLES.ROLE_ADMIN\r\n        && this.currentUser.userRole.name !== USER_ROLES.ROLE_SUPER_ADMIN\r\n        && this.currentUser.userRole.name !== USER_ROLES.ROLE_AD_SPECIALIST) // s2form will be assigned to s1form adspe\r\n    ) {\r\n      Swal.fire({\r\n        text: 'Are you sure you want to open this application? This application will be LOCKED on your account.',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonColor: '#3085d6',\r\n        cancelButtonColor: '#d33',\r\n        confirmButtonText: 'Confirm'\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n          this.s2Application.assignedEncoder = this.currentUser;\r\n          // wait for BE\r\n          this.apiService.save(ENDPOINTS.s2ApplicationFormEncoder + ENDPOINTS.takeApplication, this.s2Application).subscribe(\r\n            (res: any) => {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage('Application successfully assigned to you.', 3);\r\n              this.router.navigate(['asc/page/application/s2/update/', data.id]);\r\n            }, (err: any) => {\r\n              this.spinner.hide();\r\n            });\r\n        }\r\n      });\r\n    } else {\r\n      this.router.navigate(['asc/page/application/s2/update/', data.id]);\r\n    }\r\n\r\n  }\r\n\r\n  applyApplicationForToa(data: any): void {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to apply this application to TOA?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService.save(ENDPOINTS.s2ApplicationForm + 'clearance/presentor/submit', data).subscribe(\r\n          (res: any) => {\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage('Application is applied for TOA successfully');\r\n            this.router.navigateByUrl('asc/page/application/s2/lists');\r\n          }, (err: any) => {\r\n            this.spinner.hide();\r\n          });\r\n      }\r\n    })\r\n  }\r\n\r\n  viewSpecialApplication(data: any): void {\r\n    this.applicationRequest = data;\r\n    this.s2Application = new S2Application();\r\n    this.s2Application.specialClearing = true;\r\n    this.s2Application.applicationForm = data;\r\n\r\n    let dialogRef;\r\n    dialogRef = this.dialog.open(RequestForSpecialClearingComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        applicationRequest: this.applicationRequest,\r\n        applicationType: 'Request for Special Clearing'\r\n      }\r\n    });\r\n  }\r\n\r\n  doFilterS1MultipleApplicationList(event) { } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  getCompany(elementId) { } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  doFilter(event) { } // in html but not existing in component -- encountered during 'ng serve --aot'\r\n\r\n  changeTab(evt) {\r\n    if (evt.tab) {\r\n      this.displayedContent = evt.tab.textLabel;\r\n      if (this.displayedContent === 'For Appeal') {\r\n        this.getForDecisionAndComment();\r\n      } else {\r\n        this.getList(this.displayedContent);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  getForDecisionAndComment() {\r\n    let endpoint = '';\r\n\r\n    // APPEAL\r\n    if (this.isAdSpecialist) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdSpe + `custom/search?assignedAdSpecialistId=${this.currentUser.id}&hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}&submissionType=ORIGINAL`;\r\n    }\r\n    else if (this.isAdmin || this.isSuperAdmin) {\r\n      endpoint = ENDPOINTS.s2ApplicationFormAdmin + `custom/search?hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}`;\r\n    }\r\n\r\n    this.apiService.findAll(endpoint)\r\n      .subscribe((res: any) => {\r\n        if (res) {\r\n          this.s2ApplicationList = res?.data;\r\n          console.log('Appeal: ', this.s2ApplicationList);\r\n\r\n          this.s2TotalItems = res.totalItems;\r\n          this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n          this.dataSource.paginator = this.paginatorFalse;\r\n          this.dataSource.sort = this.sort;\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        } else {\r\n          this.s2ApplicationList = [];\r\n        }\r\n      }, (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      });\r\n  }\r\n\r\n  sortEvent() {\r\n    this.click++;\r\n    if (this.click % 2 === 0) {\r\n      this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.sort((a, b) => a.id - b.id);\r\n    } else {\r\n      this.dataSource = new MatTableDataSource<S2Application>(this.s2ApplicationList);\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.reverse();\r\n    }\r\n    // for random sort\r\n    // this.dataSource.data.sort(() => Math.random() - 0.5)\r\n  }\r\n\r\n  refresh() {\r\n    this.commonService.sendClickEvent();\r\n    this.startTimer();\r\n  }\r\n\r\n  startTimer() {\r\n    this.interval = setInterval(() => {\r\n      this.timeLeft--;\r\n      if(this.timeLeft > 0){\r\n        this.refreshButtonEnabled = false;\r\n        this.isTimerValueDisplay = true;\r\n      }else{\r\n        this.refreshButtonEnabled = true;\r\n        this.isTimerValueDisplay = false;\r\n        this.timeLeft = 60;\r\n        clearInterval(this.interval)\r\n      }\r\n      this.timerDisplay=this.transform(this.timeLeft)\r\n    },1000)\r\n  }\r\n\r\n  transform(value: number): string {\r\n    const minutes: number = Math.floor(value / 60);\r\n    return minutes + ':' + (value - minutes * 60);\r\n  }\r\n\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <i class=\"material-icons\">file_copy</i> S2 APPLICATION - <b>{{applicationTypeTitle}}</b>\r\n        </mat-label>\r\n        <button class=\"button-right\" type=\"submit\" mat-raised-button color=\"primary\" (click)=\"refresh()\" [disabled]=\"!refreshButtonEnabled\">\r\n          <span class=\"material-icons\">sync</span>\r\n          <label *ngIf=\"isTimerValueDisplay\"> &nbsp;{{timerDisplay}}</label>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n\r\n    <div *ngIf=\"applicationTypeTitle === 'INDIVIDUAL'\">\r\n      <ng-container *ngTemplateOutlet=\"individualS2ApplicationList\"></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"(currentUser.userRole.name === 'ROLE_APPLICANT' || currentUser.userRole.name === 'ROLE_ADMIN' || currentUser.userRole.name === 'ROLE_SUPER_ADMIN') && viewApplicationType === 'special'\">\r\n      <ng-container *ngTemplateOutlet=\"specialS1ApplicationList\"></ng-container>\r\n    </div>\r\n\r\n    <ng-template #individualS2ApplicationList>\r\n      <div class=\"row\">\r\n        <div class=\"col-lg-9\">\r\n          <div class=\" search\" fxLayout fxLayoutAlign=\"center center\">\r\n            <mat-form-field class=\"col-md-9\" appearance=\"outline\">\r\n              <input matInput type=\"text\" (keyup)=\"doFilter($event.target.value)\" placeholder=\"Search\">\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <div class=\"col\">\r\n          <div class=\"legend-content\">\r\n            <table class=\"legend-table\">\r\n              <tr>\r\n                <td><div class=\"legend-box legend-blue\"></div> ORIGINAL</td>\r\n              </tr>\r\n              <tr>\r\n                <td><div class=\"legend-box legend-green\"></div> REVISION</td>\r\n              </tr>\r\n              <tr>\r\n                <td><div class=\"legend-box legend-orange\"></div> FOR COMPLIANCE</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n        </div> -->\r\n\r\n\r\n      </div><br>\r\n\r\n      <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n        <mat-tab label=\"Original\">\r\n          <ng-template mat-tab-label>\r\n            Original\r\n            <div matBadge={{applicationCountS2.countOriginal}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n        <mat-tab label=\"Compliance\">\r\n          <ng-template mat-tab-label>\r\n            Compliance\r\n            <div matBadge={{applicationCountS2.countCompliance}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n        <mat-tab label=\"TOA\">\r\n          <ng-template mat-tab-label>\r\n            TOA\r\n            <div matBadge={{applicationCountS2.countToa}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n        <mat-tab label=\"For Appeal\" *ngIf=\"isAdSpecialist || isAdmin || isSuperAdmin\">\r\n          <ng-template mat-tab-label>\r\n            Released Appeal\r\n            <div matBadge={{releasedAppealTabDataCount}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n          </ng-template>\r\n        </mat-tab>\r\n      </mat-tab-group>\r\n\r\n      <div class=\"mat-elevation-z8 fields main-table \" fxLayout fxLayoutAlign=\"center center\">\r\n        <table mat-table [dataSource]=\"dataSource\" matSort>\r\n\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef > REFERENCE CODE <mat-icon class=\"cursor\" (click)=\"sortEvent()\" style=\"color:black\">swap_vert</mat-icon></th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n             [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color':\r\n                  ((element?.submissionType=='ORIGINAL'&&element.decisionStatus!='INCOMPLETE') ? 'lightblue' :\r\n                  ((element?.submissionType=='FOR COMPLIANCE'||element.decisionStatus=='INCOMPLETE'||element.submissionType=='COMPLIANCE') ? '#ebd79b' :\r\n                  (element?.submissionType=='REVISION' ? '#8fcf8f' : '' )))}\">\r\n              {{ element?.submissionType === 'ORIGINAL' && element?.internalStatus=='S2_APPLICATION_REJECTED' ? element?.referenceCodeRejected : element?.applicationForm?.referenceCode | uppercase}}\r\n            </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef > TYPE OF APPLICATION </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name  === 'ROLE_ENCODER' && i > 0 ? '#beb8b8' : ''))}\">\r\n              <!--  'background-color':\r\n                  ((element?.applicationForm?.applicationType.description=='Regular') ? 'lightblue' :\r\n                  (element?.applicationForm?.applicationType.description=='Batch') ? '#8fcf8f' :\r\n                  (element?.applicationForm?.applicationType.description=='Special Screening') ? '#fca402' :\r\n                  (element?.applicationForm?.applicationType.description=='Special Clearing') ? '#ff8a7b' :\r\n                  (element?.applicationForm?.applicationType.description=='Special Screening and Clearing') ? 'violet' :\r\n                  (element?.applicationForm?.applicationType.description=='For Presentation') ? 'yellow' :\r\n                  (currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> -->\r\n              {{ element?.applicationForm?.applicationType.description.replaceAll('_',' ') | uppercase }}\r\n              {{ element?.specialClearing ? '- SPECIAL CLEARING' : '' }}\r\n              {{ element?.hasToa ? '- TOA' : '' }}\r\n            </td>\r\n          </ng-container>\r\n          <ng-container matColumnDef=\"companyName\">\r\n            <th mat-header-cell *matHeaderCellDef > COMPANY NAME </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.applicationForm?.company.companyName }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef > BRAND </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.applicationForm?.brand.description }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfMedium\">\r\n            <th mat-header-cell *matHeaderCellDef > TYPE OF MEDIUM </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.applicationForm?.typeOfMedium }} </td>\r\n          </ng-container>\r\n\r\n          <!-- [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\" -->\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell *matHeaderCellDef > APPLICATION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.externalStatus?.replaceAll('_',' ') | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"internalStatus\">\r\n            <th mat-header-cell *matHeaderCellDef > INTERNAL STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" class=\"applicantStatus\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER' && i > 0? '#beb8b8' : ''))}\">\r\n              {{ element?.internalStatus?.replaceAll('_',' ') | uppercase }} </td>\r\n          </ng-container>\r\n          <!-- For ASC Users only -->\r\n          <!-- <ng-container matColumnDef=\"ascStatus\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> ASC STATUS </th>\r\n                  <td mat-cell *matCellDef=\"let element\" (click)=\"getCompany(element?.id)\"> {{ element?.ascStatus }} </td>\r\n                </ng-container> -->\r\n\r\n          <ng-container matColumnDef=\"icon\">\r\n            <th mat-header-cell *matHeaderCellDef > </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\" class=\"icon\"\r\n              [hidden]=\"currentUser?.userRole?.name != 'ROLE_APPLICANT'\"\r\n              [ngStyle]=\"{'pointer-events': ((i != 0 && currentUser.userRole.name === 'ROLE_ENCODER') ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name != 'ROLE_APPLICANT'&&currentUser.userRole.name != 'ROLE_AD_SPECIALIST'&&i>0 ? '#beb8b8' : ''))}\">\r\n\r\n                  <!-- <button mat-raised-button class=\"button-red\" matTooltip=\"Submit S2 for Clearance \"\r\n                    (click)=\"applyApplicationForToa(element)\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                        internalStatus=='APPROVED' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                        || element?.internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE'\">\r\n                    <i class=\"material-icons color__white\">queue_play_next</i>\r\n                  </button> -->\r\n\r\n                  <button mat-raised-button class=\"button-red\" matTooltip=\"Submit For Compliance\"\r\n                  (click)=\"viewApplication(element)\"\r\n                  *ngIf=\"(currentUser?.userRole?.name=='ROLE_APPLICANT' && element?.decisionStatus=='INCOMPLETE' &&\r\n                          (element?.internalStatus=='INCOMPLETE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n                          element?.internalStatus=='S2_APPLICATION_REJECTED'))\">\r\n                  <i class=\"material-icons\">warning_amber</i>\r\n                </button>\r\n\r\n              <!--  <button mat-raised-button class=\"button-red\" matTooltip=\"Submit For Compliance\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                    internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                    || element?.internalStatus=='APPROVED'\">\r\n                    <i class=\"material-icons color__white\">warning_amber</i>\r\n                    </button>-->\r\n            </td>\r\n          </ng-container>\r\n\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n        <mat-paginator [pageSize]=\"pageSize\" [pageIndex]=\"pageNo\" [length]=\"s2TotalItems\"\r\n          [pageSizeOptions]=\"pageSizeOptions\" (page)=\"pageEvents($event)\">\r\n        </mat-paginator>\r\n\r\n      </div>\r\n      <!-- </mat-tab> -->\r\n    </ng-template>\r\n\r\n\r\n\r\n\r\n\r\n    <ng-template #specialS1ApplicationList>\r\n        <b *ngIf=\"currentUser.userRole.name === 'ROLE_APPLICANT'\"><b class=\"material-icons info-msg\">error_outline</b> This\r\n          page contain list of Request for Approval and allows you to create S2 application from approved request only.</b>\r\n        <b *ngIf=\"currentUser.userRole.name === 'ROLE_ADMIN' || currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' \"><b\r\n            class=\"material-icons info-msg\">error_outline</b> This page\r\n            contain list of Request for Approval and allows you to approve or disapprove request.</b>\r\n      <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n        <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n          <mat-label><i class=\"material-icons\">search</i> Search Applications</mat-label>\r\n          <input matInput type=\"text\" (keyup)=\"doFilterS1MultipleApplicationList($event.target.value)\">\r\n        </mat-form-field>\r\n\r\n        <div class=\"col\">\r\n          <div class=\"legend-content\">\r\n            <table class=\"legend-table\">\r\n              <tr>\r\n                <td>\r\n                  <div class=\"legend-box legend-orange\"></div> FOR APPROVAL\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <div class=\"legend-box legend-green\"></div> APPROVED\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <div class=\"legend-box legend-red\"></div> DISAPPROVED\r\n                </td>\r\n              </tr>\r\n              <!-- <tr>\r\n                    <td>\r\n                      <div class=\"legend-box legend-pink\"></div> REJECTED\r\n                    </td>\r\n                  </tr> -->\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- <div class=\"row\">\r\n\r\n            <div class=\"col-md-2\">LEGEND:</div>\r\n            <div class=\"col-md-1 legend legend-orange\">FOR APPROVAL</div>\r\n            <div class=\"col-md-1 legend legend-green\">APPROVED</div>\r\n            <div class=\"col-md-1 legend legend-red\">DISAPPROVED</div>\r\n            <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n          </div> -->\r\n      <br>\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"s2SpecialApplicationDataSource\" matSort>\r\n\r\n          <ng-container matColumnDef=\"adTitle\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> AD TITLE </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.adTitle | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef > TYPE OF APPLICATION </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.applicationType?.description.replaceAll('_',' ') | uppercase }}\r\n              {{ element?.hasSpecialClearing ? '- SPECIAL CLEARING' : ''}}\r\n              {{ element?.hasToa ? '- TOA' : '' }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"companyName\">\r\n            <th mat-header-cell *matHeaderCellDef > COMPANY NAME </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.company?.companyName | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n                <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n                <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n                  {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n              </ng-container> -->\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef> BRAND </th>\r\n            <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.brand?.description | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell *matHeaderCellDef > APPLICATION STATUS </th>\r\n            <td mat-cell *matCellDef=\"let element\" class=\"applicantStatus\" [ngStyle]=\"{'background-color':\r\n                element?.status === 'FOR_APPROVAL' ? '#ebd79b' :\r\n                element?.status === 'APPROVED' ? '#8fcf8f' :\r\n                element?.status === 'DISAPPROVED' ? '#ebb89b' : '' }\" (click)=\"viewSpecialApplication(element)\">\r\n              {{ element?.status?.replaceAll('_',' ') | uppercase }} </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"s2SpecialApplicationDisplayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: s2SpecialApplicationDisplayedColumns;\"></tr>\r\n        </table>\r\n        <div class=\"no-record\"\r\n          [hidden]=\"s2SpecialApplicationDataSource && s2SpecialApplicationDataSource?.data?.length > 0\">\r\n          No record found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n        <mat-paginator [pageSize]=\"pageSize\" [pageIndex]=\"pageNo\" [length]=\"s2SpecialTotalItems\"\r\n          [pageSizeOptions]=\"pageSizeOptions\" (page)=\"pageEvents($event)\">\r\n        </mat-paginator>\r\n      </div>\r\n    </ng-template>\r\n\r\n\r\n\r\n\r\n    <!-- FOR CLEARANCE TABLE -->\r\n    <!-- <mat-tab label=\"FOR CLEARANCE\">\r\n          <div class=\"mat-elevation-z8 fields toa-tab\">\r\n            <table mat-table [dataSource]=\"forClearanceDataSource\" matSort>\r\n\r\n                <ng-container matColumnDef=\"referenceCode\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> REFERENCE CODE </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.referenceCode }} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"typeOfApplication\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF APPLICATION </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.applicationType.description }} </td>\r\n                </ng-container>\r\n                <ng-container matColumnDef=\"companyName\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> COMPANY NAME </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.company.companyName }} </td>\r\n                </ng-container>\r\n\r\n                <ng-container matColumnDef=\"brand\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> BRAND </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.brand.description }} </td>\r\n                </ng-container>\r\n\r\n                <ng-container matColumnDef=\"typeOfMedium\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> TYPE OF MEDIUM </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.applicationForm?.refTypeOfMedium }} </td>\r\n                </ng-container>\r\n\r\n                <ng-container matColumnDef=\"status\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICATION STATUS </th>\r\n                  <td mat-cell *matCellDef=\"let element; let i = index\" (click)=\"viewApplication(element)\"\r\n                  [ngStyle]=\"{'pointer-events': ((i != 0 && (currentUser.userRole.name === 'ROLE_ENCODER')) ? 'none' : ''),\r\n                  'background-color': ((currentUser.userRole.name === 'ROLE_ENCODER'&&i>0 ? '#beb8b8' : ''))}\"> {{ element?.internalStatus?.replaceAll('_',' ') | uppercase }} </td>\r\n                </ng-container> -->\r\n\r\n    <!-- For ASC Users only -->\r\n    <!-- <ng-container matColumnDef=\"ascStatus\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> ASC STATUS </th>\r\n                  <td mat-cell *matCellDef=\"let element\" (click)=\"getCompany(element?.id)\"> {{ element?.ascStatus }} </td>\r\n                </ng-container> -->\r\n\r\n    <!-- <ng-container matColumnDef=\"icon\">\r\n                  <th mat-header-cell *matHeaderCellDef mat-sort-header> </th>\r\n                  <td mat-cell *matCellDef=\"let element\" class=\"icon\">\r\n                    <button mat-raised-button class=\"button-red\" matTooltip=\"Submit S2 for Clearance\" (click)=\"applyApplicationForToa(element)\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                    internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                    || element?.internalStatus=='APPROVED'\">\r\n                      <i class=\"material-icons\">queue_play_next</i>\r\n                    </button> -->\r\n\r\n    <!-- <button mat-raised-button class=\"button-red\" matTooltip=\"Submit For Compliance\" (click)=\"viewApplication(element)\" *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'&&element?.\r\n                    internalStatus=='RE_SUBMITTED_S2_APPLICATION_VERIFIED_BY_AD_SPE' || element?.internalStatus=='S2_APPLICATION_VERIFIED_BY_AD_SPE'\r\n                    || element?.internalStatus=='APPROVED'\"><i class=\"material-icons color__white\">warning_amber</i>\r\n                    </button> -->\r\n    <!-- </td>\r\n                </ng-container> -->\r\n\r\n\r\n    <!-- <tr mat-header-row *matHeaderRowDef=\"forClearanceDisplayedColumns\"></tr>\r\n                <tr mat-row *matRowDef=\"let row; columns: forClearanceDisplayedColumns;\"></tr>\r\n            </table>\r\n            <div class=\"no-record\" [hidden]=\"forClearanceDataSource && forClearanceDataSource?.data?.length > 0\">\r\n              No record found.\r\n            </div>\r\n            <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator>\r\n\r\n          </div>\r\n        </mat-tab> -->\r\n    <!-- </mat-tab-group> -->\r\n","import { Component, OnInit, Input, Output, EventEmitter, OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\r\nimport { Company, S1Application, S2Application } from '@models';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { COMMON_FUNCTION, ENDPOINTS } from '@shared';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { AddCompanyComponent } from '@company';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { BrandsComponent } from '@maintenance';\r\nimport { AddressService } from '../../../../core/services/address/address.service';\r\nimport { ProductComponent } from '../../maintenance/product/product.component';\r\nimport { MultipleApplication } from 'app/core/models/multiple-application.model';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-client-information',\r\n  templateUrl: './client-information.component.html',\r\n  styleUrls: ['./client-information.component.scss']\r\n})\r\nexport class ClientInformationComponent implements OnInit, OnChanges, OnDestroy {\r\n  @Input() s1Application = new S1Application();\r\n  @Input() s2Application = new S2Application();\r\n  @Input() multipleApplication = new MultipleApplication();\r\n  @Input() isAscUser = false;\r\n  @Input() isDisableFieldOnUpdate = false;\r\n  @Input() company = new Company();\r\n  @Output() checkInactiveAffiliation: EventEmitter<any> = new EventEmitter();\r\n  @Output() isInactiveAffiliation: boolean;\r\n  @Output() hasErrorFields: EventEmitter<any> = new EventEmitter();\r\n\r\n  memberAffiliationList = [];\r\n  companyList = [];\r\n  brandList = [];\r\n  productList = [];\r\n  // categoryList = [];\r\n  regionsList = [];\r\n  provinceList = [];\r\n  cityMunicipalityList = [];\r\n  barangayList = [];\r\n  countryList = [];\r\n\r\n  notInSelection = ['INACTIVE', 'DISAPPROVED'];\r\n\r\n  isNewCompany = false;\r\n  showCompanyAddress = false;\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  clientInformationForm: FormGroup;\r\n\r\n  applicationStage: string;\r\n  fullAddress: string;\r\n  currentUser: any;\r\n  ngModelValue: any;\r\n  private ngUnsubscribe = new Subject();\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private addressService: AddressService,\r\n    private dialog: MatDialog,\r\n    public dataStorage: DataStorageService,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService,\r\n    private route: ActivatedRoute,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // console.log('Clientinfo');\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.setFormValidator();\r\n    this.getBrandList();\r\n    this.getCompanyList();\r\n    this.getAffiliationList();\r\n    this.getCountries();\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    if (this.s1Application.brand) {\r\n      this.setProductList();\r\n    }\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.clientInformationForm = this.formBuilder.group({\r\n      brand: ['', Validators.required],\r\n      product: ['', Validators.required],\r\n      category: ['', Validators.required],\r\n      company: [''],\r\n      companyAddress: [''],\r\n      country: [''],\r\n      companyName: [''],\r\n      membersAffiliation: ['', Validators.required],\r\n    });\r\n\r\n    if (this.currentUser?.accountType === 'APPLICANT') {\r\n      this.clientInformationForm.valueChanges.pipe(takeUntil(this.ngUnsubscribe)).subscribe(value => {\r\n        this.checkInvalidFields(value);\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  getBrandList() {\r\n    this.apiService.findAll(ENDPOINTS.activeBrands).subscribe((res: any) => {\r\n      this.brandList = res.responseData.data; // .filter((brand) => !this.notInSelection.includes(brand.status));\r\n      this.productList = [];\r\n    }, (err: any) => {\r\n    });\r\n    if (this.s1Application.brand) {\r\n      this.setProductList();\r\n    }\r\n  }\r\n\r\n  setBrand() {\r\n    this.setProductList();\r\n    if (this.s1Application?.product?.status !== COMMON_FUNCTION.FOR_APPROVAL) {\r\n      this.s1Application.product = null;\r\n    }\r\n  }\r\n\r\n  setProductList() {\r\n    // const endpoint = this.s1Application.brand ? ENDPOINTS.productsByBrand + this.s1Application.brand.id : ENDPOINTS.product;\r\n    this.apiService.findAll(ENDPOINTS.productsByBrand + this.s1Application.brand.id).subscribe((res: any) => {\r\n      this.productList = res.responseData.data.filter((product) =>\r\n        product.status !== COMMON_FUNCTION.DISAPPROVED.toUpperCase()\r\n        && product.status !== COMMON_FUNCTION.INACTIVE.toUpperCase()\r\n      );\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  getCompanyList() {\r\n    this.apiService.findAll(ENDPOINTS.activeCompanies).subscribe((res: any) => {\r\n      this.companyList = res.responseData.data; // .filter((company) => !this.notInSelection.includes(company.status));\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  getAffiliationList(): void {\r\n    this.apiService.findAll(ENDPOINTS.activeMembersAffiliation).subscribe((res: any) => {\r\n      this.memberAffiliationList = res.responseData.data;\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  getCompanyAddress(companyName) {\r\n    this.showCompanyAddress = false;\r\n    this.isNewCompany = false;\r\n    this.apiService.findByParam(ENDPOINTS.company, `custom/search?companyName=${companyName}`).subscribe((res: any) => {\r\n      this.company = res.data[0];\r\n      if (this.company.membersAffiliation.status === 'INACTIVE') {\r\n        this.checkInactiveAffiliationFunction();\r\n        this.sweetAlertService.customErrorMessage(`Cannot proceed with the application. Company's membership affiliation is no longer active. Please contact ASC admin`);\r\n      }\r\n\r\n      if (this.company.status === 'FOR_APPROVAL') {\r\n        this.isNewCompany = true;\r\n      }\r\n\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  compareCompanyName(value: any, selected: any): boolean {\r\n    if (value && selected && value.id === selected.id) {\r\n      return value.companyName === selected.companyName;\r\n    }\r\n  }\r\n\r\n  compareBrand(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareMembersAffiliation(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareProduct(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  // compareCategory(value: any, selected: any): boolean {\r\n  //   if (value && selected) {\r\n  //     return value.description === selected.description;\r\n  //   }\r\n  // }\r\n\r\n  openNewCompanyModal(status = 'new') {\r\n    let dataForModal: any;\r\n    if (status === 'new') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: false,\r\n        country: this.dataStorage.getDefaultCountry()\r\n      }\r\n    } else if (status === 'update' && this.s1Application.company) {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: true,\r\n        company: this.s1Application.company\r\n      }\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(AddCompanyComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        dataForModal\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      this.isNewCompany = result ? true : false;\r\n      if (result) {\r\n        this.getCompanyList();\r\n        this.company = result;\r\n        this.dataStorage.setS1NewCompany(this.company);\r\n        this.s1Application.company = this.dataStorage.getS1NewCompany();\r\n      }\r\n    });\r\n  }\r\n\r\n  openNewBrandModal(status = 'new') {\r\n    let dataForModal: any;\r\n    if (status === 'new') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: false,\r\n      }\r\n    } else if (status === 'update') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: true,\r\n        brand: this.s1Application.brand\r\n      }\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(BrandsComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        dataForModal\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        this.getBrandList();\r\n        this.s1Application.brand = this.dataStorage.getS1NewBrand();\r\n        this.s1Application.product = this.s1Application.product;\r\n      }\r\n    });\r\n  }\r\n\r\n  openNewProductModal(status = 'new') {\r\n    let dataForModal: any;\r\n    if (status === 'new') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: false,\r\n        brand: this.s1Application?.brand,\r\n      }\r\n    } else if (status === 'update') {\r\n      dataForModal = {\r\n        isFromModal: true,\r\n        isUpdate: true,\r\n        product: this.s1Application?.product,\r\n        currentStatus: 'FOR_APPROVAL'\r\n      }\r\n    }\r\n\r\n    const dialogRef = this.dialog.open(ProductComponent, {\r\n      width: '80%',\r\n      height: '85%',\r\n      data: {\r\n        dataForModal\r\n      }\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe(result => {\r\n      if (result) {\r\n        // this.getBrandList();\r\n        this.setProductList();\r\n        this.s1Application.product = this.dataStorage.getS1NewProduct();\r\n      }\r\n    });\r\n  }\r\n\r\n  compareCountry(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.code === selected.code;\r\n    }\r\n  }\r\n\r\n  getCountries() {\r\n    this.apiService.findAll(ENDPOINTS.countries).subscribe((res: any) => {\r\n      this.countryList = res.responseData.data;\r\n      this.dataStorage.setDefaultCountry(res.responseData.data[0]);\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  checkInactiveAffiliationFunction() {\r\n    this.isInactiveAffiliation = this.s1Application?.company?.membersAffiliation?.status === 'INACTIVE';\r\n    this.checkInactiveAffiliation.emit();\r\n  }\r\n  \r\n  checkInvalidFields(s1Application: any): void {\r\n    if (s1Application?.company && s1Application?.brand && s1Application?.product) {\r\n      this.hasErrorFields.emit(false)\r\n    } else {\r\n      this.hasErrorFields.emit(true);\r\n    }\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.ngUnsubscribe.next();\r\n    this.ngUnsubscribe.complete();\r\n  }\r\n}\r\n","<form [formGroup]=\"clientInformationForm\"\r\n*ngIf=\"s1Application?.multipleApplication?.submissionStatus !== 'UNPROCESSED' &&\r\n        s1Application?.status !== 'DISAPPROVED' &&\r\n        s1Application?.status !== 'APPROVED' &&\r\n        s1Application?.status !== 'APPROVED' &&\r\n        multipleApplication?.status !== 'APPROVED' &&\r\n        s1Application?.applicationRequest?.status !== 'APPROVED'\">\r\n\r\n  <div class=\"row\">\r\n    <!-- <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n      <mat-label>Client Membership Affiliation</mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.membersAffiliation\" name=\"membersAffiliation\" formControlName=\"membersAffiliation\"\r\n        [compareWith]=\"compareMembersAffiliation\" [disabled]=\"isAscUser && isDisableFieldOnUpdate\">\r\n        <mat-option *ngFor=\"let i of memberAffiliationList\" [value]=\"i\">\r\n          {{i.description}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field> -->\r\n\r\n    <div class=\"col-md-12 float-right\" style=\"padding-bottom:10px;\" *ngIf=\"s1Application?.company?.status === 'FOR_APPROVAL' && isAscUser\">\r\n      <button mat-raised-button class=\"button-red\" (click)=\"openNewCompanyModal('update')\">\r\n        <i class=\"material-icons color__white\">error_outline</i> View/Approve Company\r\n      </button>\r\n      <br>\r\n    </div>\r\n\r\n    <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n      <mat-label>Client Company Name\r\n        <span class=\"badge rounded-pill bg-warning\" *ngIf=\"s1Application?.company?.status === 'FOR_APPROVAL' \">\r\n          For Approval\r\n        </span>\r\n        <span class=\"badge rounded-pill bg-danger\" *ngIf=\"s1Application?.company?.delinquent \">\r\n          With Penalty\r\n        </span>\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.company\" name=\"company\" formControlName=\"company\"\r\n        [compareWith]=\"compareCompanyName\"\r\n        [disabled]=\"(isAscUser && isDisableFieldOnUpdate) || (s2Application?.applicationForm || s1Application?.status === 'FOR_APPROVAL')\">\r\n        <mat-option (click)=\"isNewCompany=true;showCompanyAddress=false\" value=\"\" (click)=\"openNewCompanyModal()\">\r\n          <span class=\"badge bg-success dropdown-badge\">Add New Company</span>\r\n        </mat-option>\r\n        <mat-option *ngFor=\"let i of companyList\" [value]=\"i\" (click)=\"getCompanyAddress(i.companyName)\">\r\n          {{i.companyName}}\r\n        </mat-option>\r\n        <!-- <mat-option >[New\r\n          Company]</mat-option> -->\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-5\" appearance=\"outline\" *ngIf=\"s1Application.company\">\r\n      <mat-label>\r\n        Client Membership Affiliation\r\n        <span class=\"badge rounded-pill bg-danger\"\r\n          *ngIf=\"s1Application?.company?.membersAffiliation?.status === 'INACTIVE' \">\r\n          Inactive\r\n        </span>\r\n      </mat-label>\r\n      <input matInput readonly [value]=\"s1Application?.company?.membersAffiliation?.description\">\r\n    </mat-form-field>\r\n\r\n    <!-- <div class=\"col-md-4\" *ngIf=\"s1Application?.applicationForm?.company?.status === 'FOR_APPROVAL' \">\r\n      <span class=\"badge rounded-pill bg-warning\">\r\n        For Approval\r\n      </span>\r\n    </div> -->\r\n\r\n    <div class=\"row\" *ngIf=\"isNewCompany==true\" [hidden]=\"s1Application?.company?.status !== 'FOR_APPROVAL'\">\r\n      <!-- <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Client Membership Affiliation</mat-label>\r\n        <mat-select [(ngModel)]=\"company.membersAffiliation\" name=\"membersAffiliation\" [compareWith]=\"compareMembersAffiliation\"\r\n          formControlName=\"membersAffiliation\" matNativeControl required>\r\n          <mat-option *ngFor=\"let i of memberAffiliationList\" [value]=\"i\">\r\n            {{i.description}}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field> -->\r\n\r\n      <mat-form-field class=\"col-md-4\" appearance=\"outline\" [hidden]=\" company?.country?.id > 1 && company?.country \">\r\n        <mat-label>Country</mat-label>\r\n        <!-- <input matInput disabled value=\"PHIL\"> -->\r\n        <!-- <input matInput disabled [(ngModel)]=\"company.country\" formControlName=\"country\"> -->\r\n        <mat-select [(ngModel)]=\"company.country\" name=\"country\" [compareWith]=\"compareCountry\"\r\n          formControlName=\"country\" matNativeControl required disabled>\r\n          <mat-option *ngFor=\"let i of countryList\" [value]=\"i\">\r\n            {{i.code}} - {{i.name}}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\" [hidden]=\"company?.country?.id > 1 && company?.country \">\r\n        <mat-label>Complete Address</mat-label>\r\n        <textarea matInput [(ngModel)]=\"company.completeAddress\" formControlName=\"companyAddress\" name=\"completeAddress\"\r\n          [readonly]=\"true\"></textarea>\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"row\" *ngIf=\"showCompanyAddress==true\">\r\n      <!-- FOR S1 APPLICATION FORM -->\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n        <mat-label>Company Address</mat-label>\r\n        <textarea matInput readonly [value]=\"s1Application?.company?.completeAddress\"></textarea>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Country</mat-label>\r\n        <input matInput readonly [value]=\"s1Application?.company?.country?.name\">\r\n      </mat-form-field>\r\n    </div>\r\n\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>\r\n        Brand\r\n        <span class=\"badge rounded-pill bg-warning\" *ngIf=\"s1Application?.brand?.status === 'FOR_APPROVAL'\">\r\n          For Approval\r\n        </span>\r\n        <span class=\"badge rounded-pill bg-danger\" *ngIf=\"s1Application?.brand?.penalty\">\r\n          With Penalty\r\n        </span>\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.brand\" name=\"brand\" formControlName=\"brand\" [compareWith]=\"compareBrand\"\r\n        [disabled]=\"(isAscUser && isDisableFieldOnUpdate) || (s2Application?.applicationForm || s1Application?.status === 'FOR_APPROVAL')\" matTooltip=\"Client's Brand\"\r\n        (selectionChange)=\"setBrand()\">\r\n        <mat-option value=\"\" (click)=\"openNewBrandModal()\"><span class=\"badge bg-success dropdown-badge\">Add New Brand</span></mat-option>\r\n        <mat-option *ngFor=\"let i of brandList\" [value]=\"i\">\r\n          {{i.description}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>\r\n        Product\r\n        <span class=\"badge rounded-pill bg-warning\" *ngIf=\"s1Application?.product?.status === 'FOR_APPROVAL'\">\r\n          For Approval\r\n        </span>\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <mat-select [(ngModel)]=\"s1Application.product\" name=\"product\" formControlName=\"product\"\r\n        [compareWith]=\"compareProduct\" (selectionChange)=\"setProductList()\"\r\n        [disabled]=\"(isAscUser && isDisableFieldOnUpdate || (s2Application?.applicationForm || s1Application?.status === 'FOR_APPROVAL')) || !s1Application.brand\">\r\n        <mat-option value=\"\" (click)=\"openNewProductModal()\"><span class=\"badge bg-success dropdown-badge\">Add New Product</span></mat-option>\r\n        <mat-option *ngFor=\"let i of productList\" [value]=\"i\">\r\n          {{i.description}}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput readonly [value]=\"s1Application?.product?.category?.description\" />\r\n    </mat-form-field>\r\n\r\n    <!-- <mat-form-field *ngIf=\"s1Application.brand\" class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Product</mat-label>\r\n      <input matInput [(ngModel)]=\"s1Application.brand.product.description\" name=\"product\" formControlName=\"product\"\r\n        readonly>\r\n    </mat-form-field> -->\r\n\r\n    <!-- <mat-form-field *ngIf=\"s1Application.brand\" class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput [(ngModel)]=\"s1Application.brand.category.description\" name=\"category\" formControlName=\"category\"\r\n        readonly>\r\n    </mat-form-field> -->\r\n    <!-- <div class=\"col-md-4\" *ngIf=\"s1Application?.brand?.status === 'FOR_APPROVAL' \">\r\n      <span class=\"badge rounded-pill bg-warning\">\r\n        For Approval\r\n      </span>\r\n    </div> -->\r\n    <div class=\"col-md-12 float-right\" style=\"padding-bottom:10px;\" *ngIf=\"s1Application?.brand?.status === 'FOR_APPROVAL' && isAscUser\">\r\n      <button mat-raised-button class=\"button-red\" (click)=\"openNewBrandModal('update')\">\r\n        <i class=\"material-icons color__white\">error_outline</i> View/Approve Brand\r\n      </button>\r\n    </div>\r\n    <div class=\"col-md-12 float-right\" style=\"padding-bottom:10px;\" *ngIf=\"s1Application?.product?.status === 'FOR_APPROVAL' && isAscUser\">\r\n      <button mat-raised-button class=\"button-red\" (click)=\"openNewProductModal('update')\">\r\n        <i class=\"material-icons color__white\">error_outline</i> View/Approve Product\r\n      </button>\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n<!-- FOR MULTIPLE/SPECIAL PREVIEW -->\r\n<div class=\"row\" *ngIf=\"multipleApplication?.status === 'APPROVED' || s1Application?.multipleApplication?.submissionStatus === 'UNPROCESSED' || s1Application?.status === 'APPROVED' || s1Application?.status === 'DISAPPROVED' || s1Application?.applicationRequest?.status === 'APPROVED'\">\r\n  <div class=\"row\">\r\n    <!-- <div class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Client Membership Affiliation</mat-label>\r\n        <input matInput [value]=\"previewS1Application?.membersAffiliation?.description\" disabled>\r\n      </div> -->\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Company Name</mat-label>\r\n      <input matInput [value]=\"s1Application?.company?.companyName\" readonly>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Client Membership Affiliation</mat-label>\r\n      <input matInput [value]=\"s1Application?.company?.membersAffiliation?.description\" readonly>\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Brand</mat-label>\r\n      <input matInput [value]=\"s1Application?.brand?.description\" readonly>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Product</mat-label>\r\n      <input matInput [value]=\"s1Application?.product?.description\" readonly>\r\n    </mat-form-field>\r\n    <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n      <mat-label>Category</mat-label>\r\n      <input matInput [value]=\"s1Application?.product?.category?.description\" readonly>\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n","import { MultiMediaMoving } from './multimedia-moving.model';\r\nexport class MultiMediaMovingConstant {\r\n    data: Array<MultiMediaMoving> = new Array<MultiMediaMoving>();\r\n    constructor(){\r\n        this.data =   [{\r\n            id: 0,\r\n            multimediaMovingMedium: 'cinema',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 1,\r\n            multimediaMovingMedium: 'collaterals',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 2,\r\n            multimediaMovingMedium: 'digital video',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 3,\r\n            multimediaMovingMedium: 'e-ooh',\r\n            hasSelected: false,\r\n          },\r\n          {\r\n            id: 4,\r\n            multimediaMovingMedium: 'television',\r\n            hasSelected: false,\r\n          }\r\n        ]\r\n    }\r\n}","export * from './client-information/client-information.component';\r\nexport * from './material-information/material-information.component';\r\nexport * from './preview-application/preview-application.component';\r\nexport * from './s1-application/add-s1-application/add-s1-application.component';\r\nexport * from './s1-application/list-s1-application/list-s1-application.component';\r\nexport * from './s2-application/add-s2-application/add-s2-application.component';\r\nexport * from './s2-application/list-s2-application/list-s2-application.component';","import { WebSocketService } from \"app/core/services/socket/websocket.service\";\r\nimport { BadgeCounnter } from \"app/core/models/counter\";\r\nimport {\r\n  AfterViewChecked,\r\n  AfterViewInit,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from \"@angular/core\";\r\nimport { Company, S1Application, UserAccount, Payment } from \"@models\";\r\nimport { FormGroup, FormControl } from \"@angular/forms\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  ENDPOINTS,\r\n  FORM_TYPE,\r\n  ROLES,\r\n  TYPE_OF_MEDIUM,\r\n  APPLICATION_STATUS,\r\n  COMMON_FUNCTION,\r\n  SUBMISSION_TYPE,\r\n  APPLICATION_STATUS_FOR_COMPLIANCE,\r\n  SPECIAL_APPLICATION,\r\n  APPLICATION_STAGE,\r\n  OTHER_STATUS,\r\n  USER_ROLES,\r\n  APPFORM_TYPE,\r\n  APPLICATION_STATUS_REVISION,\r\n  APP_DECISION_STATUS,\r\n  ATTACHMENT_TYPE,\r\n  STATUSES,\r\n} from \"@shared\";\r\nimport { ApiService, SweetAlertService, DataStorageService } from \"@services\";\r\nimport { MatAccordion } from \"@angular/material/expansion\";\r\nimport { ClientInformationComponent } from \"../../client-information/client-information.component\";\r\nimport { MaterialInformationComponent } from \"../../material-information/material-information.component\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport { DatePipe } from \"@angular/common\";\r\nimport { ApplicationSingleMedia } from \"../../../../../core/models/application-single-media.model\";\r\nimport { PreviewApplicationComponent } from \"../../preview-application/preview-application.component\";\r\nimport {\r\n  ApplicationMultimedia,\r\n  ApplicationMultimediaItemsDTO,\r\n} from \"../../../../../core/models/application-multimedia.model\";\r\nimport { DomSanitizer } from \"@angular/platform-browser\";\r\nimport { MultipleApplication } from \"app/core/models/multiple-application.model\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { ApplicationRequest } from \"app/core/models/application-request.model\";\r\nimport { RejectDisapprovedReasonComponent } from \"app/modules/fragments/reject-disapproved-reason/reject-disapproved-reason.component\";\r\nimport { MatDialog } from \"@angular/material/dialog\";\r\nimport { PerformanceMetricsComponent } from \"../../performance-metrics/performance-metrics.component\";\r\nimport { IncompleteDisapprovedRationaleComponent } from \"app/modules/fragments/incomplete-disapproved-rationale/incomplete-disapproved-rationale.component\";\r\nimport { Report } from \"app/core/models/report.model\";\r\nimport { Rationale } from \"app/core/models/rationale.model\";\r\nimport { CommonServices } from \"app/core/services/common-services.service\";\r\nimport { MatTableDataSource } from \"@angular/material/table\";\r\nimport { MatSnackBar } from \"@angular/material/snack-bar\";\r\nimport { isEqual, format, nextMonday } from \"date-fns\";\r\nimport { MatDatepicker } from \"@angular/material/datepicker\";\r\n\r\nvar activeHolidayDates = [];\r\nvar activeWeekendDates = [];\r\n\r\n@Component({\r\n  selector: \"app-add-s1-application\",\r\n  templateUrl: \"./add-s1-application.component.html\",\r\n  styleUrls: [\"./add-s1-application.component.scss\"],\r\n})\r\nexport class AddS1ApplicationComponent\r\n  implements OnInit, AfterViewChecked, OnDestroy, AfterViewInit {\r\n  @ViewChild(MatAccordion) accordion: MatAccordion;\r\n  @ViewChild(ClientInformationComponent, { static: false })\r\n  clientInformation: ClientInformationComponent;\r\n  @ViewChild(MaterialInformationComponent, { static: false })\r\n  materialInformation: MaterialInformationComponent;\r\n  @ViewChild(PreviewApplicationComponent, { static: false })\r\n  previewApplication: PreviewApplicationComponent;\r\n  // @ViewChild(AttachmentDocumentComponent, { static: false }) materialAttachmentDocument: AttachmentDocumentComponent;\r\n  public exportTime = { hour: 0, minute: 0, meriden: \"AM\", format: 12 };\r\n  @ViewChild(MatDatepicker) datepicker: MatDatepicker<Date>;\r\n\r\n  title = \"ASC Online System\";\r\n  s1Application = new S1Application();\r\n  multipleApplication = new MultipleApplication();\r\n  applicationRequest = new ApplicationRequest();\r\n  company = new Company();\r\n  applicationSingleMedia = new ApplicationSingleMedia();\r\n  presentorDetails = new UserAccount();\r\n  report = new Report();\r\n  rationale = new Rationale();\r\n  affiliationList = [];\r\n  companyList = [];\r\n  isNewCompany = false;\r\n  showCompanyAddress = false;\r\n  formTypeList = [...FORM_TYPE];\r\n  specialApplicationType = [...SPECIAL_APPLICATION];\r\n  applicationTypeList = [];\r\n  attachmentDocuments: any = {};\r\n  originalAttachmentDocuments = [];\r\n  revisionAttachmentDocuments = [];\r\n  complianceAttachmentDocuments = [];\r\n  paymentAttachment: any;\r\n  supportiveDocumentList = [];\r\n  multimediaStaticList = [];\r\n  selectedMultimediaList = [];\r\n  multimediaMovingList = [];\r\n  screenerList = [];\r\n  reviewerList = [];\r\n  applicantList = [];\r\n  mediaTypeListTemp = [];\r\n  rationaleOthersList = [];\r\n  rationaleLists = [];\r\n  adSpecialistList = [];\r\n  applicationSingleMediaTemp = new ApplicationSingleMedia();\r\n  payment = new Payment();\r\n  safeURL: any; // for payment\r\n  isScheduleSendIsEmpty: boolean;\r\n  selectedApplicationOwner: any;\r\n  applicationStage: string;\r\n  revisionLetterAttachment: any;\r\n  currentSizeLength: string;\r\n  currentSizeLengthMultimedia = [];\r\n  toDeleteMultimediaList = [];\r\n  hasMultimediaLengthChange: boolean;\r\n  hasMultimediaLengthToEnableSubmit = false;\r\n  disableSubmitButtonByMedia = false;\r\n  hasErrorsClient = false;\r\n  badgeCounter: BadgeCounnter = new BadgeCounnter();\r\n  hasErrorsMaterial;\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n  id: number;\r\n  multipleId: number;\r\n  isChecked = false;\r\n  isAscUser = false;\r\n  isDisableFieldOnUpdate = false;\r\n  isInactiveAffiliation: boolean;\r\n  isSubmit = false;\r\n  noDocumentAttached = true;\r\n  accordionDisable = false;\r\n  accordionExpanded = false;\r\n  validationMessage = \"\";\r\n  buttonDisabled = true;\r\n  adSpecButtonDisabled = true;\r\n  rationaleDisplay = false;\r\n  submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n  defaultReviewer: any;\r\n  maxSizeLength = 1000;\r\n\r\n  ascUserRoleList = [\r\n    ...ROLES.filter((role: any) => role.ascUser === true).map(\r\n      (role: any) => role.role\r\n    ),\r\n  ];\r\n\r\n  s1ApplicationForm: FormGroup;\r\n  todayDate = new Date();\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isEvaluator = false;\r\n  isAdSpecialist = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n\r\n  previewAttachmentsList = [];\r\n  previewAttachmentsDisplayedColumns: string[] = [\r\n    \"decisionFormFilename\",\r\n    \"viewDecisionFormIcon\",\r\n    \"stampMaterialFilename\",\r\n    \"viewStampMaterialIcon\",\r\n  ];\r\n  previewAttachmentsListDataSource: MatTableDataSource<object>;\r\n\r\n  selected: any; // in html but not existing in component -- encountered during 'ng serve --aot'\r\n  multimediaDTO: any;\r\n\r\n  activeHolidayDates: Date[] = [];\r\n  activeWeekendDates: Date[] = [];\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dataStorage: DataStorageService,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private sanitizer: DomSanitizer,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n    private cd: ChangeDetectorRef,\r\n    private dialog: MatDialog,\r\n    private commonServices: CommonServices,\r\n    private _snackBar: MatSnackBar\r\n  ) {}\r\n\r\n  get submitComplianceEnabled() {\r\n    const hasMain = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.MAIN\r\n      )\r\n    );\r\n    const hasSupportive = Boolean(\r\n      this.complianceAttachmentDocuments.find(\r\n        (c) => c.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n      )\r\n    );\r\n\r\n    return (\r\n      (hasMain && hasSupportive) ||\r\n      (hasMain && this.s1Application.hasNoSupportingDocs)\r\n    );\r\n  }\r\n\r\n  ngOnInit() {\r\n    if (this.todayDate.getDay() === 0 || this.todayDate.getDay() === 6) {\r\n      this.todayDate = nextMonday(this.todayDate);\r\n    }\r\n\r\n    if (this.dataStorage.getS1FormAndAppType()) {\r\n      this.s1Application.formType = this.dataStorage.getS1FormAndAppType().formType;\r\n      this.getApplicationTypeList(this.s1Application.formType);\r\n      this.s1Application.applicationType = this.dataStorage.getS1FormAndAppType().appType;\r\n    }\r\n\r\n    if (this.dataStorage.getS1Application()) {\r\n      this.s1Application = this.dataStorage.getS1Application();\r\n    }\r\n\r\n    if (this.dataStorage.getSpecialS1Application()) {\r\n      this.applicationRequest = this.dataStorage.getSpecialS1Application();\r\n      this.s1Application.formType = \"INDIVIDUAL\";\r\n      this.s1Application.submissionDate = this.applicationRequest.submissionDate;\r\n      if (this.s1Application.submissionDate) {\r\n        this.isChecked = true;\r\n        this.s1Application.autoSubmit = true;\r\n      }\r\n    }\r\n\r\n    this.setFormValidator();\r\n\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.initUserRole();\r\n    this.id = Number(this.route.snapshot.paramMap.get(\"id\"));\r\n    if (this.id !== 0) {\r\n      this.viewApplication();\r\n    }\r\n\r\n    this.multipleId = Number(this.route.snapshot.paramMap.get(\"multipleId\"));\r\n    const ctr = Number(this.route.snapshot.paramMap.get(\"nextSequence\"));\r\n\r\n    if (this.multipleId !== 0) {\r\n      this.spinner.show();\r\n      this.apiService\r\n        .findById(ENDPOINTS.multipleApplication, this.multipleId)\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.s1Application.multipleApplication = res.responseData.data;\r\n            this.s1Application.applicationType = this.s1Application.multipleApplication.applicationType;\r\n            this.s1Application.adTitle = this.s1Application.multipleApplication.adTitle;\r\n            this.s1Application.brand = this.s1Application.multipleApplication.brand;\r\n            this.s1Application.product = this.s1Application.multipleApplication.product;\r\n            // this.s1Application.category = this.s1Application.multipleApplication.category;\r\n            this.s1Application.company = this.s1Application.multipleApplication.company;\r\n            this.s1Application.submissionDate = this.s1Application.multipleApplication.dateOfSubmission;\r\n            this.s1Application.autoSubmit = true;\r\n            // this.s1Application.membersAffiliation = this.s1Application.multipleApplication.membersAffiliation;\r\n            this.s1Application.tagLine = this.s1Application.multipleApplication.tagLine;\r\n            this.s1Application.formType = APPFORM_TYPE.MULTIPLE;\r\n            this.s1Application.sequenceOrder = ctr;\r\n            this.spinner.hide();\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n    }\r\n\r\n    this.isAscUser = this.ascUserRoleList.includes(\r\n      this.dataStorage.getUserRole()\r\n    );\r\n    // this.s1Application.autoSubmit = false;\r\n    // this.s1Application.autoSubmitTime = 0;\r\n    // determines if the field will be enabled/disabled on update of s1 app\r\n    this.isDisableFieldOnUpdate =\r\n      ROLES.filter(\r\n        (res: any) =>\r\n          res.disableFieldOnUpdate === true && res.role === this.currentUserRole\r\n      ).length > 0 && this.id > 0\r\n        ? true\r\n        : false;\r\n\r\n    setTimeout(() => {\r\n      this.spinner.hide();\r\n    }, 1);\r\n    if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n      this.accordionDisable = false;\r\n      this.getUserTypeForList();\r\n    }\r\n    this.checkSingleMediaChanges();\r\n    this.getAllActiveHolidays();\r\n    this.getAllActiveWeekends();\r\n  }\r\n\r\n  matCalendarDateFilter(that) {\r\n    return (date: Date) => {\r\n      return !that.isDateHoliday(date, that) && date.getDay() !== 7;\r\n    };\r\n  }\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    this.checkSingleMediaChanges();\r\n    // this.checkMultimediaChanges();\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    if (this.applicationSingleMedia) {\r\n      this.checkSingleMediaChanges();\r\n    }\r\n    if (\r\n      this.materialInformation?.newMultimediaList.length ||\r\n      this.multimediaMovingList.length\r\n    ) {\r\n      // this.checkMultimediaChanges();\r\n    }\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  getScreenerAssignedAppCount(id: number) {\r\n    return 0;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    sessionStorage.removeItem(\"FORM_TYPE\");\r\n    sessionStorage.removeItem(\"APP_TYPE\");\r\n    sessionStorage.removeItem(\"NUMBER_OF_APPLICATIONS\");\r\n    sessionStorage.removeItem(\"S1_APPLICATION\");\r\n    sessionStorage.removeItem(\"MULTIPLE_S1_APPLICATION\");\r\n    sessionStorage.removeItem(\"SPECIAL_S1_APPLICATIONS\");\r\n    sessionStorage.removeItem(\"AMOUNT\");\r\n    // alert('destroy')\r\n    // const formAndAppType = {\r\n    //   formType: '',\r\n    //   appType: []\r\n    // }\r\n    // this.dataStorage.setRequestFormAndAppType(formAndAppType);\r\n  }\r\n\r\n  checkInactiveAffiliation() {\r\n    this.isInactiveAffiliation = this.clientInformation.isInactiveAffiliation;\r\n  }\r\n\r\n  viewApplication() {\r\n    this.spinner.show();\r\n    this.apiService.findById(ENDPOINTS.applicationForm, this.id).subscribe(\r\n      (res: any) => {\r\n        this.s1Application = res.responseData.data;\r\n        if (this.s1Application) {\r\n          console.log(\"View App: \", this.s1Application);\r\n\r\n          this.getApplicationTypeList(this.s1Application.formType);\r\n          this.setAppType(this.s1Application.applicationType);\r\n\r\n          this.clientInformation.s1Application = this.s1Application;\r\n          this.materialInformation.s1Application = this.s1Application;\r\n          this.setApplicationStage();\r\n          this.fetchMultimedia();\r\n\r\n          if (\r\n            this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n          ) {\r\n            this.getApplicationSingleMedia();\r\n          } else if (\r\n            this.s1Application.refTypeOfMedium ===\r\n            TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n          ) {\r\n            this.getMultimediaMoving();\r\n          } else if (\r\n            this.s1Application.refTypeOfMedium ===\r\n            TYPE_OF_MEDIUM.MULTIMEDIA_STATIC\r\n          ) {\r\n            this.getMultimediaStatic();\r\n          }\r\n\r\n          if (this.s1Application.autoSubmit) {\r\n            this.scheduleSubmission();\r\n            this.onChangeDate(this.s1Application.submissionDate);\r\n          }\r\n\r\n          if (this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT) {\r\n            this.getPresentorDetails();\r\n          }\r\n\r\n          if (\r\n            this.s1Application.mainAttachmentReference ||\r\n            this.s1Application.supportingAttachmentReference ||\r\n            this.s1Application.revisionLetterAttachmentReference\r\n          ) {\r\n            this.getAttachmentDocuments();\r\n          }\r\n\r\n          if (\r\n            this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST ||\r\n            this.currentUserRole === USER_ROLES.ROLE_SCREENER ||\r\n            this.currentUserRole === USER_ROLES.ROLE_REVIEWER\r\n          ) {\r\n            this.getUserTypeForList();\r\n          }\r\n\r\n          if (\r\n            (this.s1Application.decisionStatus === \"INCOMPLETE\" ||\r\n              this.s1Application.decisionStatus === \"DISAPPROVED\" ||\r\n              this.s1Application.decisionStatus ===\r\n                APP_DECISION_STATUS.APPROVED ||\r\n              this.s1Application.decisionStatus ===\r\n                APP_DECISION_STATUS.APPROVED_WITH_CAUTION) &&\r\n            this.currentUserRole === USER_ROLES.ROLE_SCREENER\r\n          ) {\r\n            // if ((this.s1Application.internalStatus === APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE ||\r\n            //   this.s1Application.internalStatus === APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER)) {\r\n            //     // this.dataStorage.setDecisionStatus(this.s1Application.decisionStatus);\r\n            //     // if(this.rationaleLists.length <= 0){\r\n            //     //   this.s1Application.decisionStatus = \"\";\r\n            //     //   alert(\"BLANK\")\r\n            //     // }else{\r\n            //     //   this.s1Application.decisionStatus = this.dataStorage.getDecisionStatus();\r\n            //     // }\r\n            // }\r\n\r\n            if (\r\n              this.s1Application.internalStatus ===\r\n                APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE ||\r\n              this.s1Application.internalStatus ===\r\n                APPLICATION_STATUS_REVISION.REVISION_VERIFIED_BY_AD_SPE\r\n            ) {\r\n              if (this.rationaleOthersList || this.rationaleLists) {\r\n                this.getRationaleList();\r\n              }\r\n              // alert(this.dataStorage.getDecisionStatus())\r\n              if (this.dataStorage.getDecisionStatus()) {\r\n                this.s1Application.decisionStatus = this.dataStorage.getDecisionStatus();\r\n              }\r\n              // if (this.s1Application.decisionStatus === APP_DECISION_STATUS.INCOMPLETE ||\r\n              //   this.s1Application.decisionStatus === APP_DECISION_STATUS.DISAPPROVED) {\r\n              // this.getRationaleList();\r\n              // alert('KHFDSKF')\r\n              // console.log(\"HIIAHIIHIFDIFS\", this.rationaleLists);\r\n              // }\r\n            }\r\n          }\r\n\r\n          if (\r\n            this.isAdmin ||\r\n            this.isSuperAdmin ||\r\n            this.isApplicant ||\r\n            this.isAdSpecialist\r\n          ) {\r\n            this.apiService\r\n              .findByParam(\r\n                ENDPOINTS.stampedMaterialAndDecisionForms,\r\n                this.s1Application?.appFormReference\r\n              )\r\n              .subscribe((previewAttachmentsData) => {\r\n                this.previewAttachmentsList =\r\n                  previewAttachmentsData.responseData.data;\r\n                this.previewAttachmentsListDataSource = new MatTableDataSource<object>(\r\n                  this.previewAttachmentsList\r\n                );\r\n              });\r\n          }\r\n\r\n          console.log(\"VIEW APP FORM: \", this.s1Application);\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n\r\n          if (this.s1Application.externalStatus) {\r\n            this.accordionDisable = false;\r\n          }\r\n        }\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  setApplicationStage(): void {\r\n    this.clientInformation.applicationStage = APPLICATION_STAGE.S1_APPLICATION;\r\n    this.materialInformation.applicationStage =\r\n      APPLICATION_STAGE.S1_APPLICATION;\r\n  }\r\n\r\n  getPresentorDetails() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.userLogin,\r\n        this.s1Application.applicationOwner.username\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data) {\r\n            this.presentorDetails = res.responseData.data;\r\n          }\r\n        },\r\n        (err: any) => {}\r\n      );\r\n  }\r\n\r\n  getApplicationSingleMedia() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationSingleMedia,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.applicationSingleMedia = res.responseData.data[0];\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.applicationSingleMedia = this.applicationSingleMedia;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.applicationSingleMedia = this.applicationSingleMedia;\r\n            }\r\n            this.currentSizeLength = this.applicationSingleMedia.sizeLength;\r\n            console.log(\r\n              \"view applicationSingleMedia: \",\r\n              this.applicationSingleMedia\r\n            );\r\n          } else {\r\n            this.applicationSingleMedia = new ApplicationSingleMedia();\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.applicationSingleMedia = new ApplicationSingleMedia();\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaStatic() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaStaticList = res.responseData.data;\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaStaticList;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.multimediaStaticList = this.multimediaStaticList;\r\n            }\r\n\r\n            console.log(\r\n              \"view multimediaStaticList: \",\r\n              this.multimediaStaticList\r\n            );\r\n            this.selectedMultimediaList = this.multimediaStaticList;\r\n          } else {\r\n            this.multimediaStaticList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          // this.multimediaStaticList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getMultimediaMoving() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationMultimedia,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.multimediaMovingList = res.responseData.data;\r\n            this.currentSizeLengthMultimedia = this.multimediaMovingList.map(\r\n              (mappedMultimedia) => ({\r\n                multimediaSizeLength: mappedMultimedia.multimediaSizeLength,\r\n                typeOfMedium: mappedMultimedia.typeOfMedium.description,\r\n              })\r\n            );\r\n\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.selectedMultimediaList = this.multimediaMovingList;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.multimediaMovingList = this.multimediaMovingList;\r\n            }\r\n            console.log(\r\n              \"view multimediaMovingList: \",\r\n              this.multimediaMovingList\r\n            );\r\n            this.selectedMultimediaList = this.multimediaMovingList;\r\n          } else {\r\n            this.multimediaMovingList = [];\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.multimediaMovingList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  getAttachmentDocuments() {\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.attachmentDocumentByAppFormReference +\r\n          this.s1Application.appFormReference\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.attachmentDocuments = res.responseData.data;\r\n\r\n        if (\r\n          this.attachmentDocuments &&\r\n          this.attachmentDocuments.originalAttachmentDocuments.length !== 0\r\n        ) {\r\n          if (\r\n            this.attachmentDocuments.originalAttachmentDocuments.length === 1 &&\r\n            this.attachmentDocuments.originalAttachmentDocuments[0].attachmentType.includes(\r\n              \"SUPPORTIVE\"\r\n            )\r\n          ) {\r\n            this.attachmentDocuments.originalAttachmentDocuments[0] = null;\r\n            this.attachmentDocuments.originalAttachmentDocuments[1] = this.attachmentDocuments[0];\r\n          }\r\n\r\n          if (\r\n            this.attachmentDocuments.originalAttachmentDocuments.length === 2\r\n          ) {\r\n            const mainDoc = this.attachmentDocuments.originalAttachmentDocuments.filter(\r\n              (data) => data?.attachmentType === ATTACHMENT_TYPE.MAIN\r\n            )[0];\r\n\r\n            const suppDoc = this.attachmentDocuments.originalAttachmentDocuments.filter(\r\n              (data) => data?.attachmentType === ATTACHMENT_TYPE.SUPPORTIVE\r\n            )[0];\r\n\r\n            this.attachmentDocuments.originalAttachmentDocuments[0] = mainDoc;\r\n            this.attachmentDocuments.originalAttachmentDocuments[1] = suppDoc;\r\n          }\r\n        }\r\n        // this.revisionLetterAttachment = this.attachmentDocuments.filter(data =>\r\n        //   data?.attachmentType === ATTACHMENT_TYPE.REVISION_LETTER)[0];\r\n\r\n        this.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n        this.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n        this.complianceAttachmentDocuments =\r\n          this.attachmentDocuments.complianceAttachmentDocuments || [];\r\n\r\n        if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n          this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n        ) {\r\n          this.materialInformation.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n          this.materialInformation.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n          this.materialInformation.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n        }\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n          this.previewApplication.originalAttachmentDocuments = this.attachmentDocuments.originalAttachmentDocuments;\r\n          this.previewApplication.revisionAttachmentDocuments = this.attachmentDocuments.revisionAttachmentDocuments;\r\n          this.previewApplication.complianceAttachmentDocuments = this.attachmentDocuments.complianceAttachmentDocuments;\r\n        }\r\n        console.log(\"view attachmentDocuments: \", this.attachmentDocuments);\r\n\r\n        // check if there's supporting doc\r\n        if (this.s1Application.supportingAttachmentReference) {\r\n          this.getSupportiveDocuments();\r\n        }\r\n      });\r\n\r\n    // Fetch payment details\r\n    if (this.s1Application.paymentAttachmentReference !== null) {\r\n      this.viewPayment();\r\n    }\r\n  }\r\n\r\n  viewPayment() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.payment,\r\n        `app-form-reference/${this.s1Application.appFormReference}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data) {\r\n            this.payment = res.responseData.data;\r\n            this.apiService\r\n              .findByParam(\r\n                ENDPOINTS.attachmentDocument,\r\n                `payment-attachment-reference/${this.s1Application.paymentAttachmentReference}`\r\n              )\r\n              .subscribe(\r\n                (res1: any) => {\r\n                  if (res1) {\r\n                    this.paymentAttachment = res1;\r\n                    this.safeURL = this.sanitizer.bypassSecurityTrustResourceUrl(\r\n                      this.paymentAttachment.fileURL\r\n                    );\r\n                    console.log(\r\n                      \"view paymentAttachment: \",\r\n                      this.paymentAttachment\r\n                    );\r\n                  }\r\n                },\r\n                (err: any) => {\r\n                  this.paymentAttachment = [];\r\n                }\r\n              );\r\n          }\r\n        },\r\n        (err: any) => {}\r\n      );\r\n  }\r\n\r\n  getSupportiveDocuments() {\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.supportiveDocument,\r\n        `application-form-id/${this.s1Application.id}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res.responseData.data.length > 0) {\r\n            this.supportiveDocumentList = res.responseData.data;\r\n            if (\r\n              this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n              this.s1Application.externalStatus === APPLICATION_STATUS.SAVED\r\n            ) {\r\n              this.materialInformation.supportiveDocumentList = this.supportiveDocumentList;\r\n            }\r\n            if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n              this.previewApplication.supportiveDocumentList = this.supportiveDocumentList;\r\n            }\r\n            console.log(\r\n              \"view supportiveDocumentList: \",\r\n              this.supportiveDocumentList\r\n            );\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.supportiveDocumentList = [];\r\n        }\r\n      );\r\n  }\r\n\r\n  scheduleSubmission() {\r\n    this.isChecked = !this.isChecked;\r\n    this.s1Application.autoSubmit = !this.s1Application.autoSubmit;\r\n    const submissionDateValue = \"submissionDate\";\r\n    this.s1ApplicationForm.controls[submissionDateValue].reset();\r\n    this.disableSaveAndSubmitButton();\r\n  }\r\n\r\n  /* setTime(time) {\r\n    this.s1Application.autoSubmitTime = time;\r\n  } */\r\n\r\n  // noDocumentAttachFunction(): void {\r\n  //   this.noDocumentAttached = !this.noDocumentAttached;\r\n  // }\r\n\r\n  setFormValidator(): void {\r\n    // this.s1ApplicationForm = this.formBuilder.group({\r\n    //   type: ['', Validators.required]\r\n    // });\r\n    this.s1ApplicationForm = new FormGroup({\r\n      formType: new FormControl(),\r\n      applicationType: new FormControl(),\r\n      decision: new FormControl(),\r\n      submissionDate: new FormControl(),\r\n      applicationRequest: new FormControl(),\r\n      actionStatus: new FormControl(),\r\n      assignedUser: new FormControl(),\r\n      decisionStatus: new FormControl(),\r\n    });\r\n  }\r\n\r\n  resetFormValidator(): void {\r\n    this.s1Application = new S1Application();\r\n    this.s1ApplicationForm.markAsUntouched();\r\n    this.s1ApplicationForm.markAsPristine();\r\n  }\r\n\r\n  clear(): void {\r\n    this.s1Application = new S1Application();\r\n  }\r\n\r\n  getApplicationTypeList(formType) {\r\n    this.s1Application.formType = formType;\r\n    this.applicationTypeList = [];\r\n    this.apiService.findAll(ENDPOINTS.applicationType).subscribe(\r\n      (res: any) => {\r\n        // if (formType !== 'MULTIPLE') {\r\n        this.applicationTypeList = res.responseData.data;\r\n        // } else {\r\n        //   this.applicationTypeList.push(res.responseData.data[0]);\r\n        //   this.applicationTypeList.push(res.responseData.data[1]);\r\n        // }\r\n      },\r\n      (err: any) => {}\r\n    );\r\n  }\r\n\r\n  getUserTypeForList() {\r\n    this.apiService.findAll(ENDPOINTS.userAccount).subscribe((res: any) => {\r\n      res.responseData.data.filter((account: any) => {\r\n        if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n          if (\r\n            account.userRole.name.toUpperCase() === USER_ROLES.ROLE_SCREENER\r\n          ) {\r\n            this.apiService\r\n              .findAll(\r\n                ENDPOINTS.applicationFormScreener +\r\n                  `custom/search?assignedScreenerId=${account.id}&page=1&size=100`\r\n              )\r\n              .subscribe(\r\n                (result: any) => {\r\n                  account.ctr = result.data.length;\r\n                  console.log(\"counter ->\", account);\r\n                  this.screenerList.push(account);\r\n                },\r\n                (err: any) => {}\r\n              );\r\n          }\r\n\r\n          if (\r\n            account.userRole.name.toUpperCase() ===\r\n            USER_ROLES.ROLE_AD_SPECIALIST\r\n          ) {\r\n            this.adSpecialistList.push(account);\r\n          }\r\n        }\r\n        if (this.currentUserRole === USER_ROLES.ROLE_SCREENER) {\r\n          if (\r\n            account.userRole.name.toUpperCase() === USER_ROLES.ROLE_REVIEWER\r\n          ) {\r\n            // start set partner reviewer as default/first\r\n            this.defaultReviewer = res.responseData.data.filter(\r\n              (reviewer: any) =>\r\n                reviewer.userRole.name.toUpperCase() ===\r\n                  USER_ROLES.ROLE_REVIEWER && reviewer.ascDefault === true\r\n            );\r\n\r\n            this.reviewerList = this.defaultReviewer;\r\n            const otherReviewers = res.responseData.data.filter(\r\n              (reviewer: any) =>\r\n                reviewer.userRole.name.toUpperCase() ===\r\n                  USER_ROLES.ROLE_REVIEWER && reviewer.ascDefault === false\r\n            );\r\n            this.reviewerList.push(...otherReviewers);\r\n\r\n            // this.s1Application.assignedUser = this.reviewerList[0];\r\n            this.s1Application.assignedReviewer = this.reviewerList[0];\r\n            // end set partner reviewer as default/first\r\n          }\r\n        }\r\n        this.buttonValidation(\"\");\r\n      });\r\n\r\n      if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n        console.log(\"ITS WORKING \");\r\n\r\n        this.applicantList = res.responseData.data.filter(\r\n          (account: any) =>\r\n            account.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n            account.status === COMMON_FUNCTION.ACTIVE\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  checkAscRateBeforeSaveOrSubmit(process = \"save\") {\r\n    const sizeLength = +this.applicationSingleMedia?.sizeLength;\r\n    if (sizeLength > this.maxSizeLength) {\r\n      this.sweetAlertService.customErrorMessage(\r\n        `Max input for size/length is ${this.maxSizeLength}`\r\n      );\r\n    } else if (\r\n      this.s1Application.formType === \"MULTIPLE\" &&\r\n      !this.specialApplicationType.includes(\r\n        this.s1Application.applicationType.description.toUpperCase()\r\n      )\r\n    ) {\r\n      this.saveOrUpdateApplication(\"SAVED\");\r\n    } else if (\r\n      this.s1Application?.refTypeOfMedium === \"SINGLE MEDIA\" &&\r\n      this.s1Application.formType !== \"MULTIPLE\"\r\n    ) {\r\n      this.validateAscRates(process);\r\n    } else {\r\n      if (process === \"save\") {\r\n        this.saveOrUpdateApplication(\"SAVED\");\r\n      } else if (process === \"submit\") {\r\n        this.saveStatus(\"presentor\", \"submit\", \"S1_APPLICATION_SUBMITTED\");\r\n      }\r\n    }\r\n  }\r\n\r\n  validateAscRates(process = \"save\") {\r\n    this.apiService\r\n      .save(ENDPOINTS.validateAscRates, this.applicationSingleMedia)\r\n      .subscribe(\r\n        (res) => {\r\n          if (process === \"save\") {\r\n            this.saveOrUpdateApplication(\"SAVED\");\r\n          } else if (process === \"submit\") {\r\n            this.saveStatus(\"presentor\", \"submit\", \"S1_APPLICATION_SUBMITTED\");\r\n          }\r\n        },\r\n        (err) => {\r\n          this.sweetAlertService.error(err);\r\n        }\r\n      );\r\n  }\r\n\r\n  saveOrUpdateApplication(status, process = \"save\") {\r\n    console.log(\"1\");\r\n    console.log(\r\n      \"this.s1Application.appFormReference: \",\r\n      this.s1Application.appFormReference\r\n    );\r\n\r\n    if (\r\n      this.s1Application.formType === \"MULTIPLE\" &&\r\n      !this.s1Application.multipleApplication\r\n    ) {\r\n      Swal.fire({\r\n        text: `Are you sure you want to ${\r\n          process === \"save\" ? \"save\" : \"submit\"\r\n        } this multiple application?`,\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Confirm\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          this.spinner.show();\r\n\r\n          this.multipleApplication.numberOfApplication = this.dataStorage.getNumberOfApplications();\r\n          this.multipleApplication.applicationType = this.s1Application.applicationType;\r\n          this.multipleApplication.dateOfSubmission = new Date(\r\n            this.s1Application.submissionDate\r\n          );\r\n          this.multipleApplication.status = this.specialApplicationType.includes(\r\n            this.multipleApplication.applicationType.description.toUpperCase()\r\n          )\r\n            ? OTHER_STATUS.FOR_APPROVAL\r\n            : APPLICATION_STATUS.APPROVED;\r\n          this.multipleApplication.actionBy = this.currentUser.username;\r\n          this.multipleApplication.actionDate = new Date();\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n            this.multipleApplication.applicationOwner = this.s1Application.applicationOwner;\r\n          } else {\r\n            this.multipleApplication.applicationOwner = this.currentUser;\r\n          }\r\n          this.multipleApplication.submissionStatus = \"UNPROCESSED\";\r\n          this.multipleApplication.assignedAdSpecialist = null;\r\n          this.multipleApplication.assignedEncoder = null;\r\n          this.multipleApplication.assignedScreener = null;\r\n          this.multipleApplication.assignedReviewer = null;\r\n\r\n          // From Client Info\r\n          // this.multipleApplication.membersAffiliation = this.clientInformation.s1Application.membersAffiliation;\r\n          this.multipleApplication.company = this.clientInformation.s1Application.company;\r\n          this.multipleApplication.brand = this.clientInformation.s1Application.brand;\r\n          this.multipleApplication.product = this.clientInformation.s1Application.product;\r\n          // this.multipleApplication.category = this.clientInformation.s1Application.category;\r\n\r\n          // From Material Info\r\n          this.multipleApplication.adTitle = this.materialInformation.s1Application.adTitle;\r\n          this.multipleApplication.tagLine = this.materialInformation.s1Application.tagLine;\r\n\r\n          this.save();\r\n        }\r\n      });\r\n    } else {\r\n      if (\r\n        this.s1Application.appFormReference &&\r\n        this.s1Application.appFormReference !== \"\" &&\r\n        this.s1Application.appFormReference !== undefined\r\n      ) {\r\n        if (status !== APPLICATION_STATUS.SAVED) {\r\n          this.isSubmit = true;\r\n        }\r\n        console.log(\"APPFORM: \", this.s1Application);\r\n        console.log(\"process :: \", process);\r\n        if (process === \"save\") {\r\n          Swal.fire({\r\n            text: `Are you sure you want to ${process} this application?`,\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Confirm\",\r\n          }).then((result) => {\r\n            if (result.value) {\r\n              this.spinner.show();\r\n              this.setAndSaveS1Data(status);\r\n            }\r\n          });\r\n        } else {\r\n          Swal.fire({\r\n            text: `Are you sure you want to ${process} this application?`,\r\n            icon: \"question\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"Confirm\",\r\n          }).then((result) => {\r\n            if (result.value) {\r\n              this.setAndSaveS1Data(status);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        this.sweetAlertService.customErrorMessage(\r\n          \"Missing application form reference.\"\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  setAndSaveS1Data(status): void {\r\n    console.log(\"2\");\r\n\r\n    if (this.s1Application.id === undefined) {\r\n      this.s1Application.id = 0;\r\n      this.s1Application.applicationOwner = this.currentUser;\r\n      // this.s1Application.appFormReference = ''; // ETO PALAAAA!!!!\r\n      this.s1Application.referenceCode = \"\";\r\n    }\r\n\r\n    // From Client Info\r\n    // this.s1Application.membersAffiliation = this.clientInformation.s1Application.membersAffiliation;\r\n    this.s1Application.company = this.clientInformation.s1Application.company;\r\n    this.s1Application.brand = this.clientInformation.s1Application.brand;\r\n    this.s1Application.product = this.clientInformation.s1Application.product;\r\n    // this.s1Application.category = this.clientInformation.s1Application.category;\r\n\r\n    // From Material Info\r\n    this.s1Application.adTitle = this.materialInformation.s1Application.adTitle;\r\n    this.s1Application.referenceCode = this.materialInformation.s1Application.referenceCode;\r\n    this.s1Application.tagLine = this.materialInformation.s1Application.tagLine;\r\n\r\n    // SubmissionType (default: ORIGINAL)\r\n    this.s1Application.submissionType = this.submissionType;\r\n\r\n    // Delete auto submit details if autoSubmit is false\r\n    if (this.s1Application.autoSubmit === false) {\r\n      this.isScheduleSendIsEmpty = false;\r\n      this.s1Application.submissionDate = null;\r\n    }\r\n    console.log(\"Saving...\");\r\n    this.save();\r\n  }\r\n\r\n  save() {\r\n    console.log(\"3\");\r\n    if (\r\n      this.s1Application.formType === \"INDIVIDUAL\" ||\r\n      this.s1Application.formType === \"FOR_PRESENTATION\" ||\r\n      (this.s1Application.formType === \"MULTIPLE\" &&\r\n        this.s1Application.multipleApplication)\r\n    ) {\r\n      this.spinner.show();\r\n      // Save S1 Form\r\n      this.mediaTypeListTemp = this.materialInformation.newMultimediaList;\r\n      this.applicationSingleMediaTemp = this.materialInformation.applicationSingleMedia;\r\n\r\n      this.setTypeOfMediumDisplay();\r\n      //\r\n      if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n        this.saveUpdateApplicationSingleMedia(\"SAVE\", null, null);\r\n      } else {\r\n        this.saveUpdateMultimedia(\"SAVE\", null, null);\r\n      }\r\n    } else if (this.s1Application.formType === \"MULTIPLE\") {\r\n      this.spinner.show();\r\n      this.apiService\r\n        .save(ENDPOINTS.multipleApplication, this.multipleApplication)\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.spinner.hide();\r\n            this.router.navigate([\"asc/page/application/s1/multiple\"]);\r\n            const message = this.specialApplicationType.includes(\r\n              this.multipleApplication.applicationType.description.toUpperCase()\r\n            )\r\n              ? \"Multiple application successfully submitted for approval\"\r\n              : \"Multiple application successfully saved\";\r\n            this.sweetAlertService.customSuccessMessage(message);\r\n            // this.navigateToS1List();\r\n          },\r\n          (err: any) => {\r\n            console.log(err);\r\n            this.spinner.hide();\r\n            this.sweetAlertService.error(err);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  setTypeOfMediumDisplay() {\r\n    console.log(\"3a\");\r\n    if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n      this.s1Application.typeOfMedium = this.materialInformation?.typeOfMedium?.description;\r\n    } else {\r\n      let movingStatic = \"\";\r\n      if (this.s1Application.typeOfMedium) {\r\n        movingStatic = this.s1Application.typeOfMedium;\r\n      }\r\n\r\n      this.mediaTypeListTemp.forEach((element) => {\r\n        if (movingStatic === \"\") {\r\n          movingStatic = element.description;\r\n        } else if (!movingStatic.includes(element.description)) {\r\n          movingStatic = movingStatic + \"/\" + element.description;\r\n        }\r\n        this.s1Application.typeOfMedium = movingStatic;\r\n      });\r\n\r\n      // removed multimediaToDelete\r\n      if (this.materialInformation?.toDeleteMultimediaList.length > 0) {\r\n        let currentTOM = this.s1Application.typeOfMedium;\r\n        this.materialInformation?.toDeleteMultimediaList?.forEach(\r\n          (multimediaToDelete) => {\r\n            console.log(\r\n              \"REMOVE: \",\r\n              multimediaToDelete.typeOfMedium.description\r\n            );\r\n            currentTOM = currentTOM.replace(\r\n              multimediaToDelete.typeOfMedium.description + \"/\",\r\n              \"\"\r\n            );\r\n            currentTOM = currentTOM.replace(\r\n              \"/\" + multimediaToDelete.typeOfMedium.description,\r\n              \"\"\r\n            );\r\n          }\r\n        );\r\n        this.s1Application.typeOfMedium = currentTOM;\r\n      }\r\n    }\r\n  }\r\n\r\n  saveUpdateApplicationSingleMedia(status, ascUser, action) {\r\n    console.log(\"3b\");\r\n    this.applicationSingleMediaTemp.appFormReference = this.s1Application?.appFormReference;\r\n\r\n    // this.spinner.hide();\r\n    if (this.applicationSingleMediaTemp) {\r\n      // this.spinner.show();\r\n      this.apiService\r\n        .save(ENDPOINTS.applicationSingleMedia, this.applicationSingleMediaTemp)\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (res !== undefined) {\r\n              console.log(\r\n                \"SAVED applicationSingleMedia: \",\r\n                res.responseData.data\r\n              );\r\n            }\r\n          },\r\n          (err: any) => {\r\n            // this.spinner.hide();\r\n            this.sweetAlertService.error(err);\r\n            return;\r\n          },\r\n          () => {\r\n            // this.spinner.hide();\r\n            if (status?.toUpperCase() === COMMON_FUNCTION.SAVE.toUpperCase()) {\r\n              this.saveAppForm();\r\n            } else if (\r\n              status?.toUpperCase() === COMMON_FUNCTION.SUBMIT.toUpperCase()\r\n            ) {\r\n              this.processAppForm(ascUser, action);\r\n            }\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  saveUpdateMultimedia(status, ascUser, action) {\r\n    let typeOfMultimedia = \"\";\r\n    this.multimediaDTO.appFormReference = this.s1Application.appFormReference;\r\n\r\n    if (\r\n      this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n    ) {\r\n      typeOfMultimedia = \"moving\";\r\n    } else {\r\n      typeOfMultimedia = \"static\";\r\n    }\r\n\r\n    this.apiService\r\n      .save(\r\n        ENDPOINTS.applicationMultimedia + \"-\" + typeOfMultimedia,\r\n        this.multimediaDTO\r\n      )\r\n      .subscribe(\r\n        (res: any) => {},\r\n        (err: any) => {\r\n          // this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n        },\r\n        () => {\r\n          // this.spinner.hide();\r\n          if (status?.toUpperCase() === COMMON_FUNCTION.SAVE.toUpperCase()) {\r\n            this.saveAppForm();\r\n          } else if (\r\n            status?.toUpperCase() === COMMON_FUNCTION.SUBMIT.toUpperCase()\r\n          ) {\r\n            this.processAppForm(ascUser, action);\r\n          } else {\r\n            this.spinner.hide();\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  // OLD IMPLEMENTATION - TO BE REMOVED ONCE VERIFIED\r\n  // saveUpdateMultimedia(status, ascUser, action) {\r\n  //   console.log('3c');\r\n  //   const asd = this.multimediaMovingList.concat(this.multimediaStaticList);\r\n\r\n  //   const multimediaList = [];\r\n  //   this.mediaTypeListTemp = this.materialInformation.newMultimediaList;\r\n\r\n  //   this.mediaTypeListTemp.forEach(element => {\r\n  //     if (element.sizeLength !== undefined) {\r\n\r\n  //       const obj = new ApplicationMultimedia();\r\n  //       obj.typeOfMedium = element;\r\n  //       obj.appFormReference = this.s1Application.appFormReference;\r\n  //       obj.multimediaSizeLength = element.sizeLength;\r\n\r\n  //       if (element.multimediaMoving) {\r\n  //         obj.mediaType = TYPE_OF_MEDIUM.MOVING;\r\n  //       }\r\n\r\n  //       if (element.multimediaStatic) {\r\n  //         obj.mediaType = TYPE_OF_MEDIUM.STATIC;\r\n  //       }\r\n\r\n  //       const existingValue = this.selectedMultimediaList.filter(filteredMedia => filteredMedia?.typeOfMedium?.id === obj.typeOfMedium.id);\r\n  //       if (existingValue.length) {\r\n  //         obj.id = existingValue[0].id;\r\n  //       }\r\n\r\n  //       delete element.sizeLength;\r\n  //       multimediaList.push(obj);\r\n  //     }\r\n  //   });\r\n\r\n  //   // this.spinner.show();\r\n  //   this.apiService.save(ENDPOINTS.applicationMultimedia + '/' + COMMON_FUNCTION.BATCH, multimediaList).subscribe(\r\n  //     (res: any) => {\r\n  //       // remove blank multimedia size/length\r\n  //       this.materialInformation?.toDeleteMultimediaList?.forEach(multimediaToDelete => {\r\n  //         this.apiService.deleteById(`${ENDPOINTS.applicationMultimedia}`, multimediaToDelete.id).subscribe();\r\n  //       });\r\n  //       // this.spinner.hide();\r\n  //     }, (err: any) => {\r\n  //       // this.spinner.hide();\r\n  //       this.sweetAlertService.error(err);\r\n  //     }, () => {\r\n  //       // this.spinner.hide();\r\n  //       if (status?.toUpperCase() === COMMON_FUNCTION.SAVE.toUpperCase()) {\r\n  //         this.saveAppForm();\r\n  //       } else if (status?.toUpperCase() === COMMON_FUNCTION.SUBMIT.toUpperCase()) {\r\n  //         this.processAppForm(ascUser, action);\r\n  //       } else {\r\n  //         this.spinner.hide();\r\n  //       }\r\n  //     });\r\n  // }\r\n\r\n  saveAppForm() {\r\n    console.log(\"4.0\");\r\n    console.log(\"TO SAVE: \", this.s1Application);\r\n    this.s1Application.actionBy = this.currentUser;\r\n    // ENDPOINTS.applicationFormEncoder + COMMON_FUNCTION.VERIFY;\r\n    this.apiService\r\n      .save(\r\n        ENDPOINTS.applicationFormPresentor + COMMON_FUNCTION.SAVE,\r\n        this.s1Application\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res !== undefined) {\r\n            this.id = res.responseData.data.id;\r\n            this.s1Application = res.responseData.data;\r\n            console.log(\"SAVED:\", this.s1Application);\r\n\r\n            // if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n            //   this.saveS1ApplicationByEncoder(this.s1Application);\r\n            // }\r\n\r\n            this.spinner.hide();\r\n          }\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n        },\r\n        () => {\r\n          // actions after subscription\r\n          // this.resetFormValidator();\r\n          if (this.s1Application.id !== undefined && this.isSubmit === false) {\r\n            // this.router.navigate(['asc/page/application/s1/update/', this.id]);\r\n            this.spinner.hide();\r\n            this.sweetAlertService.customSuccessMessage(\r\n              \"Application successfully saved.\"\r\n            );\r\n            if (this.s1Application.multipleApplication) {\r\n              this.router.navigate([\"asc/page/application/s1/multiple\"]);\r\n            } else {\r\n              this.navigateToS1List();\r\n            }\r\n          } else {\r\n            console.log(\"COMMENT OUT: S1_APPLICATION_SUBMITTED\");\r\n            // this.saveStatus('presentor', 'submit', 'S1_APPLICATION_SUBMITTED');\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  saveSupportingDocuments() {\r\n    this.spinner.show();\r\n    const supportingDocuments = [];\r\n\r\n    this.materialInformation.newSupportiveDocumentList = this.materialInformation.newSupportiveDocumentList.map(\r\n      (res: any) => {\r\n        res.applicationForm = this.s1Application;\r\n        supportingDocuments.push(res);\r\n      }\r\n    );\r\n    this.apiService\r\n      .save(\r\n        ENDPOINTS.supportiveDocument + \"/\" + COMMON_FUNCTION.BATCH,\r\n        supportingDocuments\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log(\"Saved suppoting docs successfully.\");\r\n          this.spinner.hide();\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n          return;\r\n        }\r\n      );\r\n  }\r\n\r\n  setAppType(type) {\r\n    this.s1Application.applicationType = type;\r\n  }\r\n\r\n  compareFormType(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected;\r\n    }\r\n  }\r\n\r\n  compareApplicationType(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareAssignedScreener(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareAssignedReviewer(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareAssignedAdSpec(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  // onChangeHour(event) {\r\n  //   let timeFetched;\r\n  //   timeFetched = event.hour + ':' + event.minute + event.meriden;\r\n  //   this.s1Application.autoSubmitTime = timeFetched;\r\n  // }\r\n\r\n  onChangeDate(value) {\r\n    console.log(value);\r\n    if (value) {\r\n      const dateFetched = value;\r\n      const dateTransformed = this.datepipe.transform(\r\n        dateFetched,\r\n        \"yyyy-MM-dd\"\r\n      );\r\n      this.s1Application.submissionDate = new Date(dateTransformed);\r\n      this.s1Application.autoSubmit = true;\r\n      this.disableSaveAndSubmitButton();\r\n    }\r\n  }\r\n\r\n  resendDecision() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to resend decision form?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.api +\r\n              `admin/application-form/id/${this.s1Application.id}/send/decision-form`,\r\n            this.s1Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              if (res.code === 200) {\r\n                this.spinner.hide();\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Successfully resend decision form\"\r\n                );\r\n                this.navigateToS1List();\r\n              }\r\n            },\r\n            (err: any) => {\r\n              this.spinner.hide();\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  returnToScreener() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to return this application to Screener?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n          endpoint =\r\n            ENDPOINTS.api +\r\n            `application-form/id/${this.s1Application.id}/s1/ad-specialist/forward-to-screener`;\r\n        } else if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n        ) {\r\n          endpoint =\r\n            ENDPOINTS.api +\r\n            `admin/application-form/id/${this.s1Application.id}/forward-to-screener`;\r\n        }\r\n\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            if (res.code === 200) {\r\n              console.log(\"RETURN: \", res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully return to Screener\"\r\n              );\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  returnTo(ascUser, newStatus): void {\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to return this application to \" + ascUser + \"?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.assignedUser = this.s1Application.actionBy;\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToAdSpe}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormScreener}return`;\r\n          }\r\n        } else if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n        ) {\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToScreener}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormReviewer}return`;\r\n          }\r\n        }\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            if (res.code === 200) {\r\n              // console.log('RETURN: ', res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully returned the application\"\r\n              );\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  reassign(): void {\r\n    if (\r\n      this.s1Application.internalStatus ===\r\n      APPLICATION_STATUS.S1_APPLICATION_VERIFIED_BY_AD_SPE\r\n    ) {\r\n      if (this.s1Application.multipleApplication) {\r\n        this.s1Application.multipleApplication.assignedScreener = this.s1Application.assignedScreener;\r\n      } else {\r\n        this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n      }\r\n    } else if (\r\n      this.s1Application.internalStatus ===\r\n      APPLICATION_STATUS.S1_APPLICATION_SCREENED\r\n    ) {\r\n      if (this.s1Application.multipleApplication) {\r\n        this.s1Application.multipleApplication.assignedReviewer = this.s1Application.assignedReviewer;\r\n      } else {\r\n        this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n      }\r\n    }\r\n\r\n    Swal.fire({\r\n      text: \"Are you sure you want to reassign this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        let param = {};\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n          if (this.s1Application.multipleApplication) {\r\n            endpoint = ENDPOINTS.reAssignScreenerForMultipleApplication;\r\n            param = this.s1Application.multipleApplication;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormAdSpecialist}re-assign/screener`;\r\n            param = this.s1Application;\r\n          }\r\n        } else {\r\n          if (this.s1Application.multipleApplication) {\r\n            endpoint = ENDPOINTS.reAssignReviewerForMultipleApplication;\r\n            param = this.s1Application.multipleApplication;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormScreener}re-assign/reviewer`;\r\n            param = this.s1Application;\r\n          }\r\n        }\r\n\r\n        this.apiService.save(endpoint, param).subscribe(\r\n          (res: any) => {\r\n            console.log(\"SAVED: \", res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.success(res);\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  reassignAdSpecialist(): void {\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to re-assign this application to \" +\r\n        this.s1Application.assignedAdSpecialist.firstName +\r\n        \" \" +\r\n        this.s1Application.assignedAdSpecialist.lastName,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.assignedUser = this.s1Application.assignedAdSpecialist;\r\n\r\n        endpoint = ENDPOINTS.applicationForm;\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.update(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            // console.log('RETURN: ', res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Application re-assigned successfully.\"\r\n              );\r\n              this.navigateToS1List();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  validateSubmissionTime(status = \"\") {\r\n    const currentDate = new Date();\r\n    // start - for testing purposes only - uncomment lines below during dev (do not push uncomment)\r\n    // currentDate.setHours(11);\r\n    // currentDate.setMinutes(0);\r\n    // const currentHour = currentDate.getHours();\r\n    // const currentMinute = currentDate.getMinutes();\r\n\r\n    // if ((currentHour < 7 || (currentHour >= 11 && currentMinute > 0) || currentHour > 11) && status === 'S1_APPLICATION_SUBMITTED') {\r\n    //   const err = {\r\n    //     error: { message: 'Submission of application is between 7:00 AM to 11:00 AM only.' }\r\n    //   };\r\n    //   this.sweetAlertService.error(err);\r\n    //   return;\r\n    // }\r\n    // end\r\n  }\r\n\r\n  checkNullValues(str) {\r\n    return str ? str : \"\";\r\n  }\r\n\r\n  /////////////////////////// FOR ORIGINAL //////////////////////////////////\r\n  saveStatus(ascUser = \"\", action = \"\", status = \"\") {\r\n    let message: string = \"\";\r\n    if (action === \"submit\") {\r\n      message =\r\n        \"Once submitted and accepted, cancellation of application is not allowed.\" +\r\n        ` Are you sure you want to ${action} this application?`;\r\n    } else message = `Are you sure you want to ${action} this application?`;\r\n    Swal.fire({\r\n      text: message,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let msg = \"\";\r\n        if (status === APPLICATION_STATUS.S1_APPLICATION_SUBMITTED) {\r\n          msg = COMMON_FUNCTION.SUBMIT;\r\n        } else if (status === APPLICATION_STATUS.S1_APPLICATION_CANCELLED) {\r\n          msg = COMMON_FUNCTION.CANCEL;\r\n        } else if (status === APPLICATION_STATUS.S1_APPLICATION_REJECTED) {\r\n          msg = COMMON_FUNCTION.REJECT;\r\n        } else if (\r\n          status === APPLICATION_STATUS.S1_APPLICATION_VERIFIED_BY_AD_SPE\r\n        ) {\r\n          msg = COMMON_FUNCTION.VERIFY;\r\n        } else if (status === APPLICATION_STATUS.S1_APPLICATION_SCREENED) {\r\n          msg = COMMON_FUNCTION.SCREEN;\r\n        } else {\r\n          msg = COMMON_FUNCTION.ACCEPT;\r\n        }\r\n\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n\r\n        // Check NULL values\r\n        this.s1Application.referenceCode = this.checkNullValues(\r\n          this.s1Application.referenceCode\r\n        );\r\n        this.s1Application.supportingAttachmentReference = this.checkNullValues(\r\n          this.s1Application.supportingAttachmentReference\r\n        );\r\n        this.s1Application.paymentAttachmentReference = this.checkNullValues(\r\n          this.s1Application.paymentAttachmentReference\r\n        );\r\n        this.s1Application.revisionLetterAttachmentReference = this.checkNullValues(\r\n          this.s1Application.revisionLetterAttachmentReference\r\n        );\r\n        this.s1Application.decisionStatus = this.checkNullValues(\r\n          this.s1Application.decisionStatus\r\n        );\r\n        this.s1Application.status = this.specialApplicationType.includes(\r\n          this.s1Application.applicationType.description.toUpperCase()\r\n        )\r\n          ? OTHER_STATUS.FOR_APPROVAL\r\n          : APPLICATION_STATUS.APPROVED;\r\n        // SUBMIT\r\n        if (status === APPLICATION_STATUS.S1_APPLICATION_SUBMITTED) {\r\n          if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n            this.s1Application.applicationOwner = this.selectedApplicationOwner;\r\n          } else {\r\n            this.s1Application.applicationOwner = this.dataStorage.getUserAccount();\r\n          }\r\n\r\n          this.s1Application.submissionDate = new Date();\r\n          // Delete auto submit details if autoSubmit was cancelled\r\n          this.s1Application.autoSubmit = false;\r\n        }\r\n\r\n        if (!this.s1Application.company) {\r\n          this.s1Application.company = this.dataStorage.getS1NewCompany();\r\n          sessionStorage.removeItem(\"NEW_COMPANY\");\r\n        }\r\n\r\n        this.s1Application.actionBy = this.dataStorage.getUserAccount();\r\n\r\n        if (status !== APPLICATION_STATUS.S1_APPLICATION_CANCELLED) {\r\n          // FOR ADSPE: Save Supporting Documents\r\n          if (\r\n            this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST &&\r\n            this.materialInformation.newSupportiveDocumentList.length > 0\r\n          ) {\r\n            this.saveSupportingDocuments();\r\n          }\r\n\r\n          this.spinner.show();\r\n          if (\r\n            this.s1Application.formType !== APPFORM_TYPE.MULTIPLE ||\r\n            (this.s1Application.multipleApplication &&\r\n              this.s1Application.multipleApplication\r\n                .actualNumberOfApplicationForm ===\r\n                this.s1Application.multipleApplication\r\n                  .countVerifiedApplicationForm -\r\n                  1)\r\n          ) {\r\n            if (\r\n              ascUser === \"ad-specialist\" &&\r\n              action === \"verify\" &&\r\n              status === APPLICATION_STATUS.S1_APPLICATION_VERIFIED_BY_AD_SPE\r\n            ) {\r\n              // this.s1Application.assignedScreener = this.s1Application.assignedUser;\r\n              this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n            } else if (\r\n              ascUser === \"screener\" &&\r\n              action === \"verify\" &&\r\n              status === APPLICATION_STATUS.S1_APPLICATION_SCREENED\r\n            ) {\r\n              this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n            }\r\n          }\r\n\r\n          this.mediaTypeListTemp = this.materialInformation.newMultimediaList;\r\n          this.applicationSingleMediaTemp = this.materialInformation.applicationSingleMedia;\r\n\r\n          console.log(\"mediaTypeListTemp: \", this.mediaTypeListTemp);\r\n          console.log(\r\n            \"applicationSingleMediaTemp: \",\r\n            this.applicationSingleMediaTemp\r\n          );\r\n\r\n          // Encoder: Update Medium details - working in single media\r\n          // Encoder: Encode appform - working in single media\r\n          if (this.currentUserRole === USER_ROLES.ROLE_ENCODER) {\r\n            this.setTypeOfMediumDisplay();\r\n            if (\r\n              this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n            ) {\r\n              this.applicationSingleMedia = this.applicationSingleMediaTemp;\r\n              this.applicationSingleMedia.appFormReference = this.s1Application.appFormReference;\r\n              this.saveUpdateApplicationSingleMedia(null, null, null);\r\n            } else {\r\n              this.saveUpdateMultimedia(null, null, null);\r\n            }\r\n          }\r\n\r\n          // working in Single Media\r\n          if (\r\n            msg === COMMON_FUNCTION.SUBMIT &&\r\n            this.currentUserRole === USER_ROLES.ROLE_APPLICANT\r\n          ) {\r\n            this.setTypeOfMediumDisplay();\r\n            if (\r\n              this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n            ) {\r\n              this.saveUpdateApplicationSingleMedia(msg, ascUser, action);\r\n            } else {\r\n              this.saveUpdateMultimedia(msg, ascUser, action);\r\n            }\r\n          } else {\r\n            this.processAppForm(ascUser, action);\r\n          }\r\n          // socket here\r\n        } else {\r\n          // CANCEL APPLICATION (PUT method)\r\n\r\n          this.spinner.show();\r\n          this.apiService\r\n            .update(\r\n              `${ENDPOINTS.applicationForm}/s1/${ascUser}/${action}`,\r\n              this.s1Application\r\n            )\r\n            .subscribe(\r\n              (res: any) => {\r\n                console.log(\"SAVED STATUS: \", res.responseData.data);\r\n                this.spinner.hide();\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Application successfully canceled.\"\r\n                );\r\n                this.navigateToS1List();\r\n              },\r\n              (err) => {\r\n                console.log(err);\r\n                this.spinner.hide();\r\n              },\r\n              () => {\r\n                this.dataStorage.setDisplayProgressbar(false);\r\n              }\r\n            );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  processAppForm(ascUser, action) {\r\n    console.log(\"Process 2\");\r\n\r\n    const {\r\n      appFormReference,\r\n      revisionLetterAttachmentReference,\r\n      supportingAttachmentReference,\r\n    } = this.s1Application;\r\n    this.s1Application.appFormReference = appFormReference\r\n      ? appFormReference\r\n      : \"\";\r\n\r\n    if (revisionLetterAttachmentReference === \"\") {\r\n      delete this.s1Application.revisionLetterAttachmentReference;\r\n    }\r\n    if (supportingAttachmentReference === \"\") {\r\n      delete this.s1Application.supportingAttachmentReference;\r\n    }\r\n\r\n    this.s1Application.status = this.specialApplicationType.includes(\r\n      this.s1Application.applicationType.description.toUpperCase()\r\n    )\r\n      ? OTHER_STATUS.FOR_APPROVAL\r\n      : \"APPROVED\";\r\n    console.log(\"TO PROCESS: \", this.s1Application);\r\n\r\n    this.apiService\r\n      .save(\r\n        `${ENDPOINTS.applicationForm}/s1/${ascUser}/${action}`,\r\n        this.s1Application\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          if (res) {\r\n            console.log(\"SAVED STATUS 1: \", res);\r\n            if (res.code === 400) {\r\n              this.sweetAlertService.customErrorMessage(res.responseMessage);\r\n            } else {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.s1Application = res.responseData.data;\r\n              // saving of media\r\n              // if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n              //   this.saveUpdateApplicationSingleMedia();\r\n              // } else {\r\n              //   this.saveUpdateMultimedia();\r\n              // }\r\n\r\n              // Forward Multiple Application\r\n              if (\r\n                this.s1Application.multipleApplication &&\r\n                this.s1Application.multipleApplication\r\n                  .actualNumberOfApplicationForm ===\r\n                  this.s1Application.multipleApplication\r\n                    .countVerifiedApplicationForm\r\n              ) {\r\n                this.forwardMultipleAppsTo(ascUser);\r\n              } else {\r\n                console.log(\"SAVED STATUS: \", res.responseData.data);\r\n                this.s1Application = res.responseData.data;\r\n                // saving of media\r\n                // if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n                //   this.saveUpdateApplicationSingleMedia();\r\n                // } else {\r\n                //   this.saveUpdateMultimedia();\r\n                // }\r\n\r\n                // Forward Multiple Application\r\n                if (\r\n                  this.s1Application.multipleApplication &&\r\n                  this.s1Application.multipleApplication\r\n                    .actualNumberOfApplicationForm ===\r\n                    this.s1Application.multipleApplication\r\n                      .countVerifiedApplicationForm\r\n                ) {\r\n                  this.forwardMultipleAppsTo(ascUser);\r\n                } else {\r\n                  this.spinner.hide();\r\n                  this.sweetAlertService.success(res);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        },\r\n        (err) => {\r\n          console.log(err);\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n          this.dataStorage.setDisplayProgressbar(false);\r\n        },\r\n        () => {\r\n          this.spinner.hide();\r\n          this.dataStorage.setDisplayProgressbar(false);\r\n          // if (this.s1Application.multipleApplication) {\r\n          //   this.router.navigate(['/asc/page/application/s1/multiple']);\r\n          // } else {\r\n          this.navigateToS1List();\r\n\r\n          //\r\n          if (\r\n            this.currentUserRole === USER_ROLES.ROLE_APPLICANT &&\r\n            this.checkCutOffTime()\r\n          ) {\r\n            this._snackBar.open(\r\n              \"Cutoff reached. Application will be processed the next day.\",\r\n              \"OK\",\r\n              {\r\n                horizontalPosition: \"right\",\r\n                verticalPosition: \"top\",\r\n                duration: 5000,\r\n              }\r\n            );\r\n          }\r\n          // }\r\n        }\r\n      );\r\n    // if (this.currentUserRole === USER_ROLES.ROLE_ENCODER && this.s1Application.externalStatus === APPLICATION_STATUS.SAVED) {\r\n    //   this.saveS1ApplicationByEncoder(this.s1Application);\r\n    // }\r\n  }\r\n\r\n  submitDecisionAndComment() {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to save changes to this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        let endpoint = \"\";\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n          endpoint = ENDPOINTS.submitDecisionAndCommentScreener;\r\n        } else if (\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n        ) {\r\n          endpoint = ENDPOINTS.submitDecisionAndCommentReviewer;\r\n        }\r\n\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            console.log(res);\r\n            this.sweetAlertService.customSuccessMessage(\r\n              \"Decision and comment successfully submitted.\"\r\n            );\r\n            this.navigateToS1List();\r\n          },\r\n          (err: any) => {}\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  forwardMultipleAppsTo(user) {\r\n    console.log(\"forwardMultipleAppsTo\");\r\n    console.log(this.s1Application);\r\n\r\n    let endpoint = \"\";\r\n    if (user === \"encoder\") {\r\n      this.s1Application.multipleApplication.assignedEncoder = this.s1Application.assignedEncoder;\r\n      endpoint = ENDPOINTS.forwardMultipleAppFormToAdSpe;\r\n    } else if (user === \"ad-specialist\") {\r\n      this.s1Application.multipleApplication.assignedAdSpecialist = this.s1Application.assignedAdSpecialist;\r\n      this.s1Application.multipleApplication.assignedScreener = this.s1Application.assignedScreener;\r\n      endpoint = ENDPOINTS.forwardMultipleAppFormToScreener;\r\n    } else if (user === \"screener\") {\r\n      this.s1Application.multipleApplication.assignedReviewer = this.s1Application.assignedReviewer;\r\n      endpoint = ENDPOINTS.forwardMultipleAppFormToReviewer;\r\n    } else if (user === \"reviewer\") {\r\n      endpoint =\r\n        ENDPOINTS.releaseMultipleApplication +\r\n        this.s1Application.multipleApplication.id +\r\n        `/release`;\r\n    }\r\n\r\n    this.apiService\r\n      .save(endpoint, this.s1Application.multipleApplication)\r\n      .subscribe(\r\n        (res: any) => {\r\n          console.log(\"Forwarded: \", res);\r\n          this.spinner.hide();\r\n          this.sweetAlertService.customSuccessMessage(\r\n            \"Multiple application successfully forwarded to the next user.\"\r\n          );\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.error(err);\r\n        },\r\n        () => {\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n  }\r\n\r\n  /////////////////////////// FOR COMPLIANCE //////////////////////////////////\r\n  saveStatusForCompliance(ascUser = \"\", action = \"\", status = \"\") {\r\n    console.log(\"Com > \", this.s1Application);\r\n    let msg;\r\n    if (\r\n      status ===\r\n      APPLICATION_STATUS_FOR_COMPLIANCE.SUBMITTED_DOCUMENT_FOR_COMPLIANCE\r\n    ) {\r\n      msg = COMMON_FUNCTION.SUBMIT;\r\n    } else {\r\n      msg = COMMON_FUNCTION.ACCEPT;\r\n    }\r\n\r\n    if (this.s1Application.submissionType === SUBMISSION_TYPE.REVISION) {\r\n      this.s1Application.submissionType = SUBMISSION_TYPE.REVISION;\r\n    } else {\r\n      this.s1Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    }\r\n\r\n    Swal.fire({\r\n      text:\r\n        \"Are you sure you want to \" + msg + \" this application for compliance?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        console.log(\"TO SAVE: \", this.s1Application);\r\n\r\n        // FOR ADSPE: Save Supporting Documents\r\n        if (this.materialInformation.newSupportiveDocumentList.length > 0) {\r\n          this.saveSupportingDocuments();\r\n        }\r\n\r\n        this.spinner.show();\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (\r\n          ascUser === \"ad-specialist\" &&\r\n          action === \"verify\" &&\r\n          status ===\r\n            APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE\r\n        ) {\r\n          // this.s1Application.assignedScreener = this.s1Application.assignedUser;\r\n          this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n          console.log(\"ASSINGED SCREENER\", this.s1Application.assignedUser);\r\n        }\r\n\r\n        if (\r\n          ascUser === \"screener\" &&\r\n          action === \"verify\" &&\r\n          status ===\r\n            APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER\r\n        ) {\r\n          // this.s1Application.assignedScreener = this.s1Application.assignedUser;\r\n          this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n          console.log(\"ASSINGED REVIEWER\", this.s1Application.assignedUser);\r\n        }\r\n\r\n        this.apiService\r\n          .save(\r\n            `${ENDPOINTS.applicationForm}/s1/compliance/${ascUser}/${action}`,\r\n            this.s1Application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.success(res);\r\n              this.navigateToS1List();\r\n            },\r\n            (err) => {\r\n              console.log(err);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.error(err);\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            },\r\n            () => {\r\n              this.spinner.hide();\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  /////////////////////////// REVISION //////////////////////////////////\r\n  saveStatusRevision(ascUser = \"\", action = \"\", status = \"\") {\r\n    console.log(\"Rev > \", this.s1Application);\r\n    Swal.fire({\r\n      text: \"Are you sure you want to save changes for revision?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        if (\r\n          this.s1Application.revisionNo === 2 &&\r\n          this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT\r\n        ) {\r\n          this.spinner.hide();\r\n          this.sweetAlertService.customSuccessMessage(\r\n            \"Presentor can only submit revision no more than 2 times.\"\r\n          );\r\n        } else {\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n            this.s1Application.submissionType = SUBMISSION_TYPE.REVISION;\r\n          }\r\n\r\n          // FOR ADSPE: Save Supporting Documents\r\n          console.log(\"Save supporting..\");\r\n          if (this.materialInformation.newSupportiveDocumentList.length > 0) {\r\n            this.saveSupportingDocuments();\r\n          }\r\n\r\n          this.s1Application.actionBy = this.dataStorage.getUserAccount();\r\n\r\n          if (\r\n            ascUser === \"ad-specialist\" &&\r\n            action === \"verify\" &&\r\n            status === APPLICATION_STATUS_REVISION.REVISION_VERIFIED_BY_AD_SPE\r\n          ) {\r\n            this.s1Application.assignedUser = this.s1Application.assignedScreener;\r\n          }\r\n\r\n          if (\r\n            ascUser === \"screener\" &&\r\n            action === \"verify\" &&\r\n            status === APPLICATION_STATUS_REVISION.REVISION_SCREENED\r\n          ) {\r\n            this.s1Application.assignedUser = this.s1Application.assignedReviewer;\r\n          }\r\n\r\n          console.log(\"TO SAVE: \", this.s1Application);\r\n\r\n          this.spinner.show();\r\n          this.apiService\r\n            .save(\r\n              `${ENDPOINTS.applicationForm}/s1/revision/${ascUser}/${action}`,\r\n              this.s1Application\r\n            )\r\n            .subscribe(\r\n              (res: any) => {\r\n                console.log(\"SAVED STATUS: \", res.responseData.data);\r\n                this.spinner.hide();\r\n                this.sweetAlertService.success(res);\r\n                this.navigateToS1List();\r\n              },\r\n              (err) => {\r\n                this.spinner.hide();\r\n                console.log(err);\r\n                this.sweetAlertService.error(err);\r\n                this.dataStorage.setDisplayProgressbar(false);\r\n              },\r\n              () => {\r\n                this.dataStorage.setDisplayProgressbar(false);\r\n              }\r\n            );\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  requestSpecialS1ApplicationApproval(): void {\r\n    this.applicationRequest = {\r\n      id: 0,\r\n      adTitle: this.s1Application.adTitle,\r\n      applicationOwner: this.s1Application.applicationOwner,\r\n      applicationType: this.s1Application.applicationType,\r\n      brand: this.s1Application.brand,\r\n      product: this.s1Application.product,\r\n      // category: this.s1Application.category,\r\n      company: this.s1Application.company,\r\n      formType: this.s1Application.formType,\r\n      // membersAffiliation: this.s1Application.membersAffiliation,\r\n      status: OTHER_STATUS.FOR_APPROVAL,\r\n      submissionDate: new Date(this.s1Application.submissionDate),\r\n      tagLine: this.s1Application.tagLine,\r\n      submitApplicationForm: false,\r\n      hasSpecialClearing: false,\r\n      applicationForm: null,\r\n    };\r\n    Swal.fire({\r\n      text: \"Are you sure you want to request this application for approval?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        console.log(\"TO SAVE: \", this.applicationRequest);\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n          this.applicationRequest.applicationOwner = this.s1Application.applicationOwner;\r\n        } else {\r\n          this.applicationRequest.applicationOwner = this.currentUser;\r\n        }\r\n        this.apiService\r\n          .save(ENDPOINTS.applicationRequests, this.applicationRequest)\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.spinner.hide();\r\n              this.sweetAlertService.success(res);\r\n              // this.navigateToS1List();\r\n              this.router.navigate([\"asc/page/application/s1/special\"]);\r\n            },\r\n            (err) => {\r\n              this.spinner.hide();\r\n              console.log(err);\r\n              this.sweetAlertService.error(err);\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            },\r\n            () => {\r\n              this.spinner.hide();\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  accordionDisablingFunction(): void {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      // if (this.s1Application.membersAffiliation && this.company && this.s1Application.brand) {\r\n      // this.accordionDisable = !this.accordionDisable;\r\n      this.accordionExpanded = !this.accordionExpanded;\r\n      this.validationMessage = \"\";\r\n      // } else {\r\n      //   this.validationMessage = ' Please provide all the required information...'\r\n      // }\r\n    }\r\n  }\r\n\r\n  disabledWeekEnds(d: Date | null): boolean {\r\n    const day = (d || new Date()).getDay();\r\n    return (\r\n      ((day !== 0 && day !== 6) ||\r\n        activeWeekendDates.find((weekendDate) => {\r\n          return format(d, \"yyyy-MM-dd\") === format(weekendDate, \"yyyy-MM-dd\");\r\n        })) &&\r\n      !Boolean(\r\n        activeHolidayDates.find((holidayDate) => {\r\n          return format(d, \"yyyy-MM-dd\") === format(holidayDate, \"yyyy-MM-dd\");\r\n        })\r\n      )\r\n    );\r\n  }\r\n\r\n  disableSaveAndSubmitButton() {\r\n    if (this.s1Application.autoSubmit === false) {\r\n      this.isScheduleSendIsEmpty = false;\r\n    }\r\n    if (this.s1Application.autoSubmit === true) {\r\n      this.isScheduleSendIsEmpty = true;\r\n      if (\r\n        this.s1Application.submissionDate === null ||\r\n        this.s1Application.submissionDate === undefined\r\n      ) {\r\n        this.isScheduleSendIsEmpty = true;\r\n      } else {\r\n        this.isScheduleSendIsEmpty = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  adSpecValidation(i: any): void {}\r\n\r\n  buttonValidation(i: any): void {\r\n    if (\r\n      this.currentUserRole === USER_ROLES.ROLE_AD_SPECIALIST &&\r\n      this.s1Application.assignedScreener\r\n    ) {\r\n      this.buttonDisabled = false;\r\n    } else if (\r\n      this.currentUserRole === USER_ROLES.ROLE_SCREENER &&\r\n      this.s1Application.assignedReviewer\r\n    ) {\r\n      // if ((i || this.s1Application.assignedUser.userRole.name === USER_ROLES.ROLE_REVIEWER) &&\r\n      //   (i || this.s1Application.assignedUser || this.s1Application.decisionStatus)) {\r\n      this.buttonDisabled = false;\r\n      // }\r\n    }\r\n\r\n    this.dataStorage.setDecisionStatus(i);\r\n\r\n    if (\r\n      (i === \"INCOMPLETE\" || i === \"DISAPPROVED\") &&\r\n      this.currentUserRole === USER_ROLES.ROLE_SCREENER\r\n    ) {\r\n      if (\r\n        this.s1Application.internalStatus ===\r\n          APPLICATION_STATUS_FOR_COMPLIANCE.COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE ||\r\n        this.s1Application.internalStatus ===\r\n          APPLICATION_STATUS_REVISION.REVISION_VERIFIED_BY_AD_SPE\r\n      ) {\r\n        if (\r\n          this.s1Application.decisionStatus ===\r\n            APP_DECISION_STATUS.INCOMPLETE ||\r\n          this.s1Application.decisionStatus === APP_DECISION_STATUS.DISAPPROVED\r\n        ) {\r\n          this.s1Application.decisionStatus = i;\r\n          // if (this.rationaleLists.length === 0) {\r\n          this.incompleteDisapprovedModal(i);\r\n          // }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  selectApplicant(res) {\r\n    this.selectedApplicationOwner = res;\r\n    this.getPresentorDetails();\r\n  }\r\n\r\n  saveS1ApplicationByEncoder(data) {\r\n    this.spinner.show();\r\n    this.apiService\r\n      .save(ENDPOINTS.applicationFormEncoder + COMMON_FUNCTION.VERIFY, data)\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.spinner.hide();\r\n          console.log(\"SAVED BY ENCODER : \", res.responseData.data);\r\n        },\r\n        (err: any) => {\r\n          this.spinner.hide();\r\n        }\r\n      );\r\n  }\r\n\r\n  rejectDisapprovedModal(): void {\r\n    const dialogRef = this.dialog.open(RejectDisapprovedReasonComponent, {\r\n      width: \"50%\",\r\n      height: \"65%\",\r\n      data: {\r\n        s1Application: this.s1Application,\r\n        applicationStage: \"s1\",\r\n      },\r\n    });\r\n  }\r\n\r\n  incompleteDisapprovedModal(decisionStatus): void {\r\n    const dialogRef = this.dialog.open(\r\n      IncompleteDisapprovedRationaleComponent,\r\n      {\r\n        width: \"50%\",\r\n        height: \"65%\",\r\n        data: {\r\n          s1Application: this.s1Application,\r\n          applicationStage: \"s1\",\r\n        },\r\n      }\r\n    );\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      this.getRationaleList();\r\n      if (\r\n        this.rationaleLists.length > 0 ||\r\n        this.rationaleOthersList.length > 0\r\n      ) {\r\n        this.s1Application.decisionStatus = decisionStatus;\r\n      }\r\n      if (result) {\r\n        this.buttonDisabled = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  navigateToS1List() {\r\n    // setTimeout(() => {\r\n    this.router.navigate([\"asc/page/application/s1/lists\"]);\r\n    // }, 2000);\r\n  }\r\n\r\n  openPerformanceMetrics() {\r\n    const dialogRef = this.dialog.open(PerformanceMetricsComponent, {\r\n      data: {\r\n        appFormReference: this.s1Application.appFormReference,\r\n        referenceCode: this.s1Application.referenceCode,\r\n      },\r\n    });\r\n    dialogRef.afterClosed().subscribe((result) => {});\r\n  }\r\n\r\n  viewReport(id, filename) {\r\n    if (filename === \"S1_Decision_Form\" || filename === \"Stamp_Material\") {\r\n      const downloadURL =\r\n        filename === \"S1_Decision_Form\"\r\n          ? this.s1Application?.decisionFormFileURL\r\n          : filename === \"Stamp_Material\"\r\n          ? this.s1Application?.stampMaterialFileURL\r\n          : \"\";\r\n      window.open(downloadURL);\r\n    } else {\r\n      this.report.filename = filename;\r\n      this.report.format = \"pdf\";\r\n      (this.report.module = \"Form\"),\r\n        (this.report.params = { applicationFormId: id });\r\n      console.log(this.report);\r\n      this.spinner.show();\r\n      this.apiService\r\n        .printReport(ENDPOINTS.generateReports, this.report)\r\n        .subscribe(\r\n          (data: any) => {\r\n            const newBlob = new Blob([data], { type: \"application/pdf\" });\r\n            const downloadURL = URL.createObjectURL(newBlob);\r\n            this.spinner.hide();\r\n            window.open(downloadURL);\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  getRationaleList(): void {\r\n    // Rationale Object\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.applicationRationale,\r\n        `application-form-id/${this.s1Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleOthersList = res.responseData.data;\r\n      });\r\n    // Rationale List\r\n    this.apiService\r\n      .findByParam(\r\n        ENDPOINTS.rationaleList,\r\n        `application/${this.s1Application.id}`\r\n      )\r\n      .subscribe((res: any) => {\r\n        this.rationaleLists = res;\r\n      });\r\n    this.rationaleDisplay = true;\r\n  }\r\n\r\n  resubmitApplication(id = this.s1Application?.id) {\r\n    this.spinner.show();\r\n    let endpoint = this.hasMultimediaLengthChange\r\n      ? ENDPOINTS.modifyApprovedS1ApplicationFormMultimedia\r\n      : ENDPOINTS.modifyApprovedS1ApplicationFormSingleMedia;\r\n\r\n    endpoint += `=${id}`;\r\n\r\n    const newMedia = this.materialInformation.newMultimediaList[0];\r\n\r\n    const obj = this.hasMultimediaLengthChange\r\n      ? {\r\n          appFormReference: this.s1Application.appFormReference,\r\n          typeOfMedium: newMedia,\r\n          mediaType: \"STATIC\",\r\n          multimediaSizeLength: newMedia.sizeLength,\r\n          amount: 0,\r\n        }\r\n      : this.applicationSingleMedia;\r\n\r\n    this.apiService.save(endpoint, obj).subscribe(\r\n      (res) => {\r\n        this.spinner.hide();\r\n\r\n        if (\r\n          this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA\r\n        ) {\r\n          this.saveUpdateApplicationSingleMedia(null, null, null);\r\n        } else {\r\n          this.saveUpdateMultimedia(null, null, null);\r\n        }\r\n        this.sweetAlertService.success(res);\r\n\r\n        if (this.s1Application.multipleApplication) {\r\n          this.router.navigate([\"asc/page/application/s1/multiple\"]);\r\n        } else {\r\n          this.navigateToS1List();\r\n        }\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  clearDecisionStatus(): void {\r\n    this.s1Application.decisionStatus = \"\";\r\n  }\r\n\r\n  checkSingleMediaChanges() {\r\n    this.applicationSingleMedia = this.materialInformation?.applicationSingleMedia;\r\n    this.disableSubmitButtonByMedia = this.materialInformation?.disableSubmitButtonByMedia;\r\n    this.hasMultimediaLengthToEnableSubmit = true;\r\n  }\r\n\r\n  checkMultimediaChanges() {\r\n    // this.hasMultimediaLengthToEnableSubmit = this.multimediaMovingList.length ? true : false;\r\n    this.disableSubmitButtonByMedia = false;\r\n    this.hasMultimediaLengthToEnableSubmit =\r\n      this.materialInformation?.newMultimediaList.length ||\r\n      this.multimediaMovingList.length ||\r\n      this.multimediaStaticList.length\r\n        ? true\r\n        : false;\r\n\r\n    const multimediaListChanges = this.materialInformation?.newMultimediaList?.map(\r\n      (mappedMultimedia) => ({\r\n        multimediaSizeLength: mappedMultimedia?.sizeLength,\r\n        typeOfMedium: mappedMultimedia?.description,\r\n      })\r\n    );\r\n\r\n    const hasSizeLengthChange = this.currentSizeLengthMultimedia\r\n      .map((media) => ({\r\n        multimediaSizeLength: media.multimediaSizeLength,\r\n        typeOfMedium: media.typeOfMedium,\r\n        multimediaSizeLengthNew: multimediaListChanges?.filter(\r\n          (filteredMedia) => filteredMedia.typeOfMedium === media.typeOfMedium\r\n        )[0]?.multimediaSizeLength,\r\n      }))\r\n      .filter(\r\n        (filteredRes) =>\r\n          +filteredRes.multimediaSizeLength !==\r\n            +filteredRes.multimediaSizeLengthNew &&\r\n          filteredRes.multimediaSizeLengthNew\r\n      );\r\n\r\n    const hasNewMultimediaType = multimediaListChanges\r\n      ?.map((multimedia) =>\r\n        this.currentSizeLengthMultimedia.some(\r\n          (currMedia) => currMedia.typeOfMedium === multimedia.typeOfMedium\r\n        )\r\n      )\r\n      .includes(false);\r\n\r\n    this.hasMultimediaLengthChange =\r\n      hasNewMultimediaType || hasSizeLengthChange.length ? true : false;\r\n  }\r\n\r\n  checkEmittedMultimedia(multimediaDTO): void {\r\n    this.multimediaDTO = multimediaDTO.data;\r\n\r\n    switch (multimediaDTO.type) {\r\n      case TYPE_OF_MEDIUM.MULTIMEDIA_MOVING:\r\n        if (multimediaDTO.data) {\r\n          this.hasMultimediaLengthToEnableSubmit =\r\n            multimediaDTO.data.sizeLength > 0 ? true : false;\r\n          this.disableSubmitButtonByMedia = multimediaDTO.data.applicationMultimediaMovingList.filter(\r\n            (medium: ApplicationMultimediaItemsDTO) =>\r\n              medium.hasSelected === true\r\n          )\r\n            ? false\r\n            : true;\r\n        }\r\n        break;\r\n      case TYPE_OF_MEDIUM.MULTIMEDIA_STATIC:\r\n        if (multimediaDTO.data) {\r\n          this.disableSubmitButtonByMedia = multimediaDTO.data.applicationMultimediaStaticList.filter(\r\n            (medium: ApplicationMultimediaItemsDTO) =>\r\n              medium.hasSelected === true\r\n          )\r\n            ? false\r\n            : true;\r\n\r\n          this.hasMultimediaLengthToEnableSubmit = multimediaDTO.data.applicationMultimediaStaticList.filter(\r\n            (medium: ApplicationMultimediaItemsDTO) =>\r\n              medium.multimediaStaticMedium === \"digital static\" ||\r\n              (medium.hasSelected === true && medium.sizeLength)\r\n          )\r\n            ? true\r\n            : false;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n\r\n  fetchMultimedia(): void {\r\n    console.log(\"S1 APPP::: \", this.s1Application);\r\n    let typeofMedium =\r\n      this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING\r\n        ? \"moving\"\r\n        : \"static\";\r\n    let endpoint =\r\n      ENDPOINTS.applicationMultimedia +\r\n      \"-\" +\r\n      typeofMedium +\r\n      \"/app-form-reference\";\r\n    this.apiService\r\n      .findByParam(endpoint, this.s1Application.appFormReference)\r\n      .subscribe((multimedia) => {\r\n        console.log(\"Multimedia Response: \", multimedia.responseData.data);\r\n        if (multimedia) this.multimediaDTO = multimedia.responseData.data;\r\n      });\r\n  }\r\n\r\n  submitAppeal() {\r\n    let endpoint;\r\n    if (this.isAdmin) {\r\n      endpoint = ENDPOINTS.admin + `/s1/verify/appeal`;\r\n    } else if (this.isAdSpecialist) {\r\n      endpoint = ENDPOINTS.applicationFormAdSpecialist + `verify/appeal`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    this.apiService.save(endpoint, this.s1Application).subscribe(\r\n      (res: any) => {\r\n        this.spinner.hide();\r\n        this.sweetAlertService.success(res);\r\n        console.log(\"submitAppeal : \", res.responseData.data);\r\n        this.navigateToS1List();\r\n      },\r\n      (err: any) => {\r\n        this.spinner.hide();\r\n      }\r\n    );\r\n  }\r\n\r\n  sendDecisionOrStampMaterialManual(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to send this application form?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.apiService\r\n          .save(\r\n            ENDPOINTS.s1ManualRelease + `/${this.s1Application.id}`,\r\n            this.s1Application\r\n          )\r\n          .subscribe((res: any) => {\r\n            this.sweetAlertService.customSuccessMessage(res.message);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  checkCutOffTime(): boolean {\r\n    let regex = new RegExp(\":\", \"g\");\r\n    let startTime = \"11:00:00\";\r\n    let endTime = \"23:59:59\";\r\n    let currentTime = String(\r\n      new Date().getHours() +\r\n        \":\" +\r\n        new Date().getMinutes() +\r\n        \":\" +\r\n        new Date().getSeconds()\r\n    );\r\n\r\n    if (\r\n      parseInt(currentTime.replace(regex, \"\")) >=\r\n        parseInt(startTime.replace(regex, \"\")) &&\r\n      parseInt(currentTime.replace(regex, \"\")) <=\r\n        parseInt(endTime.replace(regex, \"\"))\r\n    ) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  checkMaterialFieldErrors(): boolean {\r\n    return (\r\n      (!this.s1Application?.adTitle ||\r\n        !this.s1Application?.refTypeOfMedium ||\r\n        !this.hasMultimediaLengthToEnableSubmit ||\r\n        this.disableSubmitButtonByMedia) &&\r\n      !this.s1Application.typeOfMedium\r\n    );\r\n  }\r\n\r\n  private getAllActiveHolidays() {\r\n    this.apiService.findAll(ENDPOINTS.holidays).subscribe((res: any) => {\r\n      activeHolidayDates = res.responseData.data\r\n        .filter(\r\n          (holidayDate) =>\r\n            holidayDate.status === \"ACTIVE\" &&\r\n            holidayDate.holidayType !== \"WEEKEND\"\r\n        )\r\n        .map((holidayDate) => new Date(holidayDate.holidayDate));\r\n    });\r\n  }\r\n\r\n  private getAllActiveWeekends() {\r\n    this.apiService.findAll(ENDPOINTS.holidays).subscribe((res: any) => {\r\n      activeWeekendDates = res.responseData.data\r\n        .filter(\r\n          (holidayDate) =>\r\n            holidayDate.status === \"ACTIVE\" &&\r\n            holidayDate.holidayType === \"WEEKEND\"\r\n        )\r\n        .map((holidayDate) => new Date(holidayDate.holidayDate));\r\n    });\r\n  }\r\n\r\n  isSaveAndRequestForApprovalDisabled(): boolean {\r\n    return (\r\n      !this.s1Application?.brand ||\r\n      !this.s1Application?.company ||\r\n      !this.s1Application?.adTitle ||\r\n      this.s1Application?.brand?.penalty ||\r\n      !this.s1Application?.product ||\r\n      this.s1Application?.company?.delinquent ||\r\n      this.isInactiveAffiliation ||\r\n      this.s1Application?.company?.status === \"INACTIVE\" ||\r\n      !this.s1Application.submissionDate\r\n    );\r\n  }\r\n\r\n  isSingleRegularDisabled(): boolean {\r\n    if (\r\n      this.s1Application?.applicationType?.description ===\r\n        \"Special Screening\" ||\r\n      this.s1Application?.applicationType?.description ===\r\n        \"Special Screening and Clearing\"\r\n    ) {\r\n      return this.isSaveAndRequestForApprovalDisabled();\r\n    }\r\n\r\n    return (\r\n      (!this.s1Application?.brand ||\r\n        !this.s1Application?.company ||\r\n        !this.s1Application?.adTitle ||\r\n        !this.s1Application?.refTypeOfMedium ||\r\n        !this.s1Application?.mainAttachmentReference ||\r\n        !this.s1Application?.refTypeOfMedium ||\r\n        (!this.s1Application?.hasNoSupportingDocs &&\r\n          !this.s1Application?.supportingAttachmentReference) ||\r\n        this.s1Application?.brand?.penalty ||\r\n        !this.s1Application?.product ||\r\n        this.s1Application?.company?.delinquent ||\r\n        this.isInactiveAffiliation ||\r\n        this.s1Application?.company?.status === \"INACTIVE\" ||\r\n        this.disableSubmitButtonByMedia ||\r\n        !this.hasMultimediaLengthToEnableSubmit) &&\r\n      !this.s1Application.typeOfMedium\r\n    );\r\n  }\r\n\r\n  isMultipleRegularDisabled(): boolean {\r\n    return (\r\n      !this.s1Application?.brand ||\r\n      !this.s1Application?.company ||\r\n      !this.s1Application?.adTitle ||\r\n      !this.s1Application?.refTypeOfMedium ||\r\n      this.s1Application?.brand?.penalty ||\r\n      !this.s1Application?.product ||\r\n      this.s1Application?.company?.delinquent ||\r\n      this.isInactiveAffiliation ||\r\n      this.s1Application?.company?.status === \"INACTIVE\" ||\r\n      !this.s1Application.submissionDate\r\n    );\r\n  }\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <!-- <div class=\"spinner\">\r\n      <ngx-spinner bdColor=\"rgba(0, 0, 0, 0.8)\" size=\"large\" color=\"#fff\" type=\"line-spin-fade\" [fullScreen]=\"false\">\r\n        <p *ngIf=\"s1Application.brand != undefined\"> Loading <b>{{s1Application.referenceCode}}</b> S1 Application. </p>\r\n        <p *ngIf=\"s1Application.brand === undefined && company.companyName === undefined\"> Creating new S1\r\n          Application... </p>\r\n      </ngx-spinner>\r\n    </div> -->\r\n    <div class=\"row title\">\r\n      <div class=\"col-md-12\">\r\n        <mat-label\r\n          *ngIf=\"\r\n            isApplicant &&\r\n            (s1Application?.externalStatus == undefined ||\r\n              s1Application?.externalStatus == 'SAVED' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_SUBMITTED')\r\n          \"\r\n        >\r\n          <i class=\"material-icons\">note_add</i> NEW S1 APPLICATION <br /><br />\r\n        </mat-label>\r\n\r\n        <mat-label\r\n          [hidden]=\"\r\n            s1Application?.applicationType.description ===\r\n              'Special Screening' ||\r\n            s1Application?.applicationType.description === 'Special Clearing' ||\r\n            s1Application?.applicationType.description ===\r\n              'Special Screening and Clearing'\r\n          \"\r\n          *ngIf=\"\r\n            specialApplicationType.includes(\r\n              s1Application?.applicationType?.description?.toUpperCase()\r\n            ) &&\r\n            !applicationRequest?.status &&\r\n            s1Application.applicationRequest == null &&\r\n            s1Application?.formType !== 'MULTIPLE'\r\n          \"\r\n        >\r\n          <i class=\"material-icons\">note_add</i> REQUEST FOR APPROVAL\r\n        </mat-label>\r\n\r\n        <table>\r\n          <tr>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.referenceCode ||\r\n                s1Application?.referenceCodeRejected\r\n              \"\r\n            >\r\n              <span> Reference Code: </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.referenceCode ||\r\n                s1Application?.referenceCodeRejected\r\n              \"\r\n            >\r\n              <span>\r\n                <b>{{\r\n                  s1Application?.externalStatus == \"S1_APPLICATION_REJECTED\"\r\n                    ? s1Application?.referenceCodeRejected\r\n                    : (s1Application?.referenceCode | uppercase)\r\n                }}</b>\r\n                <!-- <b *ngIf=\"s1Application?.revisionNo>0\"> (Revision Number {{s1Application?.revisionNo}})</b> -->\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\">\r\n              <button\r\n                class=\"button-right button-red\"\r\n                mat-raised-button\r\n                [routerLink]=\"['/asc/page/application/s1/lists']\"\r\n              >\r\n                <i class=\"material-icons color__white\">list</i> VIEW\r\n                APPLICATIONS\r\n              </button>\r\n              <!-- <button class=\"button-right button-red\" mat-raised-button *ngIf=\"s1Application?.formType==='MULTIPLE'\"\r\n              [routerLink]=\"['/asc/page/application/s1/multiple']\">\r\n              <i class=\"material-icons color__white\">list</i> VIEW APPLICATIONS\r\n            </button> -->\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"no-border\"></td>\r\n          </tr>\r\n          <tr>\r\n            <td\r\n              *ngIf=\"\r\n                (s1Application?.externalStatus != undefined && !isAscUser) ||\r\n                isAscUser\r\n              \"\r\n            >\r\n              <span> Status: </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"\r\n                (s1Application?.externalStatus != undefined && !isAscUser) ||\r\n                isAscUser\r\n              \"\r\n            >\r\n              <span\r\n                *ngIf=\"s1Application?.externalStatus != undefined && !isAscUser\"\r\n              >\r\n                <b>{{\r\n                  s1Application?.externalStatus?.replaceAll(\"_\", \" \")\r\n                    | uppercase\r\n                }}</b>\r\n              </span>\r\n              <span *ngIf=\"isAscUser\">\r\n                <b>{{\r\n                  s1Application?.internalStatus?.replaceAll(\"_\", \" \")\r\n                    | uppercase\r\n                }}</b>\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\"></td>\r\n            <td class=\"no-border\"></td>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.decisionStatus != undefined &&\r\n                s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED'\r\n              \"\r\n            >\r\n              <span> Decision: </span>\r\n            </td>\r\n            <td\r\n              *ngIf=\"\r\n                s1Application?.decisionStatus != undefined &&\r\n                s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED'\r\n              \"\r\n            >\r\n              <span>\r\n                <b>{{ s1Application?.decisionStatus | uppercase }}</b>\r\n              </span>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n        <hr />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <h3\r\n          *ngIf=\"\r\n            s1Application?.submissionDate &&\r\n            applicationRequest?.status !== 'DISAPPROVED'\r\n          \"\r\n        >\r\n          <b class=\"submission-date\"\r\n            >Submission Date:\r\n            {{ s1Application?.submissionDate | date: \"MMMM d, yyyy\" }}</b\r\n          >\r\n        </h3>\r\n        <h3\r\n          *ngIf=\"\r\n            s1Application?.submissionDate &&\r\n            applicationRequest?.status === 'DISAPPROVED'\r\n          \"\r\n        >\r\n          <b class=\"submission-date\"\r\n            >Submission Date: N/A - Request was disapproved</b\r\n          >\r\n        </h3>\r\n      </div>\r\n\r\n      <div\r\n        class=\"col-md-6\"\r\n        *ngIf=\"\r\n          s1Application?.amount && s1Application?.submissionType === 'ORIGINAL'\r\n        \"\r\n      >\r\n        <span class=\"badge bg-warning text-dark button-right\">\r\n          {{ s1Application?.paymentStatus?.replaceAll(\"_\", \" \") }} : \r\n          {{ s1Application?.amount | number: \"1.2-2\" }}\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\" [formGroup]=\"s1ApplicationForm\">\r\n      <mat-form-field\r\n        class=\"col-md-4\"\r\n        appearance=\"outline\"\r\n        [hidden]=\"s1Application?.formType !== 'MULTIPLE'\"\r\n      >\r\n        <mat-label>Form Type</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"s1Application.formType\"\r\n          [compareWith]=\"compareFormType\"\r\n          name=\"formType\"\r\n          formControlName=\"formType\"\r\n          disabled\r\n        >\r\n          <mat-option\r\n            *ngFor=\"let i of formTypeList\"\r\n            [value]=\"i\"\r\n            (click)=\"getApplicationTypeList(i.description)\"\r\n          >\r\n            {{ i?.description | uppercase }}\r\n            <span\r\n              *ngIf=\"\r\n                s1Application?.multipleApplication &&\r\n                s1Application?.multipleApplication?.submissionStatus !==\r\n                  'PROCESSED'\r\n              \"\r\n              >({{ s1Application?.sequenceOrder }}\r\n              of\r\n              {{\r\n                s1Application?.multipleApplication?.numberOfApplication\r\n              }})</span\r\n            >\r\n            <span\r\n              *ngIf=\"\r\n                s1Application?.multipleApplication?.submissionStatus ===\r\n                'PROCESSED'\r\n              \"\r\n            >\r\n              (Sequence Number: {{ s1Application?.sequenceOrder }})</span\r\n            >\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"s1Application.applicationType\"\r\n          [compareWith]=\"compareApplicationType\"\r\n          name=\"applicationType\"\r\n          formControlName=\"applicationType\"\r\n          disabled\r\n        >\r\n          <!-- [disabled]=\"s1Application?.internalStatus!='SAVED'&&s1Application?.internalStatus!=undefined\" -->\r\n          <mat-option\r\n            *ngFor=\"let i of applicationTypeList\"\r\n            [value]=\"i\"\r\n            (click)=\"setAppType(i)\"\r\n          >\r\n            {{ i?.description | uppercase }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n      <mat-form-field\r\n        class=\"col-md-4\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"s1Application?.submissionType\"\r\n      >\r\n        <mat-label>Submission Type</mat-label>\r\n        <input matInput [value]=\"s1Application?.submissionType\" readonly />\r\n      </mat-form-field>\r\n      <mat-form-field\r\n        class=\"col-md-4\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"s1Application.formType === 'FOR_PRESENTATION'\"\r\n      >\r\n        <mat-label>Form Type</mat-label>\r\n        <input matInput value=\"FOR PRESENTATION\" readonly />\r\n      </mat-form-field>\r\n    </div>\r\n    <hr />\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            s1Application?.submissionType === 'ORIGINAL' &&\r\n            s1Application?.internalStatus === 's1 Reviewed'\r\n          \"\r\n          (click)=\"viewReport(s1Application.id, 'S1_Application_Form')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> VIEW\r\n          APPLICATION REPORT\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          (click)=\"openPerformanceMetrics()\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_SUPER_ADMIN') &&\r\n            s1Application?.id\r\n          \"\r\n        >\r\n          <i class=\"material-icons color__white\">trending_up</i> VIEW\r\n          APPLICATION HISTORY\r\n        </button>\r\n\r\n        <!-- <button mat-raised-button class=\"button-right button-red\" *ngIf=\"(currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser?.userRole.name === 'ROLE_ADMIN' || currentUser?.userRole.name === 'ROLE_AD_SPECIALIST')\r\n        && (s1Application?.releaseStatus === 'FOR_RELEASE' || s1Application?.releaseStatus === 'RELEASED') && s1Application?.paymentStatus === 'PAID'\"\r\n          (click)=\"viewReport(s1Application.id,'S1_Decision_Form')\"><i\r\n            class=\"material-icons color__white\">open_in_new</i> DECISION FORM</button> -->\r\n\r\n        <!-- <button mat-raised-button class=\"button-right button-red\" *ngIf=\"(currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser?.userRole.name === 'ROLE_ADMIN' || currentUser?.userRole.name === 'ROLE_AD_SPECIALIST')\r\n        && (s1Application?.releaseStatus === 'FOR_RELEASE' || s1Application?.releaseStatus === 'RELEASED') && s1Application?.paymentStatus === 'PAID'\"\r\n          (click)=\"viewReport(s1Application.id,'Stamp_Material')\"><i class=\"material-icons color__white\">open_in_new</i>\r\n          STAMPED MATERIAL</button> -->\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            s1Application?.submissionType === 'revision' &&\r\n            s1Application?.internalStatus === 'revision screened'\r\n          \"\r\n          (click)=\"viewReport(s1Application.id, 'Revision_Form')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> REVISION FORM\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_AD_SPECIALIST') &&\r\n            s1Application?.submissionType === 'COMPLIANCE' &&\r\n            s1Application?.decisionStatus === 'INCOMPLETE' &&\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER'\r\n          \"\r\n          (click)=\"viewReport(s1Application.id, 'S1_Pending_Form')\"\r\n        >\r\n          <i class=\"material-icons color__white\">open_in_new</i> PENDING FORM\r\n        </button>\r\n\r\n        <button\r\n          mat-raised-button\r\n          class=\"button-right button-red\"\r\n          *ngIf=\"\r\n            (currentUser?.userRole.name === 'ROLE_SUPER_ADMIN' ||\r\n              currentUser?.userRole.name === 'ROLE_ADMIN') &&\r\n            (s1Application?.releaseStatus === 'FOR_RELEASE' ||\r\n              s1Application?.releaseStatus === 'RELEASED') &&\r\n            s1Application?.paymentStatus === 'PAID'\r\n          \"\r\n          (click)=\"sendDecisionOrStampMaterialManual()\"\r\n        >\r\n          <i class=\"material-icons color__white\">send</i> SEND DECISION OR\r\n          STAMPED MATERIAL\r\n        </button>\r\n      </div>\r\n\r\n      <!--   <div class=\"col-md-1\">\r\n        <button mat-raised-button class=\"button-right button-red\" (click)=\"viewReport(s1Application.id)\">Pending Form</button>\r\n      </div> -->\r\n    </div>\r\n    <br />\r\n    <div class=\"row\">\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel\r\n          [expanded]=\"\r\n            ((isApplicant && s1Application?.internalStatus != 'SAVED') ||\r\n              s1Application?.internalStatus == undefined) &&\r\n            !accordionExpanded\r\n          \"\r\n          *ngIf=\"\r\n            (isApplicant && s1Application?.internalStatus == 'SAVED') ||\r\n            !isApplicant ||\r\n            s1Application?.internalStatus == undefined\r\n          \"\r\n        >\r\n          <mat-expansion-panel-header (click)=\"accordionDisablingFunction()\">\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Client\r\n              Information\r\n              <i class=\"material-icons error\" *ngIf=\"hasErrorsClient\">error</i>\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Affiliation and Company details\r\n              <i class=\"material-icons\">perm_contact_calendar</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-client-information\r\n            [s1Application]=\"s1Application\"\r\n            [isAscUser]=\"isAscUser\"\r\n            (checkInactiveAffiliation)=\"checkInactiveAffiliation()\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n            [company]=\"company\"\r\n            (hasErrorFields)=\"hasErrorsClient = $event\"\r\n          ></app-client-information>\r\n          <div *ngIf=\"!isDisableFieldOnUpdate\" class=\"required-fields-note\">\r\n            Note: Fields with * are required\r\n          </div>\r\n          <mat-action-row *ngIf=\"isApplicant\">\r\n            <p *ngIf=\"validationMessage\">\r\n              <span class=\"badge bg-warning text-dark\"\r\n                ><i class=\"material-icons\">warning</i\r\n                >{{ validationMessage }}</span\r\n              >\r\n            </p>\r\n            <button\r\n              mat-raised-button\r\n              color=\"warn\"\r\n              (click)=\"accordionDisablingFunction()\"\r\n            >\r\n              Next\r\n            </button>\r\n          </mat-action-row>\r\n\r\n          <!-- <button mat-raised-button color=\"primary\" (click)=\"accordionDisablingFunction()\" [disabled]=\"!company?.companyName && !s1Application.brand\">Next</button> -->\r\n        </mat-expansion-panel>\r\n\r\n        <!-- FOR ASC Users only -->\r\n        <mat-expansion-panel *ngIf=\"!isApplicant\">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Presentor\r\n              Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Personal Details\r\n              <i class=\"material-icons\">person</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n\r\n          <br />\r\n          <div class=\"row\">\r\n            <div class=\"row\"><br /></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field\r\n                class=\"col-md-4\"\r\n                appearance=\"outline\"\r\n                *ngIf=\"\r\n                  isEvaluator && s1Application?.externalStatus === undefined\r\n                \"\r\n              >\r\n                <mat-label\r\n                  >Assign an Applicant<span class=\"required-field\">\r\n                    <mat-icon>notification_important</mat-icon>\r\n                  </span></mat-label\r\n                >\r\n\r\n                <mat-select\r\n                  [(ngModel)]=\"s1Application.applicationOwner\"\r\n                  name=\"s1Application.applicationOwner\"\r\n                >\r\n                  <mat-option\r\n                    *ngFor=\"let i of applicantList\"\r\n                    [value]=\"i\"\r\n                    (click)=\"selectApplicant(i)\"\r\n                  >\r\n                    {{ i.firstName }} {{ i.lastName }}\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n\r\n              <mat-form-field\r\n                class=\"col-md-8\"\r\n                appearance=\"outline\"\r\n                *ngIf=\"presentorDetails.id != null\"\r\n              >\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"\r\n                    presentorDetails?.firstName +\r\n                    ' ' +\r\n                    presentorDetails?.lastName\r\n                  \"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n                <mat-label>Company Name</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.companyName\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br /></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-11\" appearance=\"outline\">\r\n                <mat-label>Address</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.completeAddress\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br /></div>\r\n\r\n            <div class=\"row\" *ngIf=\"presentorDetails.id != null\">\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Mobile Number</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.mobileNumber\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Email Address</mat-label>\r\n                <input matInput [value]=\"presentorDetails?.username\" readonly />\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Telephone Number</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.companyTelephoneNo\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-5\" appearance=\"outline\">\r\n                <mat-label>Alternate Telephone Number</mat-label>\r\n                <input\r\n                  matInput\r\n                  [value]=\"presentorDetails?.company?.companyTelephoneNo2\"\r\n                  readonly\r\n                />\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <mat-expansion-panel\r\n          *ngIf=\"\r\n            (isApplicant && s1Application?.internalStatus == 'SAVED') ||\r\n            !isApplicant ||\r\n            s1Application?.internalStatus == undefined ||\r\n            ((s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n              s1Application?.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n              s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n              s1Application?.internalStatus == 'S1_APPLICATION_REJECTED') &&\r\n              (s1Application?.decisionStatus == 'APPROVED' ||\r\n                s1Application?.decisionStatus == 'APPROVED W/ CAUTION' ||\r\n                s1Application?.decisionStatus == 'INCOMPLETE') &&\r\n              s1Application?.revisionNo < 2 &&\r\n              !s1Application?.appliedS2)\r\n          \"\r\n          [disabled]=\"accordionDisable\"\r\n          [hidden]=\"\r\n            (s1Application?.hasOngoingRevision ||\r\n              s1Application?.hasOngoingCompliance) &&\r\n            isApplicant\r\n          \"\r\n          [expanded]=\"accordionExpanded || isAdSpecialist\"\r\n        >\r\n          <!-- s1Application?.membersAffiliation && s1Application?.company && s1Application?.brand -->\r\n          <mat-expansion-panel-header (click)=\"accordionDisablingFunction()\">\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Material\r\n              Information\r\n              <i class=\"material-icons error\" *ngIf=\"checkMaterialFieldErrors()\"\r\n                >error</i\r\n              >\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Ads Details\r\n              <i class=\"material-icons\">ads_click</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-material-information\r\n            [s1Application]=\"s1Application\"\r\n            [isAscUser]=\"isAscUser\"\r\n            [multimediaDTO]=\"multimediaDTO\"\r\n            [applicationSingleMedia]=\"applicationSingleMedia\"\r\n            [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n            [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n            [(complianceAttachmentDocuments)]=\"complianceAttachmentDocuments\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n            [supportiveDocumentList]=\"supportiveDocumentList\"\r\n            (checkSingleMediaChangesFunction)=\"checkSingleMediaChanges()\"\r\n            (checkMultimediaChangesFunction)=\"checkEmittedMultimedia($event)\"\r\n            [toDeleteMultimediaList]=\"toDeleteMultimediaList\"\r\n            [savedTypeOfMedium]=\"s1Application?.typeOfMedium\"\r\n            (hasErrorFields)=\"hasErrorsMaterial = $event\"\r\n          >\r\n          </app-material-information>\r\n          <div *ngIf=\"!isDisableFieldOnUpdate\" class=\"required-fields-note\">\r\n            Note: Fields with * are required\r\n          </div>\r\n          <!-- <mat-action-row>\r\n            <button mat-button color=\"primary\" (click)=\"accordionDisablingFunction()\">Next</button>\r\n          </mat-action-row> -->\r\n        </mat-expansion-panel>\r\n\r\n        <!-- PREVIEW FOR APPLICANT ONCE SUBMITTED -->\r\n        <mat-expansion-panel\r\n          *ngIf=\"isApplicant && s1Application?.internalStatus != undefined\"\r\n          [expanded]=\"\r\n            isApplicant &&\r\n            (s1Application?.externalStatus == 'S1_APPLICATION_SUBMITTED' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_IN_PROCESS' ||\r\n              s1Application?.externalStatus ==\r\n                'SUBMITTED_DOCUMENT_FOR_COMPLIANCE' ||\r\n              s1Application?.externalStatus ==\r\n                'COMPLIANCE_DOCUMENT_FOR_REVIEW' ||\r\n              s1Application?.externalStatus == 'REVISION_REVIEW_IN_PROCESS' ||\r\n              s1Application?.externalStatus == 'SUBMITTED_REVISION' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_CANCELLED' ||\r\n              s1Application?.externalStatus == 'S1_APPLICATION_REJECTED' ||\r\n              s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n              s1Application?.hasRevision ||\r\n              s1Application?.appliedS2)\r\n          \"\r\n        >\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Preview\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              S1 Application\r\n              <i class=\"material-icons\">visibility</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n          <app-preview-application\r\n            [previewS1Application]=\"s1Application\"\r\n            [multimediaDTO]=\"multimediaDTO\"\r\n          ></app-preview-application>\r\n        </mat-expansion-panel>\r\n      </mat-accordion>\r\n      <!-- </form> -->\r\n\r\n      <!-- COMMENTS FOR ASC Users -->\r\n      <div *ngIf=\"s1Application?.externalStatus != undefined && !isApplicant\">\r\n        <br />\r\n        <div class=\"row fields\">\r\n          <h4><i class=\"material-icons\">label_important</i> &nbsp;Comments</h4>\r\n          <br />\r\n          <app-comment [commentS1Application]=\"s1Application\"></app-comment>\r\n          <div class=\"row\"><br /></div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- ATTACHMENTS FOR STAMPED MATERIAL AND DECISION FORM -->\r\n      <div\r\n        *ngIf=\"\r\n          ((isAdmin || isSuperAdmin || isAdSpecialist) &&\r\n            previewAttachmentsList.length) ||\r\n          (isApplicant && s1Application?.paymentStatus === 'PAID')\r\n        \"\r\n      >\r\n        <br />\r\n        <div class=\"row fields\">\r\n          <h4>\r\n            <i class=\"material-icons\">label_important</i> &nbsp;Stamped Material\r\n            and Decision Forms\r\n          </h4>\r\n          <br />\r\n          <app-preview-attachments\r\n            [previewAttachmentsList]=\"previewAttachmentsList\"\r\n            [displayedColumns]=\"previewAttachmentsDisplayedColumns\"\r\n            [dataSource]=\"previewAttachmentsListDataSource\"\r\n          ></app-preview-attachments>\r\n          <div class=\"row\"><br /></div>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- DECISION OVERRIDE / APPEAL -->\r\n      <!-- <div *ngIf=\"(isAdmin || isSuperAdmin) &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' && s1Application?.releaseStatus === 'RELEASED' &&\r\n      !s1Application?.appliedS2 && !s1Application?.hasOngoingCompliance && !s1Application?.hasOngoingRevision\">\r\n        <br>\r\n        <div class=\"row fields\">\r\n          <h4>\r\n            <i class=\"material-icons\">label_important</i> &nbsp;DECISION OVERRIDING\r\n          </h4>\r\n          <br>\r\n          <app-decision-override [s1Application]=\"s1Application\"></app-decision-override>\r\n          <div class=\"row\"><br></div>\r\n        </div>\r\n      </div> -->\r\n\r\n      <div class=\"row\"><br /></div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        [formGroup]=\"s1ApplicationForm\"\r\n        *ngIf=\"\r\n          s1Application.internalStatus == undefined ||\r\n          s1Application.internalStatus == 'SAVED' ||\r\n          s1Application?.formType === 'MULTIPLE' ||\r\n          specialApplicationType.includes(\r\n            s1Application?.applicationType?.description?.toUpperCase()\r\n          )\r\n        \"\r\n      >\r\n        <div\r\n          *ngIf=\"\r\n            (s1Application.internalStatus == undefined ||\r\n              s1Application.internalStatus == 'SAVED') &&\r\n            (s1Application?.formType === 'MULTIPLE' ||\r\n              specialApplicationType.includes(\r\n                s1Application?.applicationType?.description?.toUpperCase()\r\n              ))\r\n          \"\r\n        >\r\n          <br />\r\n          <div class=\"row fields\">\r\n            <h4>\r\n              <i class=\"material-icons\">calendar_today</i> &nbsp; Submission\r\n              Details\r\n            </h4>\r\n            <div class=\"row\">\r\n              <p>\r\n                Date S1 Form(s) will be submitted:\r\n                <b>\r\n                  <span\r\n                    class=\"submission-date\"\r\n                    *ngIf=\"applicationRequest?.status !== 'DISAPPROVED'\"\r\n                    >{{\r\n                      s1Application?.submissionDate | date: \"MMMM d, y\"\r\n                    }}</span\r\n                  >\r\n                  <span\r\n                    class=\"submission-date\"\r\n                    *ngIf=\"applicationRequest?.status === 'DISAPPROVED'\"\r\n                    >N/A - Request was disapproved</span\r\n                  >\r\n\r\n                  <input\r\n                    matInput\r\n                    [(ngModel)]=\"s1Application.submissionDate\"\r\n                    formControlName=\"submissionDate\"\r\n                    name=\"submissionDate\"\r\n                    [hidden]=\"true\"\r\n                  />\r\n                  <input\r\n                    matInput\r\n                    [(ngModel)]=\"s1Application.applicationRequest\"\r\n                    formControlName=\"applicationRequest\"\r\n                    name=\"applicationRequest\"\r\n                    [hidden]=\"true\"\r\n                  />\r\n                </b>\r\n              </p>\r\n              <div\r\n                class=\"col-md-12\"\r\n                *ngIf=\"!s1Application.applicationRequest\"\r\n                [hidden]=\"s1Application?.multipleApplication\"\r\n              >\r\n                <mat-card class=\"demo-inline-calendar-card\">\r\n                  <mat-calendar\r\n                    [(selected)]=\"s1Application.submissionDate\"\r\n                    [minDate]=\"todayDate\"\r\n                    [dateFilter]=\"disabledWeekEnds\"\r\n                    (selectedChange)=\"\r\n                      onChangeDate(s1Application.submissionDate)\r\n                    \"\r\n                  >\r\n                  </mat-calendar>\r\n                </mat-card>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          *ngIf=\"\r\n            (s1Application.internalStatus == undefined ||\r\n              s1Application.internalStatus == 'SAVED') &&\r\n            s1Application?.formType !== 'MULTIPLE' &&\r\n            !s1Application.multipleApplication &&\r\n            !specialApplicationType.includes(\r\n              s1Application?.applicationType?.description?.toUpperCase()\r\n            )\r\n          \"\r\n        >\r\n          <mat-slide-toggle\r\n            color=\"warn\"\r\n            checked\r\n            (change)=\"scheduleSubmission()\"\r\n            *ngIf=\"s1Application.autoSubmit == true\"\r\n          >\r\n            <b>SCHEDULE SUBMISSION</b>\r\n          </mat-slide-toggle>\r\n          <mat-slide-toggle\r\n            color=\"warn\"\r\n            (change)=\"scheduleSubmission()\"\r\n            *ngIf=\"s1Application.autoSubmit != true\"\r\n          >\r\n            <b>SCHEDULE SUBMISSION</b>\r\n          </mat-slide-toggle>\r\n          <div class=\"row\"><br /></div>\r\n\r\n          <div class=\"row fields\" *ngIf=\"isChecked == true\">\r\n            <h4>\r\n              <i class=\"material-icons\">schedule_send</i> &nbsp; Submission\r\n              Details:\r\n            </h4>\r\n            <div class=\"row\">\r\n              <mat-form-field appearance=\"outline\" class=\"col-md-6\">\r\n                <mat-label>Date</mat-label>\r\n                <input\r\n                  matInput\r\n                  placeholder=\"Date\"\r\n                  [matDatepicker]=\"dp3\"\r\n                  [min]=\"todayDate\"\r\n                  (dateChange)=\"onChangeDate($event.value)\"\r\n                  [matDatepickerFilter]=\"disabledWeekEnds\"\r\n                  readonly\r\n                  [(ngModel)]=\"s1Application.submissionDate\"\r\n                  name=\"submissionDate\"\r\n                  formControlName=\"submissionDate\"\r\n                />\r\n                <mat-datepicker-toggle\r\n                  matSuffix\r\n                  [for]=\"dp3\"\r\n                ></mat-datepicker-toggle>\r\n                <mat-datepicker\r\n                  color=\"warn\"\r\n                  #dp3\r\n                  disabled=\"false\"\r\n                ></mat-datepicker>\r\n              </mat-form-field>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"row\"><br /></div>\r\n      <hr />\r\n\r\n      <!-- For screener/Reviewer only -->\r\n      <div\r\n        class=\"row\"\r\n        [formGroup]=\"s1ApplicationForm\"\r\n        *ngIf=\"\r\n          (isScreener &&\r\n            (s1Application?.internalStatus ===\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'REVISION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.screenerDecisionComment)) ||\r\n          (isReviewer &&\r\n            (s1Application.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n              s1Application?.internalStatus === 'REVISION_SCREENED' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              s1Application?.reviewerDecisionComment)) ||\r\n          (isAdSpecialist && s1Application?.hasOngoingAppeal)\r\n        \"\r\n      >\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Decision:</mat-label>\r\n          <mat-select\r\n            [(ngModel)]=\"s1Application.decisionStatus\"\r\n            name=\"decisionStatus\"\r\n            formControlName=\"decisionStatus\"\r\n            (click)=\"clearDecisionStatus()\"\r\n            (selectionChange)=\"buttonValidation($event.value)\"\r\n          >\r\n            <mat-option value=\"APPROVED\">APPROVED FOR PRODUCTION</mat-option>\r\n            <mat-option value=\"APPROVED W/ CAUTION\"\r\n              >APPROVED WITH CAUTION</mat-option\r\n            >\r\n            <mat-option value=\"INCOMPLETE\">INCOMPLETE</mat-option>\r\n            <mat-option value=\"DISAPPROVED\">DISAPPROVED</mat-option>\r\n            <!-- <mat-option value=\"REFER TO PANEL\">REFER TO PANEL</mat-option> -->\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <!-- For AdSpe only -->\r\n      <span\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          s1Application?.assignedUser?.userRole.name === 'ROLE_SCREENER' &&\r\n          (s1Application?.internalStatus ===\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n            s1Application?.internalStatus === 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n        ><b class=\"material-icons\">error_outline</b>&nbsp;\r\n        <b>Assigned Screener:</b>\r\n        {{ s1Application?.assignedScreener?.firstName }}\r\n        {{ s1Application?.assignedScreener?.lastName }}\r\n        <br />\r\n        <br />\r\n      </span>\r\n\r\n      <b\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          isAdSpecialist &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1\r\n        \"\r\n        [hidden]=\"\r\n          s1Application?.internalStatus ===\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n          s1Application?.decisionStatus === 'INCOMPLETE'\r\n        \"\r\n      >\r\n        <b class=\"material-icons\">error_outline</b> Selection of Screener will\r\n        be done in the last form of multiple application.\r\n        <br />\r\n        <br />\r\n      </b>\r\n\r\n      <b\r\n        [hidden]=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1\r\n        \"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <b class=\"material-icons\">error_outline</b> [ x ] are the number of\r\n        assigned S1 applications to the Screener.\r\n        <br />\r\n      </b>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        [hidden]=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.decisionStatus !== 'INCOMPLETE' &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1 &&\r\n          s1Application.internalStatus !== 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n        \"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n            s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <mat-label>ASSIGN A SCREENER</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"s1Application.assignedScreener\"\r\n          name=\"assignedScreener\"\r\n          (selectionChange)=\"buttonValidation($event.value)\"\r\n          [compareWith]=\"compareAssignedScreener\"\r\n        >\r\n          <mat-option *ngFor=\"let i of screenerList\" [value]=\"i\">\r\n            {{ i.firstName }} {{ i.lastName }}\r\n            <span style=\"float: right\">[ {{ i.ctr }} ]</span>\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <!-- For Screener only -->\r\n      <span\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          isScreener &&\r\n          s1Application?.actionStatus === 'ASSIGN_TO_REVIEWER'\r\n        \"\r\n        ><b class=\"material-icons\">error_outline</b>&nbsp;\r\n        <b>Assigned Reviewer:</b>\r\n        {{\r\n          s1Application?.multipleApplication\r\n            ? s1Application?.multipleApplication?.assignedReviewer?.firstName\r\n            : s1Application?.assignedUser?.firstName\r\n        }}\r\n        {{\r\n          s1Application?.multipleApplication\r\n            ? s1Application?.multipleApplication?.assignedReviewer?.lastName\r\n            : s1Application?.assignedUser?.lastName\r\n        }}\r\n        <br />\r\n        <br />\r\n      </span>\r\n\r\n      <b\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          isScreener &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1\r\n        \"\r\n        [hidden]=\"\r\n          s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n          s1Application?.screenerDecisionComment ||\r\n          s1Application?.reviewerDecisionComment ||\r\n          s1Application?.decisionStatus === 'INCOMPLETE'\r\n        \"\r\n      >\r\n        <b class=\"material-icons\">error_outline</b> Selection of Reviewer will\r\n        be done in the last form of multiple application.\r\n        <br />\r\n        <br />\r\n      </b>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6\"\r\n        appearance=\"outline\"\r\n        [hidden]=\"\r\n          !s1Application?.screenerDecisionComment &&\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.multipleApplication &&\r\n          s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n            s1Application?.multipleApplication?.actualNumberOfApplicationForm -\r\n              1 &&\r\n          s1Application.internalStatus !== 'S1_APPLICATION_SCREENED'\r\n        \"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          (s1Application?.internalStatus ===\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n            s1Application?.screenerDecisionComment ||\r\n            s1Application?.reviewerDecisionComment)\r\n        \"\r\n      >\r\n        <mat-label>ASSIGN A REVIEWER</mat-label>\r\n        <mat-select\r\n          name=\"assignedUserR\"\r\n          [(ngModel)]=\"s1Application.assignedReviewer\"\r\n          (selectionChange)=\"buttonValidation('')\"\r\n          [compareWith]=\"compareAssignedReviewer\"\r\n        >\r\n          <mat-option *ngFor=\"let i of reviewerList\" [value]=\"i\">\r\n            {{ i.firstName }} {{ i.lastName }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <!-- For screener/Reviewer only -->\r\n      <div\r\n        class=\"row\"\r\n        [formGroup]=\"s1ApplicationForm\"\r\n        *ngIf=\"\r\n          (isScreener &&\r\n            (s1Application?.internalStatus ===\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'REVISION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.screenerDecisionComment)) ||\r\n          (isReviewer &&\r\n            (s1Application.internalStatus === 'S1_APPLICATION_SCREENED' ||\r\n              s1Application?.internalStatus ===\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n              s1Application?.internalStatus === 'REVISION_SCREENED' ||\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n              s1Application?.reviewerDecisionComment))\r\n        \"\r\n      >\r\n        <div class=\"rational-other-comment\">\r\n          <div\r\n            class=\"col-md-6 rationale\"\r\n            *ngIf=\"rationaleDisplay\"\r\n            [hidden]=\"\r\n              rationaleLists?.length === 0 && rationaleOthersList?.length === 0\r\n            \"\r\n          >\r\n            <label>RATIONALE</label>\r\n            <div class=\"rationale-list\" [hidden]=\"rationaleLists?.length === 0\">\r\n              <label>Rationale List:</label>\r\n              <div *ngFor=\"let i of rationaleLists\">\r\n                <p>\r\n                  <span class=\"material-icons\">help</span>\r\n                  {{ i?.typeOfRationale?.rationale }}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              class=\"rational-other-comment\"\r\n              [hidden]=\"rationaleOthersList?.length === 0\"\r\n            >\r\n              <label>Other comments:</label>\r\n              <p *ngFor=\"let i of rationaleOthersList\">\r\n                <span class=\"material-icons\" [hidden]=\"i?.others === ''\"\r\n                  >help</span\r\n                >\r\n                {{ i?.others }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <br />\r\n        </div>\r\n\r\n        <mat-form-field\r\n          class=\"col-md-6\"\r\n          appearance=\"outline\"\r\n          [hidden]=\"\r\n            s1Application.submissionType === 'ORIGINAL' &&\r\n            s1Application?.multipleApplication &&\r\n            s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n              s1Application?.multipleApplication\r\n                ?.actualNumberOfApplicationForm -\r\n                1\r\n          \"\r\n          *ngIf=\"\r\n            !applicationSingleMedia?.mediumExecution?.typeOfExecution\r\n              ?.applyForToa &&\r\n            applicationSingleMedia?.mediumExecution?.typeOfExecution?.live\r\n          \"\r\n        >\r\n          <mat-label>Choose validity date</mat-label>\r\n          <input\r\n            matInput\r\n            placeholder=\"Date\"\r\n            [matDatepicker]=\"validityDate\"\r\n            readonly\r\n            [min]=\"todayDate\"\r\n            [(ngModel)]=\"s1Application.validUntil\"\r\n            name=\"expiresOn\"\r\n            formControlName=\"validityDate\"\r\n            [readonly]=\"true\"\r\n          />\r\n          <mat-datepicker-toggle matSuffix [for]=\"validityDate\">\r\n            <mat-datepicker color=\"warn\" #validityDate></mat-datepicker>\r\n          </mat-datepicker-toggle>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n          <!-- ADMIN / SUPERADMIN - RELEASED -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"resendDecision()\"\r\n            *ngIf=\"\r\n              s1Application?.releaseStatus === 'RELEASED' &&\r\n              (isAdmin || isSuperAdmin)\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">send</i> RESEND DECISION\r\n          </button>\r\n\r\n          <!-- ADMIN / SUPERADMIN -->\r\n          <!-- wala talaga function isa kasi pang mat tool tip lang - start -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              (isAdmin || isSuperAdmin) &&\r\n              (!applicationSingleMedia?.sizeLength ||\r\n                +applicationSingleMedia?.sizeLength === +currentSizeLength) &&\r\n              !hasMultimediaLengthChange &&\r\n              (s1Application?.decisionStatus === 'APPROVED' ||\r\n                s1Application?.decisionStatus === 'APPROVED_WITH_CAUTION')\r\n            \"\r\n            matTooltip=\"To enable this button, change the size/length of the application\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;SUBMIT FOR MODIFICATION\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"resubmitApplication()\"\r\n            *ngIf=\"\r\n              (isAdmin || isSuperAdmin) &&\r\n              ((applicationSingleMedia?.sizeLength &&\r\n                +applicationSingleMedia?.sizeLength !== +currentSizeLength) ||\r\n                hasMultimediaLengthChange) &&\r\n              (s1Application?.decisionStatus === 'APPROVED' ||\r\n                s1Application?.decisionStatus === 'APPROVED_WITH_CAUTION')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;SUBMIT FOR MODIFICATION\r\n          </button>\r\n          <!-- wala talaga function isa kasi pang mat tool tip lang - end -->\r\n\r\n          <!-- ADMIN / SUPERADMIN - RELEASED -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitAppeal()\"\r\n            *ngIf=\"\r\n              (isAdmin || isSuperAdmin) &&\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' &&\r\n              s1Application?.releaseStatus === 'RELEASED' &&\r\n              !s1Application?.appliedS2 &&\r\n              !s1Application?.hasOngoingCompliance &&\r\n              !s1Application?.hasOngoingRevision &&\r\n              !s1Application?.hasOngoingAppeal\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n            &nbsp;RETURN TO ADSPE FOR APPEAL\r\n          </button>\r\n\r\n          <!-- APPEAL - ADSPE -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitAppeal()\"\r\n            *ngIf=\"isAdSpecialist && s1Application?.hasOngoingAppeal\"\r\n          >\r\n            <i class=\"material-icons color__white\">report_gmailerrorred</i>\r\n            &nbsp;VERIFY APPEAL\r\n          </button>\r\n\r\n          <!-- ADSPE / ADMIN / SUPERADMIN - FOR RELEASE -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"returnToScreener()\"\r\n            *ngIf=\"\r\n              (isAdSpecialist || isAdmin || isSuperAdmin) &&\r\n              s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' &&\r\n              s1Application?.releaseStatus === 'FOR_RELEASE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO SCREENER\r\n          </button>\r\n\r\n          <!-- screenerDecisionComment -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitDecisionAndComment()\"\r\n            *ngIf=\"isScreener && s1Application?.screenerDecisionComment\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n\r\n          <!-- reviewerDecisionComment -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"submitDecisionAndComment()\"\r\n            *ngIf=\"isReviewer && s1Application?.reviewerDecisionComment\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_turned_in</i>\r\n            REVIEWED\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- //////////////////////////////////////// ORIGINAL //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application?.internalStatus == undefined ||\r\n          s1Application?.internalStatus == 'SAVED' ||\r\n          s1Application?.status == 'APPROVED'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <!-- <button mat-raised-button color=\"primary\" (click)=\"saveOrUpdateApplication('SAVED')\" -->\r\n          <button\r\n            mat-raised-button\r\n            color=\"primary\"\r\n            (click)=\"checkAscRateBeforeSaveOrSubmit()\"\r\n            *ngIf=\"!isEvaluator\"\r\n            [disabled]=\"\r\n              s1Application?.formType === 'MULTIPLE'\r\n                ? isMultipleRegularDisabled()\r\n                : isSingleRegularDisabled()\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">offline_pin</i> SAVE\r\n          </button>\r\n          &nbsp;\r\n          <!-- (click)=\"saveStatus('presentor', 'submit', 'S1_APPLICATION_SUBMITTED')\" -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"checkAscRateBeforeSaveOrSubmit('submit')\"\r\n            [hidden]=\"\r\n              specialApplicationType.includes(\r\n                s1Application?.applicationType?.description?.toUpperCase()\r\n              )\r\n            \"\r\n            [disabled]=\"\r\n              s1Application?.formType === 'MULTIPLE'\r\n                ? isMultipleRegularDisabled()\r\n                : isSingleRegularDisabled()\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">send</i> SUBMIT\r\n          </button>\r\n\r\n          <button\r\n            *ngIf=\"\r\n              specialApplicationType.includes(\r\n                s1Application?.applicationType?.description?.toUpperCase()\r\n              ) &&\r\n              !applicationRequest?.status &&\r\n              s1Application.applicationRequest == null\r\n            \"\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"requestSpecialS1ApplicationApproval()\"\r\n            [disabled]=\"isSaveAndRequestForApprovalDisabled()\"\r\n          >\r\n            <i class=\"material-icons color__white\">send</i> REQUEST FOR APPROVAL\r\n          </button>\r\n        </div>\r\n\r\n        <!-- <div class=\"col-md-12\" *ngIf=\"(s1Application?.formType === 'MULTIPLE' && !s1Application.multipleApplication) \">\r\n          <button mat-raised-button class=\"button-red\" (click)=\"saveOrUpdateApplication('S1_APPLICATION_SUBMITTED')\"\r\n            [disabled]=\"!s1Application?.adTitle || !s1Application.submissionDate\">\r\n            <i class=\"material-icons color__white\">send</i> REQUEST FOR APPROVAL\r\n          </button>\r\n        </div> -->\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isApplicant &&\r\n          s1Application?.internalStatus == 'S1_APPLICATION_SUBMITTED'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatus('presentor', 'cancel', 'S1_APPLICATION_CANCELLED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">cancel</i> CANCEL APPLICATION\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isEvaluator &&\r\n          s1Application.internalStatus == 'S1_APPLICATION_SUBMITTED'\r\n        \"\r\n      >\r\n        <b\r\n          class=\"warning-msg\"\r\n          *ngIf=\"\r\n            s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n            s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n            s1Application?.product?.status === 'FOR_APPROVAL'\r\n          \"\r\n        >\r\n          <b class=\"material-icons\">error_outline</b> New Company / Brand /\r\n          Product must be approved first before you can forward the application.\r\n        </b>\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"\r\n              s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.product?.status === 'FOR_APPROVAL'\r\n            \"\r\n            (click)=\"\r\n              saveStatus(\r\n                'encoder',\r\n                'verify',\r\n                'S1_APPLICATION_VERIFIED_BY_ENCODER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO AD\r\n            SPECIALIST\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal()\"\r\n          >\r\n            <!-- (click)=\"rejectDisapprovedModal('encoder', 'reject', 'S1_APPLICATION_REJECTED')\" -->\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- MULTIPLE -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application?.decisionStatus !== 'INCOMPLETE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isAdSpecialist &&\r\n              s1Application?.actionStatus === 'ASSIGN_TO_ADSPE'\r\n            \"\r\n            (click)=\"\r\n              saveStatus(\r\n                'ad-specialist',\r\n                'verify',\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application?.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n            s1Application?.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <!-- NOT MULTIPLE -->\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isAdSpecialist &&\r\n              s1Application?.actionStatus === 'ASSIGN_TO_ADSPE'\r\n            \"\r\n            (click)=\"\r\n              saveStatus(\r\n                'ad-specialist',\r\n                'verify',\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n            [disabled]=\"buttonDisabled\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isAdSpecialist &&\r\n              (s1Application?.actionStatus === 'ASSIGN_TO_SCREENER' ||\r\n                s1Application?.actionStatus === 'ASSIGN_TO_HOLD') &&\r\n              s1Application?.internalStatus ===\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n            \"\r\n            (click)=\"reassign()\"\r\n            [disabled]=\"buttonDisabled\"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> RE-ASSIGN\r\n            SCREENER\r\n          </button>\r\n          &nbsp;\r\n          <!-- <button mat-raised-button class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal('encoder', 'reject', 'S1_APPLICATION_REJECTED')\">\r\n            (click)=\"saveStatus('ad-specialist','reject','S1_APPLICATION_REJECTED')\">\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n\r\n      <!-- AD SPECIALIST ONLY-->\r\n      <div class=\"row mt-4\">\r\n        <mat-form-field\r\n          class=\"col-md-6\"\r\n          appearance=\"outline\"\r\n          [hidden]=\"\r\n            s1Application.submissionType === 'ORIGINAL' &&\r\n            s1Application?.multipleApplication &&\r\n            s1Application?.decisionStatus !== 'INCOMPLETE' &&\r\n            s1Application?.multipleApplication?.countVerifiedApplicationForm !==\r\n              s1Application?.multipleApplication\r\n                ?.actualNumberOfApplicationForm -\r\n                1 &&\r\n            s1Application.internalStatus !== 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n          \"\r\n          *ngIf=\"\r\n            isAdSpecialist &&\r\n            (s1Application.internalStatus ==\r\n              'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n              s1Application.internalStatus ==\r\n                'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n              s1Application.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n              s1Application.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE' ||\r\n              s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n              s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n          \"\r\n        >\r\n          <mat-label>REASSIGN AD SPECIALIST</mat-label>\r\n          <mat-select\r\n            [(ngModel)]=\"s1Application.assignedAdSpecialist\"\r\n            name=\"assignedAdSpecialist\"\r\n            (selectionChange)=\"buttonValidation($event.value)\"\r\n            [compareWith]=\"compareAssignedAdSpec\"\r\n          >\r\n            <mat-option *ngFor=\"let i of adSpecialistList\" [value]=\"i\">\r\n              {{ i.firstName }} {{ i.lastName }}\r\n              <span style=\"float: right\">[ {{ i.ctr }} ]</span>\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <!-- MULTIPLE -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application.submissionType === 'ORIGINAL' &&\r\n          s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application?.internalStatus === 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isScreener && s1Application?.actionStatus === 'ASSIGN_TO_SCREENER'\r\n            \"\r\n            (click)=\"\r\n              saveStatus('screener', 'verify', 'S1_APPLICATION_SCREENED')\r\n            \"\r\n            [disabled]=\"!s1Application.decisionStatus\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          (s1Application.internalStatus ==\r\n            'S1_APPLICATION_VERIFIED_BY_AD_SPE' ||\r\n            s1Application.internalStatus == 'S1_APPLICATION_SCREENED')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isScreener && s1Application?.actionStatus === 'ASSIGN_TO_SCREENER'\r\n            \"\r\n            (click)=\"\r\n              saveStatus('screener', 'verify', 'S1_APPLICATION_SCREENED')\r\n            \"\r\n            [disabled]=\"buttonDisabled || !s1Application.decisionStatus\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            *ngIf=\"\r\n              isScreener && s1Application?.actionStatus === 'ASSIGN_TO_REVIEWER'\r\n            \"\r\n            (click)=\"reassign()\"\r\n            [disabled]=\"buttonDisabled\"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> RE-ASSIGN\r\n            REVIEWER\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"returnTo('ADSPE', 'S1_APPLICATION_VERIFIED_BY_ENCODER')\"\r\n            [disabled]=\"\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO AD SPECIALIST\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          !s1Application?.reviewerDecisionComment &&\r\n          isReviewer &&\r\n          (s1Application?.internalStatus == 'S1_APPLICATION_SCREENED' ||\r\n            s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ===\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"!s1Application.decisionStatus\"\r\n            (click)=\"\r\n              saveStatus('reviewer', 'verify', 'S1_APPLICATION_REVIEWED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_turned_in</i>\r\n            REVIEWED\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"returnTo('SCREENER', 'S1_APPLICATION_VERIFIED_BY_AD_SPE')\"\r\n            [disabled]=\"\"\r\n            [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO SCREENER\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- //////////////////////////////////////// FOR COMPLIANCE //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isApplicant &&\r\n          !s1Application?.hasOngoingRevision &&\r\n          !s1Application?.hasOngoingCompliance &&\r\n          s1Application?.decisionStatus == 'INCOMPLETE' &&\r\n          (s1Application?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n            s1Application?.internalStatus == 'REVISION_SCREENED' ||\r\n            s1Application?.internalStatus == 'S1_APPLICATION_REJECTED')\r\n        \"\r\n      >\r\n        <b\r\n          ><b class=\"material-icons info-msg\">error_outline</b> Applicant can\r\n          submit updated or additional supporting documents for S1 Forms with\r\n          Incomplete Decision.</b\r\n        >\r\n        <div class=\"col-md-12\">\r\n          <br />\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"!submitComplianceEnabled\"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'presentor',\r\n                'submit',\r\n                'SUBMITTED_DOCUMENT_FOR_COMPLIANCE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">task_alt</i> SUBMIT FOR\r\n            COMPLIANCE\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isEvaluator &&\r\n          s1Application.internalStatus == 'SUBMITTED_DOCUMENT_FOR_COMPLIANCE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"\r\n              s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.product?.status === 'FOR_APPROVAL'\r\n            \"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'encoder',\r\n                'verify',\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO AD\r\n            SPECIALIST\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal()\"\r\n          >\r\n            <!-- (click)=\"rejectDisapprovedModal('encoder','reject','S1_APPLICATION_REJECTED')\" -->\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application?.internalStatus ==\r\n            'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n            s1Application?.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'ad-specialist',\r\n                'verify',\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          s1Application?.internalStatus ==\r\n            'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusForCompliance(\r\n                'screener',\r\n                'verify',\r\n                'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              returnTo('ADSPE', 'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER')\r\n            \"\r\n            [disabled]=\"\"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n            &nbsp;RETURN TO AD SPECIALIST\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- //////////////////////////////////////// REVISION //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          s1Application?.revisionNo !== 2 &&\r\n          s1Application?.submissionType === 'ORIGINAL' &&\r\n          !s1Application?.hasOngoingRevision &&\r\n          !s1Application?.hasOngoingCompliance &&\r\n          !s1Application?.appliedS2 &&\r\n          isApplicant &&\r\n          (s1Application?.internalStatus === 'S1_APPLICATION_REVIEWED' ||\r\n            s1Application?.internalStatus ==\r\n              'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n          (s1Application?.decisionStatus == 'APPROVED' ||\r\n            s1Application?.decisionStatus == 'APPROVED W/ CAUTION')\r\n        \"\r\n      >\r\n        <b>\r\n          <br />\r\n          <b class=\"material-icons info-msg\">error_outline</b> Applicant can\r\n          submit Approved S1 Form for Revision Request with revision letter, new\r\n          main document, and new supporting document (if needed).\r\n        </b>\r\n        <div class=\"col-md-12\">\r\n          <br />\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusRevision('presentor', 'submit', 'SUBMITTED_REVISION')\r\n            \"\r\n            [disabled]=\"\r\n              !s1Application?.revisionLetterAttachmentReference &&\r\n              !attachmentDocuments[2]?.revisionLetterAttachmentReference\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">task_alt</i> SUBMIT REVISION\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isEvaluator && s1Application.internalStatus == 'SUBMITTED_REVISION'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            [disabled]=\"\r\n              s1Application?.company?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.brand?.status === 'FOR_APPROVAL' ||\r\n              s1Application?.product?.status === 'FOR_APPROVAL'\r\n            \"\r\n            (click)=\"\r\n              saveStatusRevision(\r\n                'encoder',\r\n                'verify',\r\n                'REVISION_VERIFIED_BY_ENCODER'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO AD\r\n            SPECIALIST\r\n          </button>\r\n          &nbsp;\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"rejectDisapprovedModal()\"\r\n          >\r\n            <!-- (click)=\"rejectDisapprovedModal('encoder','reject','S1_APPLICATION_REJECTED')\" -->\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isAdSpecialist &&\r\n          (s1Application.internalStatus == 'REVISION_VERIFIED_BY_ENCODER' ||\r\n            s1Application?.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE')\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <ng-template\r\n            [ngTemplateOutlet]=\"reAssignAdSpecialistTemp\"\r\n          ></ng-template>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusRevision(\r\n                'ad-specialist',\r\n                'verify',\r\n                'REVISION_VERIFIED_BY_AD_SPE'\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">verified</i> FORWARD TO\r\n            SCREENER\r\n          </button>\r\n          <!--  &nbsp;\r\n          <button mat-raised-button class=\"button-red\"\r\n            (click)=\"saveStatus('ad-specialist','reject','S1_APPLICATION_REJECTED')\">\r\n            <i class=\"material-icons color__white\">unpublished</i> REJECT\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"\r\n          isScreener &&\r\n          s1Application.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE'\r\n        \"\r\n      >\r\n        <div class=\"col-md-12\">\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            (click)=\"\r\n              saveStatusRevision('screener', 'verify', 'REVISION_SCREENED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">fact_check</i> SCREENED\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n<!-- </form> -->\r\n\r\n<ng-template #reAssignAdSpecialistTemp>\r\n  <button\r\n    mat-raised-button\r\n    class=\"button-red\"\r\n    *ngIf=\"isAdSpecialist\"\r\n    (click)=\"reassignAdSpecialist()\"\r\n    [disabled]=\"buttonDisabled\"\r\n    [hidden]=\"s1Application?.formType === 'MULTIPLE'\"\r\n  >\r\n    <i class=\"material-icons color__white\">verified</i> RE-ASSIGN AD SPECIALIST\r\n  </button>\r\n</ng-template>\r\n","import { Component, Inject, OnInit, Optional } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { Company, S1Application } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS, ROLES } from '@shared';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n  selector: 'app-update-special-application',\r\n  templateUrl: './update-special-application.component.html',\r\n  styleUrls: ['./update-special-application.component.scss']\r\n})\r\nexport class UpdateSpecialApplicationComponent implements OnInit {\r\n\r\n  company = new Company();\r\n  s1Application = new S1Application();\r\n\r\n  currentUser: any;\r\n  currentUserRole: any;\r\n\r\n  isAscUser = false;\r\n  isDisableFieldOnUpdate = true;\r\n\r\n  formType = 'INDIVIDUAL';\r\n\r\n  ascUserRoleList = [...ROLES.filter((role: any) => role.ascUser === true).map((role: any) => role.role)];\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dataStorage: DataStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    @Optional() public dialogRef: MatDialogRef<UpdateSpecialApplicationComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any,\r\n  ) {\r\n    if (data) {\r\n      this.s1Application = data;\r\n      this.s1Application.submissionDate = data.submissionDate;\r\n      this.s1Application.formType = this.formType;\r\n\r\n\r\n      // Client Info\r\n      // this.s1Application.company = this.multipleS1Application.company;\r\n      // this.company = this.multipleS1Application.company;\r\n      // this.s1Application.membersAffiliation = this.multipleS1Application.membersAffiliation;\r\n      // this.s1Application.brand = this.multipleS1Application.brand;\r\n    }\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.currentUserRole = this.currentUser.userRole.name;\r\n    this.isAscUser = this.ascUserRoleList.includes(this.dataStorage.getUserRole());\r\n  }\r\n\r\n  onApproveOrDisapprove(status = 'APPROVED'): void {\r\n    const displayStatus = status === 'APPROVED' ? 'approve' : 'disapprove';\r\n    Swal.fire({\r\n      text: `Are you sure you want to ${displayStatus} this application?`,\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        const endpointExtension = status === 'APPROVED' ? '/approve' : '/disapprove';\r\n        // this.s1Application.actionDate = new Date();\r\n        this.s1Application.actionBy = this.currentUser.username;\r\n        this.apiService.save(`${ENDPOINTS.applicationRequests}${endpointExtension}/${this.s1Application.id}`, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            this.sweetAlertService.customSuccessMessage(`Application successfully ${status.toLowerCase()}.`);\r\n          this.router.navigate(['asc/page/application/s1/special']);\r\n          }, (err: any) => {\r\n            console.log(err);\r\n          }, () => {\r\n            this.dialogRef.close(this.s1Application);\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  updateSpecialApplication(): void {\r\n    // TO DO\r\n    // will only redirect to add new S1 application\r\n    // saving or updating is in add-s1-application.component.ts\r\n    this.dialogRef.close();\r\n    this.router.navigate(['asc/page/application/s1/add']);\r\n  }\r\n\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row title\">\r\n      <div class=\"col-md-12\">\r\n        <table>\r\n          <tr>\r\n            <td *ngIf=\"(s1Application?.status!=undefined&&!isAscUser)||isAscUser\">\r\n              <span>\r\n                Status:\r\n              </span>\r\n            </td>\r\n            <td *ngIf=\"(s1Application?.status !== undefined && !isAscUser) || isAscUser\">\r\n              <span *ngIf=\"s1Application?.status !== undefined && !isAscUser\">\r\n                <b>{{s1Application?.status?.replaceAll('_',' ') | uppercase}}</b>\r\n              </span>\r\n              <span *ngIf=\"isAscUser\">\r\n                <b>{{s1Application?.status?.replaceAll('_',' ') | uppercase}}</b>\r\n              </span>\r\n            </td>\r\n            <td class=\"no-border\">\r\n              <button\r\n                class=\"button-right button-red\"\r\n                mat-raised-button\r\n                (click)=\"dialogRef.close()\"\r\n              >\r\n                <i class=\"material-icons color__white\">list</i> VIEW APPLICATIONS\r\n              </button>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"no-border\"></td>\r\n          </tr>\r\n        </table>\r\n\r\n        <hr />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\"><br /></div>\r\n    <div class=\"row\">\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Form Type</mat-label>\r\n        <input matInput [value]=\"formType\" readonly />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n        <mat-label>Application Type</mat-label>\r\n        <input matInput [value]=\"s1Application?.applicationType?.description\" readonly/>\r\n      </mat-form-field>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <mat-accordion class=\"headers-align\" multi>\r\n        <mat-expansion-panel\r\n          [expanded]=\"\r\n            (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              s1Application?.internalStatus != 'SAVED') ||\r\n            s1Application?.internalStatus == undefined\r\n              ? true\r\n              : false\r\n          \"\r\n          *ngIf=\"\r\n            (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              s1Application?.internalStatus == 'SAVED') ||\r\n            currentUser?.userRole?.name != 'ROLE_APPLICANT' ||\r\n            s1Application?.internalStatus == undefined\r\n          \"\r\n        >\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Initial\r\n              Information\r\n            </mat-panel-title>\r\n          </mat-expansion-panel-header>\r\n          <br />\r\n\r\n          <app-client-information\r\n            [s1Application]=\"s1Application\"\r\n            [isAscUser]=\"isAscUser\"\r\n            [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n            [company]=\"company\"\r\n          ></app-client-information>\r\n\r\n\r\n          <div class=\"row\">\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Ad Title</mat-label>\r\n              <input matInput [value]=\"s1Application?.adTitle\" readonly />\r\n            </mat-form-field>\r\n\r\n            <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n              <mat-label>Tag Line</mat-label>\r\n              <input matInput [value]=\"s1Application?.tagLine\" readonly />\r\n            </mat-form-field>\r\n\r\n            <mat-form-field appearance=\"outline\" class=\"col-md-6\">\r\n              <mat-label>Date of Submission</mat-label>\r\n              <input matInput placeholder=\"Date\" readonly\r\n                [value]=\"s1Application?.submissionDate | date: 'MMMM d, y'\"\r\n                name=\"submissionDate\" *ngIf=\"s1Application?.status !== 'DISAPPROVED'\"/>\r\n                <input matInput placeholder=\"Date\" readonly\r\n                  value=\"N/A - Request was disapproved\"\r\n                  name=\"submissionDate\" *ngIf=\"s1Application?.status === 'DISAPPROVED'\"/>\r\n            </mat-form-field>\r\n          </div>\r\n        </mat-expansion-panel>\r\n\r\n        <!-- FOR Admin Users only -->\r\n        <mat-expansion-panel *ngIf=\"currentUser?.userRole?.name === 'ROLE_ADMIN' || currentUser?.userRole?.name === 'ROLE_SUPER_ADMIN' \">\r\n          <mat-expansion-panel-header>\r\n            <mat-panel-title>\r\n              <i class=\"material-icons\">label_important</i> &nbsp;Presentor Information\r\n            </mat-panel-title>\r\n            <mat-panel-description>\r\n              Personal Details\r\n              <i class=\"material-icons\">person</i>\r\n            </mat-panel-description>\r\n          </mat-expansion-panel-header>\r\n\r\n          <br>\r\n          <div class=\"row\">\r\n            <div class=\"row\">\r\n              <!-- <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n                <mat-label>Membership Affiliation</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.membersAffiliation?.description\" readonly>\r\n              </mat-form-field> -->\r\n              <mat-form-field class=\"col-md-7\" appearance=\"outline\">\r\n                <mat-label>Company Name</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.companyName\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-11\" appearance=\"outline\">\r\n                <mat-label>Address</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.completeAddress\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-8\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input matInput [value]=\"s1Application?.applicationOwner?.firstName+' '+s1Application?.applicationOwner?.lastName\" readonly>\r\n              </mat-form-field>\r\n\r\n              <!-- <mat-form-field class=\"col-md-8\" appearance=\"outline\" *ngIf=\"currentUser?.userRole?.name =='ROLE_ENCODER' && s1Application.id!= null\">\r\n                <mat-label>Name of Applicant</mat-label>\r\n                <input matInput [value]=\"s1Application?.firstName+' '+s1Application?.lastName\" readonly>\r\n              </mat-form-field> -->\r\n\r\n            </div>\r\n\r\n            <div class=\"row\"><br></div>\r\n\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Mobile Number</mat-label>\r\n                <input matInput [value]=\"s1Application?.applicationOwner?.mobileNumber\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-3\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Telephone Number</mat-label>\r\n                <input matInput [value]=\"s1Application?.company?.companyTelephoneNo\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-4\" appearance=\"outline\" *ngIf=\"s1Application.id!= null\">\r\n                <mat-label>Email Address</mat-label>\r\n                <input matInput [value]=\"s1Application?.applicationOwner?.username\" readonly>\r\n              </mat-form-field>\r\n            </div>\r\n\r\n          </div>\r\n        </mat-expansion-panel>\r\n      </mat-accordion>\r\n\r\n      <div class=\"row\"><br /></div>\r\n      <hr />\r\n\r\n      <br />\r\n      <!-- //////////////////////////////////////// ACTION BUTTONS //////////////////////////////////////////////////////////// -->\r\n      <div\r\n        class=\"row\"\r\n        *ngIf=\"s1Application?.status === 'FOR_APPROVAL' && isAscUser\"\r\n      >\r\n        <div mat-dialog-actions>\r\n          <div class=\"dialog-button-content\" align=\"end\">\r\n            <button class=\"confirm\" (click)=\"onApproveOrDisapprove()\">\r\n              <i class=\"material-icons color__white\">thumb_up_alt</i> Approve\r\n            </button>\r\n            <button class=\"warn\" (click)=\"onApproveOrDisapprove('DISAPPROVED')\">\r\n              <i class=\"material-icons color__white\">thumb_down_alt</i> Disapprove\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n","// import { WebSocketService } from './../../../../../core/services/socket/websocket.service';\r\nimport { HttpErrorResponse } from \"@angular/common/http\";\r\nimport { BadgeCounnter } from \"./../../../../../core/models/counter\";\r\nimport { Component, Inject, OnInit, ViewChild, OnDestroy } from \"@angular/core\";\r\nimport { MatPaginator } from \"@angular/material/paginator\";\r\nimport { MatSort } from \"@angular/material/sort\";\r\nimport { MatTable, MatTableDataSource } from \"@angular/material/table\";\r\nimport { S1Application, S2Application } from \"@models\";\r\nimport {\r\n  PAYMENT_STATUS,\r\n  ENDPOINTS,\r\n  APPLICATION_STATUS,\r\n  FORM_STATUS,\r\n  SUBMISSION_TYPE,\r\n  USER_ROLES,\r\n  TYPE_OF_MEDIUM,\r\n  ACTION_STATUS,\r\n} from \"@shared\";\r\nimport { ApiService, DataStorageService, SweetAlertService } from \"@services\";\r\nimport { ActivatedRoute, Router } from \"@angular/router\";\r\nimport Swal from \"sweetalert2\";\r\nimport { S1FormTypeComponent } from \"app/modules/fragments/s1-form-type/s1-form-type.component\";\r\nimport {\r\n  MatDialog,\r\n  MatDialogRef,\r\n  MAT_DIALOG_DATA,\r\n} from \"@angular/material/dialog\";\r\nimport { NgxSpinnerService } from \"ngx-spinner\";\r\nimport { MultipleApplication } from \"app/core/models/multiple-application.model\";\r\nimport { UpdateMultipleApplicationComponent } from \"app/modules/fragments/update-multiple-application/update-multiple-application.component\";\r\nimport { UpdateSpecialApplicationComponent } from \"app/modules/fragments/update-special-application/update-special-application.component\";\r\nimport { ApplicationRequest } from \"app/core/models/application-request.model\";\r\nimport { RequestForSpecialClearingComponent } from \"app/modules/fragments/request-for-special-clearing/request-for-special-clearing.component\";\r\nimport { TypeOfExecution } from \"app/core/models/type-of-execution.model\";\r\nimport { CommonServices } from \"app/core/services/common-services.service\";\r\n\r\nimport { Subscription, timer, merge } from \"rxjs\";\r\nimport { mergeMap } from \"rxjs/operators\";\r\nimport { WebSocketService } from \"app/core/services/socket/websocket.service\";\r\n\r\n@Component({\r\n  selector: \"app-list-s1-application\",\r\n  templateUrl: \"./list-s1-application.component.html\",\r\n  styleUrls: [\"./list-s1-application.component.scss\"],\r\n})\r\nexport class ListS1ApplicationComponent implements OnInit, OnDestroy {\r\n  @ViewChild(MatPaginator, { static: false }) paginatorFalse: MatPaginator;\r\n  @ViewChild(MatPaginator, { static: true }) paginator: MatPaginator;\r\n  pageSize = 10;\r\n  pageNo = 0;\r\n  pageSizeOptions: number[] = [10, 20, 50];\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<S1Application>;\r\n\r\n  // individual s1 application list\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  displayedColumns = [];\r\n  totalItems = 0;\r\n  totalPages = 0;\r\n  currentPage = 1; // reuse\r\n  // currentSize = 100;\r\n\r\n  badgeCounter: BadgeCounnter = new BadgeCounnter();\r\n\r\n  returnedApps = [];\r\n  click = 0;\r\n  timeLeft: number = 60;\r\n  interval: any;\r\n  refreshButtonEnabled = true;\r\n  timerDisplay: any;\r\n  isTimerValueDisplay = false;\r\n  // , 'ascStatus', 'awaitingActionFrom'];\r\n\r\n  // multiple s1 application list variables\r\n  multipleApplicationList = [];\r\n  multipleApplicationDataSource: MatTableDataSource<MultipleApplication>;\r\n  multipleApplicationDisplayedColumns = [\r\n    \"adTitle\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"product\",\r\n    \"status\",\r\n  ];\r\n  multipleTotalItems = 0;\r\n\r\n  // end multiple application list variables\r\n\r\n  // special s1 application list variables\r\n  specialApplicationList = [];\r\n  specialApplicationDataSource: MatTableDataSource<S1Application>;\r\n  specialApplicationDisplayedColumns = [\r\n    \"adTitle\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"status\",\r\n  ];\r\n  specialTotalItems = 0;\r\n  // end special application list variables\r\n\r\n  // assigned s1 application list variables\r\n  assignedApplicationList = [];\r\n  assignedApplicationDataSource: MatTableDataSource<S1Application>;\r\n  assignedApplicationDisplayedColumns = [\r\n    \"referenceCode\",\r\n    \"adTitle\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"product\",\r\n    \"status\",\r\n    \"internalStatus\",\r\n    \"icon\",\r\n  ]; // end assigned application list variables\r\n\r\n  forReleaseApplicationsList = [];\r\n  forReleaseTotalItems = 0;\r\n  forReleaseApplicationDataSource: MatTableDataSource<S1Application>;\r\n  forReleaseApplicationDisplayedColumns = [\r\n    \"referenceCode\",\r\n    \"typeOfApplication\",\r\n    \"companyName\",\r\n    \"brand\",\r\n    \"product\",\r\n    \"typeOfMedium\",\r\n    \"status\",\r\n    \"internalStatus\",\r\n    \"decisionStatus\",\r\n  ];\r\n  applicationList = [];\r\n  currentUser: any;\r\n  viewApplicationType: string;\r\n  applicationTypeTitle: string;\r\n  submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n  originalTabDataCount = 0;\r\n  revisionTabDataCount = 0;\r\n  complianceTabDataCount = 0;\r\n  decisionCommentTabDataCount = 0;\r\n  releasedAppealTabDataCount = 0;\r\n\r\n  isSuperAdmin = false;\r\n  isAdmin = false;\r\n  isAccounting = false;\r\n  isApplicant = false;\r\n  isScreener = false;\r\n  isReviewer = false;\r\n  isAdSpecialist = false;\r\n  isEvaluator = false;\r\n\r\n  s1Application = new S1Application();\r\n  s2Application = new S2Application();\r\n  multipleS1Application = new MultipleApplication();\r\n  applicationRequest = new ApplicationRequest();\r\n  s1ApplicationTitle = \"S1 APPLICATION\";\r\n  displayedContent = \"ORIGINAL\";\r\n  paymentStatus = PAYMENT_STATUS;\r\n  retrieveReassignLength: number;\r\n\r\n  counterObservable: Subscription;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private dataStorage: DataStorageService,\r\n    private router: Router,\r\n    private sweetAlertService: SweetAlertService,\r\n    private dialog: MatDialog,\r\n    private spinner: NgxSpinnerService,\r\n    private route: ActivatedRoute,\r\n    private commonService: CommonServices,\r\n    private webSocketService: WebSocketService\r\n  ) {}\r\n  ngOnDestroy(): void {\r\n    // if(this.counterObservable){\r\n    // this.counterObservable.unsubscribe();\r\n    // }\r\n  }\r\n  ngOnInit(): void {\r\n    this.webSocketService.listen(\"broadcast\").subscribe((res) => {\r\n      console.log(\"test\");\r\n      this.apiService\r\n        .findAll(ENDPOINTS.badgeCountByAscUser + this.currentUser.id)\r\n        .subscribe((res: any) => {\r\n          this.badgeCounter = res;\r\n          console.log(this.badgeCounter);\r\n        });\r\n    });\r\n    // this.counterObservable = merge(timer(0, 5000))\r\n    // .pipe(mergeMap(_ => this.apiService.findAll(ENDPOINTS.badgeCountByAscUser + this.currentUser.id)))\r\n    // .subscribe(\r\n    //   (res: BadgeCounnter) => {\r\n    //     this.badgeCounter = res;\r\n    //   },\r\n    //   (err: HttpErrorResponse) => {\r\n    //     console.log('Error:', err);\r\n    //   }\r\n    // );\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.viewApplicationType = this.route.parent.snapshot.url[0].path;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"icon\",\r\n      ];\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n    ) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"internalStatus\",\r\n        \"icon\",\r\n      ];\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER\r\n    ) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"internalStatus\",\r\n      ];\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.displayedColumns = [\r\n        \"referenceCode\",\r\n        \"typeOfApplication\",\r\n        \"companyName\",\r\n        \"brand\",\r\n        \"product\",\r\n        \"typeOfMedium\",\r\n        \"status\",\r\n        \"paymentStatus\",\r\n        \"internalStatus\",\r\n        \"icon\",\r\n      ];\r\n    }\r\n    this.getList();\r\n    this.getListCounts();\r\n    this.initUserRole();\r\n    this.refreshApplicationBadgeCount();\r\n  }\r\n\r\n  parseInternalStatus(internalStatus: string, actionBy, element?) {\r\n    let user: string = `${actionBy.firstName} ${actionBy.lastName}`;\r\n    if (internalStatus.match(\"SUBMITTED\")) {\r\n      return `SUBMITTED BY: ${user}`;\r\n    } else if (internalStatus.match(\"REVIEWED\")) return `REVIEWED BY: ${user}`;\r\n    else if (internalStatus.match(\"VERIFIED\")) return `VERIFIED BY: ${user}`;\r\n    else if (internalStatus.match(\"SCREENED\")) return `SCREENED BY: ${user}`;\r\n    else if (internalStatus.match(\"REJECTED\"))\r\n      return `REJECTED BY: ${element.assignedUser.firstName} ${element.assignedUser.lastName}`;\r\n    // return internalStatus;\r\n  }\r\n\r\n  refreshApplicationBadgeCount(): void {\r\n    this.commonService.sendClickEvent();\r\n  }\r\n\r\n  formatTextPayment(status: string): string {\r\n    return status.replace(/_/g, \" \");\r\n  }\r\n\r\n  initUserRole() {\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN) {\r\n      this.isSuperAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN) {\r\n      this.isAdmin = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ACCOUNTING) {\r\n      this.isAccounting = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      this.isApplicant = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n      this.isScreener = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      this.isReviewer = true;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n    ) {\r\n      this.isAdSpecialist = true;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n      this.isEvaluator = true;\r\n    }\r\n  }\r\n\r\n  getListCounts(): void {\r\n    let endpoint;\r\n    let screenedCount: number = 0;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n      endpoint = ENDPOINTS.badgeCountByApplicationOwner;\r\n    } else {\r\n      endpoint = ENDPOINTS.badgeCountByAscUser;\r\n    }\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.applicationForm +\r\n          `/custom/search?assignedScreenerId=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`\r\n      )\r\n      .subscribe((response) => {\r\n        screenedCount = response.totalItems;\r\n      });\r\n    this.apiService\r\n      .findAll(endpoint + this.currentUser.id)\r\n      .subscribe((res: any) => {\r\n        this.badgeCounter = res;\r\n        this.apiService\r\n          .findAll(\r\n            ENDPOINTS.applicationForm +\r\n              `/custom/search?assignedScreenerId=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`\r\n          )\r\n          .subscribe((response) => {\r\n            this.badgeCounter.screenedApplications = response.totalItems;\r\n          });\r\n      });\r\n  }\r\n\r\n  getList(submissionType = \"ORIGINAL\") {\r\n    this.currentPage = this.pageNo;\r\n    this.currentPage++;\r\n    if (this.currentPage === 0) this.currentPage++;\r\n\r\n    if (this.viewApplicationType === \"multiple\") {\r\n      this.applicationTypeTitle = \"MULTIPLE\";\r\n      this.getMultipleS1ApplicationList();\r\n    } else if (this.viewApplicationType === \"special\") {\r\n      this.applicationTypeTitle = \"SPECIAL\";\r\n      this.getSpecialS1ApplicationList();\r\n    } else if (this.viewApplicationType === \"assigned-applications\") {\r\n      this.applicationTypeTitle = \"Assigned Applications\";\r\n      this.getAssignAppFormBy();\r\n    } else if (this.viewApplicationType === \"for-release\") {\r\n      this.applicationTypeTitle = \"For Release Applications\";\r\n      this.getForReleaseApplicationList();\r\n    } else if (this.viewApplicationType === \"released\") {\r\n      this.applicationTypeTitle = \"Released Applications\";\r\n      this.getReleasedApplicationList();\r\n    } else {\r\n      this.applicationTypeTitle = \"INDIVIDUAL\";\r\n      let param = submissionType.toUpperCase();\r\n\r\n      if (\r\n        param === SUBMISSION_TYPE.COMPLIANCE &&\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT\r\n      ) {\r\n        param = `&decisionStatus=INCOMPLETE&complianceForm=true`;\r\n      } else if (\r\n        param === SUBMISSION_TYPE.COMPLIANCE &&\r\n        this.currentUser.userRole.name !== USER_ROLES.ROLE_APPLICANT\r\n      ) {\r\n        param = `&complianceForm=true`;\r\n      } else {\r\n        param = `&submissionType=${param}`;\r\n      }\r\n\r\n      let endpoint = `custom/search?page=${this.currentPage}&size=${this.pageSize}${param}`;\r\n\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormPresentor +\r\n          endpoint +\r\n          `&applicationOwnerId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormEncoder +\r\n          endpoint +\r\n          `&assignedUserId=${this.currentUser.id}`;\r\n      } else if (\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n      ) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormAdSpecialist +\r\n          endpoint +\r\n          `&assignedUserId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n        if (submissionType === \"ORIGINAL\")\r\n          endpoint =\r\n            ENDPOINTS.applicationFormScreener +\r\n            endpoint +\r\n            `&assignedScreenerId=${this.currentUser.id}`;\r\n        else if (submissionType === \"SCREENED APPLICATIONS\")\r\n          endpoint =\r\n            ENDPOINTS.applicationForm +\r\n            `/custom/search?assignedScreenerId=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`;\r\n        else if (submissionType === \"REVISION\")\r\n          endpoint = ENDPOINTS.applicationFormScreener + endpoint;\r\n        else if (submissionType === \"COMPLIANCE\")\r\n          endpoint = ENDPOINTS.applicationFormScreener + endpoint;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormReviewer +\r\n          endpoint +\r\n          `&assignedReviewerId=${this.currentUser.id}`;\r\n      } else if (\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n      ) {\r\n        endpoint = ENDPOINTS.applicationFormAdmin + endpoint;\r\n      }\r\n\r\n      this.spinner.show();\r\n      this.apiService.findAll(endpoint).subscribe(\r\n        (res: any) => {\r\n          this.applicationList = res.data;\r\n          this.totalItems = res.totalItems;\r\n          console.log(\"applicationList: \", this.applicationList);\r\n\r\n          this.dataSource = new MatTableDataSource<S1Application>(\r\n            this.applicationList\r\n          );\r\n          // this.dataSource.paginator = this.paginator;\r\n\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        },\r\n        (err) => {\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  getScreenedApps() {}\r\n\r\n  showStatus(stats: any): string {\r\n    if (\r\n      stats.paymentStatus !== PAYMENT_STATUS.PAID &&\r\n      stats.actionStatus === ACTION_STATUS.ASSIGN_TO_PRESENTOR\r\n    )\r\n      return \"ON PROCESS\";\r\n    else return stats.externalStatus.replaceAll(\"_\", \" \").toUpperCase();\r\n  }\r\n\r\n  pageEvents(event: any) {\r\n    this.pageSize = event.pageSize;\r\n\r\n    if (event.pageIndex > this.pageNo) {\r\n      this.pageNo++;\r\n    } else {\r\n      this.pageNo--;\r\n    }\r\n\r\n    if (event.pageSize > event.length) {\r\n      this.pageNo = 0;\r\n    }\r\n\r\n    this.getList(this.displayedContent.toUpperCase());\r\n  }\r\n\r\n  setPageSizeOptions(setPageSizeOptionsInput: string) {\r\n    if (setPageSizeOptionsInput) {\r\n      this.pageSizeOptions = setPageSizeOptionsInput\r\n        .split(\",\")\r\n        .map((str) => +str);\r\n    }\r\n  }\r\n\r\n  getMultipleS1ApplicationList(): void {\r\n    let endpoint = \"\";\r\n    const ascEndpoint = `/custom/search?page=${this.currentPage}&size=${this.pageSize}`;\r\n    let assignedASCUser = \"\";\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      endpoint = ENDPOINTS.multipleApplication + ascEndpoint;\r\n    } else {\r\n      if (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT) {\r\n        assignedASCUser = `&applicationOwnerId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n        assignedASCUser = `&assignedEvaluatorId=${this.currentUser.id}`;\r\n      } else if (\r\n        this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n      ) {\r\n        assignedASCUser = `&assignedAdSpecialistId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n        assignedASCUser = `&assignedScreenerId=${this.currentUser.id}`;\r\n      } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n        assignedASCUser = `&assignedReviewerId=${this.currentUser.id}`;\r\n      }\r\n      endpoint = ENDPOINTS.multipleApplication + ascEndpoint + assignedASCUser;\r\n    }\r\n    console.log(endpoint);\r\n\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.multipleApplicationList = res.data;\r\n        console.log(\"multipleApplicationList: \", res);\r\n        this.multipleTotalItems = res.totalItems;\r\n        this.refreshApplicationBadgeCount();\r\n\r\n        this.multipleApplicationDataSource = new MatTableDataSource<MultipleApplication>(\r\n          this.multipleApplicationList\r\n        );\r\n        this.multipleApplicationDataSource.paginator = this.paginator;\r\n        this.multipleApplicationDataSource.sort = this.sort;\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  getSpecialS1ApplicationList(): void {\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      const obj = {\r\n        statuses: [\"FOR_APPROVAL\", \"APPROVED\", \"DISAPPROVED\"],\r\n      };\r\n\r\n      this.apiService\r\n        .save(\r\n          `${ENDPOINTS.s1SpecialApplicationRequestsAdmin}?page=${this.currentPage}&size=${this.pageSize}`,\r\n          obj\r\n        )\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.specialApplicationList = res.data;\r\n            this.specialTotalItems = res.totalItems;\r\n            console.log(\"specialApplicationList: \", res);\r\n            this.refreshApplicationBadgeCount();\r\n\r\n            this.specialApplicationDataSource = new MatTableDataSource<S1Application>(\r\n              this.specialApplicationList\r\n            );\r\n            this.specialApplicationDataSource.paginator = this.paginator;\r\n            this.specialApplicationDataSource.sort = this.sort;\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          },\r\n          (err) => {\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          }\r\n        );\r\n    } else {\r\n      const obj = {\r\n        applicationOwnerId: this.currentUser.id,\r\n        statuses: [\"FOR_APPROVAL\", \"APPROVED\", \"DISAPPROVED\"],\r\n      };\r\n\r\n      this.apiService\r\n        .save(\r\n          `${ENDPOINTS.s1SpecialApplicationRequests}?page=${this.currentPage}&size=${this.pageSize}`,\r\n          obj\r\n        )\r\n        .subscribe(\r\n          (res: any) => {\r\n            this.specialApplicationList = res.data;\r\n            this.specialTotalItems = res.totalItems;\r\n            console.log(\"specialApplicationList: \", res);\r\n            this.refreshApplicationBadgeCount();\r\n\r\n            this.specialApplicationDataSource = new MatTableDataSource<S1Application>(\r\n              this.specialApplicationList\r\n            );\r\n            this.specialApplicationDataSource.paginator = this.paginator;\r\n            this.specialApplicationDataSource.sort = this.sort;\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          },\r\n          (err) => {\r\n            setTimeout(() => {\r\n              this.spinner.hide();\r\n            }, 1);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  getAssignAppFormBy(): void {\r\n    let endpoint = \"\";\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      endpoint =\r\n        ENDPOINTS.applicationForm +\r\n        `/adspe-retrieve-reassign?assignedAdSpecialist_Id=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`;\r\n    } else {\r\n      endpoint =\r\n        ENDPOINTS.applicationForm +\r\n        `/screener-retrieve-reassign?assignedScreener_Id=${this.currentUser.id}&page=${this.currentPage}&size=${this.pageSize}`;\r\n    }\r\n\r\n    this.spinner.show();\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.assignedApplicationList = res.data;\r\n        this.retrieveReassignLength = res.totalItems;\r\n        this.refreshApplicationBadgeCount();\r\n\r\n        this.assignedApplicationDataSource = new MatTableDataSource<S1Application>(\r\n          this.assignedApplicationList\r\n        );\r\n        this.assignedApplicationDataSource.sort = this.sort;\r\n\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  getForReleaseApplicationList() {\r\n    let endpoint;\r\n    const param = `&page=${this.currentPage}&size=${this.pageSize}`;\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      endpoint =\r\n        ENDPOINTS.getForReleaseApplicationAdSpe +\r\n        `?releaseStatus=FOR_RELEASE&assignedAdSpecialistId=${this.currentUser.id}${param}`;\r\n    } else if (this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER) {\r\n      endpoint =\r\n        ENDPOINTS.getForReleaseApplicationsReviewer +\r\n        `?releaseStatus=FOR_RELEASE&assignedReviewerId=${this.currentUser.id}${param}`;\r\n    } else if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      endpoint =\r\n        ENDPOINTS.getAdminSuperAdminForReleaseApplication +\r\n        `/custom/search?releaseStatus=FOR_RELEASE${param}`;\r\n    }\r\n\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        this.forReleaseApplicationsList = res.data;\r\n        this.forReleaseTotalItems = res.totalItems;\r\n        this.refreshApplicationBadgeCount();\r\n\r\n        console.log(\r\n          \"getForReleaseApplicationList: \",\r\n          this.forReleaseApplicationsList\r\n        );\r\n\r\n        this.forReleaseApplicationDataSource = new MatTableDataSource<S1Application>(\r\n          this.forReleaseApplicationsList\r\n        );\r\n        this.forReleaseApplicationDataSource.paginator = this.paginatorFalse;\r\n        this.forReleaseApplicationDataSource.sort = this.sort;\r\n\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  getReleasedApplicationList() {\r\n    this.apiService\r\n      .findAll(\r\n        ENDPOINTS.getReleaseApplicationsAdSpe +\r\n          `?page=${this.currentPage}&size=${this.pageSize}`\r\n      )\r\n      .subscribe(\r\n        (res: any) => {\r\n          this.forReleaseApplicationsList = res.data;\r\n          console.log(\r\n            \"getReleasedApplicationList: \",\r\n            this.forReleaseApplicationsList\r\n          );\r\n          this.forReleaseTotalItems = res.totalItems;\r\n          this.refreshApplicationBadgeCount();\r\n\r\n          this.forReleaseApplicationDataSource = new MatTableDataSource<S1Application>(\r\n            this.forReleaseApplicationsList\r\n          );\r\n          this.forReleaseApplicationDataSource.paginator = this.paginatorFalse;\r\n          this.forReleaseApplicationDataSource.sort = this.sort;\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        },\r\n        (err) => {\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        }\r\n      );\r\n  }\r\n\r\n  getForDecisionAndComment(displayedContent) {\r\n    let endpoint = \"\";\r\n\r\n    // APPEAL\r\n    if (this.isAdSpecialist) {\r\n      endpoint =\r\n        ENDPOINTS.applicationFormAdSpecialist +\r\n        `custom/search?assignedUserId=${this.currentUser.id}&hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}&submissionType=ORIGINAL`;\r\n    }\r\n    // RETURN TO SCREENER\r\n    else if (this.isScreener) {\r\n      endpoint =\r\n        ENDPOINTS.s1ApplicationForm +\r\n        `screener/assigned-user-id/${this.currentUser.id}/forwarded-for-decision-and-comment`;\r\n    } else if (this.isReviewer) {\r\n      endpoint =\r\n        ENDPOINTS.s1ApplicationForm +\r\n        `reviewer/assigned-user-id/${this.currentUser.id}/forwarded-for-decision-and-comment`;\r\n    } else if (this.isAdmin || this.isSuperAdmin) {\r\n      if (displayedContent === \"For Appeal\") {\r\n        endpoint =\r\n          ENDPOINTS.applicationFormAdmin +\r\n          `custom/search?hasOngoingAppeal=true&page=${this.currentPage}&size=${this.pageSize}`;\r\n      } else {\r\n        endpoint =\r\n          ENDPOINTS.admin + `/s1/for-decision-comment/reviewer-screener`;\r\n      }\r\n    }\r\n    this.spinner.show();\r\n    this.apiService.findAll(endpoint).subscribe(\r\n      (res: any) => {\r\n        if (res) {\r\n          if (res?.data) {\r\n            this.applicationList = res?.data;\r\n          } else {\r\n            this.applicationList = res?.responseData?.data;\r\n          }\r\n          console.log(displayedContent + \": \", this.applicationList);\r\n          this.refreshApplicationBadgeCount();\r\n\r\n          this.dataSource = new MatTableDataSource<S1Application>(\r\n            this.applicationList\r\n          );\r\n          this.dataSource.paginator = this.paginatorFalse;\r\n          this.dataSource.sort = this.sort;\r\n          setTimeout(() => {\r\n            this.spinner.hide();\r\n          }, 1);\r\n        } else {\r\n          this.applicationList = [];\r\n        }\r\n      },\r\n      (err) => {\r\n        setTimeout(() => {\r\n          this.spinner.hide();\r\n        }, 1);\r\n      }\r\n    );\r\n  }\r\n\r\n  public doFilter = (value: string) => {\r\n    this.dataSource.filter = value.trim().toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterS1MultipleApplicationList = (value: string) => {\r\n    this.multipleApplicationDataSource.filter = value\r\n      .trim()\r\n      .toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterSpecialS1ApplicationList = (value: string) => {\r\n    this.specialApplicationDataSource.filter = value.trim().toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterAssignedS1ApplicationList = (value: string) => {\r\n    this.assignedApplicationDataSource.filter = value\r\n      .trim()\r\n      .toLocaleLowerCase();\r\n  };\r\n\r\n  public doFilterForReleaseApplicationList = (value: string) => {\r\n    this.forReleaseApplicationDataSource.filter = value\r\n      .trim()\r\n      .toLocaleLowerCase();\r\n  };\r\n\r\n  viewApplication(data: any): void {\r\n    this.s1Application = data;\r\n    console.log(\"S1 FORM: \", this.s1Application);\r\n    if (\r\n      this.viewApplicationType === \"released\" ||\r\n      this.viewApplicationType === \"for-release\" ||\r\n      this.viewApplicationType === \"assigned-applications\" ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      this.router.navigate([\"asc/page/application/s1/update/\", data.id]);\r\n    } else if (\r\n      data.formStatus === FORM_STATUS.OPEN &&\r\n      this.s1Application.internalStatus !==\r\n        APPLICATION_STATUS.S1_APPLICATION_REJECTED\r\n    ) {\r\n      Swal.fire({\r\n        text:\r\n          \"Are you sure you want to open this application? This application will be LOCKED on your account.\",\r\n        icon: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Confirm\",\r\n      }).then((result) => {\r\n        if (result.value) {\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n            this.s1Application.assignedEncoder = this.currentUser;\r\n          } else if (\r\n            this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST\r\n          ) {\r\n            this.s1Application.assignedAdSpecialist = this.currentUser;\r\n          } else if (\r\n            this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER\r\n          ) {\r\n            this.s1Application.assignedScreener = this.currentUser;\r\n          } else if (\r\n            this.currentUser.userRole.name === USER_ROLES.ROLE_REVIEWER\r\n          ) {\r\n            this.s1Application.assignedReviewer = this.currentUser;\r\n          }\r\n          this.s1Application.currentAssignee = this.currentUser.userRole.name;\r\n\r\n          let endpoint = \"\";\r\n          if (this.currentUser.userRole.name === USER_ROLES.ROLE_ENCODER) {\r\n            endpoint = ENDPOINTS.applicationFormEncoder;\r\n          } else {\r\n            endpoint = ENDPOINTS.applicationFormAdSpecialist;\r\n          }\r\n\r\n          this.apiService\r\n            .save(endpoint + ENDPOINTS.takeApplication, this.s1Application)\r\n            .subscribe(\r\n              (res: any) => {\r\n                this.sweetAlertService.customSuccessMessage(\r\n                  \"Application successfully assigned to you.\",\r\n                  3\r\n                );\r\n                this.router.navigate([\r\n                  \"asc/page/application/s1/update/\",\r\n                  data.id,\r\n                ]);\r\n                this.refreshApplicationBadgeCount();\r\n              },\r\n              (err: any) => {\r\n                console.log(\"error deep\");\r\n                let lockedBy = \"\";\r\n                if (this.s1Application.assignedUser) {\r\n                  lockedBy = ` by ${this.s1Application.assignedUser.firstName} ${this.s1Application.assignedUser.lastName} `;\r\n                }\r\n\r\n                err.error.message = `Application has been locked${lockedBy} for processing. Kindly select another application to process.`;\r\n                this.sweetAlertService.error(err, 5);\r\n                // location.reload();\r\n              }\r\n            );\r\n        }\r\n      });\r\n    } else {\r\n      if (this.s1Application.assignedUser) {\r\n        if (\r\n          this.s1Application.assignedUser.username === this.currentUser.username\r\n        ) {\r\n          this.router.navigate([\"asc/page/application/s1/update/\", data.id]);\r\n          this.refreshApplicationBadgeCount();\r\n        } else {\r\n          console.log(\"error out\");\r\n          let lockedBy = \"\";\r\n          if (this.s1Application.assignedUser) {\r\n            lockedBy = ` by ${this.s1Application.assignedUser.firstName} ${this.s1Application.assignedUser.lastName} `;\r\n          }\r\n          this.sweetAlertService.customErrorMessage(\r\n            `Application has been locked${lockedBy} for processing.Kindly select another application to process.`,\r\n            5\r\n          );\r\n          this.refreshApplicationBadgeCount();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  viewMultipleApplication(data: any): void {\r\n    this.multipleS1Application = data;\r\n    console.log(\"multipleS1Application: \", this.multipleS1Application);\r\n\r\n    let dialogRef;\r\n\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN\r\n    ) {\r\n      dialogRef = this.dialog.open(UpdateMultipleApplicationComponent, {\r\n        width: \"80%\",\r\n        height: \"85%\",\r\n        data: this.multipleS1Application,\r\n      });\r\n    } else {\r\n      dialogRef = this.dialog.open(UpdateMultipleApplicationComponent, {\r\n        width: \"80%\",\r\n        height: \"85%\",\r\n        data: this.multipleS1Application,\r\n      });\r\n    }\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result) {\r\n        this.getMultipleS1ApplicationList();\r\n      }\r\n    });\r\n  }\r\n\r\n  viewSpecialApplication(data: any): void {\r\n    this.applicationRequest = data;\r\n    this.s1Application = new S1Application();\r\n    this.s1Application.adTitle = data.adTitle;\r\n    this.s1Application.applicationOwner = data.applicationOwner;\r\n    this.s1Application.applicationType = data.applicationType;\r\n    this.s1Application.brand = data.brand;\r\n    this.s1Application.product = data.product;\r\n    // this.s1Application.category = data.category;\r\n    this.s1Application.company = data.company;\r\n    // this.s1Application.membersAffiliation = data.membersAffiliation;\r\n    this.s1Application.submissionDate = data.submissionDate;\r\n    this.s1Application.tagLine = data.tagLine;\r\n    this.s1Application.status = data.status;\r\n    this.s1Application.submissionType = SUBMISSION_TYPE.ORIGINAL;\r\n    this.s1Application.appFormReference = \"\";\r\n    this.s1Application.formType = data.formType;\r\n    this.s1Application.applicationRequest = data;\r\n    this.s1Application.id = 0;\r\n\r\n    let dialogRef;\r\n    if (\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_ADMIN ||\r\n      this.currentUser.userRole.name === USER_ROLES.ROLE_SUPER_ADMIN ||\r\n      (this.currentUser.userRole.name === USER_ROLES.ROLE_APPLICANT &&\r\n        this.applicationRequest.status === \"FOR_APPROVAL\")\r\n    ) {\r\n      dialogRef = this.dialog.open(UpdateSpecialApplicationComponent, {\r\n        width: \"80%\",\r\n        height: \"85%\",\r\n        data: this.applicationRequest,\r\n      });\r\n    } else {\r\n      this.dataStorage.setS1Application(this.s1Application);\r\n      this.dataStorage.setSpecialS1Application(this.applicationRequest);\r\n      this.router.navigate([\"asc/page/application/s1/add\"]);\r\n      // dialogRef = this.dialog.open(UpdateSpecialApplicationComponent, {\r\n      //   width: '80%',\r\n      //   height: '85%',\r\n      //   data: this.applicationRequest\r\n      // });\r\n    }\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result) {\r\n        this.getSpecialS1ApplicationList();\r\n      }\r\n    });\r\n  }\r\n\r\n  getCompanyById(id): Promise<any> {\r\n    // updates company details in data storage\r\n    const promise = new Promise((resolve, reject) => {\r\n      this.apiService.findById(ENDPOINTS.company, id).subscribe(\r\n        (res: any) => {\r\n          if (res) {\r\n            this.currentUser.company = res.responseData.data;\r\n            this.dataStorage.saveUserAccount(this.currentUser);\r\n            resolve(this.currentUser);\r\n          }\r\n        },\r\n        (err) => {\r\n          reject(err);\r\n        }\r\n      );\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  openFormTypeModal() {\r\n    this.getCompanyById(this.currentUser.company.id).then((res) => {\r\n      if (res.company.membersAffiliation.status === \"INACTIVE\") {\r\n        this.sweetAlertService.customErrorMessage(\r\n          `Your Company's membership affiliation is no longer active. Cannot proceed with new application. Please contact ASC admin`\r\n        );\r\n      } else {\r\n        const dialogRef = this.dialog.open(S1FormTypeComponent, {\r\n          // width: '30%',\r\n          // height: '25%',\r\n        });\r\n\r\n        dialogRef.afterClosed().subscribe((result) => {\r\n          if (result) {\r\n            console.log(result);\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  applyForS2(data) {\r\n    let typeOfExecution;\r\n    if (data.refTypeOfMedium === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n      this.apiService\r\n        .findByParam(\r\n          ENDPOINTS.applicationSingleMedia,\r\n          `app-form-reference/${data.appFormReference}`\r\n        )\r\n        .subscribe(\r\n          (res: any) => {\r\n            if (res.responseData.data.length > 0) {\r\n              typeOfExecution =\r\n                res.responseData.data[0].mediumExecution.typeOfExecution;\r\n              data.typeOfExecution = typeOfExecution;\r\n              const dialogRef = this.dialog.open(ListS1Dialog, {\r\n                data: {\r\n                  s2Application: data,\r\n                },\r\n              });\r\n            }\r\n          },\r\n          (err: any) => {}\r\n        );\r\n    } else {\r\n      const dialogRef = this.dialog.open(ListS1Dialog, {\r\n        data: {\r\n          s2Application: data,\r\n        },\r\n      });\r\n    }\r\n  }\r\n\r\n  returnTo(process, s1App): void {\r\n    this.s1Application = s1App;\r\n    Swal.fire({\r\n      text: \"Are you sure you want to \" + process + \" this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.actionBy = this.currentUser;\r\n\r\n        if (this.currentUser.userRole.name === USER_ROLES.ROLE_SCREENER) {\r\n          this.s1Application.currentAssignee = USER_ROLES.ROLE_AD_SPECIALIST;\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToAdSpe}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormScreener}return`;\r\n          }\r\n        } else {\r\n          if (\r\n            this.s1Application.multipleApplication &&\r\n            this.s1Application.submissionType === SUBMISSION_TYPE.ORIGINAL\r\n          ) {\r\n            endpoint = `${ENDPOINTS.multipleApplicationReturnToScreener}${this.s1Application.multipleApplication.id}/return`;\r\n          } else {\r\n            endpoint = `${ENDPOINTS.applicationFormReviewer}return`;\r\n          }\r\n        }\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.save(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            // console.log('RETURN: ', res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.getList();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully returned the application\"\r\n              );\r\n              this.refreshApplicationBadgeCount();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  saveStatus(ascUser = \"\", action = \"\", status = \"\", application: any) {\r\n    let fetchedData;\r\n    this.apiService\r\n      .findAll(`${ENDPOINTS.applicationForm}/id/${application.id}`)\r\n      .subscribe((validateApp) => {\r\n        console.log(\"validate => \", validateApp);\r\n        fetchedData = validateApp.responseData.data;\r\n      });\r\n    Swal.fire({\r\n      text: \"Are you sure you want to cancel this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        if (\r\n          fetchedData.assignedUser &&\r\n          fetchedData.formStatus === FORM_STATUS.LOCKED\r\n        ) {\r\n          this.sweetAlertService.customErrorMessage(\r\n            \"This form is already in process\"\r\n          );\r\n          return;\r\n        }\r\n        this.apiService\r\n          .update(\r\n            `${ENDPOINTS.applicationForm}/s1/${ascUser}/${action}`,\r\n            application\r\n          )\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(\"SAVED STATUS: \", res.responseData.data);\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Application successfully canceled.\"\r\n              );\r\n              this.getList();\r\n              this.refreshApplicationBadgeCount();\r\n              // this.router.navigate(['asc/page/application/s1/lists']);\r\n            },\r\n            (err) => {\r\n              console.log(err);\r\n              this.sweetAlertService.error(err);\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            },\r\n            () => {\r\n              this.dataStorage.setDisplayProgressbar(false);\r\n            }\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  changeTab(evt) {\r\n    console.log(\"tab ---  \", evt);\r\n    if (evt.tab.textLabel !== \"For Decision and Comments\") {\r\n      this.getListCounts();\r\n    }\r\n    if (evt.tab) {\r\n      this.displayedContent = evt.tab.textLabel;\r\n      if (\r\n        this.displayedContent === \"For Decision and Comments\" ||\r\n        this.displayedContent === \"For Appeal\"\r\n      ) {\r\n        this.getForDecisionAndComment(this.displayedContent);\r\n      } else if (this.displayedContent === \"Returned Application\") {\r\n        console.log(\"returneeed\");\r\n        const userType = this.isAdSpecialist ? \"adSpeId\" : \"screenerId\";\r\n        this.spinner.show();\r\n        this.apiService\r\n          .findAll(\r\n            `${\r\n              this.isAdSpecialist\r\n                ? ENDPOINTS.getAllAdSpeReturnedApps\r\n                : ENDPOINTS.getAllScreenerReturnedApps\r\n            }/?&${userType}=${this.currentUser.id}&page=${\r\n              this.currentPage - 1\r\n            }&size=${this.pageSize}`\r\n          )\r\n          .subscribe(\r\n            (respose) => {\r\n              this.applicationList = respose.data;\r\n              this.totalItems = respose.totalItems;\r\n              console.log(\"applicationList: \", this.applicationList);\r\n\r\n              this.dataSource = new MatTableDataSource<S1Application>(\r\n                this.applicationList\r\n              );\r\n              this.dataSource.paginator = this.paginator;\r\n              this.assignedApplicationDisplayedColumns.splice(\r\n                this.assignedApplicationDisplayedColumns.indexOf(\"icon\"),\r\n                1\r\n              );\r\n              setTimeout(() => {\r\n                this.spinner.hide();\r\n              }, 1);\r\n            },\r\n            (err) => {\r\n              setTimeout(() => {\r\n                this.spinner.hide();\r\n              }, 1);\r\n            }\r\n          );\r\n      } else if (this.displayedContent === \"Screened Applications\") {\r\n        this.getList(this.displayedContent.toUpperCase());\r\n      } else {\r\n        this.getList(this.displayedContent.toUpperCase());\r\n      }\r\n    }\r\n  }\r\n\r\n  sortEvent() {\r\n    this.click++;\r\n    if (this.click % 2 === 0) {\r\n      console.log(\"even\", this.click);\r\n      this.dataSource = new MatTableDataSource<S1Application>(\r\n        this.applicationList\r\n      );\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.sort((a, b) => a.id - b.id);\r\n    } else {\r\n      console.log(\"odd\", this.click);\r\n      this.dataSource = new MatTableDataSource<S1Application>(\r\n        this.applicationList\r\n      );\r\n      this.dataSource.paginator = this.paginator;\r\n      return this.dataSource.data.reverse();\r\n    }\r\n    // this.dataSource.data.sort(() => Math.random() - 0.5)\r\n  }\r\n\r\n  unlockApplication(process, s1App): void {\r\n    this.s1Application = s1App;\r\n    Swal.fire({\r\n      text: \"Are you sure you want to \" + process + \" this application?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.spinner.show();\r\n        let endpoint = \"\";\r\n        this.s1Application.actionBy = this.currentUser;\r\n        this.s1Application.formStatus = FORM_STATUS.OPEN;\r\n\r\n        endpoint = ENDPOINTS.applicationForm;\r\n\r\n        // console.log('TO SAVE: ', this.s1Application);\r\n        this.apiService.update(endpoint, this.s1Application).subscribe(\r\n          (res: any) => {\r\n            // console.log('RETURN: ', res.responseData.data);\r\n            if (res.code === 200) {\r\n              this.spinner.hide();\r\n              this.getList();\r\n              this.sweetAlertService.customSuccessMessage(\r\n                \"Successfully unlocked the application\"\r\n              );\r\n              this.refreshApplicationBadgeCount();\r\n            }\r\n          },\r\n          (err: any) => {\r\n            this.spinner.hide();\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.commonService.sendClickEvent();\r\n    this.startTimer();\r\n  }\r\n\r\n  startTimer() {\r\n    this.interval = setInterval(() => {\r\n      this.timeLeft--;\r\n      if (this.timeLeft > 0) {\r\n        this.refreshButtonEnabled = false;\r\n        this.isTimerValueDisplay = true;\r\n      } else {\r\n        this.refreshButtonEnabled = true;\r\n        this.isTimerValueDisplay = false;\r\n        this.timeLeft = 60;\r\n        clearInterval(this.interval);\r\n      }\r\n      this.timerDisplay = this.transform(this.timeLeft);\r\n    }, 1000);\r\n  }\r\n\r\n  transform(value: number): string {\r\n    const minutes: number = Math.floor(value / 60);\r\n    return minutes + \":\" + (value - minutes * 60);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: \"list-s1-dialog\",\r\n  templateUrl: \"list-s1-dialog.html\",\r\n  styleUrls: [\"./list-s1-application.component.scss\"],\r\n})\r\nexport class ListS1Dialog implements OnInit {\r\n  s2Application = new S2Application();\r\n  s1Application = new S1Application();\r\n  applicationRequest = new ApplicationRequest();\r\n  typeOfExecution = new TypeOfExecution();\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n    private dataStorage: DataStorageService,\r\n    public dialog: MatDialog,\r\n    public dialogRef: MatDialogRef<ListS1ApplicationComponent>,\r\n    private commonService: CommonServices,\r\n    @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.typeOfExecution = this.data.s2Application.typeOfExecution;\r\n    this.s2Application.applicationForm = this.data.s2Application;\r\n    this.s1Application = this.data.s2Application;\r\n  }\r\n\r\n  // Used for S2 or TOA\r\n  proceedToS2(isS2) {\r\n    Swal.fire({\r\n      text: `Are you sure you want to apply for ${isS2 ? \"S2\" : \"TOA\"}?`,\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.s2Application.submissionType = this.data.s2Application.submissionType;\r\n        this.s2Application.applicationForm = this.data.s2Application;\r\n        this.s2Application.submissionType = SUBMISSION_TYPE.ORIGINAL; // this.s2Application.applicationForm.submissionType;\r\n        if (!isS2) {\r\n          this.s2Application.hasToa = true;\r\n          // this.s2Application.submissionType = SUBMISSION_TYPE.TOA;\r\n        }\r\n        this.s2Application.internalStatus = \"SAVED\";\r\n        this.s2Application.externalStatus = \"SAVED\";\r\n        console.log(\"View S2:\", this.data.s2Application);\r\n        this.apiService\r\n          .save(ENDPOINTS.s2ApplicationFormPresentorSave, {\r\n            applicationForm: this.s2Application.applicationForm,\r\n          })\r\n          .subscribe(\r\n            (res: any) => {\r\n              console.log(res);\r\n              this.router.navigate([\r\n                \"asc/page/application/s2/update\",\r\n                res.responseData.data.id,\r\n              ]);\r\n              this.commonService.sendClickEvent();\r\n              this.dialogRef.close();\r\n            },\r\n            (err: any) => {}\r\n          );\r\n      }\r\n    });\r\n  }\r\n\r\n  requestForClearingAndClearance(): void {\r\n    Swal.fire({\r\n      text: \"Are you sure you want to request approval for special clearing?\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirm\",\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dialogRef.close();\r\n        let dialogRef;\r\n        this.applicationRequest.hasSpecialClearing = true;\r\n        this.applicationRequest.applicationForm = this.s1Application;\r\n        dialogRef = this.dialog.open(RequestForSpecialClearingComponent, {\r\n          width: \"80%\",\r\n          height: \"85%\",\r\n          data: {\r\n            applicationRequest: this.applicationRequest,\r\n            applicationType: \"Request for Special Clearing\",\r\n          },\r\n        });\r\n        this.commonService.sendClickEvent();\r\n      }\r\n    });\r\n  }\r\n}\r\n","<form (keydown.enter)=\"$event.preventDefault()\">\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <i class=\"material-icons icon-black\">view_list</i>\r\n          <span\r\n            [hidden]=\"\r\n              viewApplicationType === 'assigned-applications' ||\r\n              viewApplicationType === 'for-release' ||\r\n              viewApplicationType === 'released'\r\n            \"\r\n          >\r\n            {{ s1ApplicationTitle }} -</span\r\n          >\r\n          &nbsp;<span>{{\r\n            applicationTypeTitle?.replace(\"Assigned\", \"Retrieve/Re-assign\")\r\n              | uppercase\r\n          }}</span>\r\n        </mat-label>\r\n        <button\r\n          class=\"button-right\"\r\n          type=\"submit\"\r\n          mat-raised-button\r\n          color=\"primary\"\r\n          (click)=\"refresh()\"\r\n          [disabled]=\"!refreshButtonEnabled\"\r\n        >\r\n          <span class=\"material-icons\">sync</span>\r\n          <label *ngIf=\"isTimerValueDisplay\"> &nbsp;{{ timerDisplay }}</label>\r\n        </button>\r\n        <button\r\n          class=\"button-right button-red\"\r\n          type=\"submit\"\r\n          mat-raised-button\r\n          *ngIf=\"\r\n            currentUser?.userRole?.name == 'ROLE_APPLICANT' ||\r\n            currentUser?.userRole?.name == 'ROLE_ENCODER'\r\n          \"\r\n          [hidden]=\"viewApplicationType === 'multiple'\"\r\n          (click)=\"openFormTypeModal()\"\r\n        >\r\n          <i class=\"material-icons color__white\">add</i> NEW APPLICATION\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <hr />\r\n    <!-- ADMIN - INCLUDES LIST FOR MULTIPLE APPLICATIONS -->\r\n    <!-- TEMP: SHOW multiple application tab for all roles -->\r\n    <!-- <mat-tab-group>\r\n      <mat-tab  >\r\n        <ng-container *ngTemplateOutlet=\"individualS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n      <mat-tab>\r\n        <ng-container *ngTemplateOutlet=\"multipleS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n      <mat-tab >\r\n        <ng-container *ngTemplateOutlet=\"specialS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n      <mat-tab  >\r\n        <ng-container *ngTemplateOutlet=\"assignedToScreenerS1ApplicationList\"></ng-container>\r\n      </mat-tab>\r\n    </mat-tab-group> -->\r\n\r\n    <div *ngIf=\"applicationTypeTitle === 'INDIVIDUAL'\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"individualS1ApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n    <div *ngIf=\"viewApplicationType === 'multiple'\">\r\n      <ng-container\r\n        *ngTemplateOutlet=\"multipleS1ApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"\r\n        (currentUser.userRole.name === 'ROLE_APPLICANT' ||\r\n          currentUser.userRole.name === 'ROLE_ENCODER' ||\r\n          currentUser.userRole.name === 'ROLE_ADMIN' ||\r\n          currentUser?.userRole.name === 'ROLE_SUPER_ADMIN') &&\r\n        viewApplicationType === 'special'\r\n      \"\r\n    >\r\n      <ng-container *ngTemplateOutlet=\"specialS1ApplicationList\"></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"\r\n        currentUser.userRole.name == 'ROLE_AD_SPECIALIST' ||\r\n        currentUser.userRole.name == 'ROLE_SCREENER'\r\n      \"\r\n    >\r\n      <ng-container\r\n        *ngTemplateOutlet=\"assignedToScreenerS1ApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n    <div\r\n      *ngIf=\"\r\n        currentUser.userRole.name == 'ROLE_AD_SPECIALIST' ||\r\n        currentUser.userRole.name == 'ROLE_REVIEWER' ||\r\n        currentUser.userRole.name === 'ROLE_ADMIN' ||\r\n        currentUser?.userRole.name === 'ROLE_SUPER_ADMIN'\r\n      \"\r\n    >\r\n      <ng-container\r\n        *ngTemplateOutlet=\"forReleaseApplicationList\"\r\n      ></ng-container>\r\n    </div>\r\n\r\n    <!-- OTHER USERS - DISPLAY ONLY S1 APPLICATIONS -->\r\n    <!-- <ng-container *ngIf=\"!showMultipleS1Application\">\r\n      <ng-container *ngTemplateOutlet=\"individualS1ApplicationList\"></ng-container>\r\n    </ng-container> -->\r\n  </div>\r\n</form>\r\n\r\n<!-- TEMPLATE FOR INDIVIDUAL S1 APPLICATION LIST -->\r\n<ng-template #individualS1ApplicationList>\r\n  <br />\r\n  <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n    <mat-form-field class=\"col-md-9\" appearance=\"outline\">\r\n      <mat-label\r\n        ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n      >\r\n      <input matInput type=\"text\" (keyup)=\"doFilter($event.target.value)\" />\r\n      <input type=\"hidden\" />\r\n    </mat-form-field>\r\n\r\n    <!-- <div class=\"row\">\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-blue\">ORIGINAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">REVISION</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR COMPLIANCE</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n\r\n    <div class=\"col\" *ngIf=\"currentUser.userRole.name === 'ROLE_AD_SPECIALIST'\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>LEGEND:</td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-yellow\"></div>\r\n              LOCKED\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-white\"></div>\r\n              OPEN\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-blue\"></div>\r\n              ORIGINAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR COMPLIANCE\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              REVISION\r\n            </td>\r\n          </tr>\r\n          <!--     <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div> FOR COMPLIANCE\r\n            </td>\r\n          </tr> -->\r\n        </table>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col\" *ngIf=\"currentUser.userRole.name != 'ROLE_AD_SPECIALIST'\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>LEGEND:</td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-blue\"></div>\r\n              ORIGINAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR COMPLIANCE\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              REVISION\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <br />\r\n  <!--\r\n  <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n    <mat-tab label=\"\">\r\n      <ng-template mat-tab-label>\r\n        Original\r\n        <div matBadge={{dataSource?.data?.length}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"\">\r\n      <ng-template mat-tab-label>\r\n        Revision\r\n        <div matBadge={{dataSource?.data?.length}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"\">\r\n      <ng-template mat-tab-label>\r\n        Compliance\r\n        <div matBadge={{dataSource?.data?.length}} class=\"c-badge\" matBadgeColor=\"warn\"></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n  </mat-tab-group> -->\r\n  <mat-tab-group mat-align-tabs=\"start\" (selectedTabChange)=\"changeTab($event)\">\r\n    <mat-tab label=\"Original\">\r\n      <ng-template mat-tab-label>\r\n        Original\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countOriginal }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"Revision\" *ngIf=\"!isReviewer\">\r\n      <ng-template mat-tab-label>\r\n        Revision\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countRevision }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"Compliance\" *ngIf=\"!isReviewer\">\r\n      <ng-template mat-tab-label>\r\n        Compliance\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countCompliance }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab\r\n      label=\"For Appeal\"\r\n      *ngIf=\"isAdSpecialist || isAdmin || isSuperAdmin\"\r\n    >\r\n      <ng-template mat-tab-label>\r\n        Released Appeal\r\n        <div\r\n          matBadge=\"{{ badgeCounter.countTotalOngoingAppeal }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab label=\"Returned Application\" *ngIf=\"isAdSpecialist || isScreener\">\r\n      <ng-template mat-tab-label>\r\n        Returned Application\r\n        <div\r\n          matBadge=\"{{ badgeCounter.returnedApplications }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n    <mat-tab\r\n      label=\"For Decision and Comments\"\r\n      *ngIf=\"isScreener || isReviewer || isAdmin || isSuperAdmin\"\r\n    >\r\n      <ng-template mat-tab-label>\r\n        For Decision and Comments\r\n        <div\r\n          matBadge=\"{{\r\n            badgeCounter.countTotalScreenerAndReviewerDecisionComment\r\n          }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n\r\n    <mat-tab\r\n      label=\"Screened Applications\"\r\n      *ngIf=\"isScreener || isReviewer || isAdmin || isSuperAdmin\"\r\n    >\r\n      <ng-template mat-tab-label>\r\n        Screened Applications\r\n        <div\r\n          matBadge=\"{{ badgeCounter.screenedApplications }}\"\r\n          class=\"c-badge\"\r\n          matBadgeColor=\"warn\"\r\n        ></div>\r\n      </ng-template>\r\n    </mat-tab>\r\n  </mat-tab-group>\r\n\r\n  <div class=\"mat-elevation-z8 fields\">\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n      <ng-container matColumnDef=\"referenceCode\">\r\n        <th mat-header-cell *matHeaderCellDef>\r\n          REFERENCE CODE\r\n          <mat-icon\r\n            class=\"cursor\"\r\n            (click)=\"sortEvent()\"\r\n            style=\"color: black\"\r\n            [hidden]=\"currentUser.userRole.name === 'ROLE_ENCODER'\"\r\n            >swap_vert</mat-icon\r\n          >\r\n        </th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : (element.submissionType === 'ORIGINAL' &&\r\n                    element.decisionStatus !== 'INCOMPLETE') ||\r\n                  element.decisionStatus === 'INCOMPLETE'\r\n                ? 'lightblue'\r\n                : element.submissionType === 'FOR COMPLIANCE'\r\n                ? '#fca402'\r\n                : element.submissionType === 'REVISION'\r\n                ? '#8fcf8f'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{\r\n            element?.submissionType === \"ORIGINAL\" &&\r\n            element?.internalStatus == \"S1_APPLICATION_REJECTED\"\r\n              ? element?.referenceCodeRejected\r\n              : (element?.referenceCode | uppercase)\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"typeOfApplication\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.formType.replaceAll(\"_\", \" \") | uppercase }} -\r\n          {{ element?.applicationType?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"companyName\">\r\n        <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.company?.companyName | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"brand\">\r\n        <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.brand?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"product\">\r\n        <th mat-header-cell *matHeaderCellDef>PRODUCT</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.product?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"typeOfMedium\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF MEDIUM</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{ element?.typeOfMedium | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"status\">\r\n        <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          class=\"\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : element?.internalStatus === 'S1_APPLICATION_REJECTED' ||\r\n                  element?.internalStatus === 'S1_APPLICATION_CANCELLED'\r\n                ? 'lightpink'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{\r\n            showStatus({\r\n              paymentStatus: element?.paymentStatus,\r\n              externalStatus: element?.externalStatus,\r\n              actionStatus: element?.actionStatus\r\n            })\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-continer matColumnDef=\"paymentStatus\">\r\n        <th mat-header-cell *matHeaderCellDef>PAYMENT STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          (click)=\"viewApplication(element)\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          <div\r\n            class=\"payment-status-chip\"\r\n            [ngClass]=\"{\r\n              'payment-status-chip--paid':\r\n                element?.paymentStatus === paymentStatus.PAID,\r\n              'payment-status-chip--unpaid':\r\n                element?.paymentStatus === paymentStatus.UNPAID,\r\n              'payment-status-chip--for-approval':\r\n                element?.paymentStatus === paymentStatus.FOR_APPROVAL,\r\n              'payment-status-chip--for-payment':\r\n                element?.paymentStatus === paymentStatus.FOR_PAYMENT\r\n            }\"\r\n          >\r\n            {{ formatTextPayment(element?.paymentStatus) }}\r\n          </div>\r\n        </td>\r\n      </ng-continer>\r\n\r\n      <ng-container matColumnDef=\"internalStatus\">\r\n        <th mat-header-cell *matHeaderCellDef>INTERNAL STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element; let i = index\"\r\n          class=\"\"\r\n          [ngStyle]=\"{\r\n            'pointer-events':\r\n              i !== 0 && currentUser.userRole.name === 'ROLE_ENCODER'\r\n                ? 'none'\r\n                : '',\r\n            'background-color':\r\n              currentUser.userRole.name === 'ROLE_ENCODER' && i > 0\r\n                ? '#beb8b8'\r\n                : currentUser.userRole.name === 'ROLE_AD_SPECIALIST' &&\r\n                  element?.formStatus === 'LOCKED'\r\n                ? 'yellow'\r\n                : ''\r\n          }\"\r\n        >\r\n          {{\r\n            parseInternalStatus(\r\n              element?.internalStatus,\r\n              element?.actionBy,\r\n              element\r\n            )\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <!-- For ASC Users only 'background-color': ((currentUser.userRole.name === 'ROLE_AD_SPECIALIST' && i > 0 && element?.formStatus==='LOCKED' ? 'yellow' : ''))-->\r\n      <!-- <ng-container matColumnDef=\"status\" *ngIf=\"currentUser.userRole.name!='ROLE_APPLICANT'\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> APPLICATION STATUS </th>\r\n        <td mat-cell *matCellDef=\"let element; let i = index\" class=\"applicantStatus\"\r\n          [ngStyle]=\"{'background-color':\r\n          ((element.submissionType=='ORIGINAL'&&element.decisionStatus!='INCOMPLETE') ? 'lightblue' :\r\n          ((element.submissionType=='FOR COMPLIANCE'||element.decisionStatus=='INCOMPLETE'||element.submissionType=='COMPLIANCE') ? '#ebd79b' :\r\n          (element.submissionType=='REVISION' ? '#8fcf8f' : '' )))}\"\r\n          (click)=\"viewApplication(element)\"> {{\r\n          element?.internalStatus?.replaceAll('_',' ') | uppercase }}</td>\r\n      </ng-container> -->\r\n\r\n      <ng-container matColumnDef=\"icon\">\r\n        <th mat-header-cell *matHeaderCellDef></th>\r\n        <td mat-cell *matCellDef=\"let element\" class=\"icon\">\r\n          <!-- FOR APPLICANT -------------------------------------------------- -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Cancel Application\"\r\n            [disabled]=\"element.formStatus === 'LOCKED'\"\r\n            (click)=\"\r\n              saveStatus(\r\n                'presentor',\r\n                'cancel',\r\n                'S1_APPLICATION_CANCELLED',\r\n                element\r\n              )\r\n            \"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              element?.internalStatus == 'S1_APPLICATION_SUBMITTED'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">cancel</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Submit For Compliance\"\r\n            (click)=\"viewApplication(element)\"\r\n            *ngIf=\"\r\n              !element?.appliedS2 &&\r\n              !element?.hasOngoingCompliance &&\r\n              !element?.hasOngoingRevision &&\r\n              element?.decisionStatus == 'INCOMPLETE' &&\r\n              !s1Application?.hasOngoingAppeal &&\r\n              element?.paymentStatus === 'PAID' &&\r\n              element?.releaseStatus === 'RELEASED' &&\r\n              (element?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n                element?.internalStatus ==\r\n                  'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                element?.internalStatus == 'REVISION_SCREENED' ||\r\n                element?.internalStatus == 'S1_APPLICATION_REJECTED')\r\n            \"\r\n          >\r\n            <i class=\"material-icons\">warning_amber</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Submit Revision\"\r\n            (click)=\"viewApplication(element)\"\r\n            *ngIf=\"\r\n              element?.revisionNo !== 2 &&\r\n              currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              !element?.appliedS2 &&\r\n              element?.paymentStatus === 'PAID' &&\r\n              element?.releaseStatus === 'RELEASED' &&\r\n              !element?.hasOngoingCompliance &&\r\n              !element?.hasOngoingRevision &&\r\n              element?.submissionType === 'ORIGINAL' &&\r\n              !s1Application?.hasOngoingAppeal &&\r\n              (element?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n                element?.internalStatus ==\r\n                  'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER') &&\r\n                (element?.decisionStatus == 'APPROVED' ||\r\n                  element?.decisionStatus == 'APPROVED W/ CAUTION')\r\n            \"\r\n          >\r\n            <i class=\"material-icons\">task_alt</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Apply for S2 Application\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n              !element?.appliedS2 &&\r\n              !element?.hasOngoingRevision &&\r\n              !element?.hasOngoingCompliance &&\r\n              element?.paymentStatus === 'PAID' &&\r\n              element?.releaseStatus === 'RELEASED' &&\r\n              !s1Application?.hasOngoingAppeal &&\r\n              (element?.internalStatus == 'S1_APPLICATION_REVIEWED' ||\r\n                element?.internalStatus ==\r\n                  'COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER' ||\r\n                element?.internalStatus == 'REVISION_SCREENED') &&\r\n                (element?.decisionStatus == 'APPROVED' ||\r\n                  element?.decisionStatus == 'APPROVED W/ CAUTION')\r\n            \"\r\n            (click)=\"applyForS2(element)\"\r\n          >\r\n            <i class=\"material-icons color__white\"> queue_play_next</i>\r\n          </button>\r\n\r\n          <!-- FOR ASC USERS -------------------------------------------------- -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Ad Specialist\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n              element?.internalStatus == 'S1_APPLICATION_VERIFIED_BY_AD_SPE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Ad Specialist\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n              element?.internalStatus ==\r\n                'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Ad Specialist\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n              element?.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Return to Screener\"\r\n            (click)=\"returnTo('RETURN', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_REVIEWER' &&\r\n              element.internalStatus == 'S1_APPLICATION_SCREENED'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">assignment_return</i>\r\n          </button>\r\n\r\n          <!-- FOR ADSPECIALIST USERS -------------------------------------------------- -->\r\n          <button\r\n            mat-raised-button\r\n            class=\"button-red\"\r\n            matTooltip=\"Unlock\"\r\n            (click)=\"unlockApplication('UNLOCK', element)\"\r\n            *ngIf=\"\r\n              currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n              element.formStatus == 'LOCKED' &&\r\n              displayedContent !== 'Returned Application'\r\n            \"\r\n          >\r\n            <i class=\"material-icons color__white\">lock</i>\r\n          </button>\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\r\n    </table>\r\n    <div\r\n      class=\"no-record\"\r\n      [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n    >\r\n      No record found.\r\n    </div>\r\n    <!-- <div style=\"float:right\"\r\n      *ngIf=\"currentUser?.userRole?.name!=='ROLE_ADMIN'&&currentUser?.userRole?.name!=='ROLE_SUPER_ADMIN'\">\r\n      <button mat-stroked-button color=\"primary\">Total Items: {{totalItems}}</button>\r\n      <button mat-stroked-button color=\"primary\">{{currentPage}} of {{totalPages==0 ? '1' : totalPages}}</button>\r\n      <button mat-stroked-button color=\"warn\" (click)=\"prevPage()\"\r\n        [disabled]=\"dataSource && dataSource?.data?.length === 0\">\r\n        < Prev</button> <button mat-stroked-button color=\"warn\" (click)=\"nextPage()\"\r\n          [disabled]=\"dataSource && dataSource?.data?.length === 0\">Next >\r\n      </button>\r\n    </div> -->\r\n    <!-- <mat-paginator [length]=\"resultsLength\"></mat-paginator> -->\r\n    <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons> -->\r\n    <!-- </mat-paginator> -->\r\n    <mat-paginator\r\n      [pageSize]=\"pageSize\"\r\n      [pageIndex]=\"pageNo\"\r\n      [length]=\"totalItems\"\r\n      [pageSizeOptions]=\"pageSizeOptions\"\r\n      (page)=\"pageEvents($event)\"\r\n    >\r\n    </mat-paginator>\r\n  </div>\r\n  <br />\r\n</ng-template>\r\n\r\n<!-- TEMPLATE FOR MULTIPLE S1 APPLICATION LIST -->\r\n<ng-template #multipleS1ApplicationList>\r\n  <br />\r\n  <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n    <mat-form-field class=\"col-md-9\" appearance=\"outline\">\r\n      <mat-label\r\n        ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n      >\r\n      <input\r\n        matInput\r\n        type=\"text\"\r\n        (keyup)=\"doFilterS1MultipleApplicationList($event.target.value)\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <div class=\"col\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR APPROVAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              APPROVED\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-red\"></div>\r\n              DISAPPROVED\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"row\">\r\n\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR APPROVAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">APPROVED</div>\r\n    <div class=\"col-md-1 legend legend-red\">DISAPPROVED</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n\r\n  <br />\r\n\r\n  <div class=\"mat-elevation-z8 fields\">\r\n    <table mat-table [dataSource]=\"multipleApplicationDataSource\" matSort>\r\n      <ng-container matColumnDef=\"adTitle\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>AD TITLE</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.adTitle | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"typeOfApplication\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{\r\n            element?.applicationType?.description.replaceAll(\"_\", \" \")\r\n              | uppercase\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"companyName\">\r\n        <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.company?.companyName | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n        <td mat-cell *matCellDef=\"let element\" (click)=\"viewMultipleApplication(element)\">\r\n          {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n      </ng-container> -->\r\n\r\n      <ng-container matColumnDef=\"brand\">\r\n        <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.brand?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"product\">\r\n        <th\r\n          mat-header-cell\r\n          *matHeaderCellDef\r\n          [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n        >\r\n          PRODUCT\r\n        </th>\r\n        <td\r\n          mat-cell\r\n          [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n          *matCellDef=\"let element\"\r\n        >\r\n          {{ element?.product?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"status\">\r\n        <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          class=\"applicantStatus\"\r\n          [ngStyle]=\"{\r\n            'background-color':\r\n              element?.status === 'FOR_APPROVAL'\r\n                ? '#fca402'\r\n                : element?.status === 'APPROVED'\r\n                ? '#8fcf8f'\r\n                : element?.status === 'DISAPPROVED'\r\n                ? '#ff8a7b'\r\n                : ''\r\n          }\"\r\n          (click)=\"viewMultipleApplication(element)\"\r\n        >\r\n          {{ element?.status?.replaceAll(\"_\", \" \") | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr\r\n        mat-header-row\r\n        *matHeaderRowDef=\"multipleApplicationDisplayedColumns\"\r\n      ></tr>\r\n      <tr\r\n        mat-row\r\n        *matRowDef=\"let row; columns: multipleApplicationDisplayedColumns\"\r\n      ></tr>\r\n    </table>\r\n    <div\r\n      class=\"no-record\"\r\n      [hidden]=\"\r\n        multipleApplicationDataSource &&\r\n        multipleApplicationDataSource?.data?.length > 0\r\n      \"\r\n    >\r\n      No record found.\r\n    </div>\r\n    <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n    <mat-paginator\r\n      [pageSize]=\"pageSize\"\r\n      [pageIndex]=\"pageNo\"\r\n      [length]=\"multipleTotalItems\"\r\n      [pageSizeOptions]=\"pageSizeOptions\"\r\n      (page)=\"pageEvents($event)\"\r\n    >\r\n    </mat-paginator>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- TEMPLATE FOR SPECIAL S1 APPLICATION LIST -->\r\n<ng-template #specialS1ApplicationList>\r\n  <b\r\n    *ngIf=\"\r\n      currentUser.userRole.name === 'ROLE_APPLICANT' ||\r\n      currentUser.userRole.name === 'ROLE_ENCODER'\r\n    \"\r\n    ><b class=\"material-icons info-msg\">error_outline</b> This page contain list\r\n    of Request for Approval and allows you to create S1 application from\r\n    approved request only.</b\r\n  >\r\n  <b\r\n    *ngIf=\"\r\n      currentUser.userRole.name === 'ROLE_ADMIN' ||\r\n      currentUser?.userRole.name === 'ROLE_SUPER_ADMIN'\r\n    \"\r\n    ><b class=\"material-icons info-msg\">error_outline</b> This page contain list\r\n    of Request for Approval and allows you to approve or disapprove request.</b\r\n  >\r\n  <br />\r\n  <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n    <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n      <mat-label\r\n        ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n      >\r\n      <input\r\n        matInput\r\n        type=\"text\"\r\n        (keyup)=\"doFilterS1MultipleApplicationList($event.target.value)\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <div class=\"col\">\r\n      <div class=\"legend-content\">\r\n        <table class=\"legend-table\">\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-orange\"></div>\r\n              FOR APPROVAL\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-green\"></div>\r\n              APPROVED\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-red\"></div>\r\n              DISAPPROVED\r\n            </td>\r\n          </tr>\r\n          <!-- <tr>\r\n            <td>\r\n              <div class=\"legend-box legend-pink\"></div> REJECTED\r\n            </td>\r\n          </tr> -->\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- <div class=\"row\">\r\n\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR APPROVAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">APPROVED</div>\r\n    <div class=\"col-md-1 legend legend-red\">DISAPPROVED</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n  <br />\r\n\r\n  <div class=\"mat-elevation-z8 fields\">\r\n    <table mat-table [dataSource]=\"specialApplicationDataSource\" matSort>\r\n      <ng-container matColumnDef=\"adTitle\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header>AD TITLE</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.adTitle | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"typeOfApplication\">\r\n        <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{\r\n            element?.applicationType?.description.replaceAll(\"_\", \" \")\r\n              | uppercase\r\n          }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"companyName\">\r\n        <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.company?.companyName | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n        <td mat-cell *matCellDef=\"let element\" (click)=\"viewSpecialApplication(element)\">\r\n          {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n      </ng-container> -->\r\n\r\n      <ng-container matColumnDef=\"brand\">\r\n        <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.brand?.description | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <ng-container matColumnDef=\"status\">\r\n        <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n        <td\r\n          mat-cell\r\n          *matCellDef=\"let element\"\r\n          class=\"applicantStatus\"\r\n          [ngStyle]=\"{\r\n            'background-color':\r\n              element?.status === 'FOR_APPROVAL'\r\n                ? '#fca402'\r\n                : element?.status === 'APPROVED'\r\n                ? '#8fcf8f'\r\n                : element?.status === 'DISAPPROVED'\r\n                ? '#ff8a7b'\r\n                : ''\r\n          }\"\r\n          (click)=\"viewSpecialApplication(element)\"\r\n        >\r\n          {{ element?.status?.replaceAll(\"_\", \" \") | uppercase }}\r\n        </td>\r\n      </ng-container>\r\n\r\n      <tr\r\n        mat-header-row\r\n        *matHeaderRowDef=\"specialApplicationDisplayedColumns\"\r\n      ></tr>\r\n      <tr\r\n        mat-row\r\n        *matRowDef=\"let row; columns: specialApplicationDisplayedColumns\"\r\n      ></tr>\r\n    </table>\r\n    <div\r\n      class=\"no-record\"\r\n      [hidden]=\"\r\n        specialApplicationDataSource &&\r\n        specialApplicationDataSource?.data?.length > 0\r\n      \"\r\n    >\r\n      No record found.\r\n    </div>\r\n    <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n    <mat-paginator\r\n      [pageSize]=\"pageSize\"\r\n      [pageIndex]=\"pageNo\"\r\n      [length]=\"specialTotalItems\"\r\n      [pageSizeOptions]=\"pageSizeOptions\"\r\n      (page)=\"pageEvents($event)\"\r\n    >\r\n    </mat-paginator>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- TEMPLATE FOR ASSIGNED TO SCREENER S1 APPLICATION LIST -->\r\n<ng-template #assignedToScreenerS1ApplicationList>\r\n  <div *ngIf=\"viewApplicationType === 'assigned-applications'\">\r\n    <b\r\n      ><b class=\"material-icons info-msg\">error_outline</b> This page allows you\r\n      to view or retrieve application to re-assign only.</b\r\n    >\r\n    <br />\r\n    <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n        <mat-label\r\n          ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n        >\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          (keyup)=\"doFilterAssignedS1ApplicationList($event.target.value)\"\r\n        />\r\n      </mat-form-field>\r\n\r\n      <div class=\"col\">\r\n        <div class=\"legend-content\">\r\n          <table class=\"legend-table\">\r\n            <tr>\r\n              <td>\r\n                <div class=\"legend-box legend-blue\"></div>\r\n                ORIGINAL\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div class=\"legend-box legend-green\"></div>\r\n                REVISION\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>\r\n                <div class=\"legend-box legend-orange\"></div>\r\n                FOR COMPLIANCE\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <div class=\"row\">\r\n\r\n    <div class=\"col-md-2\">LEGEND:</div>\r\n    <div class=\"col-md-1 legend legend-blue\">ORIGINAL</div>\r\n    <div class=\"col-md-1 legend legend-green\">REVISION</div>\r\n    <div class=\"col-md-1 legend legend-orange\">FOR COMPLIANCE</div>\r\n    <div class=\"col-md-1\" style=\"background-color:lightpink;border-radius:8px;width:20%;\">Rejected</div>\r\n  </div> -->\r\n    <br />\r\n\r\n    <div class=\"mat-elevation-z8 fields\">\r\n      <table mat-table [dataSource]=\"assignedApplicationDataSource\" matSort>\r\n        <ng-container matColumnDef=\"referenceCode\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n            REFERENCE CODE\r\n          </th>\r\n          <td\r\n            mat-cell\r\n            *matCellDef=\"let element; let i = index\"\r\n            [ngStyle]=\"{\r\n              'background-color':\r\n                (element.submissionType == 'ORIGINAL' &&\r\n                  element.decisionStatus != 'INCOMPLETE') ||\r\n                element.decisionStatus == 'INCOMPLETE'\r\n                  ? 'lightblue'\r\n                  : element.submissionType == 'FOR COMPLIANCE' ||\r\n                    element.submissionType == 'COMPLIANCE'\r\n                  ? '#ebd79b'\r\n                  : element.submissionType == 'REVISION'\r\n                  ? '#8fcf8f'\r\n                  : ''\r\n            }\"\r\n          >\r\n            {{\r\n              element?.internalStatus == \"S1_APPLICATION_REJECTED\"\r\n                ? element?.referenceCodeRejected\r\n                : (element?.referenceCode | uppercase)\r\n            }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"adTitle\">\r\n          <th mat-header-cell *matHeaderCellDef>AD TITLE</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.adTitle.replaceAll(\"_\", \" \") | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"typeOfApplication\">\r\n          <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.formType.replaceAll(\"_\", \" \") | uppercase }} -\r\n            {{ element?.applicationType?.description | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"companyName\">\r\n          <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.company?.companyName | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <!-- <ng-container matColumnDef=\"membersAffiliation\">\r\n          <th mat-header-cell *matHeaderCellDef mat-sort-header> MEMBER'S AFFILIATION </th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.membersAffiliation?.description | uppercase }} </td>\r\n        </ng-container> -->\r\n\r\n        <ng-container matColumnDef=\"brand\">\r\n          <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n          <td mat-cell *matCellDef=\"let element\">\r\n            {{ element?.brand?.description | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"product\">\r\n          <th\r\n            mat-header-cell\r\n            *matHeaderCellDef\r\n            [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n          >\r\n            PRODUCT\r\n          </th>\r\n          <td\r\n            mat-cell\r\n            [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n            *matCellDef=\"let element\"\r\n          >\r\n            {{ element?.product?.description | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"status\">\r\n          <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n          <td\r\n            mat-cell\r\n            *matCellDef=\"let element; let i = index\"\r\n            class=\"applicantStatus\"\r\n            [ngStyle]=\"{\r\n              'background-color':\r\n                element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                  ? 'lightpink'\r\n                  : ''\r\n            }\"\r\n          >\r\n            {{ element?.externalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container\r\n          matColumnDef=\"internalStatus\"\r\n          *ngIf=\"currentUser.userRole.name !== 'ROLE_APPLICANT'\"\r\n        >\r\n          <th mat-header-cell *matHeaderCellDef>INTERNAL STATUS</th>\r\n          <td\r\n            mat-cell\r\n            *matCellDef=\"let element; let i = index\"\r\n            class=\"applicantStatus\"\r\n            [ngStyle]=\"{\r\n              'pointer-events':\r\n                i !== 0 &&\r\n                currentUser.userRole.name !== 'ROLE_ADMIN' &&\r\n                  currentUser.userRole.name !== 'ROLE_AD_SPECIALIST' &&\r\n                  currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' &&\r\n                  currentUser.userRole.name !== 'ROLE_APPLICANT'\r\n                  ? 'none'\r\n                  : '',\r\n              'background-color':\r\n                element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                  ? 'lightpink'\r\n                  : ''\r\n            }\"\r\n          >\r\n            {{ element?.internalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n          </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"icon\">\r\n          <th mat-header-cell *matHeaderCellDef></th>\r\n          <td mat-cell *matCellDef=\"let element\" class=\"icon\">\r\n            <button\r\n              mat-raised-button\r\n              class=\"button-red\"\r\n              matTooltip=\"Re-assignment\"\r\n              (click)=\"viewApplication(element)\"\r\n              *ngIf=\"\r\n                (currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n                  element?.internalStatus ==\r\n                    'S1_APPLICATION_VERIFIED_BY_AD_SPE') ||\r\n                (currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n                  element?.internalStatus ==\r\n                    'COMPLIANCE_DOCUMENT_VERIFIED_BY_AD_SPE') ||\r\n                (currentUser?.userRole?.name == 'ROLE_AD_SPECIALIST' &&\r\n                  element?.internalStatus == 'REVISION_VERIFIED_BY_AD_SPE') ||\r\n                (currentUser?.userRole?.name == 'ROLE_SCREENER' &&\r\n                  element.internalStatus == 'S1_APPLICATION_SCREENED')\r\n              \"\r\n            >\r\n              <i class=\"material-icons color__white\">assignment_return</i\r\n              ><span> Re-assignment </span>\r\n            </button>\r\n          </td>\r\n        </ng-container>\r\n\r\n        <tr\r\n          mat-header-row\r\n          *matHeaderRowDef=\"assignedApplicationDisplayedColumns\"\r\n        ></tr>\r\n        <tr\r\n          mat-row\r\n          *matRowDef=\"let row; columns: assignedApplicationDisplayedColumns\"\r\n        ></tr>\r\n      </table>\r\n      <div\r\n        class=\"no-record\"\r\n        [hidden]=\"\r\n          assignedApplicationDataSource &&\r\n          assignedApplicationDataSource?.data?.length > 0\r\n        \"\r\n      >\r\n        No record found.\r\n      </div>\r\n      <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 30]\" showFirstLastButtons></mat-paginator> -->\r\n      <mat-paginator\r\n        [pageSize]=\"pageSize\"\r\n        [pageIndex]=\"pageNo\"\r\n        [length]=\"retrieveReassignLength\"\r\n        (page)=\"pageEvents($event)\"\r\n      ></mat-paginator>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n\r\n<!-- TEMPLATE \"FOR RELEASE\" APPLICATION LIST -->\r\n<ng-template #forReleaseApplicationList>\r\n  <div\r\n    *ngIf=\"\r\n      viewApplicationType === 'for-release' ||\r\n      viewApplicationType === 'released'\r\n    \"\r\n  >\r\n    <!-- <b><b class=\"material-icons info-msg\">error_outline</b> This page allows you to resend decision form.</b> -->\r\n    <br />\r\n    <div class=\"row\" fxLayout fxLayoutAlign=\"center center\">\r\n      <mat-form-field class=\"col-md-8\" appearance=\"outline\">\r\n        <mat-label\r\n          ><i class=\"material-icons\">search</i> Search Applications</mat-label\r\n        >\r\n        <input\r\n          matInput\r\n          type=\"text\"\r\n          (keyup)=\"doFilterForReleaseApplicationList($event.target.value)\"\r\n        />\r\n      </mat-form-field>\r\n      <br />\r\n\r\n      <div class=\"mat-elevation-z8 fields\">\r\n        <table mat-table [dataSource]=\"forReleaseApplicationDataSource\" matSort>\r\n          <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n              REFERENCE CODE\r\n            </th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              [ngStyle]=\"{\r\n                'background-color':\r\n                  (element.submissionType == 'ORIGINAL' &&\r\n                    element.decisionStatus != 'INCOMPLETE') ||\r\n                  element.decisionStatus == 'INCOMPLETE'\r\n                    ? 'lightblue'\r\n                    : element.submissionType == 'FOR COMPLIANCE' ||\r\n                      element.submissionType == 'COMPLIANCE'\r\n                    ? '#ebd79b'\r\n                    : element.submissionType == 'REVISION'\r\n                    ? '#8fcf8f'\r\n                    : ''\r\n              }\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{\r\n                element?.internalStatus == \"S1_APPLICATION_REJECTED\"\r\n                  ? element?.referenceCodeRejected\r\n                  : (element?.referenceCode | uppercase)\r\n              }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"adTitle\">\r\n            <th mat-header-cell *matHeaderCellDef>AD TITLE</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.adTitle.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfApplication\">\r\n            <th mat-header-cell *matHeaderCellDef>TYPE OF APPLICATION</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.formType.replaceAll(\"_\", \" \") | uppercase }} -\r\n              {{ element?.applicationType?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"companyName\">\r\n            <th mat-header-cell *matHeaderCellDef>COMPANY NAME</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.company?.companyName | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"brand\">\r\n            <th mat-header-cell *matHeaderCellDef>BRAND</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.brand?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"product\">\r\n            <th\r\n              mat-header-cell\r\n              *matHeaderCellDef\r\n              [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n            >\r\n              PRODUCT\r\n            </th>\r\n            <td\r\n              mat-cell\r\n              [hidden]=\"currentUser.userRole.name !== 'ROLE_AD_SPECIALIST'\"\r\n              *matCellDef=\"let element\"\r\n            >\r\n              {{ element?.product?.description | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfMedium\">\r\n            <th mat-header-cell *matHeaderCellDef>TYPE OF MEDIUM</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.typeOfMedium | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"status\">\r\n            <th mat-header-cell *matHeaderCellDef>APPLICATION STATUS</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              class=\"applicantStatus\"\r\n              (click)=\"viewApplication(element)\"\r\n              [ngStyle]=\"{\r\n                'background-color':\r\n                  element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                    ? 'lightpink'\r\n                    : ''\r\n              }\"\r\n            >\r\n              {{ element?.externalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container\r\n            matColumnDef=\"internalStatus\"\r\n            *ngIf=\"currentUser.userRole.name !== 'ROLE_APPLICANT'\"\r\n          >\r\n            <th mat-header-cell *matHeaderCellDef>INTERNAL STATUS</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              class=\"applicantStatus\"\r\n              [ngStyle]=\"{\r\n                'pointer-events':\r\n                  i !== 0 &&\r\n                  currentUser.userRole.name !== 'ROLE_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_AD_SPECIALIST' &&\r\n                    currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_APPLICANT'\r\n                    ? 'none'\r\n                    : '',\r\n                'background-color':\r\n                  element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                    ? 'lightpink'\r\n                    : ''\r\n              }\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.internalStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container\r\n            matColumnDef=\"decisionStatus\"\r\n            *ngIf=\"currentUser.userRole.name !== 'ROLE_APPLICANT'\"\r\n          >\r\n            <th mat-header-cell *matHeaderCellDef>DECISION STATUS</th>\r\n            <td\r\n              mat-cell\r\n              *matCellDef=\"let element; let i = index\"\r\n              class=\"applicantStatus\"\r\n              [ngStyle]=\"{\r\n                'pointer-events':\r\n                  i !== 0 &&\r\n                  currentUser.userRole.name !== 'ROLE_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_AD_SPECIALIST' &&\r\n                    currentUser.userRole.name !== 'ROLE_SUPER_ADMIN' &&\r\n                    currentUser.userRole.name !== 'ROLE_APPLICANT'\r\n                    ? 'none'\r\n                    : '',\r\n                'background-color':\r\n                  element?.internalStatus === 'S1_APPLICATION_REJECTED'\r\n                    ? 'lightpink'\r\n                    : ''\r\n              }\"\r\n              (click)=\"viewApplication(element)\"\r\n            >\r\n              {{ element?.decisionStatus?.replaceAll(\"_\", \" \") | uppercase }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <tr\r\n            mat-header-row\r\n            *matHeaderRowDef=\"forReleaseApplicationDisplayedColumns\"\r\n          ></tr>\r\n          <tr\r\n            mat-row\r\n            *matRowDef=\"let row; columns: forReleaseApplicationDisplayedColumns\"\r\n          ></tr>\r\n        </table>\r\n        <div\r\n          class=\"no-record\"\r\n          [hidden]=\"\r\n            forReleaseApplicationDataSource &&\r\n            forReleaseApplicationDataSource?.data?.length > 0\r\n          \"\r\n        >\r\n          No record found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 30]\" showFirstLastButtons></mat-paginator> -->\r\n        <mat-paginator\r\n          [pageSize]=\"pageSize\"\r\n          [pageIndex]=\"pageNo\"\r\n          [length]=\"forReleaseTotalItems\"\r\n          [pageSizeOptions]=\"pageSizeOptions\"\r\n          (page)=\"pageEvents($event)\"\r\n        >\r\n        </mat-paginator>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</ng-template>\r\n","<div class=\"list-dialog-content\">\r\n    <div class=\"row head-icon\">\r\n      <i class=\"material-icons\">live_help</i>\r\n      <p>{{s2Application.applicationForm.referenceCode}}</p>\r\n      <p class=\"sub-title\">Reference Code</p>\r\n      <p class=\"warning-msg\" *ngIf=\"!typeOfExecution?.applyForToa && typeOfExecution?.live\">This application is valid for S1 only.</p>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n            <button mat-raised-button class=\"button-red action-button\" (click)=\"proceedToS2(true)\"\r\n            [disabled]=\"typeOfExecution?.live\">\r\n                <i class=\"material-icons color__white\">summarize</i> PROCEED TO S2 APPLICATION\r\n            </button>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n            <button mat-raised-button class=\"button-red action-button\" (click)=\"proceedToS2(false)\"\r\n            [disabled]=\"!typeOfExecution?.applyForToa\">\r\n                <i class=\"material-icons color__white\">done_all</i> APPLY FOR TOA\r\n            </button>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n            <button mat-raised-button class=\"button-red action-button\" (click)=\"requestForClearingAndClearance()\"\r\n            [disabled]=\"s1Application?.applicationType?.description == 'Special Screening and Clearing'||typeOfExecution?.live\">\r\n                <i class=\"material-icons color__white\">sticky_note_2</i> REQUEST FOR SPECIAL CLEARING APPROVAL\r\n            </button>\r\n        </div>\r\n    </div><br>\r\n    <!-- <div class=\"row\">\r\n        <div class=\" col-md-12 form-check\">\r\n            <input class=\"form-check-input\" type=\"checkbox\" (change)=\"hasToa($event.target.checked)\" value=\"\" id=\"flexCheckDefault\">\r\n            <label class=\"form-check-label\" for=\"flexCheckDefault\">\r\n              Apply for TOA\r\n            </label>\r\n          </div>\r\n    </div> -->\r\n</div>\r\n\r\n<!-- *ngIf=\"s2Application?.applicationForm?.applicationType?.description === 'SPECIAL SCREENING AND CLEARING'\" -->\r\n\r\n","export * from './affiliation/affiliation.component';\r\nexport * from './brands/brands.component';\r\nexport * from './payment-type/payment-type.component';\r\nexport * from './type-of-document/type-of-document.component';\r\nexport * from './type-of-medium/type-of-medium.component';\r\nexport * from './type-of-reason/type-of-reason.component';\r\nexport * from './category/category.component';\r\nexport * from './product/product.component';\r\nexport * from './asc-rates/asc-rates.component';\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { CompanyRoutingModule } from './company-routing.module';;\r\n\r\n\r\n@NgModule({\r\n  declarations: [],\r\n  imports: [\r\n    CommonModule,\r\n    CompanyRoutingModule,\r\n  ]\r\n})\r\nexport class CompanyModule { }\r\n","import { UserAccount } from './user-account.model';\r\n\r\nexport class CopyClaims {\r\n    id: number;\r\n    description: string;\r\n    role: string;\r\n    appFormReference: string;\r\n    actionDate: Date;\r\n    actionBy: UserAccount;\r\n}\r\n","import { MultiMediaMovingConstant } from './../../../../core/models/media-models/multimedia-moving.const';\r\nimport { CommonServices } from 'app/core/services/common-services.service';\r\nimport { Component, OnInit, Input, ViewChild, OnChanges, AfterViewChecked, ChangeDetectorRef, Output, EventEmitter, ChangeDetectionStrategy, SimpleChanges } from '@angular/core';\r\nimport { ApiService, SweetAlertService, DataStorageService, FileStorageService, ValidateFieldService } from '@services';\r\nimport { ENDPOINTS, ATTACHMENT_TYPE, TYPE_OF_MEDIUM, SPECIAL_APPLICATION, APPLICATION_STATUSES, APPLICATION_STAGE, USER_ROLES, MULTIMEDIA_STATIC } from '@shared';\r\nimport { MatTableDataSource, MatTable } from '@angular/material/table';\r\nimport {\r\n  S1Application,\r\n  S2Application,\r\n  TypeOfDocument,\r\n  TypeOfMedium,\r\n  SupportingDocument,\r\n  ApplicationSingleMedia,\r\n  ApplicationRequest,\r\n  ApplicationMultimedia,\r\n  ApplicationMultimediaMovingDTO,\r\n  ApplicationMultimediaStaticDTO,\r\n} from '@models';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport Swal from 'sweetalert2';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { MultiMediaStaticConst } from 'app/core/models/media-models/mulstimedia-static.const';\r\n\r\n@Component({\r\n  selector: 'app-material-information',\r\n  templateUrl: './material-information.component.html',\r\n  styleUrls: ['./material-information.component.scss'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class MaterialInformationComponent implements OnInit, OnChanges, AfterViewChecked {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<S1Application>;\r\n  // @ViewChild(AttachmentDocumentComponent, { static: false }) materialAttachmentDocument: AttachmentDocumentComponent;\r\n\r\n  @Output() checkSingleMediaChangesFunction: EventEmitter<any> = new EventEmitter();\r\n  @Output() checkMultimediaChangesFunction: EventEmitter<any> = new EventEmitter();\r\n\r\n  // @ViewChild('mainFile')\r\n  // myMainFile: ElementRef;\r\n  // @ViewChild('mainInput')\r\n  // myMainInput: ElementRef;\r\n  // @ViewChild('supportiveFile')\r\n  // mySupportiveFile: ElementRef;\r\n  // @ViewChild('revisionLetterFile')\r\n  // myRevisionLetterFile: ElementRef;\r\n\r\n  @Input() s1Application = new S1Application();\r\n  @Input() s2Application = new S2Application();\r\n  @Input() originalAttachmentDocuments = [];\r\n  @Input() revisionAttachmentDocuments = [];\r\n  @Input() complianceAttachmentDocuments = [];\r\n  @Input() revisionLetterAttachment: any;\r\n  @Input() newMultimediaList = [];\r\n  @Input() typeOfMediumList = []; // single and multimedia\r\n  @Input() supportiveDocumentList = [];\r\n  @Input() applicationSingleMedia = new ApplicationSingleMedia();\r\n  @Input() isAscUser = false;\r\n  @Input() isDisableFieldOnUpdate = false;\r\n\r\n  dataSource: MatTableDataSource<S1Application>;\r\n  displayedColumns: string[];\r\n  todayDate: Date = new Date();\r\n  materialInformationForm: FormGroup;\r\n\r\n  executionList = [];\r\n  dialectList = [];\r\n  newSupportiveDocumentList = [];\r\n  typeOfDocumentList = [];\r\n  specialApplicationType = [...SPECIAL_APPLICATION];\r\n\r\n  setMultimediaList = [];\r\n  @Input() selectedMultimediaList = [];\r\n  selectedMultimediaStringList = [];\r\n  @Input() toDeleteMultimediaList = [];\r\n  // singleMedia = new SingleMedia();\r\n  typeOfMedium = new TypeOfMedium();\r\n  typeOfDocument = new TypeOfDocument();\r\n  // attachmentDocument = new AttachmentDocument();\r\n  supportingDocument = new SupportingDocument();\r\n  applicationMultimedia = new ApplicationMultimedia();\r\n  applicationRequest = new ApplicationRequest();\r\n  newApplicationSingleMedia = new ApplicationSingleMedia();\r\n\r\n  selectMultimedia = false;\r\n  // showMainDocumentUploadButton = false;\r\n  // showMainDocumentViewButton = false;\r\n  // showMainDocumentDownloadButton = false;\r\n  // showSupportDocumentFrame = false;\r\n  // showMainDocumentRemoveButton = false;\r\n  // showRevisionLetterViewButton = false;\r\n\r\n  previewMainDocument = false;\r\n  disableSubmitButtonByMedia = false;\r\n\r\n  showSupportiveDocumentUploadButton = false;\r\n  showSupportiveDocumentViewButton = false;\r\n  showSupportiveDocumentDownloadButton = false;\r\n  showRevisionLetterDownloadButton = false;\r\n  previewSupportiveDocument = false;\r\n\r\n  attachmentSize: number;\r\n  safeURLMainDoc: any;\r\n  safeURLSupportDoc: any;\r\n  currentUser: any;\r\n  applicationStage: string;\r\n  safeURLRevisionLetter: any;\r\n  supportingDocumentIndex: any;\r\n  showRevisionLetterUploadButton = false;\r\n  isDigitalStatic = false;\r\n  isUpdate = false;\r\n\r\n  // validations\r\n  hiddenValidation: string;\r\n  readonlyValidation: string;\r\n  disabledValidation: string;\r\n\r\n  attachmentType = ATTACHMENT_TYPE.MAIN;\r\n  selectedFiles: FileList;\r\n  currentFileUpload: File;\r\n  progress: { percentage: number } = { percentage: 0 };\r\n  uploadedFileMain: any;\r\n  uploadedFileSupportive: any;\r\n  uploadedFileRevision: any;\r\n  mediaType = '';\r\n  labelMainDocument = 'MAIN DOCUMENT';\r\n  @Input() savedTypeOfMedium = '';\r\n  private ngUnsubscribe = new Subject();\r\n  selectedTypeOfMedium = 'SINGLE MEDIA';\r\n  @Input() multimediaDTO: any = {};\r\n  multimediaMovingDTO = new ApplicationMultimediaMovingDTO();\r\n  multimediaStaticDTO = new ApplicationMultimediaStaticDTO();\r\n\r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private apiService: ApiService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private sanitizer: DomSanitizer,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private cd: ChangeDetectorRef,\r\n    public validateFieldService: ValidateFieldService,\r\n    private spinner: NgxSpinnerService,\r\n    public util: CommonServices\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    if (this.currentUser.userRole.name === USER_ROLES.ROLE_AD_SPECIALIST) {\r\n      this.displayedColumns = ['typeOfDocument', 'input', 'variant', 'expiresOn', 'basedOn', 'remarks', 'action'];\r\n    } else {\r\n      this.displayedColumns = ['typeOfDocument', 'input', 'variant', 'expiresOn', 'basedOn', 'remarks'];\r\n    }\r\n\r\n    this.setFormValidator();\r\n    this.getTypeOfDocumentList();\r\n\r\n    if (this.dataStorage.getSpecialS1Application()) {\r\n      this.applicationRequest = this.dataStorage.getSpecialS1Application();\r\n    }\r\n    this.emitSingleMediaChanges();\r\n    this.initializeMultimediaMovingObj();\r\n    this.initializeMultimediaStaticObj();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    if (changes) {\r\n      if (this.multimediaDTO) {\r\n        if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING) this.multimediaMovingDTO = this.multimediaDTO;\r\n        if (this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_STATIC) this.multimediaStaticDTO = this.multimediaDTO;\r\n      }\r\n    }\r\n    \r\n    if (this.s1Application.refTypeOfMedium === undefined) {\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.SINGLE_MEDIA;\r\n      this.getTypeOfMedium(TYPE_OF_MEDIUM.SINGLE_MEDIA);\r\n    } else if (!this.applicationSingleMedia || this.s1Application.refTypeOfMedium?.includes('MULTIMEDIA')) {\r\n      this.getTypeOfMedium(this.s1Application.refTypeOfMedium);\r\n    } else if (this.applicationSingleMedia) {\r\n      if (this.applicationSingleMedia.mediumExecution) {\r\n        this.typeOfMedium = this.applicationSingleMedia.mediumExecution.typeOfMedium;\r\n        if (this.typeOfMedium.id) {\r\n          this.getExecutionDialectList();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewChecked() {\r\n    this.cd.detectChanges();\r\n  }\r\n\r\n  setFormValidator() {\r\n    this.materialInformationForm = this.formBuilder.group({\r\n      adTitle: ['', Validators.required],\r\n      referenceCode: [''],\r\n      previousRefCode: [''],\r\n      tagLine: [''],\r\n      refTypeOfMedium: [''],\r\n      appFormReference: [''],\r\n\r\n      // this.attachmentDocumentForm = this.formBuilder.group({\r\n      attachmentReference: [''],\r\n      hasNoSupportingDocs: [''],\r\n      typeOfDocument: [''],\r\n      basedOn: [''],\r\n      variant: [''],\r\n      dateOfLaunch: [''],\r\n      expiresOn: [''],\r\n      remarks: [''],\r\n      input: [''],\r\n\r\n      typeOfMedium: [''],\r\n      mediumExecution: [''],\r\n      language: [''],\r\n      dialect: [''],\r\n      others: [''],\r\n      sizeLength: ['0'],\r\n      width: ['0'],\r\n\r\n      multimediaLength: [''],\r\n      multimediaSize: [''],\r\n      applicationSingleMedia: [''],\r\n      applicationMultimediaStatic: [''],\r\n      applicationMultimediaMoving: [''],\r\n\r\n    });\r\n  }\r\n\r\n  getTypeOfMedium(type) {\r\n    this.typeOfMediumList = [];\r\n    let endpoint = '';\r\n    if (type === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n      this.applicationSingleMedia = new ApplicationSingleMedia();\r\n      endpoint = ENDPOINTS.typeOfMediumSingleMedia;\r\n      this.selectMultimedia = false;\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.SINGLE_MEDIA;\r\n      this.selectedTypeOfMedium = TYPE_OF_MEDIUM.SINGLE_MEDIA;\r\n    } else if (type === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING) {\r\n      endpoint = ENDPOINTS.typeOfMediumMultiMediaMoving;\r\n      this.selectMultimedia = true;\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA_MOVING;\r\n      this.initializeMultimediaStaticObj();\r\n      this.selectedTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA;\r\n    } else {\r\n      endpoint = ENDPOINTS.typeOfMediumMultiMediaStatic;\r\n      this.selectMultimedia = true;\r\n      this.s1Application.refTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA_STATIC;\r\n      this.initializeMultimediaMovingObj();\r\n      this.selectedTypeOfMedium = TYPE_OF_MEDIUM.MULTIMEDIA;\r\n    }\r\n\r\n    // console.log('Selected: ', this.selectedTypeOfMedium)\r\n    this.apiService.findAll(endpoint).subscribe((res: any) => {\r\n      this.typeOfMediumList = res.responseData.data;\r\n      if (type === TYPE_OF_MEDIUM.SINGLE_MEDIA) {\r\n        this.typeOfMedium = this.typeOfMediumList.filter(medium => medium.description === this.savedTypeOfMedium)[0];\r\n      }\r\n\r\n      // if (this.selectedMultimediaList.length > 0) {\r\n      //   this.selectedMultimediaStringList = this.selectedMultimediaList.map(mappedList => mappedList?.typeOfMedium?.description);\r\n      //   this.emitMultimediaChanges();\r\n      // }\r\n      // this.typeOfMediumList = this.typeOfMediumList.map((medium, index) => {\r\n      //   const sampleList = this.selectedMultimediaList.filter(filteredMedium => filteredMedium.typeOfMedium.id === medium.id);\r\n      //   if (sampleList.length) {\r\n      //     medium.sizeLength = sampleList[0].multimediaSizeLength;\r\n      //   } else {\r\n      //     medium.sizeLength = null;\r\n      //   }\r\n      //   return medium;\r\n      // });\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  resetValues() {\r\n    this.applicationSingleMedia.dialect = null;\r\n    this.applicationSingleMedia.language = null;\r\n    this.applicationSingleMedia.others = '';\r\n    this.applicationSingleMedia.sizeLength = '0';\r\n    this.applicationSingleMedia.amount = 0;\r\n    this.applicationSingleMedia.mediumExecution = null;\r\n    this.applicationSingleMedia.width = '0';\r\n  }\r\n\r\n  setSingleMedia(typeofMedium: any) {\r\n    this.resetValues();\r\n    this.typeOfMedium = typeofMedium;\r\n    this.labelMainDocument = this.typeOfMedium.typeOfMainDocument.typeOfMainDocument;\r\n    this.getExecutionDialectList();\r\n    this.emitSingleMediaChanges();\r\n  }\r\n\r\n  emitSingleMediaChanges() {\r\n    if (\r\n      (this.typeOfMedium?.executionEnable && !this.applicationSingleMedia.mediumExecution) ||\r\n      (this.typeOfMedium?.lengthEnable && !this.applicationSingleMedia.sizeLength) ||\r\n      (this.typeOfMedium?.sizeLengthEnable && !this.applicationSingleMedia.sizeLength) ||\r\n      ((!this.typeOfMedium?.id && !this.applicationSingleMedia.id) && !this.savedTypeOfMedium)\r\n    ) {\r\n      this.disableSubmitButtonByMedia = true;\r\n    } else {\r\n      this.disableSubmitButtonByMedia = false;\r\n    }\r\n\r\n    this.checkSingleMediaChangesFunction.emit();\r\n  }\r\n\r\n  // addMultimedia(obj: any, evt) {\r\n  //   if (evt.target.value) {\r\n  //     obj.sizeLength = evt.target.value;\r\n  //     const existingValue = this.newMultimediaList.filter(filteredList => filteredList === obj);\r\n  //     if (existingValue.length) {\r\n  //       existingValue[0] = obj;\r\n  //     } else {\r\n  //       this.newMultimediaList.push(obj);\r\n  //       this.selectedMultimediaList.push(obj);\r\n  //     }\r\n  //     if (obj?.id) {\r\n  //       this.toDeleteMultimediaList = this.toDeleteMultimediaList.filter(filtered => filtered.id !== obj?.id);\r\n  //     }\r\n  //   } else {\r\n  //     const deleteExisting = this.selectedMultimediaList.filter(filteredMedia => filteredMedia?.typeOfMedium?.id === obj?.id);\r\n  //     if (deleteExisting.length) {\r\n  //       this.toDeleteMultimediaList.push(deleteExisting[0]);\r\n  //     }\r\n\r\n  //     this.newMultimediaList = this.newMultimediaList.filter(filteredMultimedia => filteredMultimedia.id !== obj.id);\r\n  //     this.selectedMultimediaList = this.selectedMultimediaList.filter(filteredMultimedia => filteredMultimedia.id !== obj.id);\r\n  //   }\r\n  //   const toDeleteMultimediaSet = this.toDeleteMultimediaList.filter((item, i, ar) => ar.indexOf(item) === i);\r\n  //   this.toDeleteMultimediaList = toDeleteMultimediaSet;\r\n  //   this.emitMultimediaChanges();\r\n  // }\r\n\r\n  emitMultimediaChanges() {\r\n    this.disableSubmitButtonByMedia = false;\r\n    let data = {\r\n      type: this.s1Application.refTypeOfMedium,\r\n      data: this.s1Application.refTypeOfMedium === TYPE_OF_MEDIUM.MULTIMEDIA_MOVING ? this.multimediaMovingDTO : this.multimediaStaticDTO\r\n    }\r\n    this.checkMultimediaChangesFunction.emit(data);\r\n  }\r\n\r\n  getTypeOfDocumentList() {\r\n    this.apiService.findAll(ENDPOINTS.typeOfDocument).subscribe((res: any) => {\r\n      this.typeOfDocumentList = res.responseData.data;\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  setTypeOfDocument(type) {\r\n    this.typeOfDocument = type;\r\n  }\r\n\r\n  compareSingleMedia(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.description === selected.description;\r\n    }\r\n  }\r\n\r\n  compareMediumExecution(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.typeOfExecution.typeOfExecution === selected.typeOfExecution.typeOfExecution;\r\n    }\r\n  }\r\n\r\n  compareDialect(value: any, selected: any): boolean {\r\n    if (value && selected) {\r\n      return value.dialect === selected.dialect;\r\n    }\r\n  }\r\n\r\n  getExecutionDialectList() {\r\n    if (this.typeOfMedium.id) {\r\n      this.apiService.findAll(`${ENDPOINTS.typeOfExecutionsByMedium}${this.typeOfMedium.id}`).subscribe((res: any) => {\r\n        if (this.typeOfMedium.executionEnable) {\r\n          this.executionList = res.responseData.data;\r\n        } else {\r\n          if (res.responseData.data.length === 0) {\r\n            this.sweetAlertService.customErrorMessage('The selected type of medium has no execution.');\r\n          } else {\r\n            this.applicationSingleMedia.mediumExecution = res.responseData.data[0];\r\n          }\r\n        }\r\n        this.emitSingleMediaChanges();\r\n      }, (err: any) => {\r\n      });\r\n    }\r\n\r\n    this.apiService.findAll(ENDPOINTS.dialects).subscribe((res: any) => {\r\n      this.dialectList = res.responseData.data;\r\n    }, (err: any) => {\r\n    });\r\n  }\r\n\r\n  removeTypeOfDocument(index) {\r\n    const keepValues = [];\r\n\r\n    Swal.fire({\r\n      text: 'Are you sure you want to delete this TYPE OF DOCUMENT?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.supportiveDocumentList.forEach((element, key) => {\r\n          if (key !== index) {\r\n            keepValues.push(element);\r\n          }\r\n        });\r\n        this.supportiveDocumentList = keepValues;\r\n        this.dataSource.data = keepValues;\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  addSupportiveDocument(supportingDocument) {\r\n\r\n    const checkIfDocumentAlreadyExist = this.supportiveDocumentList.filter(data =>\r\n      data.typeOfDocument.id === supportingDocument.typeOfDocument.id);\r\n\r\n    // if (checkIfDocumentAlreadyExist.length === 1) {\r\n    //   this.sweetAlertService.customErrorMessage('Type of Document that is being added is already on the list.', 5);\r\n    // } else {\r\n    this.newSupportiveDocumentList.push(supportingDocument);\r\n    this.supportiveDocumentList.push(supportingDocument);\r\n    this.dataSource = new MatTableDataSource<S1Application>(this.supportiveDocumentList);\r\n    this.dataSource.paginator = this.paginator;\r\n    this.dataSource.sort = this.sort;\r\n    // }\r\n    this.supportingDocument = new SupportingDocument();\r\n    this.typeOfDocument = new TypeOfDocument();\r\n  }\r\n\r\n  getTypeOfDocument(res, index) {\r\n    this.isUpdate = true;\r\n    this.apiService.findById(ENDPOINTS.typeOfDocument, res.typeOfDocument.id).subscribe((data: any) => {\r\n      if (data) {\r\n        this.typeOfDocument = data.responseData.data;\r\n      }\r\n    });\r\n    this.supportingDocument.typeOfDocument = res.typeOfDocument;\r\n    if (res.typeOfDocument.description === 'DOH-FDA PERMIT') {\r\n      this.typeOfDocument.expiresOnEnable = true;\r\n      this.supportingDocument.expiresOn = res.expiresOn;\r\n      this.supportingDocumentIndex = index;\r\n    } else if (res.typeOfDocument.description === 'NMIS') {\r\n      this.typeOfDocument.expiresOnEnable = false;\r\n      this.supportingDocument.expiresOn = null;\r\n      this.supportingDocumentIndex = index;\r\n    } else if (res.typeOfDocument.description === 'DOLE PERMIT') {\r\n      this.typeOfDocument.expiresOnEnable = false;\r\n      this.supportingDocument.expiresOn = null;\r\n      this.supportingDocumentIndex = index;\r\n    }\r\n  }\r\n\r\n  modifyTypeOfDocument(res, id) {\r\n    const checkIfDocumentAlreadyExist = this.supportiveDocumentList.filter(data => data.typeOfDocument.id === res.typeOfDocument.id);\r\n    //  if(checkIfDocumentAlreadyExist.length === 1){\r\n    //   console.log(\"ALREADY EXIST\");\r\n    //  }else{\r\n    //   console.log(\"SUCCESSFULLY UPDATE\");\r\n    //   this.supportiveDocumentList.forEach((element, key) => {\r\n    //     if (key === id) {\r\n    //       this.supportiveDocumentList[key] = res;\r\n    //     }\r\n    //   });\r\n    //  }\r\n    // console.log(\"count\", checkIfDocumentAlreadyExist);\r\n    // if (checkIfDocumentAlreadyExist.length === 1) {\r\n    //   this.isUpdate = false;\r\n    //   this.supportiveDocumentList.forEach((element, key) => {\r\n    //     if (key === id) {\r\n    //       this.supportiveDocumentList.splice(key);\r\n    //     }\r\n    //   });\r\n    // } else {\r\n    //   this.sweetAlertService.customErrorMessage(`Type of Document already exist.`);\r\n    // }\r\n    this.isUpdate = false;\r\n    this.dataSource.data = this.supportiveDocumentList;\r\n    this.supportingDocument = new SupportingDocument();\r\n    this.supportingDocumentIndex = '';\r\n  }\r\n\r\n  initializeMultimediaMovingObj(): void {\r\n    this.multimediaMovingDTO = new ApplicationMultimediaMovingDTO();\r\n    let multimediaMovingList = new MultiMediaMovingConstant().data\r\n    this.multimediaMovingDTO = {\r\n      applicationMultimediaMovingList: multimediaMovingList,\r\n      appFormReference: '',\r\n      amount: 0,\r\n      id: 0,\r\n      sizeLength: 0,\r\n      typeOfMedium: null,\r\n    }\r\n  }\r\n  \r\n  initializeMultimediaStaticObj(): void {\r\n    this.multimediaStaticDTO = new ApplicationMultimediaStaticDTO();\r\n    let multimediaStaticList = new MultiMediaStaticConst().data\r\n    this.multimediaStaticDTO = {\r\n      applicationMultimediaStaticList: multimediaStaticList,\r\n      appFormReference: '',\r\n      amount: 0,\r\n      id: 0,\r\n      typeOfMedium: null,\r\n    }\r\n  }\r\n\r\n  isNumber(number): boolean {\r\n    if (number) return this.validateFieldService.numbersOnly(number);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.ngUnsubscribe.next();\r\n    this.ngUnsubscribe.complete();\r\n  }\r\n}\r\n","<!-- <form [formGroup]=\"materialInformationForm\"> -->\r\n<div\r\n  class=\"row fields\"\r\n  [hidden]=\"\r\n    (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n      (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n        s1Application?.decisionStatus == 'APPROVED' ||\r\n        s1Application?.decisionStatus == 'APPROVED W/ CAUTION')) ||\r\n    (s1Application?.submissionType === 'REVISION' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED') ||\r\n    (s1Application?.submissionType === 'COMPLIANCE' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED')\r\n  \"\r\n>\r\n  <div class=\"row\">\r\n    <!-- FOR S1 APPLICATION -->\r\n    <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n      <mat-label\r\n        >Ad Title\r\n        <span class=\"required\">*</span>\r\n      </mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"s1Application.adTitle\"\r\n        name=\"adTitle\"\r\n        (ngModelChange)=\"util.toUpperCase(s1Application, 'adTitle', $event)\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          s1Application?.applicationRequest?.status === 'APPROVED'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <!-- FOR S1 APPLICATION -->\r\n  <div class=\"row\">\r\n    <mat-form-field\r\n      class=\"col-md-6\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        s1Application?.formType !== 'MULTIPLE' ||\r\n        (s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application.multipleApplication)\r\n      \"\r\n      [hidden]=\"\r\n        specialApplicationType.includes(\r\n          s1Application?.applicationType?.description?.toUpperCase()\r\n        ) && s1Application?.applicationRequest?.status !== 'APPROVED'\r\n      \"\r\n    >\r\n      <mat-label>Reference Code of Previously-Approved Material</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"s1Application.previousRefCode\"\r\n        name=\"previousRefCode\"\r\n        (ngModelChange)=\"\r\n          util.toUpperCase(s1Application, 'previousRefCode', $event)\r\n        \"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Tag Line (Optional)</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"s1Application.tagLine\"\r\n        name=\"tagLine\"\r\n        (ngModelChange)=\"util.toUpperCase(s1Application, 'tagLine', $event)\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          s1Application?.applicationRequest?.status === 'APPROVED'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n\r\n<!-- MULTIMEDIA SELECTION SECTION -->\r\n<!-- FOR S1 APPLICATION -->\r\n<div\r\n  class=\"row fields\"\r\n  *ngIf=\"\r\n    ((!specialApplicationType.includes(\r\n      s1Application?.applicationType?.description?.toUpperCase()\r\n    ) ||\r\n      (specialApplicationType.includes(\r\n        s1Application?.applicationType?.description?.toUpperCase()\r\n      ) &&\r\n        s1Application?.applicationRequest?.status == 'APPROVED') ||\r\n      (s1Application?.formType === 'MULTIPLE' &&\r\n        s1Application?.multipleApplication)) &&\r\n      s1Application?.formType !== 'MULTIPLE') ||\r\n    (s1Application?.formType === 'MULTIPLE' &&\r\n      s1Application?.multipleApplication)\r\n  \"\r\n  [hidden]=\"\r\n    (s1Application?.formType === 'MULTIPLE' &&\r\n      !s1Application.multipleApplication) ||\r\n    (currentUser?.userRole?.name == 'ROLE_APPLICANT' &&\r\n      (s1Application?.decisionStatus == 'INCOMPLETE' ||\r\n        s1Application?.decisionStatus == 'APPROVED' ||\r\n        s1Application?.decisionStatus == 'APPROVED W/ CAUTION')) ||\r\n    (s1Application?.submissionType === 'REVISION' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED') ||\r\n    (s1Application?.submissionType === 'COMPLIANCE' &&\r\n      s1Application?.internalStatus === 'S1_APPLICATION_REJECTED')\r\n  \"\r\n>\r\n  <h4><mat-icon>bookmark</mat-icon> &nbsp;Type of Medium</h4>\r\n\r\n  <mat-radio-group\r\n    class=\"col-md-12\"\r\n    aria-label=\"Select an option\"\r\n    [(ngModel)]=\"selectedTypeOfMedium\"\r\n    [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n    name=\"applicationTypeOfMedium\"\r\n    [hidden]=\"isAscUser && isDisableFieldOnUpdate\"\r\n  >\r\n    <mat-radio-button\r\n      value=\"SINGLE MEDIA\"\r\n      (click)=\"getTypeOfMedium('SINGLE MEDIA'); emitSingleMediaChanges()\"\r\n    >\r\n      SINGLE MEDIA\r\n    </mat-radio-button>\r\n    &nbsp;&nbsp;\r\n    <mat-radio-button\r\n      value=\"MULTIMEDIA\"\r\n      (click)=\"getTypeOfMedium('MULTIMEDIA-MOVING'); emitMultimediaChanges()\"\r\n    >\r\n      MULTIMEDIA\r\n    </mat-radio-button>\r\n    <br /><br />\r\n  </mat-radio-group>\r\n\r\n  <mat-form-field\r\n    class=\"col-md-11\"\r\n    appearance=\"outline\"\r\n    *ngIf=\"isAscUser && isDisableFieldOnUpdate\"\r\n  >\r\n    <mat-label>Media Type</mat-label>\r\n    <input\r\n      matInput\r\n      [(ngModel)]=\"s1Application.refTypeOfMedium\"\r\n      name=\"refTypeOfMedium\"\r\n      readonly=\"isAscUser && isDisableFieldOnUpdate\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <!-- SELCETED: SINGLE MEDIA -->\r\n  <mat-form-field\r\n    class=\"col-md-11\"\r\n    appearance=\"outline\"\r\n    *ngIf=\"s1Application?.refTypeOfMedium == 'SINGLE MEDIA'\"\r\n  >\r\n    <mat-label>Single Media <span class=\"required\">*</span></mat-label>\r\n    <mat-select\r\n      [(ngModel)]=\"typeOfMedium\"\r\n      name=\"typeOfMedium\"\r\n      [compareWith]=\"compareSingleMedia\"\r\n      [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      (selectionChange)=\"setSingleMedia(typeOfMedium)\"\r\n    >\r\n      <mat-option *ngFor=\"let i of typeOfMediumList\" [value]=\"i\">\r\n        {{ i.description }}\r\n      </mat-option>\r\n    </mat-select>\r\n  </mat-form-field>\r\n\r\n  <!-- <section class=\"example-section\" *ngIf=\"isDigitalStatic\">\r\n      <mat-checkbox class=\"example-margin\" [(ngModel)]=\"checked\" [checked]=\"isDigitalStatic\">With landing page\r\n      </mat-checkbox>\r\n    </section> -->\r\n\r\n  <br /><br />\r\n\r\n  <div *ngIf=\"s1Application.refTypeOfMedium == 'SINGLE MEDIA'\">\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.executionEnable === true ||\r\n        (applicationSingleMedia?.mediumExecution &&\r\n          typeOfMedium?.executionEnable === undefined)\r\n      \"\r\n    >\r\n      <mat-label>Execution <span class=\"required\">*</span></mat-label>\r\n      <mat-select\r\n        [(ngModel)]=\"applicationSingleMedia.mediumExecution\"\r\n        name=\"mediumExecution\"\r\n        [compareWith]=\"compareMediumExecution\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n        (selectionChange)=\"emitSingleMediaChanges()\"\r\n      >\r\n        <mat-option *ngFor=\"let i of executionList\" [value]=\"i\">\r\n          {{ i.typeOfExecution.typeOfExecution }}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.languageEnable == true ||\r\n        (applicationSingleMedia?.dialect != null &&\r\n          typeOfMedium?.languageEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Language/Dialect</mat-label>\r\n      <mat-select\r\n        [(ngModel)]=\"applicationSingleMedia.dialect\"\r\n        name=\"dialect\"\r\n        [compareWith]=\"compareDialect\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      >\r\n        <mat-option *ngFor=\"let i of dialectList\" [value]=\"i\">\r\n          {{ i.dialect }}\r\n        </mat-option>\r\n      </mat-select>\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.othersEnable == true ||\r\n        (applicationSingleMedia?.others &&\r\n          typeOfMedium?.othersEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Others</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"applicationSingleMedia.others\"\r\n        name=\"others\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <!-- <mat-form-field class=\"col-md-3 media-info\" appearance=\"outline\"\r\n        *ngIf=\"typeOfMedium.sizeLengthEnable==true||(applicationSingleMedia.sizeLength&&typeOfMedium.sizeLengthEnable==undefined)\">\r\n        <mat-label>Size Length</mat-label>\r\n        <input matInput [(ngModel)]=\"applicationSingleMedia.sizeLength\" formControlName=\"sizeLength\"\r\n          [readonly]=\"isAscUser && isDisableFieldOnUpdate\">\r\n      </mat-form-field> -->\r\n    <mat-form-field\r\n      class=\"col-md-3 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.lengthEnable == true ||\r\n        typeOfMedium?.sizeLengthEnable == true ||\r\n        (applicationSingleMedia?.sizeLength &&\r\n          typeOfMedium?.sizeLengthEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Size Length (in seconds)</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"applicationSingleMedia.sizeLength\"\r\n        name=\"sizeLength\"\r\n        (keydown)=\"isNumber($event)\"\r\n        (keyup)=\"emitSingleMediaChanges()\"\r\n        [readonly]=\"\r\n          isAscUser &&\r\n          isDisableFieldOnUpdate &&\r\n          currentUser?.userRole?.name !== 'ROLE_ADMIN' &&\r\n          currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN'\r\n        \"\r\n        (blur)=\"emitSingleMediaChanges()\"\r\n        maxlength=\"4\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.widthEnable == true ||\r\n        (applicationSingleMedia?.width &&\r\n          typeOfMedium?.othersEnable == undefined)\r\n      \"\r\n    >\r\n      <mat-label>Width</mat-label>\r\n      <input\r\n        matInput\r\n        [(ngModel)]=\"applicationSingleMedia.width\"\r\n        name=\"width\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <!-- SELCETED: MULTIMEDIA -->\r\n  <div\r\n    *ngIf=\"\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\r\n    \"\r\n  >\r\n    <mat-radio-group\r\n      class=\"col-md-12\"\r\n      aria-label=\"Select an option\"\r\n      [(ngModel)]=\"s1Application.refTypeOfMedium\"\r\n      name=\"refTypeOfMedium\"\r\n      [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      (change)=\"\r\n        getTypeOfMedium(s1Application.refTypeOfMedium); emitMultimediaChanges()\r\n      \"\r\n    >\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-MOVING\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      >\r\n        MULTIMEDIA-MOVING\r\n      </mat-radio-button>\r\n      &nbsp;&nbsp;\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-STATIC\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\"\r\n        [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      >\r\n        MULTIMEDIA-STATIC(MAX OF 5 LAYOUT)</mat-radio-button\r\n      >\r\n    </mat-radio-group>\r\n\r\n    <span *ngIf=\"!isAscUser && !isDisableFieldOnUpdate\"> <br /><br /> </span>\r\n\r\n    <div\r\n      class=\"row\"\r\n      *ngIf=\"\r\n        selectMultimedia ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\r\n      \"\r\n    >\r\n      <div class=\"col-md-12\" appearance=\"outline\">\r\n        <!-- <span  *ngFor=\"let s of selectedMultimediaList;\">\r\n              <table *ngIf=\"i?.description==s.typeOfMedium?.description\">\r\n                <tr>\r\n                  <td>\r\n                    <mat-checkbox [checked]=\"true\"\r\n                      [disabled]=\"isAscUser && isDisableFieldOnUpdate\">\r\n                      {{i?.description}}{{i?.sizeLength}}</mat-checkbox>\r\n                  </td>\r\n                  <td>{{s?.multimediaSizeLength}}\r\n                    <input type=\"text\" class=\"form-control\" [(ngModel)]=\"i.sizeLength\" (blur)=\"addMultimedia(i)\" formControlName=\"sizeLength\"\r\n                      name=\"sizeLength\" maxlength=\"200\" placeholder=\"Size/Length\">\r\n                  </td>\r\n                </tr>\r\n              </table>\r\n          </span> -->\r\n        <table>\r\n          <!-- <tr *ngFor=\"let i of typeOfMediumList; let index = index\">\r\n              <td>\r\n                <mat-checkbox [checked]=\"selectedMultimediaStringList.includes(i?.description)\"\r\n                  [disabled]=\"isAscUser && isDisableFieldOnUpdate\">\r\n                  {{i?.description}}</mat-checkbox>\r\n              </td>\r\n              <td>\r\n                  <input type=\"text\" class=\"form-control\" [value]=\"i?.sizeLength ? i?.sizeLength : 0\" (blur)=\"emitMultimediaChanges()\" (keyup)=\"addMultimedia(i, $event); emitMultimediaChanges()\"\r\n                    name=\"sizeLength\" maxlength=\"4\" placeholder=\"Size/Length (in seconds)\" (keydown)=\"validateFieldService.numbersOnly($event)\"\r\n                    [readonly]=\"((isAscUser && isDisableFieldOnUpdate) && (currentUser?.userRole?.name !== 'ROLE_ADMIN' && currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN')) && (s1Application?.decisionStatus !== 'APPROVED' || s1Application?.decisionStatus !== 'APPROVED_WITH_CAUTION') \">\r\n              </td>\r\n            </tr> -->\r\n\r\n          <ng-container\r\n            *ngIf=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\"\r\n          >\r\n            <tr\r\n              *ngFor=\"\r\n                let item of multimediaMovingDTO.applicationMultimediaMovingList;\r\n                let i = index\r\n              \"\r\n              style=\"height: 40px\"\r\n            >\r\n              <td>\r\n                <mat-checkbox\r\n                  [(ngModel)]=\"item.hasSelected\"\r\n                  [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                  (click)=\"emitMultimediaChanges()\"\r\n                >\r\n                  {{ item.multimediaMovingMedium | uppercase }}\r\n                </mat-checkbox>\r\n              </td>\r\n              <td *ngIf=\"i === 0\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  name=\"sizeLength\"\r\n                  maxlength=\"4\"\r\n                  placeholder=\"Size/Length (in seconds)\"\r\n                  (keydown)=\"isNumber($event)\"\r\n                  (blur)=\"emitMultimediaChanges()\"\r\n                  (keyup)=\"emitMultimediaChanges()\"\r\n                  [(ngModel)]=\"multimediaMovingDTO.sizeLength\"\r\n                  [readonly]=\"\r\n                    isAscUser &&\r\n                    isDisableFieldOnUpdate &&\r\n                    currentUser?.userRole?.name !== 'ROLE_ADMIN' &&\r\n                    currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN' &&\r\n                    (s1Application?.decisionStatus !== 'APPROVED' ||\r\n                      s1Application?.decisionStatus !== 'APPROVED_WITH_CAUTION')\r\n                  \"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </ng-container>\r\n          <ng-container\r\n            *ngIf=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\"\r\n          >\r\n            <tr\r\n              *ngFor=\"\r\n                let item of multimediaStaticDTO.applicationMultimediaStaticList;\r\n                let i = index\r\n              \"\r\n              style=\"height: 40px\"\r\n            >\r\n              <td>\r\n                <mat-checkbox\r\n                  [(ngModel)]=\"item.hasSelected\"\r\n                  [disabled]=\"isAscUser && isDisableFieldOnUpdate\"\r\n                >\r\n                  {{ item.multimediaStaticMedium | uppercase }}\r\n                </mat-checkbox>\r\n              </td>\r\n              <td *ngIf=\"item.multimediaStaticMedium !== 'digital static'\">\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [name]=\"item.multimediaStaticMedium\"\r\n                  maxlength=\"4\"\r\n                  placeholder=\"Size/Length (in seconds)\"\r\n                  (keydown)=\"isNumber($event)\"\r\n                  (blur)=\"emitMultimediaChanges()\"\r\n                  (keyup)=\"emitMultimediaChanges()\"\r\n                  [(ngModel)]=\"item.sizeLength\"\r\n                  [readonly]=\"\r\n                    isAscUser &&\r\n                    isDisableFieldOnUpdate &&\r\n                    currentUser?.userRole?.name !== 'ROLE_ADMIN' &&\r\n                    currentUser?.userRole?.name !== 'ROLE_SUPER_ADMIN' &&\r\n                    (s1Application?.decisionStatus !== 'APPROVED' ||\r\n                      s1Application?.decisionStatus !== 'APPROVED_WITH_CAUTION')\r\n                  \"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </ng-container>\r\n        </table>\r\n      </div>\r\n\r\n      <!-- <div class=\"col-md-5\" *ngIf=\"s1Application.refTypeOfMedium=='MULTIMEDIA-MOVING'\">\r\n            <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n              <mat-label>Length-{{mt}}++{{i.id}}</mat-label>\r\n              <input matInput [(ngModel)]=\"multimediaLength\" (change)=\"updateSizeLength(mt,multimediaLength)\"\r\n                formControlName=\"multimediaLength\" [readonly]=\"isAscUser\">\r\n            </mat-form-field>\r\n          </div>\r\n          <div class=\"col-md-5\" *ngIf=\"s1Application.refTypeOfMedium=='MULTIMEDIA-STATIC'\">\r\n            <mat-form-field class=\"col-md-4\" appearance=\"outline\">\r\n              <mat-label>Size</mat-label>\r\n              <input matInput [(ngModel)]=\"applicationMultimediaStatic.multimediaSize\"  (change)=\"updateSizeLength(i)\"\r\n               formControlName=\"multimediaSize\" [readonly]=\"isAscUser\">\r\n            </mat-form-field>\r\n          </div> -->\r\n    </div>\r\n\r\n    <div class=\"row\"><br /></div>\r\n  </div>\r\n  <br /><br />\r\n</div>\r\n<!-- END OF FOR S1 APPLICATION -->\r\n\r\n<!-- ATTACHMENT SECTION -->\r\n<!-- FOR S1 APPLICATION -->\r\n<span\r\n  class=\"row fields\"\r\n  *ngIf=\"\r\n    (((!specialApplicationType.includes(\r\n      s1Application?.applicationType?.description?.toUpperCase()\r\n    ) ||\r\n      (specialApplicationType.includes(\r\n        s1Application?.applicationType?.description?.toUpperCase()\r\n      ) &&\r\n        s1Application?.applicationRequest?.status == 'APPROVED') ||\r\n      (s1Application?.formType === 'MULTIPLE' &&\r\n        s1Application?.multipleApplication)) &&\r\n      s1Application?.formType !== 'MULTIPLE') ||\r\n      (s1Application?.formType === 'MULTIPLE' &&\r\n        s1Application?.multipleApplication)) &&\r\n    applicationStage !== 'S2-APPLICATION'\r\n  \"\r\n>\r\n  <app-attachment-document\r\n    [s1Application]=\"s1Application\"\r\n    [labelMainDocument]=\"labelMainDocument\"\r\n    [isAscUser]=\"isAscUser\"\r\n    [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n    [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n    [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n    [complianceAttachmentDocuments]=\"complianceAttachmentDocuments\"\r\n    [applicationStage]=\"applicationStage\"\r\n  >\r\n  </app-attachment-document>\r\n\r\n  <!--  [showMainDocumentUploadButton]=\"showMainDocumentUploadButton\" [showMainDocumentViewButton]=\"showMainDocumentViewButton\" [safeURLMainDoc]=\"safeURLMainDoc\"\r\n     [showSupportDocumentFrame]=\"showSupportDocumentFrame\" [showSupportiveDocumentUploadButton]=\"showSupportiveDocumentUploadButton\" [showSupportiveDocumentViewButton]=\"showSupportiveDocumentViewButton\" [safeURLSupportDoc]=\"safeURLSupportDoc\"\r\n      [revisionLetterAttachment]=\"revisionLetterAttachment\" [showRevisionLetterUploadButton]=\"showRevisionLetterUploadButton\" [showRevisionLetterViewButton]=\"showRevisionLetterViewButton\" [safeURLRevisionLetter]=\"safeURLRevisionLetter\" -->\r\n\r\n  <!-- FOR S1 APPLICATION -->\r\n  <div class=\"row\">\r\n    <!-- <b *ngIf=\"currentUser?.userRole?.name=='ROLE_APPLICANT'\"><b class=\"material-icons\">error_outline</b> Attachments' total file size should not exceed 15MB.</b> -->\r\n\r\n    <!-- MAIN DOCUMENT -->\r\n    <!-- <div class=\"row\">\r\n        <h4>\r\n          <i class=\"material-icons\">bookmark</i> &nbsp;{{labelMainDocument}}\r\n        </h4>\r\n        <br>\r\n        <div class=\"col-md-12\" appearance=\"outline\">\r\n          <mat-label *ngIf=\"attachmentDocuments[0]?.originalFilename\">Filename: </mat-label>\r\n          <input #mainInput matInput [value]=\"attachmentDocuments[0]?.originalFilename\" disabled\r\n            *ngIf=\"attachmentDocuments[0]?.originalFilename\"><br>\r\n          <input #mainFile class=\"file-upload\" type=\"file\" accept=\".pdf\" (change)=\"selectFile($event, 'MAIN')\"\r\n            [hidden]=\"(isAscUser && isDisableFieldOnUpdate) || attachmentDocuments[0]?.originalFilename != null\"\r\n            *ngIf=\"attachmentDocuments?.length==0 || (attachmentDocuments?.length>=1 && attachmentDocuments[0]===null) || s1Application?.internalStatus=='SAVED'|| attachmentDocuments[0]?.originalFilename != null ||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\" />\r\n        </div>\r\n\r\n        <div class=\"row\"><br></div>\r\n        <div class=\"col-md-12\" appearance=\"outline\"\r\n          *ngIf=\"showMainDocumentUploadButton==true||attachmentDocuments?.length>0\">\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"viewDocument('MAIN')\"\r\n            *ngIf=\"showMainDocumentViewButton||s1Application?.mainAttachmentReference\">\r\n            <i class=\"material-icons add-document\">open_in_new</i> VIEW DOCUMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"deleteUploadedFile('MAIN')\"\r\n            [hidden]=\"!showMainDocumentViewButton&&!s1Application?.mainAttachmentReference||(currentUser?.userRole?.name!='ROLE_APPLICANT'&&currentUser?.userRole?.name!='ROLE_ENCODER')\"\r\n            *ngIf=\"showMainDocumentViewButton||s1Application?.mainAttachmentReference||(s1Application?.internalStatus=='SAVED'||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION')))\">\r\n            <i class=\"material-icons add-document\">delete</i> DELETE ATTACHMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\"\r\n            [disabled]=\"!safeURLMainDoc||!showMainDocumentUploadButton\" [hidden]=\"(isAscUser && isDisableFieldOnUpdate)\"\r\n            *ngIf=\"attachmentDocuments[0]?.originalFilename == null\">\r\n            <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n          </button>\r\n        </div>\r\n        <div class=\"col-md-12\">\r\n          <hr>\r\n        </div>\r\n      </div> -->\r\n\r\n    <!-- SUPPORTING DOC -->\r\n    <!-- <div class=\"row\" *ngIf=\"showSupportDocumentFrame==true || originalAttachmentDocuments?.length>0 || revisionAttachmentDocuments?.length>0 || complianceAttachmentDocuments?.length>0\"> -->\r\n    <!-- <h4>\r\n          <i class=\"material-icons\">bookmark</i> &nbsp;SUPPORT DOCUMENTS\r\n        </h4>\r\n\r\n        <div class=\"col-md-12\" appearance=\"outline\"\r\n          [hidden]=\"(isAscUser && isDisableFieldOnUpdate)||attachmentDocuments[1]?.originalFilename||s1Application?.supportingAttachmentReference\"\r\n          *ngIf=\"(attachmentDocuments?.length<2||attachmentDocuments?.length!=2)\">\r\n\r\n          <mat-checkbox (click)=\"verifyNoDocumentAttached()\" [(ngModel)]=\"s1Application.hasNoSupportingDocs\"\r\n            (checked)=\"s1Application.hasNoSupportingDocs\" formControlName=\"hasNoSupportingDocs\"\r\n            *ngIf=\"currentUser.userRole.name=='ROLE_APPLICANT' || (currentUser.userRole.name=='ROLE_ENCODER' && s1Application?.internalStatus === undefined )\">\r\n            I certify that no supporting document is attached to this S1 application.</mat-checkbox>\r\n          <br>\r\n        </div>\r\n\r\n        <p *ngIf=\"(currentUser.userRole.name!='ROLE_APPLICANT'&&s1Application.hasNoSupportingDocs)\r\n        ||(currentUser.userRole.name=='ROLE_AD_SPECIALIST'&&s1Application.hasNoSupportingDocs)\">\r\n          Supporting Document was not submitted.\r\n        </p>\r\n        <div class=\"col-md-12\"><br></div> -->\r\n\r\n    <!-- <div *ngIf=\"!s1Application.hasNoSupportingDocs\">\r\n          <div class=\"col-md-12\" appearance=\"outline\">\r\n            <mat-label *ngIf=\"attachmentDocuments[1]?.originalFilename\">Filename: </mat-label>\r\n            <input matInput [value]=\"attachmentDocuments[1]?.originalFilename\" disabled\r\n              *ngIf=\"attachmentDocuments[1]?.originalFilename\"><br>\r\n\r\n            <input #supportiveFile class=\"file-upload\" type=\"file\" accept=\".pdf\"\r\n              (change)=\"selectFile($event, 'SUPPORTIVE')\"\r\n              [hidden]=\"(isAscUser && isDisableFieldOnUpdate) || attachmentDocuments[1]?.originalFilename\"\r\n              *ngIf=\"attachmentDocuments?.length<2|| (attachmentDocuments?.length>=2 && attachmentDocuments[1]===null) ||s1Application?.internalStatus=='SAVED'|| attachmentDocuments[1]?.originalFilename != null ||\r\n              ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n               &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\" />\r\n          </div>\r\n\r\n          <div class=\"row\"><br></div>\r\n          <div class=\"col-md-12\" appearance=\"outline\"\r\n            *ngIf=\"showSupportiveDocumentUploadButton==true||attachmentDocuments?.length>1\">\r\n            <button mat-raised-button class=\"button-red button-right\" (click)=\"viewDocument('SUPPORTIVE')\"\r\n              *ngIf=\"showSupportiveDocumentViewButton||s1Application?.supportingAttachmentReference\">\r\n              <i class=\"material-icons add-document\">open_in_new</i> VIEW DOCUMENT\r\n            </button>\r\n            &nbsp; &nbsp;\r\n            <button mat-raised-button class=\"button-red button-right\" (click)=\"deleteUploadedFile('SUPPORTIVE')\"\r\n              [hidden]=\"!showSupportiveDocumentViewButton&&!s1Application?.supportingAttachmentReference||(currentUser?.userRole?.name!='ROLE_APPLICANT'&&currentUser?.userRole?.name!='ROLE_ENCODER')\"\r\n              *ngIf=\"showSupportiveDocumentViewButton||s1Application?.supportingAttachmentReference||(s1Application?.internalStatus=='SAVED'||\r\n              ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n                &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION')))\">\r\n              <i class=\"material-icons add-document\">delete</i> DELETE ATTACHMENT\r\n            </button>\r\n            &nbsp; &nbsp;\r\n            <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\"\r\n              [disabled]=\"!safeURLSupportDoc||!showSupportiveDocumentUploadButton\"\r\n              [hidden]=\"(isAscUser && isDisableFieldOnUpdate)\"\r\n              *ngIf=\"s1Application?.supportingAttachmentReference==null||showSupportiveDocumentUploadButton||attachmentDocuments[1]?.originalFilename === null\">\r\n              <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n            </button>\r\n          </div>\r\n          <div class=\"row\"><br></div>\r\n          <br>\r\n        </div> -->\r\n\r\n    <!-- FOR ADSPE / SCREENER / REVIEWER -->\r\n    <!-- <div class=\"row fields\"> -->\r\n    <div\r\n      class=\"col-md-12\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        currentUser.userRole.name == 'ROLE_AD_SPECIALIST' &&\r\n        (s1Application?.internalStatus ===\r\n          'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n          s1Application?.internalStatus ==\r\n            'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n          s1Application?.internalStatus === 'REVISION_VERIFIED_BY_ENCODER') &&\r\n        s1Application.supportingAttachmentReference !== null\r\n      \"\r\n    >\r\n      <!-- *ngIf=\"showSupportiveDocumentDownloadButton==true||attachmentDocuments?.length>1\" -->\r\n      <div class=\"row\"><br /></div>\r\n      <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n        <mat-label>Type of Document</mat-label>\r\n        <mat-select\r\n          [(ngModel)]=\"supportingDocument.typeOfDocument\"\r\n          name=\"typeOfDocument\"\r\n        >\r\n          <mat-option\r\n            *ngFor=\"let i of typeOfDocumentList\"\r\n            [value]=\"i\"\r\n            (click)=\"setTypeOfDocument(i)\"\r\n          >\r\n            {{ i.description }}\r\n          </mat-option>\r\n        </mat-select>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 hideIndex\"\r\n        appearance=\"outline\"\r\n        style=\"display: none\"\r\n      >\r\n        <mat-label>index</mat-label>\r\n        <input matInput [value]=\"supportingDocumentIndex\" />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.inputEnable\"\r\n      >\r\n        <input matInput [(ngModel)]=\"supportingDocument.input\" name=\"input\" />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.variantEnable\"\r\n      >\r\n        <mat-label>Variant</mat-label>\r\n        <input\r\n          matInput\r\n          [(ngModel)]=\"supportingDocument.variant\"\r\n          name=\"variant\"\r\n        />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.expiresOnEnable\"\r\n      >\r\n        <mat-label>Expires on</mat-label>\r\n        <input\r\n          matInput\r\n          placeholder=\"Date\"\r\n          [matDatepicker]=\"expiresOn\"\r\n          readonly\r\n          [min]=\"todayDate\"\r\n          [(ngModel)]=\"supportingDocument.expiresOn\"\r\n          name=\"expiresOn\"\r\n          [readonly]=\"true\"\r\n        />\r\n        <mat-datepicker-toggle matSuffix [for]=\"expiresOn\">\r\n          <mat-datepicker color=\"warn\" #expiresOn></mat-datepicker>\r\n        </mat-datepicker-toggle>\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.basedOnEnable\"\r\n      >\r\n        <mat-label>Based on</mat-label>\r\n        <input\r\n          matInput\r\n          [(ngModel)]=\"supportingDocument.basedOn\"\r\n          name=\"basedOn\"\r\n          required\r\n        />\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.dateOfLaunchEnable\"\r\n      >\r\n        <mat-label>Date of Launch</mat-label>\r\n        <input\r\n          matInput\r\n          placeholder=\"Date\"\r\n          [matDatepicker]=\"dateOfLaunch\"\r\n          readonly\r\n          [min]=\"todayDate\"\r\n          [(ngModel)]=\"supportingDocument.dateOfLaunch\"\r\n          name=\"dateOfLaunch\"\r\n          [readonly]=\"true\"\r\n        />\r\n        <mat-datepicker-toggle matSuffix [for]=\"dateOfLaunch\">\r\n          <mat-datepicker color=\"warn\" #dateOfLaunch></mat-datepicker>\r\n        </mat-datepicker-toggle>\r\n        <!-- <input matInput [(ngModel)]=\"supportingDocument.dateOfLaunch\" formControlName=\"dateOfLaunch\" name=\"dateOfLaunch\"> -->\r\n      </mat-form-field>\r\n\r\n      <mat-form-field\r\n        class=\"col-md-6 document-form-margin\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"typeOfDocument?.remarksEnable\"\r\n      >\r\n        <mat-label>Remarks</mat-label>\r\n        <textarea\r\n          matInput\r\n          [(ngModel)]=\"supportingDocument.remarks\"\r\n          name=\"remarks\"\r\n        ></textarea>\r\n      </mat-form-field>\r\n      <br />\r\n\r\n      <div class=\"col-md-12\" *ngIf=\"!isUpdate\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"col-md-12 button-red\"\r\n          [disabled]=\"\r\n            supportingDocument.typeOfDocument === undefined ||\r\n            (typeOfDocument?.variantEnable &&\r\n              (supportingDocument.variant === undefined ||\r\n                supportingDocument.variant === '')) ||\r\n            (typeOfDocument?.expiresOnEnable &&\r\n              supportingDocument.expiresOn === undefined) ||\r\n            (typeOfDocument?.basedOnEnable &&\r\n              supportingDocument.basedOn === undefined) ||\r\n            (typeOfDocument?.dateOfLaunchEnable &&\r\n              supportingDocument.dateOfLaunch === undefined) ||\r\n            (typeOfDocument?.remarksEnable &&\r\n              supportingDocument.remarks === undefined)\r\n          \"\r\n          (click)=\"addSupportiveDocument(supportingDocument)\"\r\n        >\r\n          <i class=\"material-icons add-document\">task_alt</i> ADD TO LIST\r\n        </button>\r\n      </div>\r\n      &nbsp;&nbsp;\r\n      <div class=\"col-md-12\" *ngIf=\"isUpdate\">\r\n        <button\r\n          mat-raised-button\r\n          class=\"col-md-12 button-red\"\r\n          (click)=\"\r\n            modifyTypeOfDocument(supportingDocument, supportingDocumentIndex)\r\n          \"\r\n          [disabled]=\"supportingDocument.typeOfDocument === undefined\"\r\n        >\r\n          <i class=\"material-icons add-document\">task_alt</i> Update\r\n        </button>\r\n      </div>\r\n      <div class=\"row\"><br /></div>\r\n      <hr />\r\n    </div>\r\n\r\n    <div class=\"col-md-12\">\r\n      <div\r\n        class=\"col-md-12 mat-elevation-z8 fields\"\r\n        appearance=\"outline\"\r\n        *ngIf=\"supportiveDocumentList?.length > 0\"\r\n      >\r\n        <table\r\n          mat-table\r\n          [dataSource]=\"dataSource || supportiveDocumentList\"\r\n          matSort\r\n        >\r\n          <ng-container matColumnDef=\"id\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header>\r\n              TYPE OF DOCUMENT\r\n            </th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\">{{ i }}</td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"typeOfDocument\">\r\n            <th mat-header-cell *matHeaderCellDef>TYPE OF DOCUMENT</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.typeOfDocument?.description }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"input\">\r\n            <th mat-header-cell *matHeaderCellDef>INPUT</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.input == undefined ? \"N/A\" : element?.input }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"variant\">\r\n            <th mat-header-cell *matHeaderCellDef>VARIANT</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.variant == undefined ? \"N/A\" : element?.variant }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"expiresOn\">\r\n            <th mat-header-cell *matHeaderCellDef>EXPIRES ON</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{\r\n                element?.expiresOn == undefined\r\n                  ? \"N/A\"\r\n                  : (element?.expiresOn | date: \"yyyy-MM-dd\")\r\n              }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"basedOn\">\r\n            <th mat-header-cell *matHeaderCellDef>BASED ON</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{\r\n                element?.basedOn == undefined\r\n                  ? \"N/A\"\r\n                  : (element?.basedOn | date: \"yyyy-MM-dd\")\r\n              }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"remarks\">\r\n            <th mat-header-cell *matHeaderCellDef>REMARKS</th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n              {{ element?.remarks == undefined ? \"N/A\" : element?.remarks }}\r\n            </td>\r\n          </ng-container>\r\n\r\n          <ng-container matColumnDef=\"action\">\r\n            <th mat-header-cell *matHeaderCellDef>ACTIONS</th>\r\n            <td mat-cell *matCellDef=\"let element; let i = index\">\r\n              <!-- <span class=\"a-icon\">\r\n                    <i class=\"material-icons\" style=\"color:blue\" (click)=\"getTypeOfDocument(element, i)\">edit</i>\r\n                  </span> -->\r\n              <span\r\n                class=\"a-icon\"\r\n                [hidden]=\"s1Application?.hasOngoingAppeal\"\r\n                *ngIf=\"\r\n                  s1Application?.internalStatus ===\r\n                    'S1_APPLICATION_VERIFIED_BY_ENCODER' ||\r\n                  s1Application?.internalStatus ==\r\n                    'COMPLIANCE_DOCUMENT_VERIFIED_BY_ENCODER' ||\r\n                  s1Application?.internalStatus ===\r\n                    'REVISION_VERIFIED_BY_ENCODER'\r\n                \"\r\n              >\r\n                <i class=\"material-icons\" (click)=\"removeTypeOfDocument(i)\"\r\n                  >delete</i\r\n                >\r\n              </span>\r\n\r\n              <!-- <button >\r\n                      <i class=\"material-icons\" style=\"color:blue\">edit</i>\r\n                    </button> -->\r\n              <!-- <button (click)=\"removeTypeOfDocument(i)\">\r\n                      <i class=\"material-icons\">delete</i>\r\n                    </button> -->\r\n            </td>\r\n          </ng-container>\r\n\r\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\r\n        </table>\r\n        <div\r\n          class=\"no-record\"\r\n          [hidden]=\"dataSource && dataSource?.data?.length > 0\"\r\n          *ngIf=\"supportiveDocumentList?.length == 0\"\r\n        >\r\n          No supporting document found.\r\n        </div>\r\n        <!-- <mat-paginator [pageSizeOptions]=\"[10, 20, 50]\" showFirstLastButtons></mat-paginator> -->\r\n      </div>\r\n    </div>\r\n\r\n    <!-- </div> -->\r\n\r\n    <!-- FOR REVISION - REVISION LETTER -->\r\n    <!-- <div class=\"row\" *ngIf=\"(s1Application?.internalStatus==='S1_APPLICATION_REVIEWED'&&(s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\r\n      ||s1Application?.revisionLetterAttachmentReference\" [hidden]=\"s1Application?.appliedS2 && s1Application?.revisionLetterAttachmentReference === ''\">\r\n        <div class=\"col-md-12\">\r\n          <hr>\r\n        </div>\r\n        <h4>\r\n          <i class=\"material-icons\">bookmark</i> &nbsp;REVISION LETTER\r\n        </h4>\r\n        <br>\r\n        <div class=\"col-md-12\" appearance=\"outline\">\r\n          <mat-label\r\n            *ngIf=\"revisionLetterAttachment?.originalFilename||attachmentDocuments[1]?.revisionLetterAttachmentReference\">\r\n            Filename: </mat-label>\r\n          <input matInput\r\n            [value]=\"revisionLetterAttachment?.originalFilename||attachmentDocuments[1]?.revisionLetterAttachmentReference||attachmentDocuments[2]?.revisionLetterAttachmentReference\"\r\n            disabled *ngIf=\"revisionLetterAttachment?.originalFilename\"><br>\r\n\r\n          <input #revisionLetterFile class=\"file-upload\" type=\"file\" accept=\".pdf\"\r\n            (change)=\"selectFile($event, 'REVISION_LETTER')\"\r\n            [hidden]=\"(isAscUser && isDisableFieldOnUpdate)||revisionLetterAttachment?.originalFilename\"\r\n            *ngIf=\"attachmentDocuments?.length==0||s1Application?.internalStatus=='SAVED'||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION'))\" />\r\n        </div>\r\n\r\n        <div class=\"row\"><br></div>\r\n        <div class=\"col-md-12\" appearance=\"outline\"\r\n          *ngIf=\"showRevisionLetterUploadButton==true||attachmentDocuments?.length>1||s1Application?.revisionLetterAttachmentReference\">\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"viewDocument('REVISION_LETTER')\"\r\n            *ngIf=\"showRevisionLetterViewButton==true||s1Application?.revisionLetterAttachmentReference\">\r\n            <i class=\"material-icons add-document\">open_in_new</i> VIEW DOCUMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"deleteUploadedFile('REVISION_LETTER')\"\r\n            [hidden]=\"!showRevisionLetterViewButton&&!s1Application?.revisionLetterAttachmentReference||(currentUser?.userRole?.name!='ROLE_APPLICANT'&&currentUser?.userRole?.name!='ROLE_ENCODER')\"\r\n            *ngIf=\"showRevisionLetterViewButton||s1Application?.revisionLetterAttachmentReference||(s1Application?.internalStatus=='SAVED'||\r\n            ((s1Application?.internalStatus=='S1_APPLICATION_REVIEWED' || s1Application?.internalStatus=='COMPLIANCE_DOCUMENT_REVIEWED_BY_SCREENER')\r\n              &&(s1Application?.decisionStatus=='INCOMPLETE'||s1Application?.decisionStatus=='APPROVED'||s1Application?.decisionStatus=='APPROVED W/ CAUTION')))\">\r\n            <i class=\"material-icons add-document\">delete</i> DELETE ATTACHMENT\r\n          </button>\r\n          &nbsp; &nbsp;\r\n          <button mat-raised-button class=\"button-red button-right\" (click)=\"uploadDocument()\"\r\n            [disabled]=\"!safeURLRevisionLetter||!showRevisionLetterUploadButton\"\r\n            [hidden]=\"(isAscUser && isDisableFieldOnUpdate)\" *ngIf=\"showRevisionLetterUploadButton\">\r\n            <i class=\"material-icons add-document\">upload</i> UPLOAD\r\n          </button>\r\n        </div>\r\n        <div class=\"row\"><br></div>\r\n        <br>\r\n        <br>\r\n      </div> -->\r\n  </div>\r\n</span>\r\n\r\n<!--  //////////////////////////////////////// S2 APPLCIATION ///////////////////////////////////////////////////////////// -->\r\n\r\n<!-- FOR S2 APPLICATION -->\r\n<div class=\"row fields\" *ngIf=\"applicationStage === 'S2-APPLICATION'\">\r\n  <div class=\"row\">\r\n    <!-- FOR S1 APPLICATION -->\r\n    <mat-form-field class=\"col-md-12\" appearance=\"outline\">\r\n      <mat-label>Ad Title</mat-label>\r\n      <input\r\n        matInput\r\n        [value]=\"s1Application.adTitle\"\r\n        name=\"adTitle\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          applicationStage === 'S2-APPLICATION'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div class=\"row\">\r\n    <mat-form-field\r\n      class=\"col-md-6\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        s1Application?.formType !== 'MULTIPLE' ||\r\n        (s1Application?.formType === 'MULTIPLE' &&\r\n          s1Application.multipleApplication)\r\n      \"\r\n    >\r\n      <mat-label>Reference Code of Previously-Approved Material</mat-label>\r\n      <input\r\n        matInput\r\n        [value]=\"s1Application.previousRefCode\"\r\n        name=\"previousRefCode\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          applicationStage === 'S2-APPLICATION'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n      <mat-label>Tag Line</mat-label>\r\n      <input\r\n        matInput\r\n        [value]=\"s1Application.tagLine\"\r\n        name=\"tagLine\"\r\n        [readonly]=\"\r\n          (isAscUser && isDisableFieldOnUpdate) ||\r\n          applicationStage === 'S2-APPLICATION'\r\n        \"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n</div>\r\n\r\n<!-- FOR S2 APPLICATION -->\r\n<div class=\"row fields\" *ngIf=\"applicationStage === 'S2-APPLICATION'\">\r\n  <h4><mat-icon>bookmark</mat-icon> &nbsp;TYPE OF MEDIUM</h4>\r\n\r\n  <mat-radio-group\r\n    class=\"col-md-12\"\r\n    aria-label=\"Select an option\"\r\n    [value]=\"s1Application.refTypeOfMedium\"\r\n    [disabled]=\"true\"\r\n  >\r\n    <mat-radio-button\r\n      value=\"SINGLE MEDIA\"\r\n      [checked]=\"\r\n        s2Application?.applicationForm?.refTypeOfMedium == 'SINGLE MEDIA'\r\n      \"\r\n    >\r\n      SINGLE MEDIA\r\n    </mat-radio-button>\r\n    &nbsp;&nbsp;\r\n    <mat-radio-button\r\n      value=\"MULTIMEDIA\"\r\n      [checked]=\"\r\n        selectMultimedia ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA' ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC' ||\r\n        s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\r\n      \"\r\n    >\r\n      MULTIMEDIA</mat-radio-button\r\n    >\r\n    <br /><br />\r\n  </mat-radio-group>\r\n  <mat-form-field\r\n    class=\"col-md-11\"\r\n    appearance=\"outline\"\r\n    *ngIf=\"s1Application.refTypeOfMedium == 'SINGLE MEDIA'\"\r\n  >\r\n    <mat-label>Single Media <span class=\"required\">*</span></mat-label>\r\n    <input\r\n      matInput\r\n      name=\"singleMedia\"\r\n      [value]=\"\r\n        applicationSingleMedia?.mediumExecution?.typeOfMedium?.description\r\n      \"\r\n      [readonly]=\"true\"\r\n    />\r\n  </mat-form-field>\r\n\r\n  <div *ngIf=\"s1Application.refTypeOfMedium == 'SINGLE MEDIA'\">\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.executionEnable == true ||\r\n        applicationSingleMedia?.mediumExecution ||\r\n        applicationSingleMedia?.mediumExecution?.typeOfExecution\r\n          ?.typeOfExecution === 'NO EXECUTION'\r\n      \"\r\n    >\r\n      <mat-label>Execution <span class=\"required\">*</span></mat-label>\r\n      <input\r\n        matInput\r\n        name=\"execution\"\r\n        [value]=\"\r\n          applicationSingleMedia?.mediumExecution?.typeOfExecution\r\n            ?.typeOfExecution\r\n        \"\r\n        [readonly]=\"true\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.languageEnable == true || applicationSingleMedia?.dialect\r\n      \"\r\n    >\r\n      <mat-label>Language/Dialect</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"language\"\r\n        [value]=\"applicationSingleMedia?.dialect?.dialect\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.othersEnable == true || applicationSingleMedia?.others\r\n      \"\r\n    >\r\n      <mat-label>Others</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"others\"\r\n        [value]=\"applicationSingleMedia?.others\"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-3 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"\r\n        typeOfMedium?.sizeLengthEnable == true ||\r\n        typeOfMedium?.lengthEnable == true ||\r\n        applicationSingleMedia?.sizeLength\r\n      \"\r\n    >\r\n      <mat-label>Size Length (in seconds)</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"sizeLength\"\r\n        [value]=\"\r\n          applicationSingleMedia?.sizeLength\r\n            ? applicationSingleMedia?.sizeLength\r\n            : 0\r\n        \"\r\n        [readonly]=\"true\"\r\n      />\r\n    </mat-form-field>\r\n\r\n    <mat-form-field\r\n      class=\"col-md-4 media-info\"\r\n      appearance=\"outline\"\r\n      *ngIf=\"typeOfMedium?.widthEnable == true || applicationSingleMedia?.width\"\r\n    >\r\n      <mat-label>Width</mat-label>\r\n      <input\r\n        matInput\r\n        name=\"width\"\r\n        [value]=\"\r\n          applicationSingleMedia?.width ? applicationSingleMedia?.width : 0\r\n        \"\r\n        [readonly]=\"isAscUser && isDisableFieldOnUpdate\"\r\n      />\r\n    </mat-form-field>\r\n  </div>\r\n\r\n  <div\r\n    *ngIf=\"\r\n      selectMultimedia == true ||\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n      s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\r\n    \"\r\n  >\r\n    <mat-radio-group\r\n      class=\"col-md-12\"\r\n      aria-label=\"Select an option\"\r\n      [value]=\"s1Application.refTypeOfMedium\"\r\n      [disabled]=\"true\"\r\n    >\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-MOVING\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-MOVING'\"\r\n      >\r\n        MULTIMEDIA-MOVING\r\n      </mat-radio-button>\r\n      &nbsp;&nbsp;\r\n      <mat-radio-button\r\n        value=\"MULTIMEDIA-STATIC\"\r\n        [checked]=\"s1Application.refTypeOfMedium == 'MULTIMEDIA-STATIC'\"\r\n      >\r\n        MULTIMEDIA-STATIC(MAX OF 5 LAYOUT)</mat-radio-button\r\n      >\r\n    </mat-radio-group>\r\n\r\n    <br /><br />\r\n    <div\r\n      class=\"row\"\r\n      *ngIf=\"\r\n        s1Application?.refTypeOfMedium == 'MULTIMEDIA-MOVING' ||\r\n        s1Application?.refTypeOfMedium == 'MULTIMEDIA-STATIC' ||\r\n        s1Application?.refTypeOfMedium == 'MULTIMEDIA'\r\n      \"\r\n    >\r\n      <!-- *ngIf=\"multimediaStaticList?.length==0&&multimediaMovingList?.length==0\"> -->\r\n      <div class=\"col-md-12\" appearance=\"outline\">\r\n        <span *ngFor=\"let i of typeOfMediumList; let mt = index\">\r\n          <table>\r\n            <tr>\r\n              <td>\r\n                <!-- <mat-checkbox [checked]=\"selectedMultimediaList.includes(i?.description)\"\r\n                    [disabled]=\"true\">\r\n                    {{i?.description}}</mat-checkbox> -->\r\n                <mat-checkbox\r\n                  [checked]=\"\r\n                    selectedMultimediaStringList.includes(i?.description)\r\n                  \"\r\n                  [disabled]=\"true\"\r\n                >\r\n                  {{ i?.description }}\r\n                </mat-checkbox>\r\n              </td>\r\n              <td>\r\n                <!--  -->\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [value]=\"i.sizeLength ? i.sizeLength : 0\"\r\n                  name=\"sizeLength\"\r\n                  maxlength=\"4\"\r\n                  placeholder=\"Size/Length (in seconds)\"\r\n                  *ngIf=\"\r\n                    s1Application?.id == undefined &&\r\n                    (s1Application?.refTypeOfMedium == 'MULTIMEDIA-STATIC' ||\r\n                      s1Application?.refTypeOfMedium == 'MULTIMEDIA-MOVING')\r\n                  \"\r\n                />\r\n\r\n                <!-- static -->\r\n                <!-- <input type=\"text\" class=\"form-control\" [value]=\" i.multimediaSize ? i.multimediaSize : '' \"\r\n                    name=\"sizeLength\" maxlength=\"200\" placeholder=\"Size\"\r\n                    *ngIf=\"s1Application?.id!=undefined&&s1Application?.refTypeOfMedium=='MULTIMEDIA-STATIC'\"\r\n                    [disabled]=\"true\"> -->\r\n\r\n                <!-- moving -->\r\n                <!-- <input type=\"text\" class=\"form-control\" [value]=\" i.multimediaLength ? i.multimediaLength : '' \"\r\n                    name=\"sizeLength\" maxlength=\"200\" placeholder=\"Length\"\r\n                    *ngIf=\"s1Application?.id!=undefined&&s1Application?.refTypeOfMedium=='MULTIMEDIA-MOVING'\"\r\n                    [disabled]=\"true\"> -->\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  class=\"form-control\"\r\n                  [value]=\"i.sizeLength ? i.sizeLength : 0\"\r\n                  *ngIf=\"\r\n                    s1Application?.id !== undefined &&\r\n                    (s1Application?.refTypeOfMedium === 'MULTIMEDIA-STATIC' ||\r\n                      s1Application?.refTypeOfMedium === 'MULTIMEDIA-MOVING')\r\n                  \"\r\n                  name=\"sizeLength\"\r\n                  maxlength=\"4\"\r\n                  placeholder=\"Size/Length (in seconds)\"\r\n                  [disabled]=\"true\"\r\n                />\r\n              </td>\r\n            </tr>\r\n          </table>\r\n          <br />\r\n        </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\"><br /></div>\r\n  </div>\r\n  <br /><br />\r\n</div>\r\n\r\n<!-- FOR S2 APPLICATION  MAIN DOC-->\r\n<div *ngIf=\"applicationStage === 'S2-APPLICATION'\">\r\n  <span class=\"row fields\">\r\n    <app-attachment-document\r\n      [originalAttachmentDocuments]=\"originalAttachmentDocuments\"\r\n      [revisionAttachmentDocuments]=\"revisionAttachmentDocuments\"\r\n      [(complianceAttachmentDocuments)]=\"complianceAttachmentDocuments\"\r\n      [s1Application]=\"s1Application\"\r\n      [labelMainDocument]=\"labelMainDocument\"\r\n      [isAscUser]=\"isAscUser\"\r\n      [isDisableFieldOnUpdate]=\"isDisableFieldOnUpdate\"\r\n      [applicationStage]=\"applicationStage\"\r\n    ></app-attachment-document>\r\n\r\n    <!-- [showMainDocumentUploadButton]=\"showMainDocumentUploadButton\" [showMainDocumentViewButton]=\"showMainDocumentViewButton\" [safeURLMainDoc]=\"safeURLMainDoc\"\r\n      [showSupportDocumentFrame]=\"showSupportDocumentFrame\" [showSupportiveDocumentUploadButton]=\"showSupportiveDocumentUploadButton\" [showSupportiveDocumentViewButton]=\"showSupportiveDocumentViewButton\" [safeURLSupportDoc]=\"safeURLSupportDoc\"\r\n      [revisionLetterAttachment]=\"revisionLetterAttachment\" [showRevisionLetterUploadButton]=\"showRevisionLetterUploadButton\" [showRevisionLetterViewButton]=\"showRevisionLetterViewButton\" [safeURLRevisionLetter]=\"safeURLRevisionLetter\" -->\r\n  </span>\r\n</div>\r\n\r\n<!-- </form> -->\r\n","import { Component, Inject, OnInit, Optional, ViewChild } from '@angular/core';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { MatSort } from '@angular/material/sort';\r\nimport { MatTable, MatTableDataSource } from '@angular/material/table';\r\nimport { PerformanceMetrics } from '@models';\r\nimport { ApiService } from '@services';\r\nimport { ENDPOINTS } from '@shared';\r\n\r\n@Component({\r\n  selector: 'app-performance-metrics',\r\n  templateUrl: './performance-metrics.component.html',\r\n  styleUrls: ['./performance-metrics.component.scss']\r\n})\r\nexport class PerformanceMetricsComponent implements OnInit {\r\n  @ViewChild(MatPaginator, { static: false }) paginator: MatPaginator;\r\n  @ViewChild(MatSort, { static: false }) sort: MatSort;\r\n  @ViewChild(MatTable, { static: false }) table: MatTable<PerformanceMetrics>;\r\n\r\n  dataSource: MatTableDataSource<PerformanceMetrics>;\r\n  displayedColumns: string[] = [\r\n    // 'referenceCode',\r\n    // 'appFormReference',\r\n    'movement',\r\n    'lastUpdate',\r\n    'duration',\r\n    'actionBy'\r\n  ];\r\n\r\n  performanceMetricsList = [];\r\n  referenceCode: any;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    @Optional() public dialogRef: MatDialogRef<PerformanceMetricsComponent>,\r\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any\r\n  ) {\r\n    if (data) {\r\n      this.getPerformanceMatricsList(data.appFormReference);\r\n      this.referenceCode = data.referenceCode;\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getPerformanceMatricsList(appFormReference) {\r\n    this.apiService.findByParam(ENDPOINTS.performanceMetrics, appFormReference).subscribe((res: any) => {\r\n      this.performanceMetricsList = res;\r\n      this.dataSource = new MatTableDataSource<PerformanceMetrics>(this.performanceMetricsList);\r\n      this.dataSource.paginator = this.paginator;\r\n      this.dataSource.sort = this.sort;\r\n    });\r\n  }\r\n\r\n  closeDialog() {\r\n    this.dialogRef.close();\r\n  }\r\n\r\n}\r\n","<button mat-raised-button class=\"button-left button-red\">\r\n    <span class=\"material-icons\">new_releases</span> {{referenceCode}} </button>\r\n<button mat-raised-button class=\"button-right button-red\" (click)=\"closeDialog()\">\r\n    <i class=\"material-icons color__white\">close</i> CLOSE\r\n</button>\r\n<br>\r\n<div class=\"mat-elevation-z8\">\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n\r\n        <!-- <ng-container matColumnDef=\"referenceCode\">\r\n            <th mat-header-cell *matHeaderCellDef> Reference Code </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.referenceCode }}\r\n            </td>\r\n        </ng-container> -->\r\n\r\n        <ng-container matColumnDef=\"appFormReference\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Application Form Reference </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.appFormReference }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"movement\">\r\n            <th mat-header-cell *matHeaderCellDef> Movement </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.movement.replaceAll('_', ' ') }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"lastUpdate\">\r\n            <th mat-header-cell *matHeaderCellDef> Date of Action </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.previousDateTime | date:'MM/dd/yyyy hh:mm a' }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"duration\">\r\n            <th mat-header-cell *matHeaderCellDef> Duration </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.duration }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"actionBy\">\r\n            <th mat-header-cell *matHeaderCellDef> Action By </th>\r\n            <td mat-cell *matCellDef=\"let element\">\r\n                {{ element?.actionBy }}\r\n            </td>\r\n        </ng-container>\r\n\r\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n    <div class=\"no-record\" [hidden]=\"dataSource && dataSource?.data?.length > 0\">\r\n        No record found.\r\n    </div>\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons></mat-paginator>\r\n\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ReassignmentRoutingModule } from './reassignment-routing.module';\r\nimport { ReassignmentComponent } from './reassignment.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { FragmentsModule } from 'app/modules/fragments/fragments.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ReassignmentComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReassignmentRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    AngularMaterialModule,\r\n    FragmentsModule,\r\n  ]\r\n})\r\nexport class ReassignmentModule { }\r\n","export * from './company.module';\r\nexport * from './add-company/add-company.component';\r\nexport * from './add-company/add-company.module';\r\nexport * from './list-company/list-company.component';\r\nexport * from './list-company/list-company.module';"]}