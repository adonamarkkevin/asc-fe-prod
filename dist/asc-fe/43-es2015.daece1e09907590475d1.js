(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"1kjv":function(e,t,r){"use strict";r.d(t,"a",(function(){return F}));var n=r("3Pt+"),o=r("+0xr"),i=r("3swC"),a=r("M0ag"),s=r("sKXY"),c=r("PSD3"),l=r.n(c),d=r("fXoL"),u=r("dJ3e"),m=r("kmnG"),p=r("qFsG"),g=r("ofXK"),f=r("TPGS"),h=r("DeKZ"),y=r("d3UM"),v=r("FKr1");function S(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"mat-option",13),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;d["\u0275\u0275property"]("value",e.status),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",e.status," ")}}function C(e,t){if(1&e){const e=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementStart"](0,"mat-form-field",10),d["\u0275\u0275elementStart"](1,"mat-label"),d["\u0275\u0275text"](2,"Status"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](3,"mat-select",11),d["\u0275\u0275listener"]("ngModelChange",(function(t){return d["\u0275\u0275restoreView"](e),d["\u0275\u0275nextContext"]().category.status=t})),d["\u0275\u0275template"](4,S,2,2,"mat-option",12),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()}if(2&e){const e=d["\u0275\u0275nextContext"]();d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("ngModel",e.category.status),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngForOf",e.statusList)}}let F=(()=>{class e{constructor(e,t,r){this.apiService=e,this.formBuilder=t,this.sweetAlertService=r,this.displayedColumns=["categoryDescription","status"],this.statusList=[...a.A],this.category=new s.j,this.categoryList=[],this.isExist=!1}ngOnInit(){this.getList(),this.setFormValidator()}getList(){this.apiService.findAll(a.n.category).subscribe(e=>{this.categoryList=e.responseData.data,this.dataSource=new o.p(e.responseData.data),this.dataSource.paginator=this.formListComponent.paginator,this.dataSource.sort=this.formListComponent.sort})}save(){this.apiService.save(a.n.category,this.category).subscribe(e=>{void 0!==e&&this.sweetAlertService.success(e)},e=>{this.sweetAlertService.error(e)},()=>{this.resetFormValidator(),this.getList()})}checkCategoryIfExisting(e){let t=[];this.apiService.findAll(a.n.category).subscribe(r=>{t=r.responseData.data,t=t.filter(t=>t.description===e),t.length>0?this.sweetAlertService.customErrorMessage("Category name already exist."):this.category.id>0?this.update():this.save()})}getCategory(){this.apiService.findById(a.n.category,this.formListComponent.idForUpdate).subscribe(e=>{e&&(this.category=e.responseData.data)})}update(){this.apiService.update(a.n.category,this.category).subscribe(e=>{void 0!==e&&this.sweetAlertService.success(e)},e=>{this.sweetAlertService.error(e)},()=>{this.resetFormValidator(),this.getList()})}setFormValidator(){this.category.status=a.m.ACTIVE,this.categoryForm=this.formBuilder.group({description:["",n.H.required],status:[""]})}resetFormValidator(){this.category=new s.j,this.category.status=a.m.ACTIVE,this.categoryForm.markAsUntouched(),this.categoryForm.markAsPristine()}delete(){l.a.fire({text:"Are you sure you want to delete this company?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value&&this.apiService.deleteById(a.n.category,this.category.id).subscribe(()=>{this.sweetAlertService.customSuccessMessage("Category successfully deleted."),this.resetFormValidator(),this.getList()},e=>{this.sweetAlertService.error(e)},()=>{this.resetFormValidator(),this.getList()})})}}return e.\u0275fac=function(t){return new(t||e)(d["\u0275\u0275directiveInject"](u.b),d["\u0275\u0275directiveInject"](n.g),d["\u0275\u0275directiveInject"](u.e))},e.\u0275cmp=d["\u0275\u0275defineComponent"]({type:e,selectors:[["app-category"]],viewQuery:function(e,t){var r;1&e&&d["\u0275\u0275viewQuery"](i.a,!0),2&e&&d["\u0275\u0275queryRefresh"](r=d["\u0275\u0275loadQuery"]())&&(t.formListComponent=r.first)},decls:19,vars:7,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-8"],[1,"required-field"],["matInput","","name","description","formControlName","description",3,"ngModel","ngModelChange"],["class","col-md-4","appearance","outline",4,"ngIf"],[3,"childObject","childForm","saveFunction","updateFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],["appearance","outline",1,"col-md-4"],["name","status","formControlName","status",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"form"),d["\u0275\u0275elementStart"](1,"div",0),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"div",2),d["\u0275\u0275elementStart"](4,"mat-label"),d["\u0275\u0275text"](5," Category "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](6,"hr"),d["\u0275\u0275elementStart"](7,"form",3),d["\u0275\u0275elementStart"](8,"div",1),d["\u0275\u0275elementStart"](9,"mat-form-field",4),d["\u0275\u0275elementStart"](10,"mat-label"),d["\u0275\u0275text"](11,"Category: "),d["\u0275\u0275elementStart"](12,"span",5),d["\u0275\u0275text"](13,"*"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"input",6),d["\u0275\u0275listener"]("ngModelChange",(function(e){return t.category.description=e})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](15,C,5,2,"mat-form-field",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](16,"app-form-action-buttons",8),d["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("updateFunction",(function(){return t.update()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](17,"br"),d["\u0275\u0275elementStart"](18,"app-form-list",9),d["\u0275\u0275listener"]("selectInListFunction",(function(){return t.getCategory()})),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("formGroup",t.categoryForm),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngModel",t.category.description),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("ngIf",t.category.id),d["\u0275\u0275advance"](1),d["\u0275\u0275property"]("childObject",t.category)("childForm",t.categoryForm),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns))},directives:[n.J,n.u,n.v,m.g,n.l,m.c,p.b,n.d,n.t,n.j,g.t,f.a,h.a,y.a,g.s,v.m],styles:[""]}),e})()},BYy1:function(e,t,r){"use strict";r.r(t),r.d(t,"CategoryModule",(function(){return p}));var n=r("ofXK"),o=r("tyNb"),i=r("1kjv"),a=r("fXoL");const s=[{path:"",component:i.a}];let c=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.f.forChild(s)],o.f]}),e})();var l=r("tk/3"),d=r("3Pt+"),u=r("M0ag"),m=r("7Tf7");let p=(()=>{class e{}return e.\u0275mod=a["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[n.c,c,l.b,d.D,u.k,m.a]]}),e})()}}]);