!function(){function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)}function t(e,n){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,n)}function n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return a(this,n)}}function a(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(o.push(a.value),!t||o.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==n.return||n.return()}finally{if(l)throw r}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13,12,35],{"50w+":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=c((function e(){m(this,e)}))},EJ3x:function(e,t,n){"use strict";n.r(t),n.d(t,"AddPenaltyModule",(function(){return ke}));var a=n("ofXK"),r=n("tyNb"),i=n("9Vv1"),l=n("M9IT"),u=n("+0xr"),p=n("sKXY"),d=n("M0ag"),s=c((function e(){m(this,e)})),y=c((function e(){m(this,e)})),f=n("piSE"),h=n("PSD3"),v=n.n(h),g=n("fXoL"),b=n("dJ3e"),S=n("jhN1"),x=n("TMp0"),C=n("JqCM"),P=n("r74M"),w=n("3Pt+"),A=n("kmnG"),M=n("bTqV"),R=n("qFsG"),E=n("Dh3D"),D=n("d3UM"),I=n("FKr1");function F(e,t){if(1&e&&g["\u0275\u0275element"](0,"input",14),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("value",n.attachmentDocument.originalFilename||(null==n.objAttachmentReference?null:n.objAttachmentReference.brandPenaltyAttachmentReference)||(null==n.objAttachmentReference?null:n.objAttachmentReference.paymentAttachmentReference))}}function T(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"input",15),g["\u0275\u0275listener"]("change",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).selectFile(e)})),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("hidden",(null==a.objAttachmentReference?null:a.objAttachmentReference.brandPenaltyAttachmentReference)||(null==a.objAttachmentReference?null:a.objAttachmentReference.paymentAttachmentReference))}}function B(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Filename: "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](3,"br"),g["\u0275\u0275template"](4,F,1,1,"input",12),g["\u0275\u0275template"](5,T,1,1,"input",13),g["\u0275\u0275element"](6,"br"),g["\u0275\u0275element"](7,"br"),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngIf",n.attachmentDocument.originalFilename||(null==n.objAttachmentReference?null:n.objAttachmentReference.brandPenaltyAttachmentReference)||(null==n.objAttachmentReference?null:n.objAttachmentReference.paymentAttachmentReference)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",!n.attachmentDocument.originalFilename)}}function k(e,t){1&e&&g["\u0275\u0275elementContainer"](0)}function O(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275template"](1,k,1,0,"ng-container",16),g["\u0275\u0275elementEnd"]()),2&e){g["\u0275\u0275nextContext"]();var n=g["\u0275\u0275reference"](19);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngTemplateOutlet",n)}}function V(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",20),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).viewDocument()})),g["\u0275\u0275elementStart"](1,"i",21),g["\u0275\u0275text"](2,"open_in_new"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](3," VIEW DOCUMENT "),g["\u0275\u0275elementEnd"]()}}function j(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",22),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).uploadProofOfPayment()})),g["\u0275\u0275elementStart"](1,"i",21),g["\u0275\u0275text"](2,"upload"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](3," UPLOAD "),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275property"]("disabled",!a.safeURLBrand||!a.isShowUploadButton)("hidden",(null==a.objAttachmentReference?null:a.objAttachmentReference.brandPenaltyAttachmentReference)||(null==a.objAttachmentReference?null:a.objAttachmentReference.paymentAttachmentReference))}}function U(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",23),g["\u0275\u0275elementStart"](1,"div",24),g["\u0275\u0275elementStart"](2,"object",25),g["\u0275\u0275elementStart"](3,"iframe",26),g["\u0275\u0275elementStart"](4,"p"),g["\u0275\u0275text"](5,"This browser does not support PDF!"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("data",n.safeURLBrand,g["\u0275\u0275sanitizeResourceUrl"]),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("src",n.safeURLBrand,g["\u0275\u0275sanitizeResourceUrl"])}}function L(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",11),g["\u0275\u0275template"](1,V,4,0,"button",17),g["\u0275\u0275text"](2," \xa0 \xa0 "),g["\u0275\u0275template"](3,j,4,2,"button",18),g["\u0275\u0275element"](4,"br"),g["\u0275\u0275element"](5,"br"),g["\u0275\u0275template"](6,U,6,2,"div",19),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",(null==n.objAttachmentReference?null:n.objAttachmentReference.brandPenaltyAttachmentReference)||(null==n.objAttachmentReference?null:n.objAttachmentReference.paymentAttachmentReference)),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("ngIf",n.isShowUploadButton),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf",1==n.previewDocument&&((null==n.objAttachmentReference?null:n.objAttachmentReference.brandPenaltyAttachmentReference)||(null==n.objAttachmentReference?null:n.objAttachmentReference.paymentAttachmentReference)))}}function q(e,t){1&e&&g["\u0275\u0275elementContainer"](0)}function _(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275template"](1,q,1,0,"ng-container",16),g["\u0275\u0275elementEnd"]()),2&e){g["\u0275\u0275nextContext"]();var n=g["\u0275\u0275reference"](21);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngTemplateOutlet",n)}}function N(e,t){1&e&&g["\u0275\u0275elementContainer"](0)}function z(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",2),g["\u0275\u0275template"](1,N,1,0,"ng-container",16),g["\u0275\u0275elementEnd"]()),2&e){g["\u0275\u0275nextContext"]();var n=g["\u0275\u0275reference"](23);g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngTemplateOutlet",n)}}function $(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",43),g["\u0275\u0275text"](1," REFERENCE CODE "),g["\u0275\u0275elementEnd"]())}function W(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",44),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"](2).getPaymentDetails(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,null==a?null:a.referenceCode)," ")}}function Y(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",43),g["\u0275\u0275text"](1," BRAND "),g["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",44),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"](2).getPaymentDetails(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,null==a||null==a.brand?null:a.brand.description)," ")}}function J(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",43),g["\u0275\u0275text"](1," TYPE OF MEDIUM "),g["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",44),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"](2).getPaymentDetails(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,null==a?null:a.typeOfMedium)," ")}}function K(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"th",43),g["\u0275\u0275text"](1," PAYMENT STATUS "),g["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"td",44),g["\u0275\u0275listener"]("click",(function(){g["\u0275\u0275restoreView"](n);var e=t.$implicit;return g["\u0275\u0275nextContext"](2).getPaymentDetails(e)})),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,1,null==a||null==a.paymentStatus?null:a.paymentStatus.replaceAll("_"," "))," ")}}function Q(e,t){1&e&&g["\u0275\u0275element"](0,"tr",45)}function Z(e,t){1&e&&g["\u0275\u0275element"](0,"tr",46)}function ee(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",47),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).addPenalty("Delinquent")})),g["\u0275\u0275elementStart"](1,"i",5),g["\u0275\u0275text"](2,"task_alt"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](3," SUBMIT "),g["\u0275\u0275elementEnd"]()}}var te=function(){return{standalone:!0}},ne=function(){return[10,20,50]};function ae(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",27),g["\u0275\u0275elementStart"](1,"mat-form-field",11),g["\u0275\u0275elementStart"](2,"mat-label"),g["\u0275\u0275text"](3,"Company"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](4,"input",28),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().company.companyName=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](5,"mat-form-field",11),g["\u0275\u0275elementStart"](6,"mat-label"),g["\u0275\u0275text"](7,"Amount to Settle"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"input",29),g["\u0275\u0275listener"]("keydown",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().validateFieldService.numbersOnly(e)})),g["\u0275\u0275pipe"](9,"number"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"div",30),g["\u0275\u0275elementStart"](11,"table",31),g["\u0275\u0275elementContainerStart"](12,32),g["\u0275\u0275template"](13,$,2,0,"th",33),g["\u0275\u0275template"](14,W,3,3,"td",34),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](15,35),g["\u0275\u0275template"](16,Y,2,0,"th",33),g["\u0275\u0275template"](17,G,3,3,"td",34),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](18,36),g["\u0275\u0275template"](19,J,2,0,"th",33),g["\u0275\u0275template"](20,X,3,3,"td",34),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275elementContainerStart"](21,37),g["\u0275\u0275template"](22,K,2,0,"th",33),g["\u0275\u0275template"](23,H,3,3,"td",34),g["\u0275\u0275elementContainerEnd"](),g["\u0275\u0275template"](24,Q,1,0,"tr",38),g["\u0275\u0275template"](25,Z,1,0,"tr",39),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](26,"div",40),g["\u0275\u0275text"](27," No record found. "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](28,"mat-paginator",41),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](29,"br"),g["\u0275\u0275element"](30,"br"),g["\u0275\u0275template"](31,ee,4,0,"button",42),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",a.company.companyName)("ngModelOptions",g["\u0275\u0275pureFunction0"](12,te)),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("value",g["\u0275\u0275pipeBind2"](9,9,null==a.payment?null:a.payment.amountDue,"1.2-2")),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("dataSource",a.dataSource),g["\u0275\u0275advance"](13),g["\u0275\u0275property"]("matHeaderRowDef",a.displayedColumns),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("matRowDefColumns",a.displayedColumns),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("hidden",a.dataSource&&(null==a.dataSource||null==a.dataSource.data?null:a.dataSource.data.length)>0),g["\u0275\u0275advance"](2),g["\u0275\u0275property"]("pageSizeOptions",g["\u0275\u0275pureFunction0"](13,ne)),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","save"===a.process)}}function re(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-option",54),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,null==n?null:n.description)," ")}}function oe(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Brand"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"mat-select",52),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).brandPenalty.brand=e})),g["\u0275\u0275template"](4,re,3,4,"mat-option",53),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.brandPenalty.brand)("ngModelOptions",g["\u0275\u0275pureFunction0"](3,te)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",a.brandList)}}function ie(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Brand"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"input",28),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).penaltyBrand=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.penaltyBrand)("ngModelOptions",g["\u0275\u0275pureFunction0"](2,te))}}function le(e,t){1&e&&g["\u0275\u0275element"](0,"hr")}function ce(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-option",57),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,null==n?null:n.paymentDescription)," ")}}function me(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Payment Mode"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"mat-select",55),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).paymentMethod.paymentType=e})),g["\u0275\u0275template"](4,ce,3,4,"mat-option",56),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.paymentMethod.paymentType)("compareWith",a.comparePaymentMethod)("disabled","PAID"===(null==a.brandPenalty?null:a.brandPenalty.paymentStatus)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",a.paymentTypeList)}}function ue(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Amount Received"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"input",58),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).paymentMethod.amount=e}))("keydown",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).validateFieldService.numbersOnly(e)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.paymentMethod.amount)("ngModelOptions",g["\u0275\u0275pureFunction0"](3,te))("readonly","PAID"===(null==a.brandPenalty?null:a.brandPenalty.paymentStatus))}}function pe(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",47),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).addPenalty("Brand")})),g["\u0275\u0275elementStart"](1,"i",5),g["\u0275\u0275text"](2,"task_alt"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](3," SUBMIT "),g["\u0275\u0275elementEnd"]()}}function de(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",59),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).approvePenalty()})),g["\u0275\u0275elementStart"](1,"i",5),g["\u0275\u0275text"](2,"task_alt"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](3," APPROVE "),g["\u0275\u0275elementEnd"]()}}function se(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"div",27),g["\u0275\u0275template"](1,oe,5,4,"mat-form-field",6),g["\u0275\u0275template"](2,ie,4,3,"mat-form-field",6),g["\u0275\u0275elementStart"](3,"mat-form-field",11),g["\u0275\u0275elementStart"](4,"mat-label"),g["\u0275\u0275text"](5,"Accumulated Amount Due"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](6,"input",48),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().brandPenalty.amount=e}))("keydown",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().validateFieldService.numbersOnly(e)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](7,"mat-form-field",11),g["\u0275\u0275elementStart"](8,"mat-label"),g["\u0275\u0275text"](9,"Remarks"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](10,"textarea",49),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"]().brandPenalty.remarks=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](11,le,1,0,"hr",50),g["\u0275\u0275template"](12,me,5,4,"mat-form-field",6),g["\u0275\u0275template"](13,ue,4,4,"mat-form-field",6),g["\u0275\u0275element"](14,"br"),g["\u0275\u0275element"](15,"br"),g["\u0275\u0275template"](16,pe,4,0,"button",42),g["\u0275\u0275template"](17,de,4,0,"button",51),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0===a.penaltyBrand),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0!==a.penaltyBrand),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",a.brandPenalty.amount)("ngModelOptions",g["\u0275\u0275pureFunction0"](12,te)),g["\u0275\u0275advance"](4),g["\u0275\u0275property"]("ngModel",a.brandPenalty.remarks)("ngModelOptions",g["\u0275\u0275pureFunction0"](13,te))("readonly","PAID"===(null==a.brandPenalty?null:a.brandPenalty.paymentStatus)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===a.process),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===a.process),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===a.process),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","save"===a.process&&"PAID"!==(null==a.brandPenalty?null:a.brandPenalty.paymentStatus)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===a.process&&"PAID"!==(null==a.brandPenalty?null:a.brandPenalty.paymentStatus))}}function ye(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-option",62),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,null==n?null:n.companyName)," ")}}function fe(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Company"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"mat-select",60),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).companyPenalty.company=e})),g["\u0275\u0275template"](4,ye,3,4,"mat-option",61),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.companyPenalty.company)("ngModelOptions",g["\u0275\u0275pureFunction0"](4,te))("compareWith",a.compareCompany),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",a.companyList)}}function he(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Company"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"input",63),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).penaltyCompany=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.penaltyCompany)("ngModelOptions",g["\u0275\u0275pureFunction0"](2,te))}}function ve(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Accumulated Amount Due"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"input",48),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).companyPenalty.penaltyAmount=e}))("keydown",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).validateFieldService.numbersOnly(e)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.companyPenalty.penaltyAmount)("ngModelOptions",g["\u0275\u0275pureFunction0"](2,te))}}function ge(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Accumulated Amount Due"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"input",64),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).totalBalance=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.totalBalance)("ngModelOptions",g["\u0275\u0275pureFunction0"](2,te))}}function be(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Remarks"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"textarea",65),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).companyPenalty.remarks=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.companyPenalty.remarks)("readonly","update"===a.process)("ngModelOptions",g["\u0275\u0275pureFunction0"](4,te))("readonly","PAID"===(null==a.companyPenalty?null:a.companyPenalty.paymentStatus))}}function Se(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Remarks"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"input",66),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).previewRemarks=e})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.previewRemarks)("ngModelOptions",g["\u0275\u0275pureFunction0"](2,te))}}function xe(e,t){1&e&&g["\u0275\u0275element"](0,"hr")}function Ce(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"mat-option",57),g["\u0275\u0275text"](1),g["\u0275\u0275pipe"](2,"uppercase"),g["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;g["\u0275\u0275property"]("value",n),g["\u0275\u0275advance"](1),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](2,2,null==n?null:n.paymentDescription)," ")}}function Pe(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Payment Mode"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"mat-select",55),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).paymentMethod.paymentType=e})),g["\u0275\u0275template"](4,Ce,3,4,"mat-option",56),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.paymentMethod.paymentType)("compareWith",a.comparePaymentMethod)("disabled","PAID"===(null==a.companyPenalty?null:a.companyPenalty.paymentStatus)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngForOf",a.paymentTypeList)}}function we(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"mat-form-field",11),g["\u0275\u0275elementStart"](1,"mat-label"),g["\u0275\u0275text"](2,"Amount Received"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](3,"input",58),g["\u0275\u0275listener"]("ngModelChange",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).paymentMethod.amount=e}))("keydown",(function(e){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).validateFieldService.numbersOnly(e)})),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"]()}if(2&e){var a=g["\u0275\u0275nextContext"](2);g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngModel",a.paymentMethod.amount)("ngModelOptions",g["\u0275\u0275pureFunction0"](3,te))("readonly","PAID"===(null==a.companyPenalty?null:a.companyPenalty.paymentStatus))}}function Ae(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",47),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).addPenalty("Company")})),g["\u0275\u0275elementStart"](1,"i",5),g["\u0275\u0275text"](2,"task_alt"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](3," SUBMIT "),g["\u0275\u0275elementEnd"]()}}function Me(e,t){if(1&e){var n=g["\u0275\u0275getCurrentView"]();g["\u0275\u0275elementStart"](0,"button",59),g["\u0275\u0275listener"]("click",(function(){return g["\u0275\u0275restoreView"](n),g["\u0275\u0275nextContext"](2).approvePenalty()})),g["\u0275\u0275elementStart"](1,"i",5),g["\u0275\u0275text"](2,"task_alt"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](3," APPROVE "),g["\u0275\u0275elementEnd"]()}}function Re(e,t){if(1&e&&(g["\u0275\u0275elementStart"](0,"div",27),g["\u0275\u0275template"](1,fe,5,5,"mat-form-field",6),g["\u0275\u0275template"](2,he,4,3,"mat-form-field",6),g["\u0275\u0275template"](3,ve,4,3,"mat-form-field",6),g["\u0275\u0275template"](4,ge,4,3,"mat-form-field",6),g["\u0275\u0275template"](5,be,4,5,"mat-form-field",6),g["\u0275\u0275template"](6,Se,4,3,"mat-form-field",6),g["\u0275\u0275template"](7,xe,1,0,"hr",50),g["\u0275\u0275template"](8,Pe,5,4,"mat-form-field",6),g["\u0275\u0275template"](9,we,4,4,"mat-form-field",6),g["\u0275\u0275element"](10,"br"),g["\u0275\u0275element"](11,"br"),g["\u0275\u0275template"](12,Ae,4,0,"button",42),g["\u0275\u0275template"](13,Me,4,0,"button",51),g["\u0275\u0275elementEnd"]()),2&e){var n=g["\u0275\u0275nextContext"]();g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0===n.penaltyCompany),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0!==n.penaltyCompany),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0===n.totalBalance||0===n.totalBalance),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0!==n.totalBalance&&n.totalBalance>0),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0===n.previewRemarks||""===n.previewRemarks),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf",void 0!==n.previewRemarks&&""!==n.previewRemarks),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===n.process),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===n.process),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===n.process),g["\u0275\u0275advance"](3),g["\u0275\u0275property"]("ngIf","save"===n.process&&"PAID"!==(null==n.companyPenalty?null:n.companyPenalty.paymentStatus)),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","update"===n.process&&"PAID"!==(null==n.companyPenalty?null:n.companyPenalty.paymentStatus))}}var Ee,De,Ie,Fe=[{path:"",component:(Ee=function(){function e(t,n,a,r,o,i,l,c,u){m(this,e),this.router=t,this.apiService=n,this.sweetAlertService=a,this.sanitizer=r,this.fileStorageService=o,this.route=i,this.spinner=l,this.validateFieldService=c,this.dataStorageService=u,this.displayedColumns=["referenceCode","brand","typeOfMedium","paymentStatus"],this.brandPenalty=new s,this.companyPenalty=new y,this.paymentType=new p.o,this.attachmentDocument=new p.h,this.paymentMethod=new f.a,this.company=new p.k,this.objAttachmentReference={brandPenaltyAttachmentReference:"",paymentAttachmentReference:""},this.paymentTypeList=[],this.brandList=[],this.companyList=[],this.companyPenaltyList=[],this.delinquentAppForms=[],this.notInSelection=["INACTIVE","DISAPPROVED"],this.previewDocument=!1,this.process="save",this.paymentTypeFromUrl="",this.approveDelinquent=!1,this.isShowUploadButton=!1}return c(e,[{key:"ngOnInit",value:function(){this.currentUser=this.dataStorageService.getUserAccount(),this.getPenalizedBrandList(),this.getCompanyList(),this.getPaymentList(),this.id=Number(this.route.snapshot.paramMap.get("id")),this.paymentTypeFromUrl=this.route.snapshot.paramMap.get("type"),0!==this.id&&(this.process="update",this.viewPayment())}},{key:"ngOnDestroy",value:function(){sessionStorage.removeItem("PAYMENT")}},{key:"getPaymentDetails",value:function(e){var t;this.router.navigate((null==e?void 0:e.paymentStatus)?["asc/page/accounting/update/","".concat(null===(t=null==e?void 0:e.paymentStatus)||void 0===t?void 0:t.toLowerCase(),"-").concat(e.id),"delinquent-"+e.id]:["asc/page/accounting/update/","delinquent-"+e.id])}},{key:"getPenalizedBrandList",value:function(){var e=this;this.apiService.findAll(d.n.brand).subscribe((function(t){e.brandList=t.responseData.data}))}},{key:"getCompanyList",value:function(){var e=this;this.apiService.findAll(d.n.company).subscribe((function(t){e.companyList=t.responseData.data.filter((function(t){return!e.notInSelection.includes(t.status)}))}))}},{key:"getPaymentList",value:function(){var e=this;this.apiService.findAll(d.n.paymentType).subscribe((function(t){if(e.paymentTypeList=t.responseData.data,e.currentUser.userRole.name===i.F.ROLE_APPLICANT){var n=e.paymentTypeList.findIndex((function(e){return"Credit Card"===e.paymentDescription}));e.paymentTypeList.splice(n,1)}}))}},{key:"selectFile",value:function(e){if(this.isShowUploadButton=!1,e.target.files[0]){if(this.fileSize=e.target.files[0].size,this.fileSize>15e6)return this.sweetAlertService.customErrorMessage("Attachments' total file size should not exceed 15MB."),void(e.target.value="");this.isShowUploadButton=!0;var t=URL.createObjectURL(e.target.files[0]);this.previewDocument=!0,this.safeURLBrand=this.sanitizer.bypassSecurityTrustResourceUrl(t);var n=new FileReader,a=o(e.target.files,1)[0];n.readAsDataURL(a),n.onload=function(){},this.selectedFile=e.target.files[0]}}},{key:"addPenalty",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Brand";v.a.fire({text:"Are you sure you want to submit this ".concat(t," Penalty?"),icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(n){n.value&&("Brand"===t?e.apiService.save(d.n.brandPenalties,e.brandPenalty).subscribe((function(t){e.sweetAlertService.customSuccessMessage("Brand penalty successfully saved."),e.router.navigate(["asc/page/accounting/payments/","brand-penalties"])}),(function(t){e.sweetAlertService.error(t)})):"Company"===t&&(e.companyPenalty.penaltyDate=new Date,e.apiService.save(d.n.companyPenalties,e.companyPenalty).subscribe((function(t){e.sweetAlertService.customSuccessMessage("Company penalty successfully saved."),e.router.navigate(["asc/page/accounting/payments/","company-penalties"])}),(function(t){e.sweetAlertService.error(t)}))))}))}},{key:"uploadProofOfPayment",value:function(){var e=this;v.a.fire({text:"Are you sure you want to submit this as proof of payment?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){if(t.value){e.spinner.show();var n,a="";"brand"===e.paymentTypeFromUrl?a=d.j.BRAND_PENALTY_PAYMENT:"company"!==e.paymentTypeFromUrl&&"delinquent"!==e.paymentTypeFromUrl||(a=d.j.PAYMENT),n="?&attachmentType="+a+"&submissionType="+d.C.ORIGINAL,e.fileStorageService.pushFileToStorage(d.n.attachmentDocument,e.selectedFile,n).subscribe((function(t){e.uploadedPaymentFile=t.responseData.data,e.addToAttachmentDocuments(e.uploadedPaymentFile),"brand"===e.paymentTypeFromUrl?(e.brandPenalty.brandPenaltyAttachmentReference=e.uploadedPaymentFile.brandPenaltyAttachmentReference,e.objAttachmentReference.brandPenaltyAttachmentReference=e.brandPenalty.brandPenaltyAttachmentReference):"company"===e.paymentTypeFromUrl?(e.companyPenalty.paymentAttachmentReference=e.uploadedPaymentFile.paymentAttachmentReference,e.objAttachmentReference.paymentAttachmentReference=e.companyPenalty.paymentAttachmentReference):"delinquent"===e.paymentTypeFromUrl&&(e.payment.paymentAttachmentReference=e.uploadedPaymentFile.paymentAttachmentReference,e.objAttachmentReference.paymentAttachmentReference=e.payment.paymentAttachmentReference),e.hideSpinner(),e.sweetAlertService.customSuccessMessage("Attachment successfully uploaded."),e.selectedFile=null,(e.brandPenalty.brandPenaltyAttachmentReference||e.companyPenalty.paymentAttachmentReference||"delinquent"===e.payment.paymentAttachmentReference)&&e.getAttachmentDocument()}),(function(t){e.hideSpinner(),e.sweetAlertService.error(t)}),(function(){}))}else e.selectedFile=null}))}},{key:"saveBrandPenalty",value:function(){var e=this;this.apiService.save("".concat(d.n.brandPenalties,"/payment-type-id/").concat(this.paymentType.id,"/payment/submit"),this.brandPenalty).subscribe((function(t){e.brandPenalty=new s,e.paymentType=new p.o,e.attachment=null,e.previewDocument=!1,e.sweetAlertService.customSuccessMessage("Voucher fund successfully submitted.")}),(function(t){console.log(t),e.sweetAlertService.error(t)}))}},{key:"approvePenalty",value:function(){var e=this;"brand"===this.paymentTypeFromUrl?v.a.fire({text:"Are you sure you want to approve this Brand Penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){t.value?(e.paymentMethod.paymentDate=new Date,e.brandPenalty.paymentMethod=e.paymentMethod,e.brandPenalty.brandPenaltyAttachmentReference=e.attachmentDocument.brandPenaltyAttachmentReference,console.log(e.paymentMethod),e.apiService.save(d.n.approveBrandPenalty,e.brandPenalty).subscribe((function(t){e.sweetAlertService.customSuccessMessage("Brand penalty approved successfully."),e.router.navigate(["asc/page/accounting/payments/","brand-penalties"])}))):e.attachment=null})):"company"===this.paymentTypeFromUrl?v.a.fire({text:"Are you sure you want to approve this Company Penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){var n,a;t.value?(e.companyPenalty.paymentMethod=e.paymentMethod,e.companyPenalty.paymentAttachmentReference=e.attachmentDocument.paymentAttachmentReference,console.log(e.paymentMethod),console.log(e.companyPenalty),console.log(e.attachmentDocument.paymentAttachmentReference),e.companyPenaltyList[0].paymentMethod=e.paymentMethod,e.companyPenaltyList[0].paymentAttachmentReference=e.attachmentDocument.paymentAttachmentReference,e.apiService.save("".concat(d.n.companyPenalties,"/submit-penalty-payment?amountReceived=").concat(e.paymentMethod.amount,"&paymentTypeId=").concat(null===(a=null===(n=e.paymentMethod)||void 0===n?void 0:n.paymentType)||void 0===a?void 0:a.id),e.companyPenaltyList[0]).subscribe((function(t){e.sweetAlertService.customSuccessMessage("Company penalty approved successfully."),e.router.navigate(["asc/page/accounting/payments/","company-penalties"])}),(function(t){t.error.message||(t.error.message=t.error.responseMessage),e.sweetAlertService.error(t)}))):e.attachment=null})):"delinquent"===this.paymentTypeFromUrl&&(this.paymentMethod.amount<this.payment.amountDue?this.sweetAlertService.customErrorMessage("Amount Received/Transferred is lower than Amount Due."):v.a.fire({text:"Are you sure you want to approve this Delinquent Company?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){t.value?(e.payment.paymentMethod=e.paymentMethod,e.payment.amountReceive=Number(e.paymentMethod.amount),console.log(e.paymentMethod),console.log(e.payment),e.apiService.save(""+d.n.approveDelinquentCompany,e.payment).subscribe((function(t){e.sweetAlertService.customSuccessMessage("Delinquent company approved successfully."),e.router.navigate(["asc/page/accounting/payments/","delinquent-companies"])}),(function(t){t.error.message||(t.error.message=t.error.responseMessage),e.sweetAlertService.error(t)}))):e.attachment=null})))}},{key:"viewPayment",value:function(){var e,t,n,a=this;if("brand"===this.paymentTypeFromUrl)this.apiService.findById(d.n.brandPenalties,this.id).subscribe((function(e){var t,n=e.responseData.data;a.penaltyBrand=n.brand.description,(null==n?void 0:n.paymentMethod)&&(a.paymentType=null===(t=null==n?void 0:n.paymentMethod)||void 0===t?void 0:t.paymentType,a.paymentMethod=null==n?void 0:n.paymentMethod),a.brandPenalty=n,a.brandPenalty.brandPenaltyAttachmentReference&&(a.objAttachmentReference.brandPenaltyAttachmentReference=a.brandPenalty.brandPenaltyAttachmentReference,a.getAttachmentDocuments())}));else if("company"===this.paymentTypeFromUrl)this.apiService.findById(d.n.companyPenalties+"/company",this.id).subscribe((function(e){e.responseData.data&&(a.companyPenaltyList=e.responseData.data,a.companyPenaltyList[0].paymentAttachmentReference&&(a.objAttachmentReference.paymentAttachmentReference=a.companyPenalty.paymentAttachmentReference,a.getAttachmentDocuments()),a.penaltyCompany=a.companyPenaltyList[0].company.companyName,a.totalBalance=a.companyPenaltyList.filter((function(e){return"PAID"!==e.paymentStatus})).map((function(e){return e.penaltyAmount})).reduce((function(e,t){return e+t}),0),a.previewRemarks=a.companyPenaltyList.filter((function(e){return"PAID"!==e.paymentStatus})).map((function(e){return e.remarks?e.remarks+". ":""})).reduce((function(e,t){return e+t}),""))}));else if("delinquent"===this.paymentTypeFromUrl){this.payment=this.dataStorageService.getPayment();var r=null===(t=null===(e=this.payment)||void 0===e?void 0:e.applicationForm)||void 0===t?void 0:t.companyName;this.company.companyName=r,this.getAppFormsByCompanyId(null===(n=this.payment)||void 0===n?void 0:n.companyId)}}},{key:"getAppFormsByCompanyId",value:function(e){var t=this;this.apiService.findAll(d.n.getAppFormsByCompanyId+e).subscribe((function(e){t.delinquentAppForms=e.responseData.data,t.dataSource=new u.p(t.delinquentAppForms),t.dataSource.paginator=t.paginator}))}},{key:"getAttachmentDocuments",value:function(){var e,t=this;this.brandPenalty.brandPenaltyAttachmentReference?e="brand-penalty-attachment-reference/"+this.brandPenalty.brandPenaltyAttachmentReference:this.companyPenalty.paymentAttachmentReference&&(e="payment-attachment-reference/"+this.companyPenaltyList[0].paymentAttachmentReference),this.apiService.findByParam(d.n.attachmentDocument,e).subscribe((function(e){e&&(t.attachmentDocument=e.responseData.data),t.previewDocument=!0,t.safeURLBrand=t.sanitizer.bypassSecurityTrustResourceUrl(t.attachmentDocument.fileURL)}))}},{key:"addToAttachmentDocuments",value:function(e){this.attachmentDocument.brandPenaltyAttachmentReference=e.brandPenaltyAttachmentReference,this.attachmentDocument.id=e.id,this.attachmentDocument.originalFilename=e.originalFilename,this.attachmentDocument.filename=e.filename,this.attachmentDocument.fileExtension=e.fileExtension,this.attachmentDocument.fileURL=e.fileURL,this.attachmentDocument.attachmentType=e.attachmentType,this.attachmentDocument.documentFormat=e.documentFormat}},{key:"hideSpinner",value:function(){var e=this;setTimeout((function(){e.spinner.hide()}),1)}},{key:"getAttachmentDocument",value:function(){var e=this;if(this.spinner.show(),"brand"===this.paymentTypeFromUrl)this.apiService.findByParam(d.n.brandPenaltyAttachmentDocument,this.brandPenalty.brandPenaltyAttachmentReference).subscribe((function(t){t&&(e.attachmentDocument=t),e.hideSpinner()}),(function(t){e.hideSpinner(),console.error(t)}));else{var t="";"company"===this.paymentTypeFromUrl?t=this.companyPenalty.paymentAttachmentReference:"delinquent"===this.paymentTypeFromUrl&&(t=this.payment.paymentAttachmentReference),this.apiService.findByParam(d.n.paymentAttachmentReference,t).subscribe((function(t){var n;t&&(e.attachmentDocument=null===(n=null==t?void 0:t.responseData)||void 0===n?void 0:n.data),e.hideSpinner()}),(function(t){e.hideSpinner(),console.error(t)}))}}},{key:"viewDocument",value:function(){this.uploadedPaymentFile?window.open(this.uploadedPaymentFile.fileURL):window.open(this.attachmentDocument.fileURL)}},{key:"comparePaymentMethod",value:function(e,t){if(e&&t)return e.paymentDescription===t.paymentDescription}},{key:"compareCompany",value:function(e,t){if(e&&t)return e.id===t.id}},{key:"navigateToList",value:function(){var e=this;v.a.fire({text:"Are you sure you want to go back to payment list?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){t.value&&("brand"===e.paymentTypeFromUrl?e.router.navigate(["asc/page/accounting/payments/","brand-penalties"]):"company"===e.paymentTypeFromUrl?e.router.navigate(["asc/page/accounting/payments/","company-penalties"]):"delinquent"===e.paymentTypeFromUrl&&e.router.navigate(["asc/page/accounting/payments/","delinquent-companies"]))}))}},{key:"updatePayment",value:function(){this.apiService.update(d.n.companyPenalties,this.companyPenalty).subscribe((function(e){console.log("Update companyPenalties: ",e)}),(function(e){console.log(e)}))}}]),e}(),Ee.\u0275fac=function(e){return new(e||Ee)(g["\u0275\u0275directiveInject"](r.b),g["\u0275\u0275directiveInject"](b.b),g["\u0275\u0275directiveInject"](b.e),g["\u0275\u0275directiveInject"](S.b),g["\u0275\u0275directiveInject"](x.a),g["\u0275\u0275directiveInject"](r.a),g["\u0275\u0275directiveInject"](C.c),g["\u0275\u0275directiveInject"](P.a),g["\u0275\u0275directiveInject"](b.c))},Ee.\u0275cmp=g["\u0275\u0275defineComponent"]({type:Ee,selectors:[["app-add-penalty"]],viewQuery:function(e,t){var n;1&e&&g["\u0275\u0275viewQuery"](l.a,!0),2&e&&g["\u0275\u0275queryRefresh"](n=g["\u0275\u0275loadQuery"]())&&(t.paginator=n.first)},inputs:{safeURLBrand:"safeURLBrand"},decls:24,vars:8,consts:[[1,"container-fluid"],[1,"row"],[1,"column"],[1,"col-md-12","title"],["mat-raised-button","",1,"button-right","button-red","button-center",3,"click"],[1,"material-icons","color__white"],["class","col-md-12","appearance","outline",4,"ngIf"],["class","column",4,"ngIf"],["approveDelinquent",""],["addBrandPenalty",""],["addCompanyPenalty",""],["appearance","outline",1,"col-md-12"],["matInput","","disabled","",3,"value",4,"ngIf"],["class","file-upload","type","file","accept",".pdf",3,"hidden","change",4,"ngIf"],["matInput","","disabled","",3,"value"],["type","file","accept",".pdf",1,"file-upload",3,"hidden","change"],[4,"ngTemplateOutlet"],["mat-raised-button","","class","button-red button-right",3,"click",4,"ngIf"],["mat-raised-button","","class","button-red button-right",3,"disabled","hidden","click",4,"ngIf"],["class","row col-md-12","appearance","outline",4,"ngIf"],["mat-raised-button","",1,"button-red","button-right",3,"click"],[1,"material-icons","add-document"],["mat-raised-button","",1,"button-red","button-right",3,"disabled","hidden","click"],["appearance","outline",1,"row","col-md-12"],[1,"file-upload"],["type","application/pdf","width","100%","height","400",3,"data"],["width","100%","height","400",3,"src"],[1,"col-md-12",2,"padding","0 2em"],["matInput","","name","penaltyBrand","readonly","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","name","amountDue","type","text","readonly","",1,"numbers-input",3,"value","keydown"],[1,"mat-elevation-z8","fields"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","referenceCode"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","brand"],["matColumnDef","typeOfMedium"],["matColumnDef","paymentStatus"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-record",3,"hidden"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-raised-button","","class","button-right button-red",3,"click",4,"ngIf"],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-header-row",""],["mat-row",""],["mat-raised-button","",1,"button-right","button-red",3,"click"],["matInput","","name","amount","type","text",3,"ngModel","ngModelOptions","ngModelChange","keydown"],["matInput","","name","remarks",3,"ngModel","ngModelOptions","readonly","ngModelChange"],[4,"ngIf"],["mat-raised-button","","class","button-right button-red button-right__approve",3,"click",4,"ngIf"],[1,"col-md-4",3,"ngModel","ngModelOptions","ngModelChange"],["name","brand",3,"value",4,"ngFor","ngForOf"],["name","brand",3,"value"],["name","paymentType",1,"col-md-4",3,"ngModel","compareWith","disabled","ngModelChange"],["name","paymentType",3,"value",4,"ngFor","ngForOf"],["name","paymentType",3,"value"],["matInput","","name","amount","type","text",3,"ngModel","ngModelOptions","readonly","ngModelChange","keydown"],["mat-raised-button","",1,"button-right","button-red","button-right__approve",3,"click"],[1,"col-md-4",3,"ngModel","ngModelOptions","compareWith","ngModelChange"],["name","company",3,"value",4,"ngFor","ngForOf"],["name","company",3,"value"],["matInput","","name","penaltyCompany","readonly","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","name","totalBalance","readonly","",3,"ngModel","ngModelOptions","ngModelChange"],["matInput","","name","remarks",3,"ngModel","readonly","ngModelOptions","ngModelChange"],["matInput","","name","previewRemarks","readonly","",3,"ngModel","ngModelOptions","ngModelChange"]],template:function(e,t){1&e&&(g["\u0275\u0275elementStart"](0,"form"),g["\u0275\u0275elementStart"](1,"div",0),g["\u0275\u0275elementStart"](2,"div",1),g["\u0275\u0275elementStart"](3,"div",2),g["\u0275\u0275elementStart"](4,"div",3),g["\u0275\u0275elementStart"](5,"mat-label"),g["\u0275\u0275text"](6),g["\u0275\u0275pipe"](7,"titlecase"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementStart"](8,"button",4),g["\u0275\u0275listener"]("click",(function(){return t.navigateToList()})),g["\u0275\u0275elementStart"](9,"i",5),g["\u0275\u0275text"](10,"list"),g["\u0275\u0275elementEnd"](),g["\u0275\u0275text"](11," BACK TO LIST "),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275element"](12,"hr"),g["\u0275\u0275template"](13,B,8,2,"div",6),g["\u0275\u0275template"](14,O,2,1,"div",6),g["\u0275\u0275template"](15,L,7,3,"div",6),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](16,_,2,1,"div",7),g["\u0275\u0275template"](17,z,2,1,"div",7),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275elementEnd"](),g["\u0275\u0275template"](18,ae,32,14,"ng-template",null,8,g["\u0275\u0275templateRefExtractor"]),g["\u0275\u0275template"](20,se,18,14,"ng-template",null,9,g["\u0275\u0275templateRefExtractor"]),g["\u0275\u0275template"](22,Re,14,11,"ng-template",null,10,g["\u0275\u0275templateRefExtractor"])),2&e&&(g["\u0275\u0275advance"](6),g["\u0275\u0275textInterpolate1"](" ",g["\u0275\u0275pipeBind1"](7,6,t.paymentTypeFromUrl)," Penalties "),g["\u0275\u0275advance"](7),g["\u0275\u0275property"]("ngIf","brand"===t.paymentTypeFromUrl||"company"===t.paymentTypeFromUrl),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","delinquent"===t.paymentTypeFromUrl),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","brand"===t.paymentTypeFromUrl||"company"===t.paymentTypeFromUrl||"delinquent"===t.paymentTypeFromUrl),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","brand"===t.paymentTypeFromUrl),g["\u0275\u0275advance"](1),g["\u0275\u0275property"]("ngIf","company"===t.paymentTypeFromUrl))},directives:[w.J,w.u,w.v,A.g,M.b,a.t,R.b,a.A,A.c,w.d,w.t,w.w,u.o,E.a,u.c,u.i,u.b,u.k,u.n,l.a,u.h,u.a,u.j,u.m,D.a,a.s,I.m],pipes:[a.F,a.g,a.G],styles:['.column[_ngcontent-%COMP%]{float:left;width:50%;padding:10px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.button-right__approve[_ngcontent-%COMP%]{margin:0}.button-center[_ngcontent-%COMP%]{margin:-5px auto}.numbers-input[_ngcontent-%COMP%]{text-align:end}']}),Ee)}],Te=((De=c((function e(){m(this,e)}))).\u0275mod=g["\u0275\u0275defineNgModule"]({type:De}),De.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||De)},imports:[[r.f.forChild(Fe)],r.f]}),De),Be=n("tk/3"),ke=((Ie=c((function e(){m(this,e)}))).\u0275mod=g["\u0275\u0275defineNgModule"]({type:Ie}),Ie.\u0275inj=g["\u0275\u0275defineInjector"]({factory:function(e){return new(e||Ie)},imports:[[a.c,Te,Be.b,w.D,w.n,d.k]]}),Ie)},XLGj:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=c((function e(){m(this,e)}))},an1Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=c((function e(){m(this,e)}))},piSE:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=c((function e(){m(this,e)}))},sKXY:function(t,a,r){"use strict";r.d(a,"a",(function(){return o})),r.d(a,"i",(function(){return i})),r.d(a,"k",(function(){return l})),r.d(a,"o",(function(){return u})),r.d(a,"q",(function(){return p})),r.d(a,"r",(function(){return d})),r.d(a,"u",(function(){return s})),r.d(a,"v",(function(){return y})),r.d(a,"w",(function(){return f.a})),r.d(a,"y",(function(){return h})),r.d(a,"x",(function(){return v})),r.d(a,"h",(function(){return g})),r.d(a,"j",(function(){return b})),r.d(a,"p",(function(){return S})),r.d(a,"t",(function(){return x})),r.d(a,"g",(function(){return C})),r.d(a,"n",(function(){return w})),r.d(a,"l",(function(){return A})),r.d(a,"m",(function(){return M})),r.d(a,"s",(function(){return R})),r.d(a,"f",(function(){return E.a})),r.d(a,"e",(function(){return D.a})),r.d(a,"b",(function(){return I})),r.d(a,"c",(function(){return F})),r.d(a,"d",(function(){return T}));var o=c((function e(){m(this,e)})),i=c((function e(){m(this,e)})),l=c((function e(){m(this,e)})),u=c((function e(){m(this,e)})),p=c((function e(){m(this,e)})),d=c((function e(){m(this,e)})),s=c((function e(){m(this,e)})),y=c((function e(){m(this,e)})),f=r("50w+"),h=c((function e(){m(this,e)})),v=c((function e(){m(this,e)})),g=c((function e(){m(this,e)})),b=c((function e(){m(this,e)})),S=c((function e(){m(this,e)})),x=c((function e(){m(this,e)})),C=c((function e(){m(this,e)})),P=r("piSE"),w=c((function e(){m(this,e),this.paymentMethod=new P.a,this.filedBirForm=!1,this.filedBirForm=!1,this.remarks=""})),A=function(){function e(){m(this,e)}return c(e,[{key:"setTotalAmounts",value:function(e){this.totalSales=e.totalSales,this.totalAmountDue=e.totalAmountDue,this.totalVat=e.totalVat,this.totalWithholdingtax=e.totalWithholdingtax}}]),e}(),M=c((function e(){m(this,e)})),R=c((function e(){m(this,e)})),E=r("XLGj"),D=r("an1Z"),I=c((function e(){m(this,e)})),F=function(t){e(r,t);var a=n(r);function r(){return m(this,r),a.apply(this,arguments)}return c(r)}(I),T=function(t){e(r,t);var a=n(r);function r(){return m(this,r),a.apply(this,arguments)}return c(r)}(I)}}])}();