(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{T30m:function(e,t,n){"use strict";n.r(t),n.d(t,"SingleApplicationModule",(function(){return K}));var i=n("ofXK"),a=n("tyNb"),l=n("M9IT"),r=n("Dh3D"),o=n("+0xr"),p=n("M0ag"),m=n("9Vv1"),s=n("0IaG"),d=n("sKXY"),c=n("XLGj"),u=n("PSD3"),f=n.n(u),h=n("fXoL"),y=n("jhN1"),v=n("dJ3e"),S=n("TMp0"),g=n("JqCM"),E=n("kmnG"),M=n("NFeN"),D=n("3Pt+"),b=n("qFsG"),A=n("d3UM"),C=n("bTqV"),w=n("FKr1");function x(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div"),h["\u0275\u0275elementStart"](1,"div",24),h["\u0275\u0275elementStart"](2,"object",25),h["\u0275\u0275elementStart"](3,"iframe",26),h["\u0275\u0275elementStart"](4,"p"),h["\u0275\u0275text"](5,"This browser does not support PDF!"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275nextContext"]();h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("data",e.safeURLProofOfPayment,h["\u0275\u0275sanitizeResourceUrl"]),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("src",e.safeURLProofOfPayment,h["\u0275\u0275sanitizeResourceUrl"])}}function I(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"mat-option",28),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()),2&e){const e=h["\u0275\u0275nextContext"]().$implicit;h["\u0275\u0275property"]("value",e),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,2,null==e?null:e.paymentDescription)," ")}}function O(e,t){if(1&e&&(h["\u0275\u0275elementStart"](0,"div"),h["\u0275\u0275template"](1,I,3,4,"mat-option",27),h["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf","ACTIVE"===(null==e?null:e.status))}}function T(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"span"),h["\u0275\u0275elementStart"](1,"i"),h["\u0275\u0275text"](2,"Please contact ASC admin to check the Maintenance of Fees."),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]())}const P=function(){return{standalone:!0}};let R=(()=>{class e{constructor(e,t,n,i,a,l,r,o,p){var m,s,u,f;if(this.sanitizer=e,this.apiService=t,this.dataStorage=n,this.fileStorageService=i,this.sweetAlertService=a,this.router=l,this.spinner=r,this.dialogRef=o,this.data=p,this.s1Application=new d.q,this.attachmentDocument=new d.h,this.applicationSingleMedia=new c.a,this.payment=new d.n,this.paymentTypeList=[],this.attachmentDocuments=[],this.previewDocument=!1,this.isSubmitted=!1,this.typeOfMediumDisplay="",p&&p){switch(this.s1Application=p,console.log("S1",this.s1Application),(null===(m=this.s1Application)||void 0===m?void 0:m.refTypeOfMedium)||(null===(f=null===(u=null===(s=this.payment)||void 0===s?void 0:s.applicationFormS2)||void 0===u?void 0:u.applicationForm)||void 0===f?void 0:f.refTypeOfMedium)){case"SINGLE MEDIA":this.getApplicationSingleMedia();break;case"MULTIMEDIA-MOVING":this.getMultimediaMoving();break;case"MULTIMEDIA-STATIC":this.getMultimediaStatic()}this.getPaymentDetails()}}ngOnInit(){this.currentUser=this.dataStorage.getUserAccount(),this.getPaymentList()}getPaymentDetails(){this.apiService.findAll(p.n.paymentDetails+this.s1Application.id).subscribe(e=>{this.paymentDetails=e,this.paymentDetails.vat=this.paymentDetails.vat.toFixed(2)})}getPaymentList(){this.apiService.findAll(p.n.paymentType).subscribe(e=>{if(this.paymentTypeList=e.responseData.data,this.currentUser.userRole.name===m.F.ROLE_APPLICANT){const e=this.paymentTypeList.findIndex(e=>"Credit Card"===e.paymentDescription);this.paymentTypeList.splice(e,1)}})}selectFile(e){const t=e.target.files[0].size;if("application/pdf"!==e.target.files[0].type)return this.sweetAlertService.customErrorMessage("Attachment should be in PDF format only."),void(e.target.value="");if(t>15e6)return this.sweetAlertService.customErrorMessage("Attachments' total file size should not exceed 15MB."),void(e.target.value="");{const t=URL.createObjectURL(e.target.files[0]);this.safeURLProofOfPayment=this.sanitizer.bypassSecurityTrustResourceUrl(t),this.previewDocument=!0;const n=new FileReader,[i]=e.target.files;n.readAsDataURL(i),n.onload=()=>{}}this.selectedFiles=e.target.files}uploadDocument(e){f.a.fire({text:"Are you sure you want to submit this PROOF OF PAYMENT?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(t=>{if(t.value){this.spinner.show();let t="";t="?&attachmentType="+p.j.PAYMENT+"&submissionType=ORIGINAL",this.fileStorageService.pushFileToStorage(p.n.attachmentDocument,this.selectedFiles.item(0),t).subscribe(t=>{const n=t.responseData.data;console.log(n),this.s1Application.paymentAttachmentReference=n.paymentAttachmentReference,this.payment.paymentAttachmentReference=n.paymentAttachmentReference,this.payment.amountDue=e.amount,this.payment.applicationForm=e,this.payment.appFormReference=e.appFormReference,this.payment.filename=n.filename,this.saveProofOfPayment()},e=>{this.spinner.hide(),this.sweetAlertService.error(e)},()=>{this.spinner.hide()})}})}saveProofOfPayment(){this.spinner.show(),console.log("Saving payment..."),this.payment.id=0,this.payment.officialReceiptNo="",this.payment.paymentMethod=null,console.log("PAYMENT : ",this.payment),this.apiService.save(`${p.n.applicationFormPresentor}payment-type-id/${this.paymentType.id}/payment/submit`,this.payment).subscribe(e=>{console.log("SAVED STATUS: ",e),e.responseData.data?(this.safeURLProofOfPayment=this.sanitizer.bypassSecurityTrustResourceUrl(e.responseData.data.fileURL),this.isSubmitted=!0,this.sweetAlertService.customSuccessMessage("Proof of payment successfully submitted."),this.closeModal()):this.sweetAlertService.customErrorMessage("Error saving payment."),this.spinner.hide(),this.selectedFiles=void 0,this.router.navigateByUrl("asc/page/application/single-application")},e=>{console.log(e),this.sweetAlertService.error(e),this.spinner.hide()},()=>{this.spinner.hide()})}closeModal(){this.dialogRef.close(),this.router.navigate(["asc/page/application/single-application"])}ngOnDestroy(){}getApplicationSingleMedia(){var e;this.apiService.findByParam(p.n.applicationSingleMedia,"app-form-reference/"+(null===(e=this.s1Application)||void 0===e?void 0:e.appFormReference)).subscribe(e=>{var t,n,i,a;e.responseData.data.length>0?(this.applicationSingleMedia=e.responseData.data[0],this.typeOfMediumDisplay=`${null===(i=null===(n=null===(t=this.applicationSingleMedia)||void 0===t?void 0:t.mediumExecution)||void 0===n?void 0:n.typeOfMedium)||void 0===i?void 0:i.description} (${null===(a=this.applicationSingleMedia)||void 0===a?void 0:a.sizeLength})`):this.typeOfMediumDisplay=""},e=>{this.typeOfMediumDisplay=""})}getMultimediaStatic(){var e;this.apiService.findByParam(p.n.applicationMultimedia,"app-form-reference/"+(null===(e=this.s1Application)||void 0===e?void 0:e.appFormReference)).subscribe(e=>{if(e.responseData.data.length>0){const t=new Set(e.responseData.data.map(e=>{var t;return`${null===(t=null==e?void 0:e.typeOfMedium)||void 0===t?void 0:t.description} (${null==e?void 0:e.multimediaSizeLength})`}));this.typeOfMediumDisplay="";let n=1;for(const e of t)n!==t.size?(this.typeOfMediumDisplay+=e+", ",n++):this.typeOfMediumDisplay+=e}else this.typeOfMediumDisplay=""},e=>{this.typeOfMediumDisplay=""})}getMultimediaMoving(){var e;this.apiService.findByParam(p.n.applicationMultimedia,"app-form-reference/"+(null===(e=this.s1Application)||void 0===e?void 0:e.appFormReference)).subscribe(e=>{if(e.responseData.data.length>0){const t=new Set(e.responseData.data.map(e=>{var t;return`${null===(t=null==e?void 0:e.typeOfMedium)||void 0===t?void 0:t.description} (${null==e?void 0:e.multimediaSizeLength})`}));this.typeOfMediumDisplay="";let n=1;for(const e of t)n!==t.size?(this.typeOfMediumDisplay+=e+", ",n++):this.typeOfMediumDisplay+=e}else this.typeOfMediumDisplay=""},e=>{this.typeOfMediumDisplay=""})}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](y.b),h["\u0275\u0275directiveInject"](v.b),h["\u0275\u0275directiveInject"](v.c),h["\u0275\u0275directiveInject"](S.a),h["\u0275\u0275directiveInject"](v.e),h["\u0275\u0275directiveInject"](a.b),h["\u0275\u0275directiveInject"](g.c),h["\u0275\u0275directiveInject"](s.h,8),h["\u0275\u0275directiveInject"](s.a,8))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["app-modal-single-application"]],inputs:{s1Application:"s1Application"},decls:69,vars:26,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[1,"row","col-md-12","mt-4"],[1,"col-md-6"],["type","file","accept",".pdf",1,"file-upload",3,"ngModel","ngModelOptions","ngModelChange","change"],[4,"ngIf"],[1,"col-md-3"],["appearance","outline",1,"col-md-12"],["matInput","","readonly","",3,"value"],["matInput","","name","companyName","readonly","",3,"value"],["matInput","","name","refTypeOfMedium","readonly","",3,"value"],["matInput","","name","amount","readonly","",1,"numbers-input",3,"value"],["matInput","","name","amount","readonly","",1,"numbers-input","total",3,"value"],[1,"required-field"],[3,"ngModel","ngModelOptions","ngModelChange"],[4,"ngFor","ngForOf"],[2,"margin-top","2px"],["matInput","","name","remarks",3,"ngModel","ngModelChange"],[1,"row","col-md-12"],[1,"col-md-10"],[1,"col-md-2","text-end"],["mat-raised-button","",1,"button-red","m-0",3,"disabled","click"],[1,"material-icons","color__white"],[1,"file-upload"],["type","application/pdf","width","100%","height","400",3,"data"],["width","100%","height","500",3,"src"],["name","paymentType",3,"value",4,"ngIf"],["name","paymentType",3,"value"]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"div",1),h["\u0275\u0275elementStart"](2,"div",2),h["\u0275\u0275elementStart"](3,"mat-label"),h["\u0275\u0275elementStart"](4,"mat-icon"),h["\u0275\u0275text"](5,"view_list"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"b"),h["\u0275\u0275text"](7,"Schedule of Fees - Individual Application"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](8,"hr"),h["\u0275\u0275elementStart"](9,"div",3),h["\u0275\u0275elementStart"](10,"div",4),h["\u0275\u0275elementStart"](11,"div"),h["\u0275\u0275elementStart"](12,"mat-label"),h["\u0275\u0275text"](13,"Proof of Payment: \xa0\xa0\xa0"),h["\u0275\u0275elementStart"](14,"span"),h["\u0275\u0275text"](15,"PDF file only!"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](16,"br"),h["\u0275\u0275elementStart"](17,"input",5),h["\u0275\u0275listener"]("ngModelChange",(function(e){return t.attachment=e}))("change",(function(e){return t.selectFile(e)})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](18,x,6,2,"div",6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](19,"div",7),h["\u0275\u0275elementStart"](20,"mat-form-field",8),h["\u0275\u0275elementStart"](21,"mat-label"),h["\u0275\u0275text"](22,"Reference Code"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](23,"input",9),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](24,"mat-form-field",8),h["\u0275\u0275elementStart"](25,"mat-label"),h["\u0275\u0275text"](26,"Advertiser"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](27,"input",10),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](28,"mat-form-field",8),h["\u0275\u0275elementStart"](29,"mat-label"),h["\u0275\u0275text"](30,"Ad Title - Medium (Length)"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](31,"textarea",11),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](32,"div",7),h["\u0275\u0275elementStart"](33,"mat-form-field",8),h["\u0275\u0275elementStart"](34,"mat-label"),h["\u0275\u0275text"](35,"Vatable Sales"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](36,"input",12),h["\u0275\u0275pipe"](37,"number"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](38,"mat-form-field",8),h["\u0275\u0275elementStart"](39,"mat-label"),h["\u0275\u0275text"](40,"VAT"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](41,"input",12),h["\u0275\u0275pipe"](42,"number"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](43,"mat-form-field",8),h["\u0275\u0275elementStart"](44,"mat-label"),h["\u0275\u0275text"](45,"Total Sales (VAT Inclusive)"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](46,"input",13),h["\u0275\u0275pipe"](47,"number"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](48,"mat-form-field",8),h["\u0275\u0275elementStart"](49,"mat-label"),h["\u0275\u0275text"](50,"Payment Mode "),h["\u0275\u0275elementStart"](51,"span",14),h["\u0275\u0275elementStart"](52,"mat-icon"),h["\u0275\u0275text"](53,"notification_important"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](54,"mat-select",15),h["\u0275\u0275listener"]("ngModelChange",(function(e){return t.paymentType=e})),h["\u0275\u0275template"](55,O,2,1,"div",16),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](56,"hr",17),h["\u0275\u0275elementStart"](57,"mat-form-field",8),h["\u0275\u0275elementStart"](58,"mat-label"),h["\u0275\u0275text"](59,"Remarks"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](60,"textarea",18),h["\u0275\u0275listener"]("ngModelChange",(function(e){return t.payment.remarks=e})),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](61,"div",19),h["\u0275\u0275elementStart"](62,"div",20),h["\u0275\u0275template"](63,T,3,0,"span",6),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](64,"div",21),h["\u0275\u0275elementStart"](65,"button",22),h["\u0275\u0275listener"]("click",(function(){return t.uploadDocument(t.s1Application)})),h["\u0275\u0275elementStart"](66,"i",23),h["\u0275\u0275text"](67,"task_alt"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](68," SUBMIT "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275advance"](17),h["\u0275\u0275property"]("ngModel",t.attachment)("ngModelOptions",h["\u0275\u0275pureFunction0"](24,P)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!0===t.previewDocument),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("value",null==t.s1Application?null:t.s1Application.referenceCode),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("value",null==t.s1Application||null==t.s1Application.company?null:t.s1Application.company.companyName),h["\u0275\u0275advance"](4),h["\u0275\u0275property"]("value",(null==t.s1Application?null:t.s1Application.adTitle)+" - "+t.typeOfMediumDisplay),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("value",h["\u0275\u0275pipeBind2"](37,15,null==t.paymentDetails?null:t.paymentDetails.basicRate,"1.2-2")),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("value",h["\u0275\u0275pipeBind2"](42,18,null==t.paymentDetails?null:t.paymentDetails.vat,"1.2-2")),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("value",h["\u0275\u0275pipeBind2"](47,21,null==t.paymentDetails?null:t.paymentDetails.amountDue,"1.2-2")),h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("ngModel",t.paymentType)("ngModelOptions",h["\u0275\u0275pureFunction0"](25,P)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngForOf",t.paymentTypeList),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("ngModel",t.payment.remarks),h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("ngIf",t.paymentType&&0===(null==t.paymentDetails?null:t.paymentDetails.amountDue)),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("disabled",!t.paymentType||!t.previewDocument||0===(null==t.paymentDetails?null:t.paymentDetails.amountDue)))},directives:[E.g,M.a,D.d,D.t,D.w,i.t,E.c,b.b,A.a,i.s,C.b,w.m],pipes:[i.g,i.G],styles:["span[_ngcontent-%COMP%]{color:red}.numbers-input[_ngcontent-%COMP%]{text-align:end}.total[_ngcontent-%COMP%]{font-weight:900}"]}),e})();function F(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," REFERENCE CODE "),h["\u0275\u0275elementEnd"]())}function L(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.referenceCode),"")}}function N(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," TYPE OF APPLICATION"),h["\u0275\u0275elementEnd"]())}function U(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275pipe"](3,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate2"]("",h["\u0275\u0275pipeBind1"](2,2,null==e?null:e.applicationType.description)," - ",h["\u0275\u0275pipeBind1"](3,4,null==e||null==e.formType?null:e.formType.replaceAll("_"," ")),"")}}function k(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," BRAND"),h["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.brand.description))}}function j(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," MEDIUM"),h["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.typeOfMedium))}}function V(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," APPLICANT COMPANY NAME"),h["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e?null:e.company.companyName))}}function _(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"th",20),h["\u0275\u0275text"](1," PAYMENT STATUS"),h["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e){const e=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",21),h["\u0275\u0275listener"]("click",(function(){h["\u0275\u0275restoreView"](e);const n=t.$implicit;return h["\u0275\u0275nextContext"]().openModal(n)})),h["\u0275\u0275text"](1),h["\u0275\u0275pipe"](2,"uppercase"),h["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](h["\u0275\u0275pipeBind1"](2,1,null==e||null==e.paymentStatus?null:e.paymentStatus.replaceAll("_"," ")))}}function G(e,t){1&e&&h["\u0275\u0275element"](0,"tr",22)}function Y(e,t){1&e&&h["\u0275\u0275element"](0,"tr",23)}const Q=function(){return[10,20,50]},J=[{path:"",component:(()=>{class e{constructor(e,t,n){this.apiService=e,this.dialog=t,this.dataStorage=n,this.displayedColumns=["referenceCode","typeOfApplication","brand","medium","applicantCompanyName","paymentStatus"],this.paymentList=[]}ngOnInit(){this.currentUser=this.dataStorage.getUserAccount(),this.getS1PaymentList()}getS1PaymentList(){this.apiService.findByParam(p.n.applicationFormPresentor+this.currentUser.id,"payment-status/FOR_PAYMENT/schedule-of-fees").subscribe(e=>{this.paymentList=e.responseData.data,this.dataSource=new o.p(this.paymentList),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}openModal(e){this.dialog.open(R,{width:"80%",height:"fit-content",maxHeight:"85vh",data:e}).afterClosed().subscribe(e=>{this.ngOnInit()})}}return e.\u0275fac=function(t){return new(t||e)(h["\u0275\u0275directiveInject"](v.b),h["\u0275\u0275directiveInject"](s.b),h["\u0275\u0275directiveInject"](v.c))},e.\u0275cmp=h["\u0275\u0275defineComponent"]({type:e,selectors:[["app-single-application"]],viewQuery:function(e,t){var n;1&e&&(h["\u0275\u0275viewQuery"](l.a,!0),h["\u0275\u0275viewQuery"](r.a,!0),h["\u0275\u0275viewQuery"](o.o,!0)),2&e&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.sort=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(t.table=n.first))},decls:39,vars:6,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],["fxLayout","","fxLayoutAlign","center center",1,"col-md-12"],["appearance","outline",1,"col-md-12"],["matInput","","type","text","placeholder","Company Name"],[1,"mat-elevation-z8","fields"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","referenceCode"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","typeOfApplication"],["matColumnDef","brand"],["matColumnDef","medium"],["matColumnDef","applicantCompanyName"],["matColumnDef","paymentStatus"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"no-record",3,"hidden"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(h["\u0275\u0275elementStart"](0,"form"),h["\u0275\u0275elementStart"](1,"div",0),h["\u0275\u0275elementStart"](2,"div",1),h["\u0275\u0275elementStart"](3,"div",2),h["\u0275\u0275elementStart"](4,"mat-label"),h["\u0275\u0275elementStart"](5,"mat-icon"),h["\u0275\u0275text"](6,"view_list"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275text"](7," Individual Applications - For Payment "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](8,"hr"),h["\u0275\u0275element"](9,"br"),h["\u0275\u0275elementStart"](10,"div",3),h["\u0275\u0275elementStart"](11,"mat-form-field",4),h["\u0275\u0275element"](12,"input",5),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](13,"div",6),h["\u0275\u0275elementStart"](14,"table",7),h["\u0275\u0275elementContainerStart"](15,8),h["\u0275\u0275template"](16,F,2,0,"th",9),h["\u0275\u0275template"](17,L,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](18,11),h["\u0275\u0275template"](19,N,2,0,"th",9),h["\u0275\u0275template"](20,U,4,6,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](21,12),h["\u0275\u0275template"](22,k,2,0,"th",9),h["\u0275\u0275template"](23,B,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](24,13),h["\u0275\u0275template"](25,j,2,0,"th",9),h["\u0275\u0275template"](26,$,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](27,14),h["\u0275\u0275template"](28,V,2,0,"th",9),h["\u0275\u0275template"](29,z,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](30,15),h["\u0275\u0275template"](31,_,2,0,"th",9),h["\u0275\u0275template"](32,q,3,3,"td",10),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](33,G,1,0,"tr",16),h["\u0275\u0275template"](34,Y,1,0,"tr",17),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](35,"div",18),h["\u0275\u0275text"](36," No record found. "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](37,"mat-paginator",19),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](38,"br"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&e&&(h["\u0275\u0275advance"](14),h["\u0275\u0275property"]("dataSource",t.dataSource),h["\u0275\u0275advance"](19),h["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("hidden",t.dataSource&&(null==t.dataSource||null==t.dataSource.data?null:t.dataSource.data.length)>0),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](5,Q)))},directives:[D.J,D.u,D.v,E.g,M.a,E.c,b.b,o.o,r.a,o.c,o.i,o.b,o.k,o.n,l.a,o.h,r.b,o.a,o.j,o.m],pipes:[i.G],styles:[""]}),e})()}];let H=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.f.forChild(J)],a.f]}),e})();var X=n("tk/3");let K=(()=>{class e{}return e.\u0275mod=h["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[i.c,H,X.b,D.D,D.n,p.k,o.q]]}),e})()}}]);