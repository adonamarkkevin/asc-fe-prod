{"version":3,"sources":["webpack:///src/app/modules/pages/accounting/reports/reports-routing.module.ts","webpack:///src/app/modules/pages/accounting/reports/reports.component.ts","webpack:///src/app/modules/pages/accounting/reports/reports.component.html","webpack:///src/app/modules/pages/accounting/reports/reports.module.ts"],"names":["routes","path","component","ReportsRoutingModule","forChild","ReportsComponent","dataStorage","apiService","formBuilder","sweetAlertService","datepipe","spinner","report","paymentMethod","reportTypes","reportTypeList","name","VAT_SUMMARY","filename","TAX_SUMMARY","REPORT_PER_COMPANY","REPORT_PER_AGENCY","REPORT_PER_SCREENER","REPORT_PER_MEDIUM","REPORT_PER_APPLICANT","applicants","screeners","newReportTypeList","paymentTypeList","activeCompanyList","isPaymentTypeRequired","paymentTypeAll","currentUser","getUserAccount","setFormValidator","getPaymentType","getActiveCompanies","console","log","userRole","getApplicants","getScreeners","getTypeOfMediums","findAll","userAccountType","subscribe","res","push","id","responseData","data","length","filter","e","firstName","middleName","lastName","reportForm","group","reportType","required","paymentType","company","applicant","screener","medium","dateFrom","dateTo","newReportForm","unshift","userPerRole","typeOfMedium","response","typeOfMediums","description","activeCompanies","sort","_a","_b","selectedReportType","get","patchValue","selectedPaymentType","show","format","module","params","transform","value","toString","valdationReportEndpoint","validateReportsCollection","printReport","customErrorMessage","hide","generateReports","newBlob","Blob","type","downloadURL","URL","createObjectURL","anchor","document","createElement","download","href","click","reset","customSuccessMessage","err","ReportsModule"],"mappings":"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","file":"reports-reports-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ReportsComponent } from './reports.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    component: ReportsComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class ReportsRoutingModule { }\r\n","import { GenericResponse } from './../../../../core/models/generic-response-model/generic-response.model';\r\nimport { DatePipe } from '@angular/common';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ENDPOINTS, REPORT_TYPE } from '@shared';\r\nimport { PaymentMethod } from 'app/core/models/payment-method.model';\r\nimport { Report } from 'app/core/models/report.model';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\n@Component({\r\n  selector: 'app-reports',\r\n  templateUrl: './reports.component.html',\r\n  styleUrls: ['./reports.component.scss']\r\n})\r\nexport class ReportsComponent implements OnInit, OnDestroy {\r\n\r\n  report = new Report();\r\n  reportForm: FormGroup;\r\n  newReportForm: FormGroup;\r\n  paymentMethod = new PaymentMethod();\r\n  reportTypes = REPORT_TYPE;\r\n  typeOfMediums: Array<any>;\r\n\r\n  reportTypeList = [\r\n    // { name: REPORT_TYPE.COLLECTION_REPORT, filename: 'Collection_Report' },\r\n    { name: REPORT_TYPE.VAT_SUMMARY, filename: 'VAT_TAX_Summary' },\r\n    { name: REPORT_TYPE.TAX_SUMMARY, filename: 'VAT_TAX_Summary' },\r\n    { name: REPORT_TYPE.REPORT_PER_COMPANY, filename: 'Per_Company' },\r\n    { name: REPORT_TYPE.REPORT_PER_AGENCY, filename: 'Per_Agency' },\r\n    { name: REPORT_TYPE.REPORT_PER_SCREENER, filename: 'Per_Screener' },\r\n    { name: REPORT_TYPE.REPORT_PER_MEDIUM, filename: 'Per_Type_Of_Medium' },\r\n    { name: REPORT_TYPE.REPORT_PER_APPLICANT, filename: 'Per_Applicant' }\r\n\r\n  ];\r\n\r\n  applicants: Array<any> = [];\r\n\r\n  screeners: Array<any> = [];\r\n  newReportTypeList = [\r\n    { name: 'Application Per Decision', filename: 'Application_Per_Decision' },\r\n    { name: 'Screeners Productivity', filename: 'Screeners_Productivity' },\r\n    { name: 'Ad Specialists-Encoders', filename: 'Ad_Specialists-Encoders' },\r\n    { name: 'Top 20 Agencies', filename: 'Top_20_Agencies' },\r\n    { name: 'Top 20 Categories(by Decision)', filename: 'Top_20_Categories(by_Decision)' },\r\n    { name: 'Top 5 Categories Disapproval', filename: 'Top_5_Categories_Disapproval' },\r\n    { name: 'Top 5 Agencies Disapproval', filename: 'Top_5_Agencies_Disapproval' },\r\n    { name: 'Decision Per Type of medium', filename: 'Decision_per_type_of_medium' },\r\n    { name: 'Top 20 Clients(with Medium)', filename: 'Top_20_Clients(with_Medium)' },\r\n    { name: 'Top 20 Categories(with Medium)', filename: 'Top_20_Categories(with_Medium)' },\r\n    { name: 'Top 20 Clients', filename: 'Top_20_Clients' },\r\n    { name: 'Top 20 Agencies(with client)', filename: 'Top_20_Agencies(with_client)' }\r\n  ]\r\n  \r\n\r\n  paymentTypeList = [];\r\n\r\n  activeCompanyList:Array<any> = [\r\n\r\n  ];\r\n\r\n  selectedReportType: any;\r\n  selectedPaymentType: number;\r\n  isPaymentTypeRequired = true;\r\n  reportType: any;\r\n  dateTo: any;\r\n  dateFrome: any;\r\n  currentUser: any;\r\n  paymentTypeAll = {\r\n    \"id\": 0,\r\n    \"paymentDescription\": \"All\",\r\n  };\r\n\r\n  constructor(\r\n    private dataStorage: DataStorageService,\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private sweetAlertService: SweetAlertService,\r\n    public datepipe: DatePipe,\r\n    private spinner: NgxSpinnerService,\r\n  ) { \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.currentUser = this.dataStorage.getUserAccount();\r\n    this.setFormValidator();\r\n    this.getPaymentType();\r\n    this.getActiveCompanies();\r\n    console.log(this.currentUser.userRole.name);\r\n    this.getApplicants();\r\n    this.getScreeners();\r\n    this.getTypeOfMediums();\r\n\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n  getApplicants(){\r\n    this.apiService.findAll(ENDPOINTS.userAccountType + '/APPLICANT').subscribe( (res: GenericResponse<Array<any>>)=>{\r\n      // console.log('applicants', res.responseData.data);\r\n      this.applicants.push({name: 'ALL', id: 0});\r\n      if(res?.responseData?.data && res?.responseData?.data?.length){\r\n        res.responseData.data.filter( e=>{\r\n          this.applicants.push(\r\n            {name:`${e.firstName} ${e.middleName} ${e.lastName}` , id:e.id}\r\n          )\r\n        })\r\n      }\r\n    })\r\n  }\r\n  \r\n\r\n  setFormValidator(): void {\r\n\r\n    if (this.currentUser.userRole.name === 'ROLE_ACCOUNTING') {\r\n      this.reportForm = this.formBuilder.group({\r\n        reportType: ['', [Validators.required]],\r\n        paymentType: [0],\r\n        company: [0],\r\n        applicant: [0],\r\n        screener: [0],\r\n        medium: [0],\r\n        dateFrom: ['', [Validators.required]],\r\n        dateTo: ['', [Validators.required]],\r\n      })\r\n    } else {\r\n      this.newReportForm = this.formBuilder.group({\r\n        reportType: ['', [Validators.required]],\r\n        dateFrom: ['', [Validators.required]],\r\n        dateTo: ['', [Validators.required]]\r\n      })\r\n    }\r\n  }\r\n\r\n  getPaymentType() {\r\n    this.apiService.findAll(ENDPOINTS.paymentType).subscribe((res: any) => {\r\n      this.paymentTypeList = res.responseData.data;\r\n      this.paymentTypeList.unshift(this.paymentTypeAll);\r\n    })\r\n  }\r\n\r\n  getScreeners(){\r\n    this.apiService.findAll(`${ENDPOINTS.userPerRole}${8}`).subscribe(screener=>{\r\n      this.screeners.push({name: 'ALL', id: 0});\r\n      if(screener?.responseData?.data && screener?.responseData?.data?.length){\r\n        screener.responseData.data.filter( e=>{\r\n          this.screeners.push(\r\n            {name:`${e.firstName} ${e.middleName} ${e.lastName}` , id:e.id}\r\n          )\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  getTypeOfMediums(): void {\r\n    this.apiService.findAll(`${ENDPOINTS.typeOfMedium}`).subscribe(response=>{\r\n      this.typeOfMediums = response.responseData.data;\r\n      this.typeOfMediums.unshift({ description: 'ALL', id: 0 });\r\n    });\r\n  }\r\n\r\n  getActiveCompanies(){\r\n    this.apiService.findAll(ENDPOINTS.activeCompanies).subscribe( res=>{\r\n      \r\n      this.activeCompanyList = res.responseData.data;\r\n      this.activeCompanyList.push(\r\n        {\r\n          \"id\": 0,\r\n          \"companyName\": \"All\", \r\n        }\r\n      )\r\n      this.activeCompanyList.sort( (_a,_b)=>{\r\n        return (_a.id - _b.id)\r\n      });\r\n    })\r\n  }\r\n\r\n  setReportType(res) {\r\n    if (this.currentUser.userRole.name === 'ROLE_ACCOUNTING') {\r\n      this.selectedReportType = res.name;\r\n      if (this.selectedReportType === 'Collection Report') {\r\n        this.isPaymentTypeRequired = false;\r\n      } else {\r\n        this.reportForm.get('paymentType').patchValue(0);\r\n        this.isPaymentTypeRequired = true;\r\n        this.selectedPaymentType = 0;\r\n      }\r\n    } else {\r\n      this.selectedReportType = res;\r\n    }\r\n  }\r\n\r\n  setPaymentType(id) {\r\n    this.isPaymentTypeRequired = true;\r\n    this.selectedPaymentType = id;\r\n  }\r\n\r\n  generateReport() {\r\n     this.spinner.show();\r\n    this.report.format = 'xlsx';\r\n    console.log('selected ', this.selectedReportType)\r\n    if (this.currentUser.userRole.name === 'ROLE_ACCOUNTING') {\r\n      this.report.filename = 'VAT_TAX_Summary';\r\n\r\n      this.report.module = 'Report';\r\n      this.report.params = { 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'reportType': this.reportType.filename}\r\n      let valdationReportEndpoint = ENDPOINTS.validateReportsCollection + `/date-from/${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'yyyy-MM-dd').toString()}/date-to/${this.datepipe.transform(this.reportForm.get('dateTo').value, 'yyyy-MM-dd').toString()}`;\r\n\r\n      if (this.selectedReportType === 'Collection Report') {\r\n        this.report.filename = 'Collection_Report';\r\n        valdationReportEndpoint = ENDPOINTS.validateReportsCollection + `/date-from/${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'yyyy-MM-dd').toString()}/date-to/${this.datepipe.transform(this.reportForm.get('dateTo').value, 'yyyy-MM-dd').toString()}/payment-type-id/${this.selectedPaymentType}`;\r\n        this.report.params = { 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'paymentTypeId': this.selectedPaymentType }\r\n      } else if (this.selectedReportType === REPORT_TYPE.REPORT_PER_COMPANY){\r\n        this.report.filename = 'Per_Company';\r\n        valdationReportEndpoint = ENDPOINTS.validateReportsCollection + `/date-from/${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'yyyy-MM-dd').toString()}/date-to/${this.datepipe.transform(this.reportForm.get('dateTo').value, 'yyyy-MM-dd').toString()}/payment-type-id/${this.selectedPaymentType}`;\r\n        this.report.params = { 'companyId': this.reportForm.get('company').value, 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'paymentTypeId': this.selectedPaymentType }\r\n      } else if(this.selectedReportType === REPORT_TYPE.REPORT_PER_AGENCY){\r\n        this.report.filename = 'Per_Agency';\r\n        valdationReportEndpoint = ENDPOINTS.validateReportsCollection + `/date-from/${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'yyyy-MM-dd').toString()}/date-to/${this.datepipe.transform(this.reportForm.get('dateTo').value, 'yyyy-MM-dd').toString()}/payment-type-id/${this.selectedPaymentType}`;\r\n        this.report.params = { 'agencyId': this.reportForm.get('company').value, 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'paymentTypeId': this.selectedPaymentType }\r\n      } else if(this.selectedReportType === REPORT_TYPE.REPORT_PER_SCREENER){\r\n        this.report.filename = 'Per_Screener';\r\n        valdationReportEndpoint = ENDPOINTS.validateReportsCollection + `/date-from/${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'yyyy-MM-dd').toString()}/date-to/${this.datepipe.transform(this.reportForm.get('dateTo').value, 'yyyy-MM-dd').toString()}/payment-type-id/${this.selectedPaymentType}`;\r\n        this.report.params = { 'screenerId': this.reportForm.get('screener').value, 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'paymentTypeId': this.selectedPaymentType }\r\n      } else if(this.selectedReportType === REPORT_TYPE.REPORT_PER_APPLICANT){\r\n        this.report.filename = 'Per_Applicant';\r\n        valdationReportEndpoint = ENDPOINTS.validateReportsCollection + `/date-from/${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'yyyy-MM-dd').toString()}/date-to/${this.datepipe.transform(this.reportForm.get('dateTo').value, 'yyyy-MM-dd').toString()}/payment-type-id/${this.selectedPaymentType}`;\r\n        this.report.params = { 'applicantId': this.reportForm.get('applicant').value, 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'paymentTypeId': this.selectedPaymentType }\r\n      } else if(this.selectedReportType === REPORT_TYPE.REPORT_PER_MEDIUM){\r\n        this.report.filename = 'Per_Type_Of_Medium';\r\n        valdationReportEndpoint = ENDPOINTS.validateReportsCollection + `/date-from/${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'yyyy-MM-dd').toString()}/date-to/${this.datepipe.transform(this.reportForm.get('dateTo').value, 'yyyy-MM-dd').toString()}/payment-type-id/${this.selectedPaymentType}`;\r\n        this.report.params = { 'typeOfMediumId': this.reportForm.get('medium').value, 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'paymentTypeId': this.selectedPaymentType }\r\n      } else if (this.selectedReportType === 'VAT Summary') {\r\n        this.report.params = { 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'reportType': 'vat' }\r\n      } else if (this.selectedReportType === 'TAX Summary') {\r\n        this.report.params = { 'dateFrom': `${this.datepipe.transform(this.reportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`, 'dateTo': `${this.datepipe.transform(this.reportForm.get('dateTo').value, 'MM/dd/yyyy')}`, 'reportType': 'wtax' }\r\n      }\r\n\r\n      this.apiService.findAll(valdationReportEndpoint).subscribe((data: any) => {\r\n\r\n        if (data.length > 0) {\r\n          this.printReport(this.report);\r\n        } else {\r\n          this.sweetAlertService.customErrorMessage('No Record found on date ranged');\r\n          this.spinner.hide();\r\n        }\r\n      });\r\n\r\n    } else {\r\n     \r\n      this.report.filename = this.selectedReportType;\r\n      let dateFrom = `${this.datepipe.transform(this.newReportForm.get('dateFrom').value, 'MM/dd/yyyy').toString()}`;\r\n      let dateTo = `${this.datepipe.transform(this.newReportForm.get('dateTo').value, 'MM/dd/yyyy')}`;\r\n      this.report.module = 'AppData';\r\n      this.report.params = { 'dateFrom': dateFrom, 'dateTo': dateTo };\r\n      this.printReport(this.report);\r\n    }\r\n\r\n  }\r\n\r\n  printReport(report) {\r\n    this.apiService.printReport(ENDPOINTS.generateReports, report).subscribe((data: any) => {\r\n      const newBlob = new Blob([(data)], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n      const downloadURL = URL.createObjectURL(newBlob);\r\n      var anchor = document.createElement('a');\r\n      anchor.download = this.selectedReportType + '.xlsx';\r\n      anchor.href = downloadURL;\r\n      anchor.click();\r\n      if (this.currentUser.userRole.name === 'ROLE_ACCOUNTING') {\r\n        this.reportForm.reset();\r\n        this.reportForm.patchValue({\r\n          paymentType: 0,\r\n          company: 0,\r\n          applicant: 0,\r\n          screener: 0,\r\n          medium: 0,\r\n        });\r\n      } else {\r\n        this.newReportForm.reset();\r\n      }\r\n      this.selectedReportType = null;\r\n      this.sweetAlertService.customSuccessMessage('Successfully Generated!');\r\n      this.spinner.hide();\r\n    }, (err: any) => {\r\n      // console.log(err);\r\n        this.spinner.hide();\r\n      this.sweetAlertService.customErrorMessage('No Record found on date ranged');\r\n    });\r\n  }\r\n\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          Reports\r\n        </mat-label>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <div *ngIf=\"currentUser.userRole.name === 'ROLE_ACCOUNTING'\">\r\n    <form [formGroup]=\"reportForm\" >\r\n      <div class=\"row\">\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Date Start:</mat-label>\r\n          <input matInput placeholder=\"Date\" [matDatepicker]=\"dateFrom\" readonly [(ngModel)]=\"dateFrome\"\r\n            name=\"dateFrom\" readonly formControlName=\"dateFrom\">\r\n          <mat-datepicker-toggle matSuffix [for]=\"dateFrom\"></mat-datepicker-toggle>\r\n          <mat-datepicker color=\"warn\" #dateFrom disabled=\"false\"></mat-datepicker>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Date End:</mat-label>\r\n          <input matInput placeholder=\"Date\" [matDatepicker]=\"Date\" readonly [(ngModel)]=\"dateTo\" name=\"dateTo\"\r\n            formControlName=\"dateTo\">\r\n          <mat-datepicker-toggle matSuffix [for]=\"Date\"></mat-datepicker-toggle>\r\n          <mat-datepicker color=\"warn\" #Date disabled=\"false\"></mat-datepicker>\r\n        </mat-form-field>\r\n      </div>\r\n      <div class=\"row\">\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Report Type: </mat-label>\r\n          <mat-select [(ngModel)]=\"reportType\" name=\"reportType\" formControlName=\"reportType\">\r\n            <mat-option *ngFor=\"let i of reportTypeList\" [value]=\"i\"  (click)=\"setReportType(i)\">\r\n              {{i.name}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\" *ngIf=\"selectedReportType !== reportTypes.VAT_SUMMARY && selectedReportType !== reportTypes.TAX_SUMMARY\">\r\n          <mat-label>Payment Type:</mat-label>\r\n          <mat-select name=\"paymentType\" formControlName=\"paymentType\">\r\n            <mat-option *ngFor=\"let i of paymentTypeList\" [value]=\"i.id\" (click)=\"setPaymentType(i.id)\">\r\n              {{i.paymentDescription}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\" *ngIf=\"selectedReportType === reportTypes.COLLECTION_REPORT || selectedReportType === reportTypes.REPORT_PER_COMPANY || selectedReportType === reportTypes.REPORT_PER_AGENCY\">\r\n          <mat-label>Company:</mat-label>\r\n          <mat-select   name=\"company\" formControlName=\"company\">\r\n            <mat-option *ngFor=\"let company of activeCompanyList\" [value]=\"company.id\" >\r\n              {{company.companyName}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\" *ngIf=\"selectedReportType === reportTypes.COLLECTION_REPORT || selectedReportType === reportTypes.REPORT_PER_APPLICANT\">\r\n          <mat-label>Applicant:</mat-label>\r\n          <mat-select   name=\"applicant\" formControlName=\"applicant\">\r\n            <mat-option *ngFor=\"let applicant of applicants\" [value]=\"applicant.id\" >\r\n              {{applicant.name}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\" *ngIf=\"selectedReportType === reportTypes.COLLECTION_REPORT || selectedReportType === reportTypes.REPORT_PER_SCREENER\">\r\n          <mat-label>Screener:</mat-label>\r\n          <mat-select   name=\"company\" formControlName=\"screener\">\r\n            <mat-option *ngFor=\"let screener of screeners\" [value]=\"screener.id\" >\r\n              {{screener.name}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\" *ngIf=\"selectedReportType === reportTypes.REPORT_PER_MEDIUM\">\r\n          <mat-label>Mediums:</mat-label>\r\n          <mat-select name=\"medium\" formControlName=\"medium\">\r\n            <mat-option *ngFor=\"let medium of typeOfMediums\" [value]=\"medium.id\" >\r\n              {{ medium?.description }}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n    </form>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-9\"></div>\r\n      <div class=\"col-md-3\">\r\n        <button mat-raised-button class=\"button-red\"  (click)=\"generateReport()\"\r\n          [disabled]=\"reportForm.controls['dateFrom']?.errors?.required || reportForm.controls['dateTo']?.errors?.required || reportForm.controls['reportType']?.errors?.required || !isPaymentTypeRequired\">\r\n          <i class=\"material-icons color__white\">task_alt</i> GENERATE\r\n        </button>\r\n        <br> <br>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div  *ngIf=\"currentUser.userRole.name === 'ROLE_SUPER_ADMIN' || currentUser.userRole.name === 'ROLE_ADMIN'\">\r\n    <form [formGroup]=\"newReportForm\">\r\n      <div class=\"row\">\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Date Start:</mat-label>\r\n          <input matInput placeholder=\"Date\" [matDatepicker]=\"dateFrom\" readonly [(ngModel)]=\"dateFrome\"\r\n            name=\"dateFrom\" readonly formControlName=\"dateFrom\">\r\n          <mat-datepicker-toggle matSuffix [for]=\"dateFrom\"></mat-datepicker-toggle>\r\n          <mat-datepicker color=\"warn\" #dateFrom disabled=\"false\"></mat-datepicker>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Date End:</mat-label>\r\n          <input matInput placeholder=\"Date\" [matDatepicker]=\"Date\" readonly [(ngModel)]=\"dateTo\" name=\"dateTo\"\r\n            formControlName=\"dateTo\">\r\n          <mat-datepicker-toggle matSuffix [for]=\"Date\"></mat-datepicker-toggle>\r\n          <mat-datepicker color=\"warn\" #Date disabled=\"false\"></mat-datepicker>\r\n        </mat-form-field>\r\n        <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n          <mat-label>Report Type: </mat-label>\r\n          <mat-select [(ngModel)]=\"reportType\" name=\"reportType\" formControlName=\"reportType\">\r\n            <mat-option *ngFor=\"let i of newReportTypeList\" [value]=\"i.filename\" (click)=\"setReportType(i.filename)\">\r\n              {{i.name}}\r\n            </mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n    </form>\r\n    <div class=\"row\">\r\n      <div class=\"col-md-9\"></div>\r\n      <div class=\"col-md-3\">\r\n        <button mat-raised-button class=\"button-red\"  (click)=\"generateReport()\"\r\n          [disabled]=\"newReportForm.controls['dateFrom']?.errors?.required  || newReportForm.controls['reportType']?.errors?.required \">\r\n          <i class=\"material-icons color__white\">task_alt</i> GENERATE\r\n        </button>\r\n        <br> <br>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</form>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReportsRoutingModule } from './reports-routing.module';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { BrowserModule } from '@angular/platform-browser'\r\nimport { ReportsComponent } from './reports.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [ReportsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    ReportsRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    AngularMaterialModule,\r\n  ]\r\n})\r\nexport class ReportsModule { }\r\n"]}