(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{LSHe:function(e,t,n){"use strict";n.r(t),n.d(t,"BrandPenaltiesModule",(function(){return E}));var a=n("ofXK"),r=n("tyNb"),i=n("3Pt+"),s=n("+0xr"),d=n("3swC"),o=n("sKXY"),l=n("M0ag"),c=n("nOv4"),m=n("PSD3"),u=n.n(m),p=n("fXoL"),h=n("dJ3e"),b=n("kmnG"),f=n("NFeN"),v=n("d3UM"),P=n("qFsG"),S=n("TPGS"),g=n("DeKZ"),y=n("FKr1");function F(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"mat-option",11),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;p["\u0275\u0275property"]("value",e),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",e.description," ")}}const w=[{path:"",component:(()=>{class e{constructor(e,t,n,a,r){this.router=e,this.apiService=t,this.formBuilder=n,this.sweetAlertService=a,this.datepipe=r,this.displayedColumns=["brandDescription","brandPenaltyAmount"],this.brandPenalties=new c.a,this.brand=new o.i,this.brandPenaltiesList=[],this.brandList=[]}ngOnInit(){this.setFormValidator(),this.getBrandList(),this.getBrandPenaltiesList()}getBrandPenaltiesList(){this.apiService.findAll(l.n.brandPenalties).subscribe(e=>{e&&(this.brandPenaltiesList=e.responseData.data,this.dataSource=new s.p(e.responseData.data),this.dataSource.paginator=this.formListComponent.paginator,this.dataSource.sort=this.formListComponent.sort,this.brand=new o.i,this.brand=this.brandPenalties.brand,this.brand)&&(this.brand.penalty=!1,0===this.brandPenaltiesList.filter(e=>{var t,n;return(null===(t=null==e?void 0:e.brand)||void 0===t?void 0:t.id)===(null===(n=this.brand)||void 0===n?void 0:n.id)}).length&&this.apiService.update(l.n.brand,this.brand).subscribe())},e=>{console.log(e)},()=>{this.resetFormValidator()})}getBrandPenalties(){this.apiService.findById(l.n.brandPenalties,this.formListComponent.idForUpdate).subscribe(e=>{e&&(this.brandPenalties=e.responseData.data)})}getBrandList(){this.apiService.findAll(l.n.activeBrands).subscribe(e=>{e&&(this.brandList=e.responseData.data)})}save(){this.formatDate(),this.apiService.save(l.n.brandPenalties,this.brandPenalties).subscribe(e=>{e?(this.sweetAlertService.success(e),this.router.navigate(["asc/page/maintenance/brand-penalties"])):this.sweetAlertService.error(e),this.getBrandPenaltiesList()})}update(){this.apiService.update(l.n.brandPenalties,this.brandPenalties).subscribe(e=>{e?(this.sweetAlertService.success(e),this.router.navigate(["asc/page/maintenance/brand-penalties"])):this.sweetAlertService.error(e),this.getBrandPenaltiesList()})}setFormValidator(){this.brandPenaltiesForm=this.formBuilder.group({brand:["",i.H.required],amount:["",i.H.required]})}resetFormValidator(){this.brandPenalties=new c.a,this.brandPenaltiesForm.markAsUntouched(),this.brandPenaltiesForm.markAsPristine()}compareBrandPenalties(e,t){if(e&&t)return e.description===t.description}formatDate(){this.datepipe.transform(this.brandPenalties.penaltyDate,"yyyy-MM-dd")}test(){alert(this.brandPenalties.penaltyDate)}delete(){u.a.fire({text:"Are you sure you want to delete this brand penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then(e=>{e.value&&this.apiService.deleteById(l.n.brandPenalties,this.brandPenalties.id).subscribe(()=>{this.sweetAlertService.customSuccessMessage("Brand penalty successfully deleted."),this.getBrandList(),this.getBrandPenaltiesList()})})}}return e.\u0275fac=function(t){return new(t||e)(p["\u0275\u0275directiveInject"](r.b),p["\u0275\u0275directiveInject"](h.b),p["\u0275\u0275directiveInject"](i.g),p["\u0275\u0275directiveInject"](h.e),p["\u0275\u0275directiveInject"](a.f))},e.\u0275cmp=p["\u0275\u0275defineComponent"]({type:e,selectors:[["app-brand-penalties"]],viewQuery:function(e,t){var n;1&e&&p["\u0275\u0275viewQuery"](d.a,!0),2&e&&p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.formListComponent=n.first)},decls:28,vars:9,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-6"],[1,"required-field"],["name","brand","formControlName","brand",3,"ngModel","compareWith","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","amount","formControlName","amount",3,"ngModel","ngModelChange"],[3,"childObject","childForm","saveFunction","updateFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],[3,"value"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"form"),p["\u0275\u0275elementStart"](1,"div",0),p["\u0275\u0275elementStart"](2,"div",1),p["\u0275\u0275elementStart"](3,"div",2),p["\u0275\u0275elementStart"](4,"mat-label"),p["\u0275\u0275elementStart"](5,"mat-icon"),p["\u0275\u0275text"](6,"turned_in"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275text"](7," Brand Penalties "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](8,"hr"),p["\u0275\u0275elementStart"](9,"form",3),p["\u0275\u0275elementStart"](10,"div",1),p["\u0275\u0275elementStart"](11,"mat-form-field",4),p["\u0275\u0275elementStart"](12,"mat-label"),p["\u0275\u0275text"](13,"Brand "),p["\u0275\u0275elementStart"](14,"span",5),p["\u0275\u0275text"](15,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"mat-select",6),p["\u0275\u0275listener"]("ngModelChange",(function(e){return t.brandPenalties.brand=e})),p["\u0275\u0275template"](17,F,2,2,"mat-option",7),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"mat-form-field",4),p["\u0275\u0275elementStart"](19,"mat-label"),p["\u0275\u0275text"](20,"Penalty Amount "),p["\u0275\u0275elementStart"](21,"span",5),p["\u0275\u0275text"](22,"*"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](23,"input",8),p["\u0275\u0275listener"]("ngModelChange",(function(e){return t.brandPenalties.amount=e})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](24,"div",1),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](25,"app-form-action-buttons",9),p["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("updateFunction",(function(){return t.update()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](26,"br"),p["\u0275\u0275elementStart"](27,"app-form-list",10),p["\u0275\u0275listener"]("selectInListFunction",(function(){return t.getBrandPenalties()})),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](9),p["\u0275\u0275property"]("formGroup",t.brandPenaltiesForm),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngModel",t.brandPenalties.brand)("compareWith",t.compareBrandPenalties),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("ngForOf",t.brandList),p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("ngModel",t.brandPenalties.amount),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("childObject",t.brandPenalties)("childForm",t.brandPenaltiesForm),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns))},directives:[i.J,i.u,i.v,b.g,f.a,i.l,b.c,v.a,i.t,i.j,a.s,P.b,i.d,S.a,g.a,y.m],styles:[""]}),e})()}];let B=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.f.forChild(w)],r.f]}),e})();var L=n("tk/3"),C=n("7Tf7");let E=(()=>{class e{}return e.\u0275mod=p["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=p["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,B,L.b,i.D,l.k,C.a]]}),e})()}}]);