{"version":3,"sources":["webpack:///src/app/modules/fragments/index.ts","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment.component.html","webpack:///src/app/core/models/voucher-signatories.model.ts","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment.component.scss","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment.component.ts","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment-routing.module.ts","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment.module.ts"],"names":["VoucherSignatories","CompanyVoucherEnrollmentComponent","apiService","formBuilder","sanitizer","dataStorage","fileStorageService","sweetAlertService","router","displayedColumns","displayedColumnsSignatories","voucher","company","voucherSignatories","paymentMethod","voucherList","companyList","statusList","signatoriesList","process","previewDocument","currentDate","Date","disabledWeekEnds","d","day","getDay","setFormValidator","setSignatoriesForm","getVoucherList","getCompanyList","status","ACTIVE","voucherForm","group","required","fundAmount","voucherDate","voucherSignatoriesForm","voucherSignatoriesName","voucherSignatoriesPosition","markAsUntouched","markAsPristine","attachment","event","attachmentSize","target","files","size","type","customErrorMessage","value","pdfURL","URL","createObjectURL","safeURL","bypassSecurityTrustResourceUrl","reader","FileReader","file","readAsDataURL","onload","selectedFiles","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","setDisplayProgressbar","params","VOUCHER_FUND","ORIGINAL","pushFileToStorage","attachmentDocument","item","subscribe","res","obj","responseData","data","voucherAttachmentReference","saveVoucher","undefined","err","error","findByParam","res1","attachmentDocuments","fileURL","resetFormValidatorVoucher","resetsetSignatoriesForm","dataSourceSignatories","save","voucherFundEnrollment","success","navigateByUrl","reset","findAll","findById","formListComponent","idForUpdate","paginator","sort","getCompanyDetails","viewAttachmentFile","signatory","id","name","position","voucherId","update","splice","findIndex","r","filter","s","deleteById","push","voucherMonitoring","dataSource","selector","template","routes","path","component","CompanyVoucherEnrollmentRoutingModule","imports","forChild","exports","CompanyVoucherEnrollmentModule","declarations"],"mappings":"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","file":"company-voucher-company-voucher-enrollment-company-voucher-enrollment-module-es5.js","sourcesContent":["export * from './form-action-buttons/form-action-buttons.component';\r\nexport * from './form-list/form-list.component';","export default \"<form>\\r\\n  <div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-md-12 title\\\">\\r\\n        <mat-label>\\r\\n          <mat-icon>view_list</mat-icon> Company Voucher Enrollment\\r\\n        </mat-label>\\r\\n      </div>\\r\\n    </div>\\r\\n    <hr>\\r\\n    <br>\\r\\n    <app-form-list [dataSource]=\\\"dataSource\\\" [displayedColumns]=\\\"displayedColumns\\\"\\r\\n      (selectInListFunction)=\\\"getVoucherDetails()\\\"></app-form-list>\\r\\n    <br>\\r\\n    <div class=\\\"container-fluid\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-12 information-title\\\">\\r\\n          <mat-label>\\r\\n            Company Information\\r\\n          </mat-label>\\r\\n        </div>\\r\\n      </div>\\r\\n      <hr>\\r\\n      <br>\\r\\n      <div class=\\\"row col-md-12\\\">\\r\\n        <div class=\\\"row col-md-5\\\">\\r\\n          <div *ngIf=\\\"process==='save'\\\">\\r\\n            <mat-label>Voucher: &nbsp;&nbsp;&nbsp;<span>PDF file only!</span></mat-label><br>\\r\\n            <input class=\\\"file-upload\\\" type=\\\"file\\\" [(ngModel)]=\\\"attachment\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\r\\n              accept=\\\".pdf\\\" (change)=\\\"selectFile($event)\\\">\\r\\n          </div>\\r\\n          <div *ngIf=\\\"previewDocument===true\\\">\\r\\n            <div class=\\\"file-upload\\\">\\r\\n              <object [data]=\\\"safeURL\\\" type=\\\"application/pdf\\\" width=\\\"100%\\\" height=\\\"500\\\">\\r\\n                <iframe [src]=\\\"safeURL\\\" width=\\\"100%\\\" height=\\\"500\\\">\\r\\n                  <p>This browser does not support PDF!</p>\\r\\n                </iframe>\\r\\n              </object>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row col-md-7\\\">\\r\\n          <form [formGroup]=\\\"voucherForm\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <mat-form-field class=\\\"col-md-12\\\" appearance=\\\"outline\\\" [hidden]=\\\"process === 'update'\\\">\\r\\n                <mat-label> Company Name\\r\\n                </mat-label>\\r\\n                <mat-select [(ngModel)]=\\\"voucher.company\\\" name=\\\"company\\\" formControlName=\\\"company\\\">\\r\\n                  <mat-option *ngFor=\\\"let i of companyList\\\" [value]=\\\"i\\\" (click)=\\\"getCompanyDetails(i)\\\">\\r\\n                    {{i.companyName}}\\r\\n                  </mat-option>\\r\\n                </mat-select>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field class=\\\"col-md-12\\\" appearance=\\\"outline\\\" *ngIf=\\\"voucher.company && process === 'update'\\\">\\r\\n                <mat-label>Company Name</mat-label>\\r\\n                <input matInput [value]=\\\"company.companyName\\\" readonly>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field class=\\\"col-md-6\\\" appearance=\\\"outline\\\" *ngIf=\\\"voucher.company\\\">\\r\\n                <mat-label>Company TelephoneNo</mat-label>\\r\\n                <input matInput [value]=\\\"company.companyTelephoneNo\\\" readonly>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field class=\\\"col-md-6\\\" appearance=\\\"outline\\\" *ngIf=\\\"voucher.company\\\">\\r\\n                <mat-label>Company Tin </mat-label>\\r\\n                <input matInput [value]=\\\"company.companyTin\\\" readonly>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field class=\\\"col-md-12\\\" appearance=\\\"outline\\\" *ngIf=\\\"voucher.company\\\">\\r\\n                <mat-label>Company Address</mat-label>\\r\\n                <input matInput [value]=\\\"company.completeAddress\\\" readonly>\\r\\n              </mat-form-field>\\r\\n              <mat-form-field class=\\\"col-md-6\\\" appearance=\\\"outline\\\">\\r\\n                <mat-label>Fund Amount <span class=\\\"required-field\\\">*</span></mat-label>\\r\\n                <input matInput [(ngModel)]=\\\"voucher.fundAmount\\\" name=\\\"fundAmount\\\" formControlName=\\\"fundAmount\\\"\\r\\n                  type=\\\"number\\\" [readonly]=\\\"process === 'update'\\\">\\r\\n              </mat-form-field>\\r\\n              <mat-form-field class=\\\"col-md-6\\\" appearance=\\\"outline\\\">\\r\\n                <mat-label>Voucher Date</mat-label>\\r\\n                <input matInput placeholder=\\\"Date\\\" [matDatepicker]=\\\"voucherDate\\\" readonly\\r\\n                  [(ngModel)]=\\\"voucher.voucherDate\\\" name=\\\"voucherDate\\\" formControlName=\\\"voucherDate\\\">\\r\\n                <mat-datepicker-toggle matSuffix [for]=\\\"voucherDate\\\" [hidden]=\\\"process === 'update'\\\"></mat-datepicker-toggle>\\r\\n                <mat-datepicker color=\\\"warn\\\" #voucherDate disabled=\\\"false\\\"></mat-datepicker>\\r\\n              </mat-form-field>\\r\\n              <!-- <mat-form-field class=\\\"col-md-6\\\" appearance=\\\"outline\\\">\\r\\n                <mat-label>Status</mat-label>\\r\\n                <mat-select [(ngModel)]=\\\"voucher.status\\\" name=\\\"status\\\" formControlName=\\\"status\\\" [disabled]=\\\"process === 'update'\\\">\\r\\n                  <mat-option *ngFor=\\\"let i of statusList\\\" [value]=\\\"i.status\\\">\\r\\n                    {{i.status}}\\r\\n                  </mat-option>\\r\\n                </mat-select>\\r\\n              </mat-form-field> -->\\r\\n            </div>\\r\\n          </form>\\r\\n          <div class=\\\"row col-md-12\\\">\\r\\n          <form [formGroup]=\\\"voucherSignatoriesForm\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n              <mat-form-field class=\\\"col-md-6\\\" appearance=\\\"outline\\\">\\r\\n                <mat-label>Voucher Signatories Name <span class=\\\"required-field\\\">*</span></mat-label>\\r\\n                <input matInput [(ngModel)]=\\\"voucherSignatories.name\\\" name=\\\"voucherSignatoriesName\\\"\\r\\n                  formControlName=\\\"voucherSignatoriesName\\\">\\r\\n              </mat-form-field>\\r\\n              <mat-form-field class=\\\"col-md-6\\\" appearance=\\\"outline\\\">\\r\\n                <mat-label>Voucher Signatories Position <span class=\\\"required-field\\\">*</span></mat-label>\\r\\n                <input matInput [(ngModel)]=\\\"voucherSignatories.position\\\" name=\\\"voucherSignatoriesPosition\\\"\\r\\n                  formControlName=\\\"voucherSignatoriesPosition\\\">\\r\\n              </mat-form-field>\\r\\n            </div>\\r\\n          </form>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-9\\\"></div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <button mat-raised-button class=\\\"button-red\\\" (click)=\\\"setSignatoriesList(voucherSignatories)\\\"\\r\\n                [disabled]=\\\"voucherSignatoriesForm.controls['voucherSignatoriesPosition']?.errors?.required || voucherSignatoriesForm.controls['voucherSignatoriesName']?.errors?.required\\\">\\r\\n                <i class=\\\"material-icons color__white\\\">task_alt</i> Add Signatory\\r\\n              </button>\\r\\n              <br> <br>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n          <app-form-list [dataSource]=\\\"dataSourceSignatories\\\" [displayedColumns]=\\\"displayedColumnsSignatories\\\" (deleteInListFunction)=\\\"onDeleteSignatory($event)\\\" (updateListFunction)=\\\"onUpdateSignatory($event)\\\"></app-form-list>\\r\\n            <!-- <app-form-action-buttons [childObject]=\\\"voucher\\\" [childForm]=\\\"voucherForm\\\" (saveFunction)=\\\"uploadVoucher()\\\"\\r\\n            (updateFunction)=\\\"saveVoucher()\\\"  (cancelFunction)=\\\"resetFormValidatorVoucher()\\\"></app-form-action-buttons>\\r\\n            <br> -->\\r\\n          <div class=\\\"row\\\" >\\r\\n            <div class=\\\"col-md-6\\\"></div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <br>\\r\\n              <button mat-raised-button class=\\\"button-red\\\" (click)=\\\"uploadVoucher()\\\" [hidden]=\\\"process === 'update' \\\"\\r\\n              [disabled]=\\\"voucherForm.invalid || signatoriesList?.length === 0 || !attachment\\\">\\r\\n                <i class=\\\"material-icons color__white\\\">task_alt</i> SUBMIT\\r\\n              </button>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <br>\\r\\n              <button mat-raised-button class=\\\"button-red\\\" (click)=\\\"reset()\\\" >\\r\\n                <i class=\\\"material-icons color__white\\\">task_alt</i> RESET\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <br>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\\r\\n\";","export class VoucherSignatories {\r\n\r\n    id: number;\r\n    name: string;\r\n    position: string;\r\n    \r\n}","export default \".button-green {\\n  background-color: green;\\n  color: white;\\n}\\n\\n.information-title {\\n  text-align: center;\\n  font-weight: bold;\\n  font-size: 24px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9wYWdlcy9hY2NvdW50aW5nL2NvbXBhbnktdm91Y2hlci9jb21wYW55LXZvdWNoZXItZW5yb2xsbWVudC9jb21wYW55LXZvdWNoZXItZW5yb2xsbWVudC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHVCQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL21vZHVsZXMvcGFnZXMvYWNjb3VudGluZy9jb21wYW55LXZvdWNoZXIvY29tcGFueS12b3VjaGVyLWVucm9sbG1lbnQvY29tcGFueS12b3VjaGVyLWVucm9sbG1lbnQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uLWdyZWVue1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogZ3JlZW47XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi5pbmZvcm1hdGlvbi10aXRsZXtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgZm9udC1zaXplOiAyNHB4O1xyXG59Il19 */\";","import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { FormListComponent } from '@fragments';\r\nimport { Company } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ATTACHMENT_TYPE, COMMON_FUNCTION, ENDPOINTS, STATUSES, SUBMISSION_TYPE } from '@shared';\r\nimport { PaymentMethod } from 'app/core/models/payment-method.model';\r\nimport { VoucherSignatories } from 'app/core/models/voucher-signatories.model';\r\nimport { Voucher } from 'app/core/models/voucher.model';\r\nimport { FileStorageService } from 'app/core/services/file.storage.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n@Component({\r\n  selector: 'app-company-voucher-enrollment',\r\n  templateUrl: './company-voucher-enrollment.component.html',\r\n  styleUrls: ['./company-voucher-enrollment.component.scss']\r\n})\r\nexport class CompanyVoucherEnrollmentComponent implements OnInit, OnDestroy {\r\n\r\n  @ViewChild(FormListComponent) formListComponent: FormListComponent;\r\n  dataSource: MatTableDataSource<Voucher>;\r\n  displayedColumns: string[] = ['company', 'fundAmount', 'voucherDate'];\r\n  dataSourceSignatories: MatTableDataSource<VoucherSignatories>;\r\n  displayedColumnsSignatories: string[] = ['name', 'position', 'voucherActionItems'];\r\n  @Input() safeURL: any;\r\n\r\n  voucher = new Voucher();\r\n  company = new Company();\r\n  voucherSignatories = new VoucherSignatories();\r\n  paymentMethod = new PaymentMethod();\r\n\r\n  voucherList = [];\r\n  companyList = [];\r\n  attachmentDocuments: any;\r\n  statusList = [...STATUSES];\r\n  signatoriesList = [];\r\n\r\n  selectedFiles: any;\r\n  attachment: any;\r\n  // safeURLVoucherEnrollment: any;\r\n  process = 'save';\r\n\r\n  previewDocument = false;\r\n  currentDate = new Date();\r\n\r\n  voucherForm: FormGroup;\r\n  voucherSignatoriesForm: FormGroup;\r\n  resetForm: any;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private sanitizer: DomSanitizer,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setFormValidator();\r\n    this.setSignatoriesForm();\r\n    this.getVoucherList();\r\n    this.getCompanyList();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.voucher.status = COMMON_FUNCTION.ACTIVE;\r\n    this.voucherForm = this.formBuilder.group({\r\n      company: ['', [Validators.required]],\r\n      fundAmount: ['', [Validators.required]],\r\n      voucherDate: ['', [Validators.required]],\r\n      // status: ['', [Validators.required]],\r\n    })\r\n\r\n\r\n  }\r\n\r\n  setSignatoriesForm() {\r\n    this.voucherSignatoriesForm = this.formBuilder.group({\r\n      voucherSignatoriesName: ['', [Validators.required]],\r\n      voucherSignatoriesPosition: ['', [Validators.required]],\r\n    })\r\n  }\r\n\r\n  resetsetSignatoriesForm() {\r\n    this.voucher.status = COMMON_FUNCTION.ACTIVE;\r\n    this.voucherSignatories = new VoucherSignatories();\r\n    this.voucherSignatoriesForm.markAsUntouched();\r\n    this.voucherSignatoriesForm.markAsPristine();\r\n  }\r\n\r\n  resetFormValidatorVoucher(): void {\r\n    this.voucher.status = COMMON_FUNCTION.ACTIVE;\r\n    this.voucher = new Voucher();\r\n    this.attachment = null;\r\n    this.voucherForm.markAsUntouched();\r\n    this.voucherForm.markAsPristine();\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURL = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadVoucher() {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this VOUCHER?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.VOUCHER_FUND + '&submissionType=' + SUBMISSION_TYPE.ORIGINAL;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n          .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            // console.log('UPLOADED', obj);\r\n            this.voucher.voucherAttachmentReference = obj.voucherAttachmentReference;\r\n            this.voucher.company = this.company;\r\n            this.voucher.voucherSignatories = this.signatoriesList;\r\n            // console.log('VOUCHER', this.voucher);\r\n            this.saveVoucher();\r\n            this.selectedFiles = undefined;\r\n          }, (err: any) => {\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            this.dataStorage.setDisplayProgressbar(false);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  viewAttachmentFile() {\r\n    this.apiService.findByParam(ENDPOINTS.attachmentDocument, `voucher-attachment-reference/` + this.voucher.voucherAttachmentReference)\r\n      .subscribe((res1: any) => {\r\n        if (res1) {\r\n          this.previewDocument = true;\r\n          this.attachmentDocuments = res1.responseData.data;\r\n          this.safeURL = this.sanitizer.bypassSecurityTrustResourceUrl(this.attachmentDocuments.fileURL);\r\n          // console.log('view attachmentDocument: ', this.attachmentDocuments);\r\n        }\r\n      }, (err: any) => {\r\n        this.attachmentDocuments = [];\r\n      });\r\n  }\r\n\r\n  reset() {\r\n    this.process = 'save';\r\n    this.resetFormValidatorVoucher();\r\n    this.resetsetSignatoriesForm();\r\n    this.attachmentDocuments = [];\r\n    this.previewDocument = false;\r\n    this.dataSourceSignatories = null;\r\n    this.signatoriesList = [];\r\n  }\r\n\r\n\r\n  saveVoucher() {\r\n    // console.log('SAVE ::: ', this.voucher);\r\n    this.apiService.save(ENDPOINTS.voucherFundEnrollment, this.voucher).subscribe((res: any) => {\r\n      // console.log('SAVED ::::: > ', res);\r\n      this.sweetAlertService.success(res);\r\n      this.setFormValidator();\r\n      this.getVoucherList();\r\n      this.router.navigateByUrl('asc/page/accounting/voucher-enrollment');\r\n      this.reset();\r\n\r\n    }, (err) => {\r\n      // console.log(err);\r\n      this.sweetAlertService.error(err);\r\n    });\r\n  }\r\n\r\n\r\n  getCompanyList() {\r\n    this.apiService.findAll(ENDPOINTS.company).subscribe((res: any) => {\r\n      this.companyList = res.responseData.data;\r\n    });\r\n  }\r\n\r\n  getCompanyDetails(res) {\r\n    this.company = res;\r\n  }\r\n\r\n  getVoucherDetails() {\r\n    this.process = 'update';\r\n    // console.log('+++', this.voucher);\r\n    this.apiService.findById(ENDPOINTS.voucher, this.formListComponent.idForUpdate).subscribe((res: any) => {\r\n      if (res) {\r\n        // console.log(res.responseData.data);\r\n        this.voucher = res.responseData.data\r\n        this.signatoriesList = this.voucher.voucherSignatories;\r\n        this.dataSourceSignatories = new MatTableDataSource<VoucherSignatories>(this.signatoriesList);\r\n        this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n        this.dataSourceSignatories.sort = this.formListComponent.sort;\r\n        this.getCompanyDetails(this.voucher.company);\r\n        this.viewAttachmentFile();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  onUpdateSignatory(signatory: any) {\r\n    if (signatory.id && this.process === 'update' && this.voucher.id) {\r\n      let data = {\r\n        id: signatory.id,\r\n        name: signatory.name,\r\n        position: signatory.position,\r\n        voucherId: this.voucher.id\r\n      }\r\n      this.apiService.update(ENDPOINTS.voucherSignatories, data).subscribe(result => {\r\n        this.signatoriesList.splice(this.signatoriesList.findIndex(r => r.id === signatory.id), 1, result.responseData.data);\r\n        this.dataSourceSignatories = new MatTableDataSource(this.signatoriesList);\r\n        this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n      });\r\n    } else {\r\n      this.signatoriesList = signatory;\r\n      this.dataSourceSignatories = new MatTableDataSource(this.signatoriesList);\r\n      this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n    }\r\n  }\r\n\r\n  onDeleteSignatory(signatory: VoucherSignatories) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to delete this SIGNATORY?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.signatoriesList = this.signatoriesList.filter(s => s !== signatory);\r\n        this.dataSourceSignatories = new MatTableDataSource(this.signatoriesList);\r\n        if (this.process === 'update' && signatory.id && this.voucher.id) {\r\n          this.apiService.deleteById(ENDPOINTS.voucherSignatories, signatory.id).subscribe((res: any) => {\r\n            this.signatoriesList.splice(this.signatoriesList.findIndex(r => r.id === signatory.id), 1)\r\n            this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n          });\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  setSignatoriesList(res) {\r\n    this.signatoriesList.push(res);\r\n    this.dataSourceSignatories = new MatTableDataSource<VoucherSignatories>(this.signatoriesList);\r\n    this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n    this.dataSourceSignatories.sort = this.formListComponent.sort;\r\n    if (this.process === 'update' && this.voucher.id) {\r\n      let data = {\r\n        name: res.name,\r\n        position: res.position,\r\n        voucherId: this.voucher.id\r\n      }\r\n      this.apiService.save(ENDPOINTS.voucherSignatories, data).subscribe(res => {\r\n        this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n      });\r\n    }\r\n    // this.resetForm === 'voucher_signatories';\r\n    this.resetsetSignatoriesForm();\r\n  }\r\n\r\n  getVoucherList() {\r\n    this.apiService.findAll(`${ENDPOINTS.voucherMonitoring}?page=1&size=30`).subscribe((res: any) => {\r\n      // console.log(res.data);\r\n      this.voucherList = res.data;\r\n      this.dataSource = new MatTableDataSource<Voucher>(res.data);\r\n      this.dataSource.paginator = this.formListComponent.paginator;\r\n      this.dataSource.sort = this.formListComponent.sort;\r\n    });\r\n  }\r\n\r\n  disabledWeekEnds = (d: Date | null): boolean => {\r\n    const day = (d || new Date()).getDay();\r\n    return day !== 0 && day !== 6;\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CompanyVoucherEnrollmentComponent } from './company-voucher-enrollment.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CompanyVoucherEnrollmentComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CompanyVoucherEnrollmentRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CompanyVoucherEnrollmentRoutingModule } from './company-voucher-enrollment-routing.module';\r\nimport { CompanyVoucherEnrollmentComponent } from './company-voucher-enrollment.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { FragmentsModule } from 'app/modules/fragments/fragments.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [CompanyVoucherEnrollmentComponent],\r\n  imports: [\r\n    CommonModule,\r\n    CompanyVoucherEnrollmentRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    AngularMaterialModule,\r\n    FragmentsModule\r\n  ]\r\n})\r\nexport class CompanyVoucherEnrollmentModule { }\r\n"]}