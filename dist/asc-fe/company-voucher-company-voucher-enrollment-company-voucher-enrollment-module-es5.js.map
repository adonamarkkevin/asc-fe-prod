{"version":3,"sources":["webpack:///src/app/modules/fragments/index.ts","webpack:///src/app/core/models/voucher-signatories.model.ts","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment.component.ts","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment.component.html","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment-routing.module.ts","webpack:///src/app/modules/pages/accounting/company-voucher/company-voucher-enrollment/company-voucher-enrollment.module.ts"],"names":["VoucherSignatories","CompanyVoucherEnrollmentComponent","apiService","formBuilder","sanitizer","dataStorage","fileStorageService","sweetAlertService","router","displayedColumns","displayedColumnsSignatories","voucher","company","voucherSignatories","paymentMethod","voucherList","companyList","statusList","signatoriesList","process","previewDocument","currentDate","Date","disabledWeekEnds","d","day","getDay","setFormValidator","setSignatoriesForm","getVoucherList","getCompanyList","status","ACTIVE","voucherForm","group","required","fundAmount","voucherDate","voucherSignatoriesForm","voucherSignatoriesName","voucherSignatoriesPosition","markAsUntouched","markAsPristine","attachment","event","attachmentSize","target","files","size","type","customErrorMessage","value","pdfURL","URL","createObjectURL","safeURL","bypassSecurityTrustResourceUrl","reader","FileReader","file","readAsDataURL","onload","selectedFiles","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","setDisplayProgressbar","params","VOUCHER_FUND","ORIGINAL","pushFileToStorage","attachmentDocument","item","subscribe","res","obj","responseData","data","voucherAttachmentReference","saveVoucher","undefined","err","error","findByParam","res1","attachmentDocuments","fileURL","resetFormValidatorVoucher","resetsetSignatoriesForm","dataSourceSignatories","save","voucherFundEnrollment","success","navigateByUrl","reset","findAll","findById","formListComponent","idForUpdate","paginator","sort","getCompanyDetails","viewAttachmentFile","signatory","id","name","position","voucherId","update","splice","findIndex","r","filter","s","deleteById","push","voucherMonitoring","dataSource","getVoucherDetails","setSignatoriesList","onDeleteSignatory","onUpdateSignatory","uploadVoucher","routes","path","component","CompanyVoucherEnrollmentRoutingModule","forChild","CompanyVoucherEnrollmentModule"],"mappings":"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","file":"company-voucher-company-voucher-enrollment-company-voucher-enrollment-module-es5.js","sourcesContent":["export * from './form-action-buttons/form-action-buttons.component';\r\nexport * from './form-list/form-list.component';","export class VoucherSignatories {\r\n\r\n    id: number;\r\n    name: string;\r\n    position: string;\r\n    \r\n}","import { THIS_EXPR } from '@angular/compiler/src/output/output_ast';\r\nimport { Component, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Router } from '@angular/router';\r\nimport { FormListComponent } from '@fragments';\r\nimport { Company } from '@models';\r\nimport { ApiService, DataStorageService, SweetAlertService } from '@services';\r\nimport { ATTACHMENT_TYPE, COMMON_FUNCTION, ENDPOINTS, STATUSES, SUBMISSION_TYPE } from '@shared';\r\nimport { PaymentMethod } from 'app/core/models/payment-method.model';\r\nimport { VoucherSignatories } from 'app/core/models/voucher-signatories.model';\r\nimport { Voucher } from 'app/core/models/voucher.model';\r\nimport { FileStorageService } from 'app/core/services/file.storage.service';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\n@Component({\r\n  selector: 'app-company-voucher-enrollment',\r\n  templateUrl: './company-voucher-enrollment.component.html',\r\n  styleUrls: ['./company-voucher-enrollment.component.scss']\r\n})\r\nexport class CompanyVoucherEnrollmentComponent implements OnInit, OnDestroy {\r\n\r\n  @ViewChild(FormListComponent) formListComponent: FormListComponent;\r\n  dataSource: MatTableDataSource<Voucher>;\r\n  displayedColumns: string[] = ['company', 'fundAmount', 'voucherDate'];\r\n  dataSourceSignatories: MatTableDataSource<VoucherSignatories>;\r\n  displayedColumnsSignatories: string[] = ['name', 'position', 'voucherActionItems'];\r\n  @Input() safeURL: any;\r\n\r\n  voucher = new Voucher();\r\n  company = new Company();\r\n  voucherSignatories = new VoucherSignatories();\r\n  paymentMethod = new PaymentMethod();\r\n\r\n  voucherList = [];\r\n  companyList = [];\r\n  attachmentDocuments: any;\r\n  statusList = [...STATUSES];\r\n  signatoriesList = [];\r\n\r\n  selectedFiles: any;\r\n  attachment: any;\r\n  // safeURLVoucherEnrollment: any;\r\n  process = 'save';\r\n\r\n  previewDocument = false;\r\n  currentDate = new Date();\r\n\r\n  voucherForm: FormGroup;\r\n  voucherSignatoriesForm: FormGroup;\r\n  resetForm: any;\r\n\r\n  constructor(\r\n    private apiService: ApiService,\r\n    private formBuilder: FormBuilder,\r\n    private sanitizer: DomSanitizer,\r\n    public dataStorage: DataStorageService,\r\n    private fileStorageService: FileStorageService,\r\n    private sweetAlertService: SweetAlertService,\r\n    private router: Router,\r\n\r\n  ) {\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setFormValidator();\r\n    this.setSignatoriesForm();\r\n    this.getVoucherList();\r\n    this.getCompanyList();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n\r\n  }\r\n\r\n  setFormValidator(): void {\r\n    this.voucher.status = COMMON_FUNCTION.ACTIVE;\r\n    this.voucherForm = this.formBuilder.group({\r\n      company: ['', [Validators.required]],\r\n      fundAmount: ['', [Validators.required]],\r\n      voucherDate: ['', [Validators.required]],\r\n      // status: ['', [Validators.required]],\r\n    })\r\n\r\n\r\n  }\r\n\r\n  setSignatoriesForm() {\r\n    this.voucherSignatoriesForm = this.formBuilder.group({\r\n      voucherSignatoriesName: ['', [Validators.required]],\r\n      voucherSignatoriesPosition: ['', [Validators.required]],\r\n    })\r\n  }\r\n\r\n  resetsetSignatoriesForm() {\r\n    this.voucher.status = COMMON_FUNCTION.ACTIVE;\r\n    this.voucherSignatories = new VoucherSignatories();\r\n    this.voucherSignatoriesForm.markAsUntouched();\r\n    this.voucherSignatoriesForm.markAsPristine();\r\n  }\r\n\r\n  resetFormValidatorVoucher(): void {\r\n    this.voucher.status = COMMON_FUNCTION.ACTIVE;\r\n    this.voucher = new Voucher();\r\n    this.attachment = null;\r\n    this.voucherForm.markAsUntouched();\r\n    this.voucherForm.markAsPristine();\r\n  }\r\n\r\n  selectFile(event) {\r\n    const attachmentSize = event.target.files[0].size;\r\n\r\n    if (event.target.files[0].type === 'application/pdf') {\r\n      if (attachmentSize > 15000000) { // 1MB = 1M\r\n        this.sweetAlertService.customErrorMessage(`Attachments' total file size should not exceed 15MB.`);\r\n        event.target.value = '';\r\n        return;\r\n      } else {\r\n        const pdfURL = URL.createObjectURL(event.target.files[0]);\r\n        this.safeURL = this.sanitizer.bypassSecurityTrustResourceUrl(pdfURL);\r\n        this.previewDocument = true;\r\n        const reader = new FileReader();\r\n        const [file] = event.target.files;\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => {\r\n        };\r\n      }\r\n      this.selectedFiles = event.target.files;\r\n    } else {\r\n      this.sweetAlertService.customErrorMessage('Attachment should be in PDF format only.');\r\n      event.target.value = '';\r\n      return;\r\n    }\r\n  }\r\n\r\n  uploadVoucher() {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to submit this VOUCHER?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.dataStorage.setDisplayProgressbar(true);\r\n        let params = '';\r\n        params = '?&attachmentType=' + ATTACHMENT_TYPE.VOUCHER_FUND + '&submissionType=' + SUBMISSION_TYPE.ORIGINAL;\r\n        this.fileStorageService.pushFileToStorage(ENDPOINTS.attachmentDocument, this.selectedFiles.item(0), params)\r\n          .subscribe(res => {\r\n            const obj = res.responseData.data;\r\n            // console.log('UPLOADED', obj);\r\n            this.voucher.voucherAttachmentReference = obj.voucherAttachmentReference;\r\n            this.voucher.company = this.company;\r\n            this.voucher.voucherSignatories = this.signatoriesList;\r\n            // console.log('VOUCHER', this.voucher);\r\n            this.saveVoucher();\r\n            this.selectedFiles = undefined;\r\n          }, (err: any) => {\r\n            this.sweetAlertService.error(err);\r\n          }, () => {\r\n            this.dataStorage.setDisplayProgressbar(false);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  viewAttachmentFile() {\r\n    this.apiService.findByParam(ENDPOINTS.attachmentDocument, `voucher-attachment-reference/` + this.voucher.voucherAttachmentReference)\r\n      .subscribe((res1: any) => {\r\n        if (res1) {\r\n          this.previewDocument = true;\r\n          this.attachmentDocuments = res1.responseData.data;\r\n          this.safeURL = this.sanitizer.bypassSecurityTrustResourceUrl(this.attachmentDocuments.fileURL);\r\n          // console.log('view attachmentDocument: ', this.attachmentDocuments);\r\n        }\r\n      }, (err: any) => {\r\n        this.attachmentDocuments = [];\r\n      });\r\n  }\r\n\r\n  reset() {\r\n    this.process = 'save';\r\n    this.resetFormValidatorVoucher();\r\n    this.resetsetSignatoriesForm();\r\n    this.attachmentDocuments = [];\r\n    this.previewDocument = false;\r\n    this.dataSourceSignatories = null;\r\n    this.signatoriesList = [];\r\n  }\r\n\r\n\r\n  saveVoucher() {\r\n    // console.log('SAVE ::: ', this.voucher);\r\n    this.apiService.save(ENDPOINTS.voucherFundEnrollment, this.voucher).subscribe((res: any) => {\r\n      // console.log('SAVED ::::: > ', res);\r\n      this.sweetAlertService.success(res);\r\n      this.setFormValidator();\r\n      this.getVoucherList();\r\n      this.router.navigateByUrl('asc/page/accounting/voucher-enrollment');\r\n      this.reset();\r\n\r\n    }, (err) => {\r\n      // console.log(err);\r\n      this.sweetAlertService.error(err);\r\n    });\r\n  }\r\n\r\n\r\n  getCompanyList() {\r\n    this.apiService.findAll(ENDPOINTS.company).subscribe((res: any) => {\r\n      this.companyList = res.responseData.data;\r\n    });\r\n  }\r\n\r\n  getCompanyDetails(res) {\r\n    this.company = res;\r\n  }\r\n\r\n  getVoucherDetails() {\r\n    this.process = 'update';\r\n    // console.log('+++', this.voucher);\r\n    this.apiService.findById(ENDPOINTS.voucher, this.formListComponent.idForUpdate).subscribe((res: any) => {\r\n      if (res) {\r\n        // console.log(res.responseData.data);\r\n        this.voucher = res.responseData.data\r\n        this.signatoriesList = this.voucher.voucherSignatories;\r\n        this.dataSourceSignatories = new MatTableDataSource<VoucherSignatories>(this.signatoriesList);\r\n        this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n        this.dataSourceSignatories.sort = this.formListComponent.sort;\r\n        this.getCompanyDetails(this.voucher.company);\r\n        this.viewAttachmentFile();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  onUpdateSignatory(signatory: any) {\r\n    if (signatory.id && this.process === 'update' && this.voucher.id) {\r\n      let data = {\r\n        id: signatory.id,\r\n        name: signatory.name,\r\n        position: signatory.position,\r\n        voucherId: this.voucher.id\r\n      }\r\n      this.apiService.update(ENDPOINTS.voucherSignatories, data).subscribe(result => {\r\n        this.signatoriesList.splice(this.signatoriesList.findIndex(r => r.id === signatory.id), 1, result.responseData.data);\r\n        this.dataSourceSignatories = new MatTableDataSource(this.signatoriesList);\r\n        this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n      });\r\n    } else {\r\n      this.signatoriesList = signatory;\r\n      this.dataSourceSignatories = new MatTableDataSource(this.signatoriesList);\r\n      this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n    }\r\n  }\r\n\r\n  onDeleteSignatory(signatory: VoucherSignatories) {\r\n    Swal.fire({\r\n      text: 'Are you sure you want to delete this SIGNATORY?',\r\n      icon: 'question',\r\n      showCancelButton: true,\r\n      confirmButtonColor: '#3085d6',\r\n      cancelButtonColor: '#d33',\r\n      confirmButtonText: 'Confirm'\r\n    }).then((result) => {\r\n      if (result.value) {\r\n        this.signatoriesList = this.signatoriesList.filter(s => s !== signatory);\r\n        this.dataSourceSignatories = new MatTableDataSource(this.signatoriesList);\r\n        if (this.process === 'update' && signatory.id && this.voucher.id) {\r\n          this.apiService.deleteById(ENDPOINTS.voucherSignatories, signatory.id).subscribe((res: any) => {\r\n            this.signatoriesList.splice(this.signatoriesList.findIndex(r => r.id === signatory.id), 1)\r\n            this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n          });\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  setSignatoriesList(res) {\r\n    this.signatoriesList.push(res);\r\n    this.dataSourceSignatories = new MatTableDataSource<VoucherSignatories>(this.signatoriesList);\r\n    this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n    this.dataSourceSignatories.sort = this.formListComponent.sort;\r\n    if (this.process === 'update' && this.voucher.id) {\r\n      let data = {\r\n        name: res.name,\r\n        position: res.position,\r\n        voucherId: this.voucher.id\r\n      }\r\n      this.apiService.save(ENDPOINTS.voucherSignatories, data).subscribe(res => {\r\n        this.dataSourceSignatories.paginator = this.formListComponent.paginator;\r\n      });\r\n    }\r\n    // this.resetForm === 'voucher_signatories';\r\n    this.resetsetSignatoriesForm();\r\n  }\r\n\r\n  getVoucherList() {\r\n    this.apiService.findAll(`${ENDPOINTS.voucherMonitoring}?page=1&size=30`).subscribe((res: any) => {\r\n      // console.log(res.data);\r\n      this.voucherList = res.data;\r\n      this.dataSource = new MatTableDataSource<Voucher>(res.data);\r\n      this.dataSource.paginator = this.formListComponent.paginator;\r\n      this.dataSource.sort = this.formListComponent.sort;\r\n    });\r\n  }\r\n\r\n  disabledWeekEnds = (d: Date | null): boolean => {\r\n    const day = (d || new Date()).getDay();\r\n    return day !== 0 && day !== 6;\r\n  }\r\n\r\n}\r\n","<form>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n      <div class=\"col-md-12 title\">\r\n        <mat-label>\r\n          <mat-icon>view_list</mat-icon> Company Voucher Enrollment\r\n        </mat-label>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <br>\r\n    <app-form-list [dataSource]=\"dataSource\" [displayedColumns]=\"displayedColumns\"\r\n      (selectInListFunction)=\"getVoucherDetails()\"></app-form-list>\r\n    <br>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-12 information-title\">\r\n          <mat-label>\r\n            Company Information\r\n          </mat-label>\r\n        </div>\r\n      </div>\r\n      <hr>\r\n      <br>\r\n      <div class=\"row col-md-12\">\r\n        <div class=\"row col-md-5\">\r\n          <div *ngIf=\"process==='save'\">\r\n            <mat-label>Voucher: &nbsp;&nbsp;&nbsp;<span>PDF file only!</span></mat-label><br>\r\n            <input class=\"file-upload\" type=\"file\" [(ngModel)]=\"attachment\" [ngModelOptions]=\"{standalone: true}\"\r\n              accept=\".pdf\" (change)=\"selectFile($event)\">\r\n          </div>\r\n          <div *ngIf=\"previewDocument===true\">\r\n            <div class=\"file-upload\">\r\n              <object [data]=\"safeURL\" type=\"application/pdf\" width=\"100%\" height=\"500\">\r\n                <iframe [src]=\"safeURL\" width=\"100%\" height=\"500\">\r\n                  <p>This browser does not support PDF!</p>\r\n                </iframe>\r\n              </object>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"row col-md-7\">\r\n          <form [formGroup]=\"voucherForm\">\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-12\" appearance=\"outline\" [hidden]=\"process === 'update'\">\r\n                <mat-label> Company Name\r\n                </mat-label>\r\n                <mat-select [(ngModel)]=\"voucher.company\" name=\"company\" formControlName=\"company\">\r\n                  <mat-option *ngFor=\"let i of companyList\" [value]=\"i\" (click)=\"getCompanyDetails(i)\">\r\n                    {{i.companyName}}\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-12\" appearance=\"outline\" *ngIf=\"voucher.company && process === 'update'\">\r\n                <mat-label>Company Name</mat-label>\r\n                <input matInput [value]=\"company.companyName\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-6\" appearance=\"outline\" *ngIf=\"voucher.company\">\r\n                <mat-label>Company TelephoneNo</mat-label>\r\n                <input matInput [value]=\"company.companyTelephoneNo\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-6\" appearance=\"outline\" *ngIf=\"voucher.company\">\r\n                <mat-label>Company Tin </mat-label>\r\n                <input matInput [value]=\"company.companyTin\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-12\" appearance=\"outline\" *ngIf=\"voucher.company\">\r\n                <mat-label>Company Address</mat-label>\r\n                <input matInput [value]=\"company.completeAddress\" readonly>\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Fund Amount <span class=\"required-field\">*</span></mat-label>\r\n                <input matInput [(ngModel)]=\"voucher.fundAmount\" name=\"fundAmount\" formControlName=\"fundAmount\"\r\n                  type=\"number\" [readonly]=\"process === 'update'\">\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Voucher Date</mat-label>\r\n                <input matInput placeholder=\"Date\" [matDatepicker]=\"voucherDate\" readonly\r\n                  [(ngModel)]=\"voucher.voucherDate\" name=\"voucherDate\" formControlName=\"voucherDate\">\r\n                <mat-datepicker-toggle matSuffix [for]=\"voucherDate\" [hidden]=\"process === 'update'\"></mat-datepicker-toggle>\r\n                <mat-datepicker color=\"warn\" #voucherDate disabled=\"false\"></mat-datepicker>\r\n              </mat-form-field>\r\n              <!-- <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Status</mat-label>\r\n                <mat-select [(ngModel)]=\"voucher.status\" name=\"status\" formControlName=\"status\" [disabled]=\"process === 'update'\">\r\n                  <mat-option *ngFor=\"let i of statusList\" [value]=\"i.status\">\r\n                    {{i.status}}\r\n                  </mat-option>\r\n                </mat-select>\r\n              </mat-form-field> -->\r\n            </div>\r\n          </form>\r\n          <div class=\"row col-md-12\">\r\n          <form [formGroup]=\"voucherSignatoriesForm\">\r\n            <div class=\"row\">\r\n              <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Voucher Signatories Name <span class=\"required-field\">*</span></mat-label>\r\n                <input matInput [(ngModel)]=\"voucherSignatories.name\" name=\"voucherSignatoriesName\"\r\n                  formControlName=\"voucherSignatoriesName\">\r\n              </mat-form-field>\r\n              <mat-form-field class=\"col-md-6\" appearance=\"outline\">\r\n                <mat-label>Voucher Signatories Position <span class=\"required-field\">*</span></mat-label>\r\n                <input matInput [(ngModel)]=\"voucherSignatories.position\" name=\"voucherSignatoriesPosition\"\r\n                  formControlName=\"voucherSignatoriesPosition\">\r\n              </mat-form-field>\r\n            </div>\r\n          </form>\r\n          <div class=\"row\">\r\n            <div class=\"col-md-9\"></div>\r\n            <div class=\"col-md-3\">\r\n              <button mat-raised-button class=\"button-red\" (click)=\"setSignatoriesList(voucherSignatories)\"\r\n                [disabled]=\"voucherSignatoriesForm.controls['voucherSignatoriesPosition']?.errors?.required || voucherSignatoriesForm.controls['voucherSignatoriesName']?.errors?.required\">\r\n                <i class=\"material-icons color__white\">task_alt</i> Add Signatory\r\n              </button>\r\n              <br> <br>\r\n            </div>\r\n          </div>\r\n        </div>\r\n          <app-form-list [dataSource]=\"dataSourceSignatories\" [displayedColumns]=\"displayedColumnsSignatories\" (deleteInListFunction)=\"onDeleteSignatory($event)\" (updateListFunction)=\"onUpdateSignatory($event)\"></app-form-list>\r\n            <!-- <app-form-action-buttons [childObject]=\"voucher\" [childForm]=\"voucherForm\" (saveFunction)=\"uploadVoucher()\"\r\n            (updateFunction)=\"saveVoucher()\"  (cancelFunction)=\"resetFormValidatorVoucher()\"></app-form-action-buttons>\r\n            <br> -->\r\n          <div class=\"row\" >\r\n            <div class=\"col-md-6\"></div>\r\n            <div class=\"col-md-3\">\r\n              <br>\r\n              <button mat-raised-button class=\"button-red\" (click)=\"uploadVoucher()\" [hidden]=\"process === 'update' \"\r\n              [disabled]=\"voucherForm.invalid || signatoriesList?.length === 0 || !attachment\">\r\n                <i class=\"material-icons color__white\">task_alt</i> SUBMIT\r\n              </button>\r\n            </div>\r\n            <div class=\"col-md-3\">\r\n              <br>\r\n              <button mat-raised-button class=\"button-red\" (click)=\"reset()\" >\r\n                <i class=\"material-icons color__white\">task_alt</i> RESET\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br>\r\n    </div>\r\n  </div>\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CompanyVoucherEnrollmentComponent } from './company-voucher-enrollment.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CompanyVoucherEnrollmentComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CompanyVoucherEnrollmentRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CompanyVoucherEnrollmentRoutingModule } from './company-voucher-enrollment-routing.module';\r\nimport { CompanyVoucherEnrollmentComponent } from './company-voucher-enrollment.component';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { AngularMaterialModule } from '@shared';\r\nimport { FragmentsModule } from 'app/modules/fragments/fragments.module';\r\n\r\n\r\n@NgModule({\r\n  declarations: [CompanyVoucherEnrollmentComponent],\r\n  imports: [\r\n    CommonModule,\r\n    CompanyVoucherEnrollmentRoutingModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    AngularMaterialModule,\r\n    FragmentsModule\r\n  ]\r\n})\r\nexport class CompanyVoucherEnrollmentModule { }\r\n"]}