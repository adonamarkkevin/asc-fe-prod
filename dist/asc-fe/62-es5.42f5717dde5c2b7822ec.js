!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{uZqy:function(t,a,o){"use strict";o.r(a),o.d(a,"CompanyPenaltiesModule",(function(){return I}));var i=o("ofXK"),r=o("tyNb"),l=o("3Pt+"),s=o("+0xr"),c=o("3swC"),m=o("M0ag"),p=o("fJLi"),u=o("PSD3"),d=o.n(u),y=o("fXoL"),f=o("dJ3e"),v=o("kmnG"),h=o("NFeN"),P=o("d3UM"),S=o("qFsG"),C=o("TPGS"),g=o("DeKZ"),b=o("FKr1");function F(e,t){if(1&e&&(y["\u0275\u0275elementStart"](0,"mat-option",11),y["\u0275\u0275text"](1),y["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;y["\u0275\u0275property"]("value",n),y["\u0275\u0275advance"](1),y["\u0275\u0275textInterpolate1"](" ",n.companyName," ")}}var w,L,E,k=[{path:"",component:(w=function(){function t(n,a,o,i){e(this,t),this.apiService=n,this.formBuilder=a,this.sweetAlertService=o,this.datepipe=i,this.displayedColumns=["companyDescription","companyPenaltyAmount"],this.companyPenalties=new p.a,this.companyPenaltiesList=[],this.companyList=[]}return n(t,[{key:"ngOnInit",value:function(){this.setFormValidator(),this.getCompanyList(),this.getCompanyPenaltiesList()}},{key:"getCompanyPenaltiesList",value:function(){var e=this;this.apiService.findAll(m.n.companyPenalties).subscribe((function(t){t&&(e.companyPenaltiesList=t.responseData.data,e.dataSource=new s.p(t.responseData.data),e.dataSource.paginator=e.formListComponent.paginator,e.dataSource.sort=e.formListComponent.sort)}))}},{key:"getCompanyPenalties",value:function(){var e=this;this.apiService.findById(m.n.companyPenalties,this.formListComponent.idForUpdate).subscribe((function(t){t&&(e.companyPenalties=t.responseData.data,console.log(e.companyPenalties))}))}},{key:"getCompanyList",value:function(){var e=this;this.apiService.findAll(m.n.activeCompanies).subscribe((function(t){t&&(e.companyList=t.responseData.data)}))}},{key:"save",value:function(){var e=this;this.formatDate(),this.apiService.save(m.n.companyPenalties,this.companyPenalties).subscribe((function(t){t?e.sweetAlertService.success(t):e.sweetAlertService.error(t),e.getCompanyPenaltiesList(),e.resetFormValidator()}))}},{key:"update",value:function(){var e=this;this.apiService.update(m.n.companyPenalties,this.companyPenalties).subscribe((function(t){t?e.sweetAlertService.success(t):e.sweetAlertService.error(t),e.getCompanyPenaltiesList(),e.resetFormValidator()}))}},{key:"setFormValidator",value:function(){this.companyPenaltiesForm=this.formBuilder.group({company:["",l.H.required],penaltyAmount:["",l.H.required]})}},{key:"resetFormValidator",value:function(){this.companyPenalties=new p.a,this.companyPenaltiesForm.markAsUntouched(),this.companyPenaltiesForm.markAsPristine()}},{key:"compareCompanyPenalties",value:function(e,t){if(e&&t)return e.description===t.description}},{key:"formatDate",value:function(){this.datepipe.transform(this.companyPenalties.penaltyDate,"yyyy-MM-dd")}},{key:"delete",value:function(){var e=this;d.a.fire({text:"Are you sure you want to delete this company penalty?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirm"}).then((function(t){t.value&&e.apiService.deleteById(m.n.companyPenalties,e.companyPenalties.id).subscribe((function(){e.sweetAlertService.customSuccessMessage("Company penalty successfully deleted."),e.resetFormValidator(),e.getCompanyList(),e.getCompanyPenaltiesList()}))}))}}]),t}(),w.\u0275fac=function(e){return new(e||w)(y["\u0275\u0275directiveInject"](f.b),y["\u0275\u0275directiveInject"](l.g),y["\u0275\u0275directiveInject"](f.e),y["\u0275\u0275directiveInject"](i.f))},w.\u0275cmp=y["\u0275\u0275defineComponent"]({type:w,selectors:[["app-company-penalties"]],viewQuery:function(e,t){var n;1&e&&y["\u0275\u0275viewQuery"](c.a,!0),2&e&&y["\u0275\u0275queryRefresh"](n=y["\u0275\u0275loadQuery"]())&&(t.formListComponent=n.first)},decls:28,vars:9,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-12","title"],[3,"formGroup"],["appearance","outline",1,"col-md-6"],[1,"required-field"],["name","company","formControlName","company",3,"ngModel","compareWith","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["matInput","","name","penaltyAmount","formControlName","penaltyAmount",3,"ngModel","ngModelChange"],[3,"childObject","childForm","saveFunction","updateFunction","cancelFunction","deleteFunction"],[3,"dataSource","displayedColumns","selectInListFunction"],[3,"value"]],template:function(e,t){1&e&&(y["\u0275\u0275elementStart"](0,"form"),y["\u0275\u0275elementStart"](1,"div",0),y["\u0275\u0275elementStart"](2,"div",1),y["\u0275\u0275elementStart"](3,"div",2),y["\u0275\u0275elementStart"](4,"mat-label"),y["\u0275\u0275elementStart"](5,"mat-icon"),y["\u0275\u0275text"](6,"turned_in"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275text"](7," Company Penalties "),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](8,"hr"),y["\u0275\u0275elementStart"](9,"form",3),y["\u0275\u0275elementStart"](10,"div",1),y["\u0275\u0275elementStart"](11,"mat-form-field",4),y["\u0275\u0275elementStart"](12,"mat-label"),y["\u0275\u0275text"](13,"Company "),y["\u0275\u0275elementStart"](14,"span",5),y["\u0275\u0275text"](15,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](16,"mat-select",6),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.companyPenalties.company=e})),y["\u0275\u0275template"](17,F,2,2,"mat-option",7),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](18,"mat-form-field",4),y["\u0275\u0275elementStart"](19,"mat-label"),y["\u0275\u0275text"](20,"Penalty Amount "),y["\u0275\u0275elementStart"](21,"span",5),y["\u0275\u0275text"](22,"*"),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](23,"input",8),y["\u0275\u0275listener"]("ngModelChange",(function(e){return t.companyPenalties.penaltyAmount=e})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](24,"div",1),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementStart"](25,"app-form-action-buttons",9),y["\u0275\u0275listener"]("saveFunction",(function(){return t.save()}))("updateFunction",(function(){return t.update()}))("cancelFunction",(function(){return t.resetFormValidator()}))("deleteFunction",(function(){return t.delete()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275element"](26,"br"),y["\u0275\u0275elementStart"](27,"app-form-list",10),y["\u0275\u0275listener"]("selectInListFunction",(function(){return t.getCompanyPenalties()})),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"](),y["\u0275\u0275elementEnd"]()),2&e&&(y["\u0275\u0275advance"](9),y["\u0275\u0275property"]("formGroup",t.companyPenaltiesForm),y["\u0275\u0275advance"](7),y["\u0275\u0275property"]("ngModel",t.companyPenalties.company)("compareWith",t.compareCompanyPenalties),y["\u0275\u0275advance"](1),y["\u0275\u0275property"]("ngForOf",t.companyList),y["\u0275\u0275advance"](6),y["\u0275\u0275property"]("ngModel",t.companyPenalties.penaltyAmount),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("childObject",t.companyPenalties)("childForm",t.companyPenaltiesForm),y["\u0275\u0275advance"](2),y["\u0275\u0275property"]("dataSource",t.dataSource)("displayedColumns",t.displayedColumns))},directives:[l.J,l.u,l.v,v.g,h.a,l.l,v.c,P.a,l.t,l.j,i.s,S.b,l.d,C.a,g.a,b.m],styles:[""]}),w)}],A=((L=n((function t(){e(this,t)}))).\u0275mod=y["\u0275\u0275defineNgModule"]({type:L}),L.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(e){return new(e||L)},imports:[[r.f.forChild(k)],r.f]}),L),M=o("tk/3"),j=o("7Tf7"),I=((E=n((function t(){e(this,t)}))).\u0275mod=y["\u0275\u0275defineNgModule"]({type:E}),E.\u0275inj=y["\u0275\u0275defineInjector"]({factory:function(e){return new(e||E)},imports:[[i.c,A,M.b,l.D,m.k,j.a]]}),E)}}])}();